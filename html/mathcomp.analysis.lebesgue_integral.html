
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.lebesgue_integral</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.lebesgue_integral" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="mathcomp"><summary>mathcomp</summary>
          <ul>
          <li><details id="mathcomp.analysis"><summary>analysis</summary>
          <ul>
          <li><a href="mathcomp.analysis.cantor.html">cantor</a></li>
<li><a href="mathcomp.analysis.charge.html">charge</a></li>
<li><a href="mathcomp.analysis.constructive_ereal.html">constructive_ereal</a></li>
<li><a href="mathcomp.analysis.convex.html">convex</a></li>
<li><a href="mathcomp.analysis.derive.html">derive</a></li>
<li><a href="mathcomp.analysis.ereal.html">ereal</a></li>
<li><a href="mathcomp.analysis.esum.html">esum</a></li>
<li><a href="mathcomp.analysis.exp.html">exp</a></li>
<li><a href="mathcomp.analysis.forms.html">forms</a></li>
<li><a href="mathcomp.analysis.hoelder.html">hoelder</a></li>
<li><a href="mathcomp.analysis.itv.html">itv</a></li>
<li><a href="mathcomp.analysis.kernel.html">kernel</a></li>
<li><a href="mathcomp.analysis.landau.html">landau</a></li>
<li><a href="mathcomp.analysis.lebesgue_integral.html">lebesgue_integral</a></li>
<li><a href="mathcomp.analysis.lebesgue_measure.html">lebesgue_measure</a></li>
<li><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html">lebesgue_stieltjes_measure</a></li>
<li><a href="mathcomp.analysis.measure.html">measure</a></li>
<li><a href="mathcomp.analysis.normedtype.html">normedtype</a></li>
<li><a href="mathcomp.analysis.nsatz_realtype.html">nsatz_realtype</a></li>
<li><a href="mathcomp.analysis.numfun.html">numfun</a></li>
<li><a href="mathcomp.analysis.probability.html">probability</a></li>
<li><a href="mathcomp.analysis.prodnormedzmodule.html">prodnormedzmodule</a></li>
<li><a href="mathcomp.analysis.real_interval.html">real_interval</a></li>
<li><a href="mathcomp.analysis.realfun.html">realfun</a></li>
<li><a href="mathcomp.analysis.reals.html">reals</a></li>
<li><a href="mathcomp.analysis.Rstruct.html">Rstruct</a></li>
<li><a href="mathcomp.analysis.sequences.html">sequences</a></li>
<li><a href="mathcomp.analysis.signed.html">signed</a></li>
<li><a href="mathcomp.analysis.summability.html">summability</a></li>
<li><a href="mathcomp.analysis.topology.html">topology</a></li>
<li><a href="mathcomp.analysis.trigo.html">trigo</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp.classical"><summary>classical</summary>
          <ul>
          <li><a href="mathcomp.classical.all_classical.html">all_classical</a></li>
<li><a href="mathcomp.classical.boolp.html">boolp</a></li>
<li><a href="mathcomp.classical.cardinality.html">cardinality</a></li>
<li><a href="mathcomp.classical.classical_sets.html">classical_sets</a></li>
<li><a href="mathcomp.classical.contra.html">contra</a></li>
<li><a href="mathcomp.classical.fsbigop.html">fsbigop</a></li>
<li><a href="mathcomp.classical.functions.html">functions</a></li>
<li><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></li>
<li><a href="mathcomp.classical.set_interval.html">set_interval</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module mathcomp.analysis.lebesgue_integral</h1>
<span class="vernacular">From</span> <span class="id">HB</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="NOTFOUND the module url for HB.structures">structures</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.all_ssreflect.html">all_ssreflect</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html">ssralg</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html">ssrnum</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html">ssrint</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html">interval</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap">finmap</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.cardinality.html">cardinality</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html">fsbigop</a></span> .<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span> <span class="id"><a href="mathcomp.analysis.reals.html">reals</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html">ereal</a></span> <span class="id"><a href="mathcomp.analysis.topology.html">topology</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html">normedtype</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html">sequences</a></span> <span class="id"><a href="mathcomp.analysis.real_interval.html">real_interval</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.esum.html">esum</a></span> <span class="id"><a href="mathcomp.analysis.measure.html">measure</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html">lebesgue_measure</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html">numfun</a></span>.<br/>
<br/>
<div class="ssrdoc md">
# Lebesgue Integral                                                        
                                                                           
This file contains a formalization of the Lebesgue integral. It starts     
with simple functions and their integral, provides basic operations        
(addition, etc.), and proves the properties of their integral              
(semi-linearity, non-decreasingness). It then defines the integral of      
measurable functions, proves the approximation theorem, the properties of  
their integral (semi-linearity, non-decreasingness), the monotone          
convergence theorem, and Fatou's lemma. Finally, it proves the linearity   
properties of the integral, the dominated convergence theorem and          
Fubini's theorem, etc.                                                     
                                                                           
Main notation:                                                             
| Coq notation          |  | Meaning                         |             
|----------------------:|--|:--------------------------------              
| \int[mu]_(x in D) f x |==| $\int_D f(x)\mathbf{d}\mu(x)$                 
| \int[mu]_x f x        |==| $\int f(x)\mathbf{d}\mu(x)$                   
                                                                           
Main reference:                                                            
- Daniel Li, Intégration et applications, 2016                             
                                                                           
Detailed contents:                                                         
````                                                                       
        {mfun T &gt;-&gt; R} == type of real-valued measurable functions         
        {sfun T &gt;-&gt; R} == type of simple functions                         
      {nnsfun T &gt;-&gt; R} == type of non-negative simple functions            
          cst_nnsfun r == constant simple function                         
               nnsfun0 := cst_nnsfun 0                                     
        sintegral mu f == integral of the function f with the measure mu   
 \int[mu]_(x in D) f x == integral of the measurable function f over the   
                          domain D with measure mu                         
        \int[mu]_x f x := \int[mu]_(x in setT) f x                         
        dyadic_itv n k == the interval                                     
                          `[(k%:R * 2 ^- n), (k.+1%:R * 2 ^- n)[           
            approx D f == nondecreasing sequence of functions that         
                          approximates f over D using dyadic intervals     
      Rintegral mu D f := fine (\int[mu]_(x in D) f x).                    
    mu.-integrable D f == f is measurable over D and the integral of f     
                          w.r.t. D is &lt; +oo                                
              m1 \x m2 == product measure over T1 * T2, m1 is a measure    
                          measure over T1, and m2 is a sigma finite        
                          measure over T2                                  
             m1 \x^ m2 == product measure over T1 * T2, m2 is a measure    
                          measure over T1, and m1 is a sigma finite        
                          measure over T2                                  
locally_integrable D f == the real number-valued function f is locally     
                          integrable on D                                  
              iavg f A := "average" of the real-valued function f over     
                          the set A                                        
            HL_maximal == the Hardy–Littlewood maximal operator            
                          input: real number-valued function               
                          output: extended real number-valued function     
````                                                                       
                                                                           
</div>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Implicit</span> <span class="vernacular">Arguments</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Strict</span> <span class="vernacular">Implicit</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Printing</span> <span class="vernacular">Implicit</span> <span class="vernacular">Defensive</span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TTheory">Order.TTheory</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory">GRing.Theory</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Def">Num.Def</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory">Num.Theory</a></span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.topology.html#numFieldTopology.Exports">numFieldTopology.Exports</a></span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ring_scope</span>.<br/>
<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;\int [ mu ]_ ( i 'in' D ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">36,</span> <span class="id">F</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">36,</span> <span class="id">mu</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">10,</span> <span class="id">i,</span> <span class="id">D</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">50,</span><br/>
&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \int [ mu ]_ ( i  'in'  D ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;\int [ mu ]_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">36,</span> <span class="id">F</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">36,</span> <span class="id">mu</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">10,</span> <span class="id">i</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span> <span class="id">associativity,</span> <span class="id">format</span> <span class="id">&quot;'[' \int [ mu ]_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;mu .-integrable&quot; (at level 2, format &quot;mu .-integrable&quot;</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;m1 '\x' m2&quot;</span> (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">40,</span> <span class="id">m2</span> <span class="gallina-kwd">at</span> <span class="id">next</span> <span class="id">level</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;m1 '\x^' m2&quot;</span> (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">40,</span> <span class="id">m2</span> <span class="gallina-kwd">at</span> <span class="id">next</span> <span class="id">level</span>).<br/>
<br/>
<span class="id">#[global]</span><br/>
<span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">_]</span>) <span class="id">=&gt;</span> <span class="id">solve</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_set1">measurable_set1]</a></span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span id="isMeasurableFun.Exports" class="id"><span id="isMeasurableFun.identity_builder" class="id"><span id="isMeasurableFun.phant_axioms" class="id"><span id="isMeasurableFun.phant_Build" class="id"><span id="isMeasurableFun.measurable_funP" class="id"><span id="isMeasurableFun.axioms_" class="id"><span id="isMeasurableFun.isMeasurableFun.f" class="id"><span id="isMeasurableFun.isMeasurableFun.rT" class="id"><span id="isMeasurableFun.isMeasurableFun.aT" class="id"><span id="isMeasurableFun.isMeasurableFun.d" class="id"><span id="isMeasurableFun.isMeasurableFun" class="id"><span id="isMeasurableFun" class="id"><a name="isMeasurableFun.Exports" class="hierarchy-builder">HB.mixin</a></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">isMeasurableFun</span> <span id="d:1" class="id"><a name="d:1" class="">d</a></span> (<span id="aT:2" class="id"><a name="aT:2" class="">aT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1">d</a></span>) (<span id="rT:3" class="id"><a name="rT:3" class="">rT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f:4" class="id"><a name="f:4" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#aT:2">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#rT:3">rT</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="measurable_funP:5" class="id"><a name="measurable_funP:5" class="">measurable_funP</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:4">f</a></span><br/>
<span class="id">}</span>.<br/>
<span id="ElpiOperations5" class="id"><span id="measurable_funP" class="id"><span id="MeasurableFun.EtaAndMixinExports.structures_eta__canonical__lebesgue_integral_MeasurableFun" class="id"><span id="MeasurableFun.EtaAndMixinExports.HB_unnamed_mixin_4" class="id"><span id="MeasurableFun.EtaAndMixinExports.lebesgue_integral_MeasurableFun__to__lebesgue_integral_isMeasurableFun" class="id"><span id="MeasurableFun.EtaAndMixinExports.HB_unnamed_factory_2" class="id"><span id="MeasurableFun.EtaAndMixinExports.hb_instance_1.f" class="id"><span id="MeasurableFun.EtaAndMixinExports.hb_instance_1.rT" class="id"><span id="MeasurableFun.EtaAndMixinExports.hb_instance_1.aT" class="id"><span id="MeasurableFun.EtaAndMixinExports.hb_instance_1.d" class="id"><span id="MeasurableFun.EtaAndMixinExports.hb_instance_1" class="id"><span id="MeasurableFun.EtaAndMixinExports" class="id"><span id="MeasurableFun.phant_on_" class="id"><span id="MeasurableFun.Exports" class="id"><span id="MeasurableFun.pack_" class="id"><span id="MeasurableFun.phant_clone" class="id"><span id="MeasurableFun.class" class="id"><span id="MeasurableFun.sort" class="id"><span id="MeasurableFun.type" class="id"><span id="MeasurableFun.lebesgue_integral_isMeasurableFun_mixin" class="id"><span id="MeasurableFun.axioms_" class="id"><span id="MeasurableFun" class="id"><a name="ElpiOperations5" class="hierarchy-builder">HB.structure</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">MeasurableFun</span> <span id="d:10" class="id"><a name="d:10" class="">d</a></span> <span id="aT:11" class="id"><a name="aT:11" class="">aT</a></span> <span id="rT:12" class="id"><a name="rT:12" class="">rT</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">{f</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#isMeasurableFun">isMeasurableFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:10">d</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#aT:11">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#rT:12">rT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:13">f}</a></span>.<br/>
<br/>
<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;{ 'mfun' aT &gt;-&gt; T }&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">0,</span> <span class="id">format</span> <span class="id">&quot;{ 'mfun'  aT  &gt;-&gt;  T }&quot;</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;[ 'mfun' 'of' f ]&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">0,</span> <span class="id">format</span> <span class="id">&quot;[ 'mfun'  'of'  f ]&quot;</span>).<br/>
<span class="vernacular">Notation</span> <span id="cfa8195a18578360e4ad0a1e4cde6878" class="id"><a name="cfa8195a18578360e4ad0a1e4cde6878" class="">&quot;{ 'mfun' aT &gt;-&gt; T }&quot;</a></span> <span class="id">:=</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#type">MeasurableFun.type</a></span> <span class="id">_</span> <span class="id">aT</span> <span class="id">T</span>) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="4b5932115a08c24941238f82c078567d" class="id"><a name="4b5932115a08c24941238f82c078567d" class="">&quot;[ 'mfun' 'of' f ]&quot;</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">{mfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id">f]</span> <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">measurable_funP</span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span id="ElpiOperations10" class="id"><span id="SimpleFun.EtaAndMixinExports.structures_eta__canonical__lebesgue_integral_SimpleFun" class="id"><span id="SimpleFun.EtaAndMixinExports.lebesgue_integral_SimpleFun__to__cardinality_FiniteImage" class="id"><span id="SimpleFun.EtaAndMixinExports.lebesgue_integral_SimpleFun__to__lebesgue_integral_isMeasurableFun" class="id"><span id="SimpleFun.EtaAndMixinExports.HB_unnamed_factory_7" class="id"><span id="SimpleFun.EtaAndMixinExports.hb_instance_6.f" class="id"><span id="SimpleFun.EtaAndMixinExports.hb_instance_6.rT" class="id"><span id="SimpleFun.EtaAndMixinExports.hb_instance_6.aT" class="id"><span id="SimpleFun.EtaAndMixinExports.hb_instance_6.d" class="id"><span id="SimpleFun.EtaAndMixinExports.hb_instance_6" class="id"><span id="SimpleFun.EtaAndMixinExports" class="id"><span id="SimpleFun.phant_on_" class="id"><span id="SimpleFun.Exports.join_lebesgue_integral_SimpleFun_between_cardinality_FImFun_and_lebesgue_integral_MeasurableFun" class="id"><span id="SimpleFun.Exports.lebesgue_integral_SimpleFun__to__cardinality_FImFun" class="id"><span id="SimpleFun.Exports.lebesgue_integral_SimpleFun_class__to__cardinality_FImFun_class" class="id"><span id="SimpleFun.Exports.lebesgue_integral_SimpleFun__to__lebesgue_integral_MeasurableFun" class="id"><span id="SimpleFun.Exports.lebesgue_integral_SimpleFun_class__to__lebesgue_integral_MeasurableFun_class" class="id"><span id="SimpleFun.Exports" class="id"><span id="SimpleFun.pack_" class="id"><span id="SimpleFun.phant_clone" class="id"><span id="SimpleFun.class" class="id"><span id="SimpleFun.sort" class="id"><span id="SimpleFun.type" class="id"><span id="SimpleFun.cardinality_FiniteImage_mixin" class="id"><span id="SimpleFun.lebesgue_integral_isMeasurableFun_mixin" class="id"><span id="SimpleFun.axioms_" class="id"><span id="SimpleFun" class="id"><a name="ElpiOperations10" class="hierarchy-builder">HB.structure</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">SimpleFun</span> <span id="d:16" class="id"><a name="d:16" class="">d</a></span> (<span id="aT:17" class="id"><a name="aT:17" class="">aT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:16">d</a></span>) (<span id="rT:18" class="id"><a name="rT:18" class="">rT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">{f</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#isMeasurableFun">isMeasurableFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:16">d</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#aT:17">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#rT:18">rT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:19">f</a></span> &amp; @<span class="id"><a href="mathcomp.classical.cardinality.html#FiniteImage">FiniteImage</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#aT:17">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#rT:18">rT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:19">f}</a></span>.<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;{ 'sfun' aT &gt;-&gt; T }&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">0,</span> <span class="id">format</span> <span class="id">&quot;{ 'sfun'  aT  &gt;-&gt;  T }&quot;</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;[ 'sfun' 'of' f ]&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">0,</span> <span class="id">format</span> <span class="id">&quot;[ 'sfun'  'of'  f ]&quot;</span>).<br/>
<span class="vernacular">Notation</span> <span id="a31aeb01649360da8ee808c8c37b97eb" class="id"><a name="a31aeb01649360da8ee808c8c37b97eb" class="">&quot;{ 'sfun' aT &gt;-&gt; T }&quot;</a></span> <span class="id">:=</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#type">SimpleFun.type</a></span> <span class="id">_</span> <span class="id">aT</span> <span class="id">T</span>) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="95f15b800d1a38adf40aa1237c2b1b7a" class="id"><a name="95f15b800d1a38adf40aa1237c2b1b7a" class="">&quot;[ 'sfun' 'of' f ]&quot;</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id">f]</span> <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_sfunP" class="id"><a name="measurable_sfunP" class="">measurable_sfunP</a></span> <span class="id">{d}</span> <span class="id">{aT</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:22">d}</a></span> <span class="id">{rT</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span><br/>
&nbsp;&nbsp;(<span id="f:25" class="id"><a name="f:25" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">{mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#aT:23">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#rT:24">rT}</a></span>) (<span id="Y:26" class="id"><a name="Y:26" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#rT:24">rT</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Y:26">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:25">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Y:26">Y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">mY;</span> <span class="id">rewrite</span> <span class="id">-[f</span> @<span class="id">^-1`</span> <span class="id">_]setTI;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_funP">measurable_funP</a></span>. Qed.</div>
<br/>
<br/>
<span id="isNonNegFun.Exports" class="id"><span id="isNonNegFun.identity_builder" class="id"><span id="isNonNegFun.phant_axioms" class="id"><span id="isNonNegFun.phant_Build" class="id"><span id="isNonNegFun.fun_ge0" class="id"><span id="isNonNegFun.axioms_" class="id"><span id="isNonNegFun.isNonNegFun.f" class="id"><span id="isNonNegFun.isNonNegFun.rT" class="id"><span id="isNonNegFun.isNonNegFun.aT" class="id"><span id="isNonNegFun.isNonNegFun" class="id"><span id="isNonNegFun" class="id"><a name="isNonNegFun.Exports" class="hierarchy-builder">HB.mixin</a></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">isNonNegFun</span> (<span id="aT:27" class="id"><a name="aT:27" class="">aT</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="rT:28" class="id"><a name="rT:28" class="">rT</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.NumDomain.Exports.numDomainType">numDomainType</a></span>) (<span id="f:29" class="id"><a name="f:29" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#aT:27">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#rT:28">rT</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="fun_ge0:31" class="id"><a name="fun_ge0:31" class="">fun_ge0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:30" class="id"><a name="x:30" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:29">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:30">x</a></span><br/>
<span class="id">}</span>.<br/>
<span id="ElpiOperations15" class="id"><span id="fun_ge0" class="id"><span id="NonNegFun.EtaAndMixinExports.structures_eta__canonical__lebesgue_integral_NonNegFun" class="id"><span id="NonNegFun.EtaAndMixinExports.HB_unnamed_mixin_14" class="id"><span id="NonNegFun.EtaAndMixinExports.lebesgue_integral_NonNegFun__to__lebesgue_integral_isNonNegFun" class="id"><span id="NonNegFun.EtaAndMixinExports.HB_unnamed_factory_12" class="id"><span id="NonNegFun.EtaAndMixinExports.hb_instance_11.f" class="id"><span id="NonNegFun.EtaAndMixinExports.hb_instance_11.rT" class="id"><span id="NonNegFun.EtaAndMixinExports.hb_instance_11.aT" class="id"><span id="NonNegFun.EtaAndMixinExports.hb_instance_11" class="id"><span id="NonNegFun.EtaAndMixinExports" class="id"><span id="NonNegFun.phant_on_" class="id"><span id="NonNegFun.Exports" class="id"><span id="NonNegFun.pack_" class="id"><span id="NonNegFun.phant_clone" class="id"><span id="NonNegFun.class" class="id"><span id="NonNegFun.sort" class="id"><span id="NonNegFun.type" class="id"><span id="NonNegFun.lebesgue_integral_isNonNegFun_mixin" class="id"><span id="NonNegFun.axioms_" class="id"><span id="NonNegFun" class="id"><a name="ElpiOperations15" class="hierarchy-builder">HB.structure</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">NonNegFun</span> <span id="aT:35" class="id"><a name="aT:35" class="">aT</a></span> <span id="rT:36" class="id"><a name="rT:36" class="">rT</a></span> <span class="id">:=</span> <span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">{f</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#isNonNegFun">isNonNegFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#aT:35">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#rT:36">rT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:37">f}</a></span>.<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;{ 'nnfun' aT &gt;-&gt; T }&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">0,</span> <span class="id">format</span> <span class="id">&quot;{ 'nnfun'  aT  &gt;-&gt;  T }&quot;</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;[ 'nnfun' 'of' f ]&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">0,</span> <span class="id">format</span> <span class="id">&quot;[ 'nnfun'  'of'  f ]&quot;</span>).<br/>
<span class="vernacular">Notation</span> <span id="f7a5001d371827f8d2dd9f14ae0127c4" class="id"><a name="f7a5001d371827f8d2dd9f14ae0127c4" class="">&quot;{ 'nnfun' aT &gt;-&gt; T }&quot;</a></span> <span class="id">:=</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#type">NonNegFun.type</a></span> <span class="id">aT</span> <span class="id">T</span>) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="533f97207748de0ff9abf1ea273eb905" class="id"><a name="533f97207748de0ff9abf1ea273eb905" class="">&quot;[ 'nnfun' 'of' f ]&quot;</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f7a5001d371827f8d2dd9f14ae0127c4">{nnfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f7a5001d371827f8d2dd9f14ae0127c4">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id">f]</span> <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#is_true">is_true</a></span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">_</span>)) <span class="id">=&gt;</span> <span class="id">solve</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fun_ge0">fun_ge0]</a></span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<br/>
<span id="ElpiOperations21" class="id"><span id="NonNegSimpleFun.EtaAndMixinExports.structures_eta__canonical__lebesgue_integral_NonNegSimpleFun" class="id"><span id="NonNegSimpleFun.EtaAndMixinExports.lebesgue_integral_NonNegSimpleFun__to__lebesgue_integral_isNonNegFun" class="id"><span id="NonNegSimpleFun.EtaAndMixinExports.lebesgue_integral_NonNegSimpleFun__to__cardinality_FiniteImage" class="id"><span id="NonNegSimpleFun.EtaAndMixinExports.lebesgue_integral_NonNegSimpleFun__to__lebesgue_integral_isMeasurableFun" class="id"><span id="NonNegSimpleFun.EtaAndMixinExports.HB_unnamed_factory_17" class="id"><span id="NonNegSimpleFun.EtaAndMixinExports.hb_instance_16.f" class="id"><span id="NonNegSimpleFun.EtaAndMixinExports.hb_instance_16.rT" class="id"><span id="NonNegSimpleFun.EtaAndMixinExports.hb_instance_16.aT" class="id"><span id="NonNegSimpleFun.EtaAndMixinExports.hb_instance_16.d" class="id"><span id="NonNegSimpleFun.EtaAndMixinExports.hb_instance_16" class="id"><span id="NonNegSimpleFun.EtaAndMixinExports" class="id"><span id="NonNegSimpleFun.phant_on_" class="id"><span id="NonNegSimpleFun.Exports.join_lebesgue_integral_NonNegSimpleFun_between_cardinality_FImFun_and_lebesgue_integral_NonNegFun" class="id"><span id="NonNegSimpleFun.Exports.join_lebesgue_integral_NonNegSimpleFun_between_lebesgue_integral_MeasurableFun_and_lebesgue_integral_NonNegFun" class="id"><span id="NonNegSimpleFun.Exports.join_lebesgue_integral_NonNegSimpleFun_between_lebesgue_integral_NonNegFun_and_lebesgue_integral_SimpleFun" class="id"><span id="NonNegSimpleFun.Exports.lebesgue_integral_NonNegSimpleFun__to__lebesgue_integral_SimpleFun" class="id"><span id="NonNegSimpleFun.Exports.lebesgue_integral_NonNegSimpleFun_class__to__lebesgue_integral_SimpleFun_class" class="id"><span id="NonNegSimpleFun.Exports.lebesgue_integral_NonNegSimpleFun__to__cardinality_FImFun" class="id"><span id="NonNegSimpleFun.Exports.lebesgue_integral_NonNegSimpleFun_class__to__cardinality_FImFun_class" class="id"><span id="NonNegSimpleFun.Exports.lebesgue_integral_NonNegSimpleFun__to__lebesgue_integral_MeasurableFun" class="id"><span id="NonNegSimpleFun.Exports.lebesgue_integral_NonNegSimpleFun_class__to__lebesgue_integral_MeasurableFun_class" class="id"><span id="NonNegSimpleFun.Exports.lebesgue_integral_NonNegSimpleFun__to__lebesgue_integral_NonNegFun" class="id"><span id="NonNegSimpleFun.Exports.lebesgue_integral_NonNegSimpleFun_class__to__lebesgue_integral_NonNegFun_class" class="id"><span id="NonNegSimpleFun.Exports" class="id"><span id="NonNegSimpleFun.pack_" class="id"><span id="NonNegSimpleFun.phant_clone" class="id"><span id="NonNegSimpleFun.class" class="id"><span id="NonNegSimpleFun.sort" class="id"><span id="NonNegSimpleFun.type" class="id"><span id="NonNegSimpleFun.lebesgue_integral_isNonNegFun_mixin" class="id"><span id="NonNegSimpleFun.cardinality_FiniteImage_mixin" class="id"><span id="NonNegSimpleFun.lebesgue_integral_isMeasurableFun_mixin" class="id"><span id="NonNegSimpleFun.axioms_" class="id"><span id="NonNegSimpleFun" class="id"><a name="ElpiOperations21" class="hierarchy-builder">HB.structure</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">NonNegSimpleFun</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="d:40" class="id"><a name="d:40" class="">d</a></span> (<span id="aT:41" class="id"><a name="aT:41" class="">aT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:40">d</a></span>) (<span id="rT:42" class="id"><a name="rT:42" class="">rT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">{f</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#SimpleFun">SimpleFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:40">d</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:43">f</a></span> &amp; @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#NonNegFun">NonNegFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#aT:41">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#rT:42">rT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:43">f}</a></span>.<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;{ 'nnsfun' aT &gt;-&gt; T }&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">0,</span> <span class="id">format</span> <span class="id">&quot;{ 'nnsfun'  aT  &gt;-&gt;  T }&quot;</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;[ 'nnsfun' 'of' f ]&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">0,</span> <span class="id">format</span> <span class="id">&quot;[ 'nnsfun'  'of'  f ]&quot;</span>).<br/>
<span class="vernacular">Notation</span> <span id="62b1f9be67dbf6239bec964ff9de3502" class="id"><a name="62b1f9be67dbf6239bec964ff9de3502" class="">&quot;{ 'nnsfun' aT &gt;-&gt; T }&quot;</a></span> <span class="id">:=</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#type">NonNegSimpleFun.type</a></span> <span class="id">_</span> <span class="id">aT</span>%<span class="id">type</span> <span class="id">T</span>) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="05485cc29260e5c378d63bc269506136" class="id"><a name="05485cc29260e5c378d63bc269506136" class="">&quot;[ 'nnsfun' 'of' f ]&quot;</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id">f]</span> <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ring" class="id"><a name="ring" class="">ring</a></span>.<br/>
<span class="vernacular">Context</span> (<span id="aT:46" class="id"><a name="aT:46" class="">aT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span id="rT:47" class="id"><a name="rT:47" class="">rT</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="fimfun_mulr_closed" class="id"><a name="fimfun_mulr_closed" class="">fimfun_mulr_closed</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.ClosedExports.mulr_closed">mulr_closed</a></span> (@<span class="id"><a href="mathcomp.classical.cardinality.html#fimfun">fimfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
<span class="id">split=&gt;</span> <span class="id">[|f</span> <span class="id">g];</span> <span class="id">rewrite</span> <span class="id">!inE/=;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_image_cst">finite_image_cst</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">fA</span> <span class="id">gA;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#finite_image11">finite_image11</a></span> (<span class="gallina-kwd">fun</span> <span id="x:50" class="id"><span id="x:48" class="id"><a name="x:50" class="">x</a></span></span> <span id="y:51" class="id"><span id="y:49" class="id"><a name="y:51" class="">y</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:48">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:49">y</a></span>)).<br/>
Qed.</div>
<span id="GRing_isMulClosed__to__GRing_isMul2Closed" class="id"><span id="GRing_isMulClosed__to__GRing_isMul1Closed" class="id"><span id="HB_unnamed_factory_22" class="id"><a name="GRing_isMulClosed__to__GRing_isMul2Closed" class="hierarchy-builder">HB.instance</a></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.isMulClosed.Build">GRing.isMulClosed.Build</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.cardinality.html#fimfun">fimfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfun_mulr_closed">fimfun_mulr_closed</a></span>.<br/>
<span id="GRing_SubZmodule_isSubRing__to__GRing_isSubSemiRing" class="id"><span id="GRing_SubZmodule_isSubRing__to__GRing_Nmodule_isSemiRing" class="id"><span id="HB_unnamed_factory_25" class="id"><a name="GRing_SubZmodule_isSubRing__to__GRing_isSubSemiRing" class="hierarchy-builder">HB.instance</a></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#fbd180f8bd151cf6935ac563ba1c0741">[SubZmodule_isSubRing</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span> <span class="gallina-kwd">by</span> <span class="id">&lt;:]</span>.<br/>
<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="fimfunM" class="id"><a name="fimfunM" class="">fimfunM</a></span> <span id="f:52" class="id"><a name="f:52" class="">f</a></span> <span id="g:53" class="id"><a name="g:53" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:52">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:53">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:52">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#97c66421897c043c5333ab3c7e831f5b">\*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:53">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="fimfun1" class="id"><a name="fimfun1" class="">fimfun1</a></span> <span class="id">:</span> (<span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span>) <span class="id">=</span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="fimfun_prod" class="id"><a name="fimfun_prod" class="">fimfun_prod</a></span> <span id="I:54" class="id"><a name="I:54" class="">I</a></span> <span id="r:55" class="id"><a name="r:55" class="">r</a></span> (<span id="P:56" class="id"><a name="P:56" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#64f8873130736b599801d4930af00e74">{pred</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I:54">I}</a></span>) (<span id="f:57" class="id"><a name="f:57" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I:54">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span>) (<span id="x:58" class="id"><a name="x:58" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id">\sum_</span>(<span id="i:61" class="id"><span id="i:60" class="id"><span id="i:59" class="id"><a name="i:61" class="">i</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:55">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#P:56">P</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:59">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:57">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:59">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:58">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">\sum_</a></span>(<span id="i:64" class="id"><span id="i:63" class="id"><span id="i:62" class="id"><a name="i:64" class="">i</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:55">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#P:56">P</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:62">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:57">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:62">i</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:58">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
 <span class="gallina-kwd">by</span> <span class="id">elim/big_rec2:</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">i</span> <span class="id">y</span> <span class="id">?</span> <span class="id">Pi</span> <span class="id">&lt;-</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="fimfunX" class="id"><a name="fimfunX" class="">fimfunX</a></span> <span id="f:65" class="id"><a name="f:65" class="">f</a></span> <span id="n:66" class="id"><a name="n:66" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:65">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#663140372ac3b275aae871b74b140513">^+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:66">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:67" class="id"><a name="x:67" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:65">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:67">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#663140372ac3b275aae871b74b140513">^+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:66">n</a></span>) <span class="id">:&gt;</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">elim:</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id">[|n</span> <span class="id">IHn]//;</span> <span class="id">rewrite</span> <span class="id">!exprS</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfunM">fimfunM/=</a></span> <span class="id">IHn</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="indic_fimfun_subproof" class="id"><a name="indic_fimfun_subproof" class="">indic_fimfun_subproof</a></span> <span id="X:68" class="id"><a name="X:68" class="">X</a></span> <span class="id">:</span> @<span class="id"><a href="mathcomp.classical.cardinality.html#FiniteImage">FiniteImage</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_X</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
<span class="id">split;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#finite_subfset">finite_subfset</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#fd4d5ce3f73ff8c9a8bc2ea79d961d06">[fset</a></span> <span class="id">0;</span> <span class="id">1]</span>%<span class="id">fset</span>) <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">[tt</span> <span class="id">/=]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!inE</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE;</a></span> <span class="id">case:</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">&lt;-;</span> <span class="id">rewrite</span> <span class="id">?eqxx</span> <span class="id">?orbT</span>.<br/>
Qed.</div>
<span id="cardinality_FiniteImage__to__cardinality_FiniteImage" class="id"><span id="HB_unnamed_factory_29" class="id"><span id="ring.hb_instance_28.X" class="id"><span id="ring.hb_instance_28" class="id"><a name="cardinality_FiniteImage__to__cardinality_FiniteImage" class="hierarchy-builder">HB.instance</a></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="X:69" class="id"><a name="X:69" class="">X</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fimfun_subproof">indic_fimfun_subproof</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:69">X</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="indic_fimfun" class="id"><a name="indic_fimfun" class="">indic_fimfun</a></span> (<span id="X:70" class="id"><a name="X:70" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_X]</a></span>.<br/>
<br/>
<span id="cardinality_FImFun__to__cardinality_FiniteImage" class="id"><span id="HB_unnamed_factory_32" class="id"><span id="ring.hb_instance_31.f" class="id"><span id="ring.hb_instance_31.k" class="id"><span id="ring.hb_instance_31" class="id"><a name="cardinality_FImFun__to__cardinality_FiniteImage" class="hierarchy-builder">HB.instance</a></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="k:71" class="id"><a name="k:71" class="">k</a></span> <span id="f:72" class="id"><a name="f:72" class="">f</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.cardinality.html#FImFun.copy">FImFun.copy</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:71">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#5e03abe1c4aaadd0b39b8ab0cf62f35b">\o*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:72">f</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:72">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#cst_fimfun">cst_fimfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:71">k</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="scale_fimfun" class="id"><a name="scale_fimfun" class="">scale_fimfun</a></span> <span id="k:73" class="id"><a name="k:73" class="">k</a></span> <span id="f:74" class="id"><a name="f:74" class="">f</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:73">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#5e03abe1c4aaadd0b39b8ab0cf62f35b">\o*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:74">f]</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring">ring</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fimfun">indic_fimfun</a></span> <span class="id">{aT</span> <span class="id">rT}</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="comring" class="id"><a name="comring" class="">comring</a></span>.<br/>
<span class="vernacular">Context</span> (<span id="aT:75" class="id"><a name="aT:75" class="">aT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span id="rT:76" class="id"><a name="rT:76" class="">rT</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.ComRing.Exports.comRingType">comRingType</a></span>).<br/>
<span id="GRing_SubRing_isSubComRing__to__GRing_SemiRing_hasCommutativeMul" class="id"><span id="HB_unnamed_factory_34" class="id"><a name="GRing_SubRing_isSubComRing__to__GRing_SemiRing_hasCommutativeMul" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#ce7134ee252747a642e745ed70b34e33">[SubRing_isSubComRing</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#comring.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#comring.rT">rT}</a></span> <span class="gallina-kwd">by</span> <span class="id">&lt;:]</span>.<br/>
<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#comring.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#comring.rT">rT}</a></span>).<br/>
<span id="cardinality_FImFun__to__cardinality_FiniteImage__39" class="id"><span id="HB_unnamed_factory_37" class="id"><span id="comring.hb_instance_36.g" class="id"><span id="comring.hb_instance_36.f" class="id"><span id="comring.hb_instance_36" class="id"><a name="cardinality_FImFun__to__cardinality_FiniteImage__39" class="hierarchy-builder">HB.instance</a></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:77" class="id"><a name="f:77" class="">f</a></span> <span id="g:78" class="id"><a name="g:78" class="">g</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.cardinality.html#FImFun.copy">FImFun.copy</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:77">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#97c66421897c043c5333ab3c7e831f5b">\*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:78">g</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:77">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:78">g</a></span>).<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#comring">comring</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="fimfunE" class="id"><a name="fimfunE" class="">fimfunE</a></span> <span id="T:79" class="id"><a name="T:79" class="">T</a></span> (<span id="R:80" class="id"><a name="R:80" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType</a></span>) (<span id="f:81" class="id"><a name="f:81" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:79">T</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:80">R}</a></span>) <span id="x:82" class="id"><a name="x:82" class="">x</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:81">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:82">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#66bb639f4673920039e1c5f4f74ee386">\sum_</a></span>(<span id="y:86" class="id"><span id="y:85" class="id"><span id="y:84" class="id"><span id="y:83" class="id"><a name="y:86" class="">y</a></span></span></span></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#66bb639f4673920039e1c5f4f74ee386">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:81">f</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:83">y</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:81">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:83">y]</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:82">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbigD1">fsbigD1</a></span> (<span class="id">f</span> <span class="id">x</span>))<span class="id">//</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig1">fsbig1</a></span> <span class="id">?addr0//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">[fy</span> <span class="id">/=</span> <span class="id">/nesym</span> <span class="id">yfx];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset</a></span> <span class="id">?mulr0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="fimfunEord" class="id"><a name="fimfunEord" class="">fimfunEord</a></span> <span id="T:87" class="id"><a name="T:87" class="">T</a></span> (<span id="R:88" class="id"><a name="R:88" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType</a></span>) (<span id="f:89" class="id"><a name="f:89" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:87">T</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:88">R}</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="s:90" class="id"><a name="s:90" class="">s</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:89">f</a></span> @<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:91" class="id"><a name="x:91" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:89">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:91">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#784f0af919f467115774be372bf0dbd7">\sum_</a></span>(<span id="i:94" class="id"><span id="i:93" class="id"><span id="i:92" class="id"><a name="i:94" class="">i</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#784f0af919f467115774be372bf0dbd7">&lt;</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#44d0f89c729ff1a622f59bca3b1bc3fe">#|`s|</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#s:90">s`_i</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:89">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#s:90">s`_i]</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:91">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
<span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfunE">fimfunE</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//=</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_nth">big_nth</a></span> <span class="id">0</span>)<span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_mkord">big_mkord</a></span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#eq_bigr">eq_bigr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="trivIset_preimage1" class="id"><a name="trivIset_preimage1" class="">trivIset_preimage1</a></span> <span class="id">{aT</span> <span id="rT:96" class="id"><a name="rT:96" class="">rT}</a></span> <span id="D:97" class="id"><a name="D:97" class="">D</a></span> (<span id="f:98" class="id"><a name="f:98" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#aT:95">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#rT:96">rT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:97">D</a></span> (<span class="gallina-kwd">fun</span> <span id="x:99" class="id"><a name="x:99" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:98">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:99">x]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">z</span> <span class="id">_</span> <span class="id">_</span> <span class="id">[x</span> <span class="id">[&lt;-</span> <span class="id">&lt;-]]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="trivIset_preimage1_in" class="id"><a name="trivIset_preimage1_in" class="">trivIset_preimage1_in</a></span> <span class="id">{aT}</span> <span class="id">{rT</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType}</a></span> (<span id="D:102" class="id"><a name="D:102" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#rT:101">rT</a></span>) (<span id="A:103" class="id"><a name="A:103" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#aT:100">aT</a></span>)<br/>
&nbsp;&nbsp;(<span id="f:104" class="id"><a name="f:104" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#aT:100">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#rT:101">rT</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:102">D</a></span> (<span class="gallina-kwd">fun</span> <span id="x:105" class="id"><a name="x:105" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:103">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:104">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:105">x]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">z</span> <span class="id">_</span> <span class="id">_</span> <span class="id">[x</span> <span class="id">[[_</span> <span class="id">&lt;-]</span> <span class="id">[_</span> <span class="id">&lt;-]]]</span>. Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="fimfun_bin" class="id"><a name="fimfun_bin" class="">fimfun_bin</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="fimfun_bin.d" class="id"><a name="fimfun_bin.d" class="">d</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_display">measure_display</a></span>) (<span id="fimfun_bin.T" class="id"><a name="fimfun_bin.T" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:106">d</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="fimfun_bin.R" class="id"><a name="fimfun_bin.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.NumDomain.Exports.numDomainType">numDomainType</a></span>) (<span id="fimfun_bin.f" class="id"><a name="fimfun_bin.f" class="">f</a></span> <span id="fimfun_bin.g" class="id"><a name="fimfun_bin.g" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfun_bin.T">T</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:108">R}</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="max_fimfun_subproof" class="id"><a name="max_fimfun_subproof" class="">max_fimfun_subproof</a></span> <span class="id">:</span> @<span class="id"><a href="mathcomp.classical.cardinality.html#FiniteImage">FiniteImage</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfun_bin.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfun_bin.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfun_bin.f">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#505306268c1f512adbccb1af85edfe66">\max</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfun_bin.g">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
 <span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#finite_image11">finite_image11</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Def.maxr">maxr</a></span>). Qed.</div>
<span id="cardinality_FiniteImage__to__cardinality_FiniteImage__42" class="id"><span id="HB_unnamed_factory_40" class="id"><a name="cardinality_FiniteImage__to__cardinality_FiniteImage__42" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_fimfun_subproof">max_fimfun_subproof</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfun_bin">fimfun_bin</a></span>.<br/>
<br/>
<span id="FiniteDecomp.Exports" class="id"><span id="FiniteDecomp.phant_axioms" class="id"><span id="FiniteDecomp.phant_Build" class="id"><span id="FiniteDecomp.fimfunE" class="id"><span id="FiniteDecomp.axioms_" class="id"><span id="FiniteDecomp.FiniteDecomp.f" class="id"><span id="FiniteDecomp.FiniteDecomp.R" class="id"><span id="FiniteDecomp.FiniteDecomp.T" class="id"><span id="FiniteDecomp.FiniteDecomp" class="id"><span id="FiniteDecomp" class="id"><a name="FiniteDecomp.Exports" class="hierarchy-builder">HB.factory</a></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">FiniteDecomp</span> (<span id="T:111" class="id"><a name="T:111" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span id="R:112" class="id"><a name="R:112" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType</a></span>) (<span id="f:113" class="id"><a name="f:113" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:111">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:112">R</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">{</span> <span id="fimfunE:120" class="id"><a name="fimfunE:120" class="">fimfunE</a></span> <span class="id">:</span> <span class="gallina-kwd">exists</span> (<span id="r:114" class="id"><a name="r:114" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:112">R</a></span>) (<span id="A_:115" class="id"><a name="A_:115" class="">A_</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:112">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:111">T</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:116" class="id"><a name="x:116" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:113">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:116">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#706f4f0208bba5d79e26d335c76ea034">\sum_</a></span>(<span id="y:119" class="id"><span id="y:118" class="id"><span id="y:117" class="id"><a name="y:119" class="">y</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#706f4f0208bba5d79e26d335c76ea034">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:114">r</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:117">y</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A_:115">A_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:117">y</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:116">x</a></span>) <span class="id">}</span>.<br/>
<span id="Builders_43.Builders_43.fresh_name_44" class="id"><span id="Builders_43.Builders_43.f" class="id"><span id="Builders_43.Builders_43.R" class="id"><span id="Builders_43.Builders_43.T" class="id"><span id="Builders_43.Builders_43" class="id"><span id="Builders_43" class="id"><a name="Builders_43.Builders_43.fresh_name_44" class="hierarchy-builder">HB.builders</a></span></span></span></span></span></span> <span class="vernacular">Context</span> <span id="T:124" class="id"><a name="T:124" class="">T</a></span> <span id="R:125" class="id"><a name="R:125" class="">R</a></span> <span id="f:126" class="id"><a name="f:126" class="">f</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#FiniteDecomp">FiniteDecomp</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:124">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:125">R</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:126">f</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Lemma</span> <span id="Builders_43.finite_subproof" class="id"><a name="Builders_43.finite_subproof" class="">finite_subproof:</a></span> @<span class="id"><a href="mathcomp.classical.cardinality.html#FiniteImage">FiniteImage</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Builders_43.Builders_43.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Builders_43.Builders_43.R">R</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Builders_43.Builders_43.f">f</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">have</span> <span class="id">[r</span> <span class="id">[A_</span> <span class="id">fE]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Builders_43.fimfunE">fimfunE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Builders_43.Builders_43.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#706f4f0208bba5d79e26d335c76ea034">\sum_</a></span>(<span id="y:132" class="id"><span id="y:131" class="id"><span id="y:130" class="id"><a name="y:132" class="">y</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#706f4f0208bba5d79e26d335c76ea034">&lt;-</a></span> <span class="id">r</span>) <span class="id"><a href="mathcomp.classical.cardinality.html#cst_fimfun">cst_fimfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:130">y</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fimfun">indic_fimfun</a></span> (<span class="id">A_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:130">y</a></span>) <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">fE</span> <span class="id"><a href="mathcomp.classical.cardinality.html#fimfun_sum">fimfun_sum</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span id="Builders_43.Builders_43_f__canonical__cardinality_FImFun" class="id"><span id="Builders_43.HB_unnamed_factory_45" class="id"><a name="Builders_43.Builders_43_f__canonical__cardinality_FImFun" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Builders_43.finite_subproof">finite_subproof</a></span>.<br/>
<span id="Builders_43.FiniteDecomp_Exports" class="id"><a name="Builders_43.FiniteDecomp_Exports" class="hierarchy-builder">HB.end</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="mfun_pred" class="id"><a name="mfun_pred" class="">mfun_pred</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{d}</span> <span class="id">{aT</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:133">d}</a></span> <span class="id">{rT</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="mfun" class="id"><a name="mfun" class="">mfun</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#64f8873130736b599801d4930af00e74">{pred</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_pred.aT">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_pred.rT">rT}</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#mem">mem</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="f:136" class="id"><a name="f:136" class="">f</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:136">f]</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="mfun_key" class="id"><a name="mfun_key" class="">mfun_key</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred_key">pred_key</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun">mfun</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
 <span class="id">exact</span>. Qed.</div>
<span class="vernacular">Canonical</span> <span id="mfun_keyed" class="id"><a name="mfun_keyed" class="">mfun_keyed</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#KeyedPred">KeyedPred</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_key">mfun_key</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_pred">mfun_pred</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="mfun" class="id"><a name="mfun" class="">mfun</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{d}</span> <span class="id">{aT</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:137">d}</a></span> <span class="id">{rT</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="T" class="id"><a name="T" class="">T</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">{mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="mfun" class="id"><a name="mfun" class="">mfun</a></span> <span class="id">:=</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun">mfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>).<br/>
<span class="vernacular">Section</span> <span id="mfun.Sub" class="id"><a name="mfun.Sub" class="">Sub</a></span>.<br/>
<span class="vernacular">Context</span> (<span id="f:140" class="id"><a name="f:140" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>) (<span id="fP:141" class="id"><a name="fP:141" class="">fP</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:140">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun">mfun</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="mfun_Sub_subproof" class="id"><a name="mfun_Sub_subproof" class="">mfun_Sub_subproof</a></span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Build">isMeasurableFun.Build</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.d">d</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.Sub.f">f</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.Sub.fP">fP</a></span>).<br/>
<span id="lebesgue_integral_f__canonical__lebesgue_integral_MeasurableFun" class="id"><span id="HB_unnamed_factory_47" class="id"><a name="lebesgue_integral_f__canonical__lebesgue_integral_MeasurableFun" class="">#[local]</a></span></span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_Sub_subproof">mfun_Sub_subproof</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="mfun_Sub" class="id"><a name="mfun_Sub" class="">mfun_Sub</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#4b5932115a08c24941238f82c078567d">[mfun</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.Sub.f">f]</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.Sub">Sub</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="mfun_rect" class="id"><a name="mfun_rect" class="">mfun_rect</a></span> (<span id="K:142" class="id"><a name="K:142" class="">K</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Type</span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="f:143" class="id"><a name="f:143" class="">f</a></span> (<span id="Pf:144" class="id"><a name="Pf:144" class="">Pf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:143">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun">mfun</a></span>)<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:142">K</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_Sub">mfun_Sub</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Pf:144">Pf</a></span>)) <span class="id">-&gt;</span> <span class="gallina-kwd">forall</span> <span id="u:145" class="id"><a name="u:145" class="">u</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T">T,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:142">K</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#u:145">u</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
<span class="id">move=&gt;</span> <span class="id">Ksub</span> <span class="id">[f</span> <span class="id">[[Pf]]]/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">suff</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">Pf</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> (@<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="f:146" class="id"><a name="f:146" class="">f</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">_]</span> <span class="id">f</span> <span class="id">Pf</span>)) <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">Ksub</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="mfun_valP" class="id"><a name="mfun_valP" class="">mfun_valP</a></span> <span id="f:147" class="id"><a name="f:147" class="">f</a></span> (<span id="Pf:148" class="id"><a name="Pf:148" class="">Pf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:147">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun">mfun</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_Sub">mfun_Sub</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Pf:148">Pf</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:147">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span id="MeasurableFun_type__canonical__eqtype_SubType" class="id"><span id="HB_unnamed_factory_49" class="id"><a name="MeasurableFun_type__canonical__eqtype_SubType" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#isSub.Build">isSub.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_rect">mfun_rect</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_valP">mfun_valP</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="mfuneqP" class="id"><a name="mfuneqP" class="">mfuneqP</a></span> (<span id="f:149" class="id"><a name="f:149" class="">f</a></span> <span id="g:150" class="id"><a name="g:150" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">{mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:149">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:150">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:149">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#44b19bd81f7a1388073ea8a65e6fa993">=1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:150">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">[-&gt;//|fg];</span> <span class="id">apply/val_inj/funext</span>. Qed.</div>
<br/>
<span id="MeasurableFun_type__canonical__choice_SubChoice" class="id"><span id="MeasurableFun_type__canonical__eqtype_SubEquality" class="id"><span id="MeasurableFun_type__canonical__choice_Choice" class="id"><span id="HB_unnamed_mixin_55" class="id"><span id="MeasurableFun_type__canonical__eqtype_Equality" class="id"><span id="HB_unnamed_mixin_54" class="id"><span id="choice_Choice__to__eqtype_hasDecEq" class="id"><span id="choice_Choice__to__choice_hasChoice" class="id"><span id="HB_unnamed_factory_51" class="id"><a name="MeasurableFun_type__canonical__choice_SubChoice" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#66b07d305ccef05249d819a7d15ac0a1">[Choice</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">{mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT}</a></span> <span class="gallina-kwd">by</span> <span class="id">&lt;:]</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="cst_mfun_subproof" class="id"><a name="cst_mfun_subproof" class="">cst_mfun_subproof</a></span> <span id="x:151" class="id"><a name="x:151" class="">x</a></span> <span class="id">:</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#isMeasurableFun">isMeasurableFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.d">d</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:151">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
 <span class="gallina-kwd">by</span> <span class="id">split</span>. Qed.</div>
<span id="functions_cst__canonical__lebesgue_integral_SimpleFun" class="id"><span id="functions_cst__canonical__lebesgue_integral_MeasurableFun" class="id"><span id="HB_unnamed_factory_57" class="id"><span id="mfun.hb_instance_56.x" class="id"><span id="mfun.hb_instance_56" class="id"><a name="functions_cst__canonical__lebesgue_integral_SimpleFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="x:152" class="id"><a name="x:152" class="">x</a></span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cst_mfun_subproof">cst_mfun_subproof</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:152">x</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="cst_mfun" class="id"><a name="cst_mfun" class="">cst_mfun</a></span> <span id="x:153" class="id"><a name="x:153" class="">x</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">{mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT}</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:153">x]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="mfun_cst" class="id"><a name="mfun_cst" class="">mfun_cst</a></span> <span id="x:154" class="id"><a name="x:154" class="">x</a></span> <span class="id">:</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cst_mfun">cst_mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:154">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#44b19bd81f7a1388073ea8a65e6fa993">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:154">x</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span id="Num_norm__canonical__lebesgue_integral_MeasurableFun" class="id"><span id="HB_unnamed_factory_59" class="id"><a name="Num_norm__canonical__lebesgue_integral_MeasurableFun" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Build">isMeasurableFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span><br/>
&nbsp;&nbsp;(@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Def.normr">normr</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>) (@<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_normr">measurable_normr</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>).<br/>
<br/>
<span id="sequences_expR__canonical__lebesgue_integral_MeasurableFun" class="id"><span id="HB_unnamed_factory_61" class="id"><a name="sequences_expR__canonical__lebesgue_integral_MeasurableFun" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Build">isMeasurableFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (@<span class="id"><a href="mathcomp.analysis.sequences.html#expR">expR</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>) (@<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_expR">measurable_expR</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurableT_comp_subproof" class="id"><a name="measurableT_comp_subproof" class="">measurableT_comp_subproof</a></span> (<span id="f:155" class="id"><a name="f:155" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">{mfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT}</a></span>) (<span id="g:156" class="id"><a name="g:156" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">{mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:155">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:156">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
 <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>. <span class="id">exact</span>. <span class="id">apply:</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_funP">measurable_funP</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">g</span>. Qed.</div>
<br/>
<span id="ssrfun_comp__canonical__lebesgue_integral_MeasurableFun" class="id"><span id="HB_unnamed_factory_64" class="id"><span id="mfun.hb_instance_63.g" class="id"><span id="mfun.hb_instance_63.f" class="id"><span id="mfun.hb_instance_63" class="id"><a name="ssrfun_comp__canonical__lebesgue_integral_MeasurableFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:157" class="id"><a name="f:157" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">{mfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT}</a></span>) (<span id="g:158" class="id"><a name="g:158" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">{mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Build">isMeasurableFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:157">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:158">g</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurableT_comp_subproof">measurableT_comp_subproof</a></span> <span class="id">_</span> <span class="id">_</span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun">mfun</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ring" class="id"><a name="ring" class="">ring</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:159" class="id"><a name="d:159" class="">d</a></span> (<span id="aT:160" class="id"><a name="aT:160" class="">aT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:159">d</a></span>) (<span id="rT:161" class="id"><a name="rT:161" class="">rT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="mfun_subring_closed" class="id"><a name="mfun_subring_closed" class="">mfun_subring_closed</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.ClosedExports.subring_closed">subring_closed</a></span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun">mfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
<span class="id">split=&gt;</span> <span class="id">[|f</span> <span class="id">g|f</span> <span class="id">g];</span> <span class="id">rewrite</span> <span class="id">!inE/=</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_cst">measurable_cst</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funB">measurable_funB</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funM">measurable_funM</a></span>.<br/>
Qed.</div>
<span id="lebesgue_integral_mfun__canonical__GRing_SubringClosed" class="id"><span id="lebesgue_integral_mfun__canonical__GRing_ZmodClosed" class="id"><span id="lebesgue_integral_mfun__canonical__GRing_SemiringClosed" class="id"><span id="lebesgue_integral_mfun__canonical__GRing_Semiring2Closed" class="id"><span id="lebesgue_integral_mfun__canonical__GRing_AddClosed" class="id"><span id="HB_unnamed_mixin_74" class="id"><span id="lebesgue_integral_mfun__canonical__GRing_SmulClosed" class="id"><span id="lebesgue_integral_mfun__canonical__GRing_OppClosed" class="id"><span id="HB_unnamed_mixin_73" class="id"><span id="lebesgue_integral_mfun__canonical__GRing_MulClosed" class="id"><span id="HB_unnamed_mixin_72" class="id"><span id="lebesgue_integral_mfun__canonical__GRing_Mul2Closed" class="id"><span id="HB_unnamed_mixin_71" class="id"><span id="GRing_isSubringClosed__to__GRing_isAddClosed" class="id"><span id="GRing_isSubringClosed__to__GRing_isOppClosed" class="id"><span id="GRing_isSubringClosed__to__GRing_isMul2Closed" class="id"><span id="GRing_isSubringClosed__to__GRing_isMul1Closed" class="id"><span id="HB_unnamed_factory_66" class="id"><a name="lebesgue_integral_mfun__canonical__GRing_SubringClosed" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.isSubringClosed.Build">GRing.isSubringClosed.Build</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun">mfun</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_subring_closed">mfun_subring_closed</a></span>.<br/>
<span id="MeasurableFun_type__canonical__GRing_SubComRing" class="id"><span id="MeasurableFun_type__canonical__GRing_SubComSemiRing" class="id"><span id="MeasurableFun_type__canonical__GRing_SubRing" class="id"><span id="MeasurableFun_type__canonical__GRing_SubSemiRing" class="id"><span id="HB_unnamed_mixin_89" class="id"><span id="MeasurableFun_type__canonical__GRing_ComRing" class="id"><span id="MeasurableFun_type__canonical__GRing_ComSemiRing" class="id"><span id="HB_unnamed_mixin_88" class="id"><span id="MeasurableFun_type__canonical__GRing_Ring" class="id"><span id="MeasurableFun_type__canonical__GRing_SemiRing" class="id"><span id="HB_unnamed_mixin_87" class="id"><span id="MeasurableFun_type__canonical__GRing_SubZmodule" class="id"><span id="HB_unnamed_mixin_86" class="id"><span id="MeasurableFun_type__canonical__GRing_SubNmodule" class="id"><span id="HB_unnamed_mixin_85" class="id"><span id="MeasurableFun_type__canonical__GRing_Zmodule" class="id"><span id="HB_unnamed_mixin_84" class="id"><span id="MeasurableFun_type__canonical__GRing_Nmodule" class="id"><span id="HB_unnamed_mixin_83" class="id"><span id="GRing_SubChoice_isSubComRing__to__GRing_isSubSemiRing" class="id"><span id="GRing_SubChoice_isSubComRing__to__GRing_Nmodule_isSemiRing" class="id"><span id="GRing_SubChoice_isSubComRing__to__GRing_isSubNmodule" class="id"><span id="GRing_SubChoice_isSubComRing__to__GRing_isNmodule" class="id"><span id="GRing_SubChoice_isSubComRing__to__GRing_Nmodule_isZmodule" class="id"><span id="GRing_SubChoice_isSubComRing__to__GRing_isSubZmodule" class="id"><span id="GRing_SubChoice_isSubComRing__to__GRing_SemiRing_hasCommutativeMul" class="id"><span id="HB_unnamed_factory_75" class="id"><a name="MeasurableFun_type__canonical__GRing_SubComRing" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#e47a54e4e60b8b28c99add6376bc1ef1">[SubChoice_isSubComRing</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">{mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span> <span class="gallina-kwd">by</span> <span class="id">&lt;:]</span>.<br/>
<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">{mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="mfun0" class="id"><a name="mfun0" class="">mfun0</a></span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">{mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span>) <span class="id">=1</span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#7499ca27169913338cdbd1290ec03182">:&gt;</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="mfun1" class="id"><a name="mfun1" class="">mfun1</a></span> <span class="id">:</span> (<span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">{mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span>) <span class="id">=1</span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#7499ca27169913338cdbd1290ec03182">:&gt;</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="mfunN" class="id"><a name="mfunN" class="">mfunN</a></span> <span id="f:162" class="id"><a name="f:162" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:162">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#565ca4aa0f5062a899cb0ce9091bd2da">\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:162">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="mfunD" class="id"><a name="mfunD" class="">mfunD</a></span> <span id="f:163" class="id"><a name="f:163" class="">f</a></span> <span id="g:164" class="id"><a name="g:164" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:163">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:164">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:163">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#d85e5ec1adc01afcee458717bbaea5e5">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:164">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="mfunB" class="id"><a name="mfunB" class="">mfunB</a></span> <span id="f:165" class="id"><a name="f:165" class="">f</a></span> <span id="g:166" class="id"><a name="g:166" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:165">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:166">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:165">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0bb5d11fe8761db1e6494d75cb45a3cb">\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:166">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="mfunM" class="id"><a name="mfunM" class="">mfunM</a></span> <span id="f:167" class="id"><a name="f:167" class="">f</a></span> <span id="g:168" class="id"><a name="g:168" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:167">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:168">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:167">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#97c66421897c043c5333ab3c7e831f5b">\*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:168">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="mfun_sum" class="id"><a name="mfun_sum" class="">mfun_sum</a></span> <span id="I:169" class="id"><a name="I:169" class="">I</a></span> <span id="r:170" class="id"><a name="r:170" class="">r</a></span> (<span id="P:171" class="id"><a name="P:171" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#64f8873130736b599801d4930af00e74">{pred</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I:169">I}</a></span>) (<span id="f:172" class="id"><a name="f:172" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I:169">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">{mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span>) (<span id="x:173" class="id"><a name="x:173" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id">\sum_</span>(<span id="i:176" class="id"><span id="i:175" class="id"><span id="i:174" class="id"><a name="i:176" class="">i</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:170">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#P:171">P</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:174">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:172">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:174">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:173">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">\sum_</a></span>(<span id="i:179" class="id"><span id="i:178" class="id"><span id="i:177" class="id"><a name="i:179" class="">i</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:170">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#P:171">P</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:177">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:172">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:177">i</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:173">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
 <span class="gallina-kwd">by</span> <span class="id">elim/big_rec2:</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">i</span> <span class="id">y</span> <span class="id">?</span> <span class="id">Pi</span> <span class="id">&lt;-</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="mfun_prod" class="id"><a name="mfun_prod" class="">mfun_prod</a></span> <span id="I:180" class="id"><a name="I:180" class="">I</a></span> <span id="r:181" class="id"><a name="r:181" class="">r</a></span> (<span id="P:182" class="id"><a name="P:182" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#64f8873130736b599801d4930af00e74">{pred</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I:180">I}</a></span>) (<span id="f:183" class="id"><a name="f:183" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I:180">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">{mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span>) (<span id="x:184" class="id"><a name="x:184" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id">\sum_</span>(<span id="i:187" class="id"><span id="i:186" class="id"><span id="i:185" class="id"><a name="i:187" class="">i</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:181">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#P:182">P</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:185">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:183">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:185">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:184">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">\sum_</a></span>(<span id="i:190" class="id"><span id="i:189" class="id"><span id="i:188" class="id"><a name="i:190" class="">i</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:181">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#P:182">P</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:188">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:183">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:188">i</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:184">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
 <span class="gallina-kwd">by</span> <span class="id">elim/big_rec2:</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">i</span> <span class="id">y</span> <span class="id">?</span> <span class="id">Pi</span> <span class="id">&lt;-</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="mfunX" class="id"><a name="mfunX" class="">mfunX</a></span> <span id="f:191" class="id"><a name="f:191" class="">f</a></span> <span id="n:192" class="id"><a name="n:192" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:191">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#663140372ac3b275aae871b74b140513">^+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:192">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:193" class="id"><a name="x:193" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:191">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:193">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#663140372ac3b275aae871b74b140513">^+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:192">n</a></span>) <span class="id">:&gt;</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
 <span class="gallina-kwd">by</span> <span class="id">apply/funext=&gt;</span> <span class="id">x;</span> <span class="id">elim:</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id">[|n</span> <span class="id">IHn]//;</span> <span class="id">rewrite</span> <span class="id">!exprS</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfunM">mfunM/=</a></span> <span class="id">IHn</span>. Qed.</div>
<br/>
<span id="GRing_add_fun__canonical__lebesgue_integral_MeasurableFun" class="id"><span id="HB_unnamed_mixin_93" class="id"><span id="lebesgue_integral_MeasurableFun__to__lebesgue_integral_isMeasurableFun" class="id"><span id="HB_unnamed_factory_91" class="id"><span id="ring.hb_instance_90.g" class="id"><span id="ring.hb_instance_90.f" class="id"><span id="ring.hb_instance_90" class="id"><a name="GRing_add_fun__canonical__lebesgue_integral_MeasurableFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:194" class="id"><a name="f:194" class="">f</a></span> <span id="g:195" class="id"><a name="g:195" class="">g</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#copy">MeasurableFun.copy</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:194">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#d85e5ec1adc01afcee458717bbaea5e5">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:195">g</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:194">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:195">g</a></span>).<br/>
<span id="mathcomp_extra_opp_fun__canonical__lebesgue_integral_MeasurableFun" class="id"><span id="HB_unnamed_mixin_98" class="id"><span id="lebesgue_integral_MeasurableFun__to__lebesgue_integral_isMeasurableFun__97" class="id"><span id="HB_unnamed_factory_95" class="id"><span id="ring.hb_instance_94.g" class="id"><span id="ring.hb_instance_94.f" class="id"><span id="ring.hb_instance_94" class="id"><a name="mathcomp_extra_opp_fun__canonical__lebesgue_integral_MeasurableFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:196" class="id"><a name="f:196" class="">f</a></span> <span id="g:197" class="id"><a name="g:197" class="">g</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#copy">MeasurableFun.copy</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#565ca4aa0f5062a899cb0ce9091bd2da">\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:196">f</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:196">f</a></span>).<br/>
<span id="GRing_sub_fun__canonical__lebesgue_integral_MeasurableFun" class="id"><span id="HB_unnamed_mixin_103" class="id"><span id="lebesgue_integral_MeasurableFun__to__lebesgue_integral_isMeasurableFun__102" class="id"><span id="HB_unnamed_factory_100" class="id"><span id="ring.hb_instance_99.g" class="id"><span id="ring.hb_instance_99.f" class="id"><span id="ring.hb_instance_99" class="id"><a name="GRing_sub_fun__canonical__lebesgue_integral_MeasurableFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:198" class="id"><a name="f:198" class="">f</a></span> <span id="g:199" class="id"><a name="g:199" class="">g</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#copy">MeasurableFun.copy</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:198">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0bb5d11fe8761db1e6494d75cb45a3cb">\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:199">g</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:198">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:199">g</a></span>).<br/>
<span id="mathcomp_extra_mul_fun__canonical__lebesgue_integral_MeasurableFun" class="id"><span id="HB_unnamed_mixin_108" class="id"><span id="lebesgue_integral_MeasurableFun__to__lebesgue_integral_isMeasurableFun__107" class="id"><span id="HB_unnamed_factory_105" class="id"><span id="ring.hb_instance_104.g" class="id"><span id="ring.hb_instance_104.f" class="id"><span id="ring.hb_instance_104" class="id"><a name="mathcomp_extra_mul_fun__canonical__lebesgue_integral_MeasurableFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:200" class="id"><a name="f:200" class="">f</a></span> <span id="g:201" class="id"><a name="g:201" class="">g</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#copy">MeasurableFun.copy</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:200">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#97c66421897c043c5333ab3c7e831f5b">\*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:201">g</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:200">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:201">g</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="mindic" class="id"><a name="mindic" class="">mindic</a></span> (<span id="D:202" class="id"><a name="D:202" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:202">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_D</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="mindicE" class="id"><a name="mindicE" class="">mindicE</a></span> (<span id="D:203" class="id"><a name="D:203" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) (<span id="mD:204" class="id"><a name="mD:204" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:203">D</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mD:204">mD</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:205" class="id"><a name="x:205" class="">x</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:205">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:203">D</a></span>)%<span class="id">:R</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/mindic</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">t;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>. Qed.</div>
<span id="lebesgue_integral_mindic__canonical__cardinality_FImFun" class="id"><span id="HB_unnamed_mixin_113" class="id"><span id="cardinality_FImFun__to__cardinality_FiniteImage__112" class="id"><span id="HB_unnamed_factory_110" class="id"><span id="ring.hb_instance_109.mD" class="id"><span id="ring.hb_instance_109.D" class="id"><span id="ring.hb_instance_109" class="id"><a name="lebesgue_integral_mindic__canonical__cardinality_FImFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="D:206" class="id"><a name="D:206" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) (<span id="mD:207" class="id"><a name="mD:207" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:206">D</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.cardinality.html#FImFun">FImFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mD:207">mD</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.cardinality.html#FImFun.on">FImFun.on</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mD:207">mD</a></span>).<br/>
<span class="vernacular">Lemma</span> <span id="indic_mfun_subproof" class="id"><a name="indic_mfun_subproof" class="">indic_mfun_subproof</a></span> (<span id="D:208" class="id"><a name="D:208" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) (<span id="mD:209" class="id"><a name="mD:209" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:208">D</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#isMeasurableFun">isMeasurableFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.d">d</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mD:209">mD</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
<span class="id">split=&gt;</span> <span class="id">mA</span> <span class="id">/=</span> <span class="id">B</span> <span class="id">mB;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#preimage_indic">preimage_indic</a></span>.<br/>
<span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">B1;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">B0</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setI0">setI0</a></span>.<br/>
Qed.</div>
<span id="lebesgue_integral_mindic__canonical__lebesgue_integral_SimpleFun" class="id"><span id="lebesgue_integral_mindic__canonical__lebesgue_integral_MeasurableFun" class="id"><span id="HB_unnamed_factory_115" class="id"><span id="ring.hb_instance_114.mD" class="id"><span id="ring.hb_instance_114.D" class="id"><span id="ring.hb_instance_114" class="id"><a name="lebesgue_integral_mindic__canonical__lebesgue_integral_SimpleFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="D:210" class="id"><a name="D:210" class="">D</a></span> <span id="mD:211" class="id"><a name="mD:211" class="">mD</a></span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_mfun_subproof">indic_mfun_subproof</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:210">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mD:211">mD</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="indic_mfun" class="id"><a name="indic_mfun" class="">indic_mfun</a></span> (<span id="D:212" class="id"><a name="D:212" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) (<span id="mD:213" class="id"><a name="mD:213" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:212">D</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">{mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mD:213">mD]</a></span>.<br/>
<br/>
<span id="GRing_mulr_fun__canonical__lebesgue_integral_MeasurableFun" class="id"><span id="HB_unnamed_mixin_121" class="id"><span id="lebesgue_integral_MeasurableFun__to__lebesgue_integral_isMeasurableFun__120" class="id"><span id="HB_unnamed_factory_118" class="id"><span id="ring.hb_instance_117.f" class="id"><span id="ring.hb_instance_117.k" class="id"><span id="ring.hb_instance_117" class="id"><a name="GRing_mulr_fun__canonical__lebesgue_integral_MeasurableFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="k:214" class="id"><a name="k:214" class="">k</a></span> <span id="f:215" class="id"><a name="f:215" class="">f</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#copy">MeasurableFun.copy</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:214">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#5e03abe1c4aaadd0b39b8ab0cf62f35b">\o*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:215">f</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:215">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cst_mfun">cst_mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:214">k</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="scale_mfun" class="id"><a name="scale_mfun" class="">scale_mfun</a></span> <span id="k:216" class="id"><a name="k:216" class="">k</a></span> <span id="f:217" class="id"><a name="f:217" class="">f</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">{mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:216">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#5e03abe1c4aaadd0b39b8ab0cf62f35b">\o*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:217">f]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="max_mfun_subproof" class="id"><a name="max_mfun_subproof" class="">max_mfun_subproof</a></span> <span id="f:218" class="id"><a name="f:218" class="">f</a></span> <span id="g:219" class="id"><a name="g:219" class="">g</a></span> <span class="id">:</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#isMeasurableFun">isMeasurableFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.d">d</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:218">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#505306268c1f512adbccb1af85edfe66">\max</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:219">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
 <span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_maxr">measurable_maxr</a></span>. Qed.</div>
<span id="Order_max_fun__canonical__lebesgue_integral_MeasurableFun" class="id"><span id="HB_unnamed_factory_123" class="id"><span id="ring.hb_instance_122.g" class="id"><span id="ring.hb_instance_122.f" class="id"><span id="ring.hb_instance_122" class="id"><a name="Order_max_fun__canonical__lebesgue_integral_MeasurableFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:220" class="id"><a name="f:220" class="">f</a></span> <span id="g:221" class="id"><a name="g:221" class="">g</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_mfun_subproof">max_mfun_subproof</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:220">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:221">g</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="max_mfun" class="id"><a name="max_mfun" class="">max_mfun</a></span> <span id="f:222" class="id"><a name="f:222" class="">f</a></span> <span id="g:223" class="id"><a name="g:223" class="">g</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">{mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:222">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#505306268c1f512adbccb1af85edfe66">\max</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:223">g]</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring">ring</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_mfun">indic_mfun</a></span> <span class="id">{d</span> <span class="id">aT</span> <span class="id">rT}</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_indic" class="id"><a name="measurable_indic" class="">measurable_indic</a></span> <span id="d:224" class="id"><a name="d:224" class="">d</a></span> (<span id="T:225" class="id"><a name="T:225" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:224">d</a></span>) (<span id="R:226" class="id"><a name="R:226" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="D:227" class="id"><a name="D:227" class="">D</a></span> <span id="A:228" class="id"><a name="A:228" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:225">T</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:228">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:227">D</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:225">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:226">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">mA;</span> <span class="id">apply/measurable_funTS;</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1__</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id">R</span> <span class="id">mA</span>).<br/>
Qed.</div>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span>  (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1__</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>)) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;(<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_indic">measurable_indic</a></span> ) <span class="id">:</span> <span class="id">core</span>.<br/>
<span class="id">#[deprecated</span>(<span class="id">since=</span><span class="id">&quot;mathcomp-analysis 0.6.3&quot;, note=&quot;use `measurable_indic` instead&quot;</span>)<span class="id">]</span><br/>
<span class="vernacular">Notation</span> <span id="measurable_fun_indic" class="id"><a name="measurable_fun_indic" class="">measurable_fun_indic</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_indic">measurable_indic</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="sfun_pred" class="id"><a name="sfun_pred" class="">sfun_pred</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{d}</span> <span class="id">{aT</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:229">d}</a></span> <span class="id">{rT</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="sfun" class="id"><a name="sfun" class="">sfun</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#64f8873130736b599801d4930af00e74">{pred</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_}</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrbool.html#974a48c83c527c4d69902f6dad4644e3">[predI</a></span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun">mfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_pred.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_pred.rT">rT</a></span> &amp; <span class="id"><a href="mathcomp.classical.cardinality.html#fimfun">fimfun]</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="sfun_key" class="id"><a name="sfun_key" class="">sfun_key</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred_key">pred_key</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
 <span class="id">exact</span>. Qed.</div>
<span class="vernacular">Canonical</span> <span id="sfun_keyed" class="id"><a name="sfun_keyed" class="">sfun_keyed</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#KeyedPred">KeyedPred</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_key">sfun_key</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="sub_sfun_mfun" class="id"><a name="sub_sfun_mfun" class="">sub_sfun_mfun</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463">{subset</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun">mfun}</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">/andP[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="sub_sfun_fimfun" class="id"><a name="sub_sfun_fimfun" class="">sub_sfun_fimfun</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463">{subset</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463">&lt;=</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#fimfun">fimfun}</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">/andP[]</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_pred">sfun_pred</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="sfun" class="id"><a name="sfun" class="">sfun</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{d}</span> <span class="id">{aT</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:232">d}</a></span> <span class="id">{rT</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="T" class="id"><a name="T" class="">T</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.rT">rT}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="sfun" class="id"><a name="sfun" class="">sfun</a></span> <span class="id">:=</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.rT">rT</a></span>).<br/>
<span class="vernacular">Section</span> <span id="sfun.Sub" class="id"><a name="sfun.Sub" class="">Sub</a></span>.<br/>
<span class="vernacular">Context</span> (<span id="f:235" class="id"><a name="f:235" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.aT">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.rT">rT</a></span>) (<span id="fP:236" class="id"><a name="fP:236" class="">fP</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:235">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="sfun_Sub1_subproof" class="id"><a name="sfun_Sub1_subproof" class="">sfun_Sub1_subproof</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Build">isMeasurableFun.Build</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.d">d</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.rT">rT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.Sub.f">f</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sub_sfun_mfun">sub_sfun_mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.Sub.fP">fP</a></span>)).<br/>
<span id="lebesgue_integral_f__canonical__lebesgue_integral_MeasurableFun__127" class="id"><span id="HB_unnamed_factory_125" class="id"><a name="lebesgue_integral_f__canonical__lebesgue_integral_MeasurableFun__127" class="">#[local]</a></span></span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_Sub1_subproof">sfun_Sub1_subproof</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="sfun_Sub2_subproof" class="id"><a name="sfun_Sub2_subproof" class="">sfun_Sub2_subproof</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.cardinality.html#FiniteImage.Build">FiniteImage.Build</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.rT">rT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.Sub.f">f</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sub_sfun_fimfun">sub_sfun_fimfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.Sub.fP">fP</a></span>)).<br/>
<span id="lebesgue_integral_f__canonical__lebesgue_integral_SimpleFun" class="id"><span id="lebesgue_integral_f__canonical__cardinality_FImFun" class="id"><span id="HB_unnamed_factory_128" class="id"><a name="lebesgue_integral_f__canonical__lebesgue_integral_SimpleFun" class="">#[local]</a></span></span></span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_Sub2_subproof">sfun_Sub2_subproof</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="sfun_Sub" class="id"><a name="sfun_Sub" class="">sfun_Sub</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#95f15b800d1a38adf40aa1237c2b1b7a">[sfun</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.Sub.f">f]</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.Sub">Sub</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sfun_rect" class="id"><a name="sfun_rect" class="">sfun_rect</a></span> (<span id="K:237" class="id"><a name="K:237" class="">K</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Type</span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="f:238" class="id"><a name="f:238" class="">f</a></span> (<span id="Pf:239" class="id"><a name="Pf:239" class="">Pf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:238">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span>)<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:237">K</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_Sub">sfun_Sub</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Pf:239">Pf</a></span>)) <span class="id">-&gt;</span> <span class="gallina-kwd">forall</span> <span id="u:240" class="id"><a name="u:240" class="">u</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T">T,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:237">K</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#u:240">u</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
<span class="id">move=&gt;</span> <span class="id">Ksub</span> <span class="id">[f</span> <span class="id">[[Pf1]</span> <span class="id">[Pf2]]];</span> <span class="id">have</span> <span class="id">Pf</span> <span class="id">:</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span> <span class="gallina-kwd">by</span> <span class="id">apply/andP;</span> <span class="id">rewrite</span> <span class="id">?inE</span>.<br/>
<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">Pf1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sub_sfun_mfun">sub_sfun_mfun</a></span> <span class="id">Pf</span>)) <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">Pf2</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sub_sfun_fimfun">sub_sfun_fimfun</a></span> <span class="id">Pf</span>)) <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">exact:</span> <span class="id">Ksub</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sfun_valP" class="id"><a name="sfun_valP" class="">sfun_valP</a></span> <span id="f:241" class="id"><a name="f:241" class="">f</a></span> (<span id="Pf:242" class="id"><a name="Pf:242" class="">Pf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:241">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_Sub">sfun_Sub</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Pf:242">Pf</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:241">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span id="SimpleFun_type__canonical__eqtype_SubType" class="id"><span id="HB_unnamed_factory_130" class="id"><a name="SimpleFun_type__canonical__eqtype_SubType" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#isSub.Build">isSub.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_rect">sfun_rect</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_valP">sfun_valP</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sfuneqP" class="id"><a name="sfuneqP" class="">sfuneqP</a></span> (<span id="f:243" class="id"><a name="f:243" class="">f</a></span> <span id="g:244" class="id"><a name="g:244" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.rT">rT}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:243">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:244">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:243">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#44b19bd81f7a1388073ea8a65e6fa993">=1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:244">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">[-&gt;//|fg];</span> <span class="id">apply/val_inj/funext</span>. Qed.</div>
<br/>
<span id="SimpleFun_type__canonical__choice_SubChoice" class="id"><span id="SimpleFun_type__canonical__eqtype_SubEquality" class="id"><span id="SimpleFun_type__canonical__choice_Choice" class="id"><span id="HB_unnamed_mixin_138" class="id"><span id="SimpleFun_type__canonical__eqtype_Equality" class="id"><span id="HB_unnamed_mixin_137" class="id"><span id="choice_Choice__to__eqtype_hasDecEq__136" class="id"><span id="choice_Choice__to__choice_hasChoice__134" class="id"><span id="HB_unnamed_factory_132" class="id"><a name="SimpleFun_type__canonical__choice_SubChoice" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#66b07d305ccef05249d819a7d15ac0a1">[Choice</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.rT">rT}</a></span> <span class="gallina-kwd">by</span> <span class="id">&lt;:]</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="cst_sfun" class="id"><a name="cst_sfun" class="">cst_sfun</a></span> <span id="x:245" class="id"><a name="x:245" class="">x</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.rT">rT}</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:245">x]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="cst_sfunE" class="id"><a name="cst_sfunE" class="">cst_sfunE</a></span> <span id="x:246" class="id"><a name="x:246" class="">x</a></span> <span class="id">:</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cst_sfun">cst_sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:246">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#44b19bd81f7a1388073ea8a65e6fa993">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:246">x</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="fctD" class="id"><a name="fctD" class="">fctD</a></span> (<span id="T:247" class="id"><a name="T:247" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span id="K:248" class="id"><a name="K:248" class="">K</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType</a></span>) (<span id="f:249" class="id"><a name="f:249" class="">f</a></span> <span id="g:250" class="id"><a name="g:250" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:247">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:248">K</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:249">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:250">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:249">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#d85e5ec1adc01afcee458717bbaea5e5">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:250">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="fctN" class="id"><a name="fctN" class="">fctN</a></span> (<span id="T:251" class="id"><a name="T:251" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span id="K:252" class="id"><a name="K:252" class="">K</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType</a></span>) (<span id="f:253" class="id"><a name="f:253" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:251">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:252">K</a></span>) <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:253">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#565ca4aa0f5062a899cb0ce9091bd2da">\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:253">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="fctM" class="id"><a name="fctM" class="">fctM</a></span> (<span id="T:254" class="id"><a name="T:254" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span id="K:255" class="id"><a name="K:255" class="">K</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType</a></span>) (<span id="f:256" class="id"><a name="f:256" class="">f</a></span> <span id="g:257" class="id"><a name="g:257" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:254">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:255">K</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:256">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:257">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:256">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#97c66421897c043c5333ab3c7e831f5b">\*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:257">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="fctZ" class="id"><a name="fctZ" class="">fctZ</a></span> (<span id="T:258" class="id"><a name="T:258" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span id="K:259" class="id"><a name="K:259" class="">K</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType</a></span>) (<span id="L:260" class="id"><a name="L:260" class="">L</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Lmodule.Exports.lmodType">lmodType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:259">K</a></span>) <span id="k:261" class="id"><a name="k:261" class="">k</a></span> (<span id="f:262" class="id"><a name="f:262" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:258">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#L:260">L</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:261">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#3b05480e39db306e67fadbc79d394529">*:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:262">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:261">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#6046a89d0c83e8d6f210d69ae527c5ae">\*:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:262">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">/</span>.<br/>
<span class="vernacular">Definition</span> <span id="fctWE" class="id"><a name="fctWE" class="">fctWE</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fctD">fctD,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fctN">fctN,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fctM">fctM,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fctZ">fctZ</a></span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="ring" class="id"><a name="ring" class="">ring</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:263" class="id"><a name="d:263" class="">d</a></span> (<span id="aT:264" class="id"><a name="aT:264" class="">aT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:263">d</a></span>) (<span id="rT:265" class="id"><a name="rT:265" class="">rT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sfun_subring_closed" class="id"><a name="sfun_subring_closed" class="">sfun_subring_closed</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.ClosedExports.subring_closed">subring_closed</a></span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.d">d</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
<span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">[|f</span> <span class="id">g|f</span> <span class="id">g];</span> <span class="id">rewrite</span> <span class="id">?inE/=</span> <span class="id">?rpred1//;</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/andP[/=</span> <span class="id">mf</span> <span class="id">ff]</span> <span class="id">/andP[/=</span> <span class="id">mg</span> <span class="id">fg];</span> <span class="id">rewrite</span> <span class="id">!</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.rpredB">rpredB,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.rpredM">rpredM</a></span>).<br/>
Qed.</div>
<br/>
<span id="lebesgue_integral_sfun__canonical__GRing_SubringClosed" class="id"><span id="lebesgue_integral_sfun__canonical__GRing_ZmodClosed" class="id"><span id="lebesgue_integral_sfun__canonical__GRing_SemiringClosed" class="id"><span id="lebesgue_integral_sfun__canonical__GRing_Semiring2Closed" class="id"><span id="lebesgue_integral_sfun__canonical__GRing_AddClosed" class="id"><span id="HB_unnamed_mixin_151" class="id"><span id="lebesgue_integral_sfun__canonical__GRing_SmulClosed" class="id"><span id="lebesgue_integral_sfun__canonical__GRing_OppClosed" class="id"><span id="HB_unnamed_mixin_150" class="id"><span id="lebesgue_integral_sfun__canonical__GRing_MulClosed" class="id"><span id="HB_unnamed_mixin_149" class="id"><span id="lebesgue_integral_sfun__canonical__GRing_Mul2Closed" class="id"><span id="HB_unnamed_mixin_148" class="id"><span id="GRing_isSubringClosed__to__GRing_isAddClosed__147" class="id"><span id="GRing_isSubringClosed__to__GRing_isOppClosed__145" class="id"><span id="GRing_isSubringClosed__to__GRing_isMul2Closed__143" class="id"><span id="GRing_isSubringClosed__to__GRing_isMul1Closed__141" class="id"><span id="HB_unnamed_factory_139" class="id"><a name="lebesgue_integral_sfun__canonical__GRing_SubringClosed" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.isSubringClosed.Build">GRing.isSubringClosed.Build</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_subring_closed">sfun_subring_closed</a></span>.<br/>
<span id="SimpleFun_type__canonical__GRing_SubComRing" class="id"><span id="SimpleFun_type__canonical__GRing_SubComSemiRing" class="id"><span id="SimpleFun_type__canonical__GRing_SubRing" class="id"><span id="SimpleFun_type__canonical__GRing_SubSemiRing" class="id"><span id="HB_unnamed_mixin_173" class="id"><span id="SimpleFun_type__canonical__GRing_ComRing" class="id"><span id="SimpleFun_type__canonical__GRing_ComSemiRing" class="id"><span id="HB_unnamed_mixin_172" class="id"><span id="SimpleFun_type__canonical__GRing_Ring" class="id"><span id="SimpleFun_type__canonical__GRing_SemiRing" class="id"><span id="HB_unnamed_mixin_171" class="id"><span id="SimpleFun_type__canonical__GRing_SubZmodule" class="id"><span id="HB_unnamed_mixin_170" class="id"><span id="SimpleFun_type__canonical__GRing_SubNmodule" class="id"><span id="HB_unnamed_mixin_169" class="id"><span id="SimpleFun_type__canonical__GRing_Zmodule" class="id"><span id="HB_unnamed_mixin_168" class="id"><span id="SimpleFun_type__canonical__GRing_Nmodule" class="id"><span id="HB_unnamed_mixin_167" class="id"><span id="GRing_SubChoice_isSubComRing__to__GRing_isSubSemiRing__166" class="id"><span id="GRing_SubChoice_isSubComRing__to__GRing_Nmodule_isSemiRing__164" class="id"><span id="GRing_SubChoice_isSubComRing__to__GRing_isSubNmodule__162" class="id"><span id="GRing_SubChoice_isSubComRing__to__GRing_isNmodule__160" class="id"><span id="GRing_SubChoice_isSubComRing__to__GRing_Nmodule_isZmodule__158" class="id"><span id="GRing_SubChoice_isSubComRing__to__GRing_isSubZmodule__156" class="id"><span id="GRing_SubChoice_isSubComRing__to__GRing_SemiRing_hasCommutativeMul__154" class="id"><span id="HB_unnamed_factory_152" class="id"><a name="SimpleFun_type__canonical__GRing_SubComRing" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#e47a54e4e60b8b28c99add6376bc1ef1">[SubChoice_isSubComRing</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span> <span class="gallina-kwd">by</span> <span class="id">&lt;:]</span>.<br/>
<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sfun0" class="id"><a name="sfun0" class="">sfun0</a></span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span>) <span class="id">=1</span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="sfun1" class="id"><a name="sfun1" class="">sfun1</a></span> <span class="id">:</span> (<span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span>) <span class="id">=1</span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">1</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="sfunN" class="id"><a name="sfunN" class="">sfunN</a></span> <span id="f:266" class="id"><a name="f:266" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:266">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#44b19bd81f7a1388073ea8a65e6fa993">=1</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#565ca4aa0f5062a899cb0ce9091bd2da">\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:266">f</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="sfunD" class="id"><a name="sfunD" class="">sfunD</a></span> <span id="f:267" class="id"><a name="f:267" class="">f</a></span> <span id="g:268" class="id"><a name="g:268" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:267">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:268">g</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#44b19bd81f7a1388073ea8a65e6fa993">=1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:267">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#d85e5ec1adc01afcee458717bbaea5e5">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:268">g</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="sfunB" class="id"><a name="sfunB" class="">sfunB</a></span> <span id="f:269" class="id"><a name="f:269" class="">f</a></span> <span id="g:270" class="id"><a name="g:270" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:269">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:270">g</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#44b19bd81f7a1388073ea8a65e6fa993">=1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:269">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0bb5d11fe8761db1e6494d75cb45a3cb">\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:270">g</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="sfunM" class="id"><a name="sfunM" class="">sfunM</a></span> <span id="f:271" class="id"><a name="f:271" class="">f</a></span> <span id="g:272" class="id"><a name="g:272" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:271">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:272">g</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#44b19bd81f7a1388073ea8a65e6fa993">=1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:271">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#97c66421897c043c5333ab3c7e831f5b">\*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:272">g</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="sfun_sum" class="id"><a name="sfun_sum" class="">sfun_sum</a></span> <span id="I:273" class="id"><a name="I:273" class="">I</a></span> <span id="r:274" class="id"><a name="r:274" class="">r</a></span> (<span id="P:275" class="id"><a name="P:275" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#64f8873130736b599801d4930af00e74">{pred</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I:273">I}</a></span>) (<span id="f:276" class="id"><a name="f:276" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I:273">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span>) (<span id="x:277" class="id"><a name="x:277" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id">\sum_</span>(<span id="i:280" class="id"><span id="i:279" class="id"><span id="i:278" class="id"><a name="i:280" class="">i</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:274">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#P:275">P</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:278">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:276">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:278">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:277">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">\sum_</a></span>(<span id="i:283" class="id"><span id="i:282" class="id"><span id="i:281" class="id"><a name="i:283" class="">i</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:274">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#P:275">P</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:281">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:276">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:281">i</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:277">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
 <span class="gallina-kwd">by</span> <span class="id">elim/big_rec2:</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">i</span> <span class="id">y</span> <span class="id">?</span> <span class="id">Pi</span> <span class="id">&lt;-</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="sfun_prod" class="id"><a name="sfun_prod" class="">sfun_prod</a></span> <span id="I:284" class="id"><a name="I:284" class="">I</a></span> <span id="r:285" class="id"><a name="r:285" class="">r</a></span> (<span id="P:286" class="id"><a name="P:286" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#64f8873130736b599801d4930af00e74">{pred</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I:284">I}</a></span>) (<span id="f:287" class="id"><a name="f:287" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I:284">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span>) (<span id="x:288" class="id"><a name="x:288" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id">\sum_</span>(<span id="i:291" class="id"><span id="i:290" class="id"><span id="i:289" class="id"><a name="i:291" class="">i</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:285">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#P:286">P</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:289">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:287">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:289">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:288">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">\sum_</a></span>(<span id="i:294" class="id"><span id="i:293" class="id"><span id="i:292" class="id"><a name="i:294" class="">i</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:285">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#P:286">P</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:292">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:287">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:292">i</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:288">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
 <span class="gallina-kwd">by</span> <span class="id">elim/big_rec2:</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">i</span> <span class="id">y</span> <span class="id">?</span> <span class="id">Pi</span> <span class="id">&lt;-</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="sfunX" class="id"><a name="sfunX" class="">sfunX</a></span> <span id="f:295" class="id"><a name="f:295" class="">f</a></span> <span id="n:296" class="id"><a name="n:296" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:295">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#663140372ac3b275aae871b74b140513">^+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:296">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#44b19bd81f7a1388073ea8a65e6fa993">=1</a></span> (<span class="gallina-kwd">fun</span> <span id="x:297" class="id"><a name="x:297" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:295">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:297">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#663140372ac3b275aae871b74b140513">^+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:296">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">elim:</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id">[|n</span> <span class="id">IHn]//;</span> <span class="id">rewrite</span> <span class="id">!exprS</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfunM">sfunM/=</a></span> <span class="id">IHn</span>. Qed.</div>
<br/>
<span id="GRing_add_fun__canonical__lebesgue_integral_SimpleFun" class="id"><span id="lebesgue_integral_MeasurableFun__to__lebesgue_integral_isMeasurableFun__177" class="id"><span id="HB_unnamed_factory_175" class="id"><span id="ring.hb_instance_174.g" class="id"><span id="ring.hb_instance_174.f" class="id"><span id="ring.hb_instance_174" class="id"><a name="GRing_add_fun__canonical__lebesgue_integral_SimpleFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:298" class="id"><a name="f:298" class="">f</a></span> <span id="g:299" class="id"><a name="g:299" class="">g</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#copy">MeasurableFun.copy</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:298">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#d85e5ec1adc01afcee458717bbaea5e5">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:299">g</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:298">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:299">g</a></span>).<br/>
<span id="mathcomp_extra_opp_fun__canonical__lebesgue_integral_SimpleFun" class="id"><span id="lebesgue_integral_MeasurableFun__to__lebesgue_integral_isMeasurableFun__181" class="id"><span id="HB_unnamed_factory_179" class="id"><span id="ring.hb_instance_178.g" class="id"><span id="ring.hb_instance_178.f" class="id"><span id="ring.hb_instance_178" class="id"><a name="mathcomp_extra_opp_fun__canonical__lebesgue_integral_SimpleFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:300" class="id"><a name="f:300" class="">f</a></span> <span id="g:301" class="id"><a name="g:301" class="">g</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#copy">MeasurableFun.copy</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#565ca4aa0f5062a899cb0ce9091bd2da">\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:300">f</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:300">f</a></span>).<br/>
<span id="GRing_sub_fun__canonical__lebesgue_integral_SimpleFun" class="id"><span id="lebesgue_integral_MeasurableFun__to__lebesgue_integral_isMeasurableFun__185" class="id"><span id="HB_unnamed_factory_183" class="id"><span id="ring.hb_instance_182.g" class="id"><span id="ring.hb_instance_182.f" class="id"><span id="ring.hb_instance_182" class="id"><a name="GRing_sub_fun__canonical__lebesgue_integral_SimpleFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:302" class="id"><a name="f:302" class="">f</a></span> <span id="g:303" class="id"><a name="g:303" class="">g</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#copy">MeasurableFun.copy</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:302">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0bb5d11fe8761db1e6494d75cb45a3cb">\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:303">g</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:302">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:303">g</a></span>).<br/>
<span id="mathcomp_extra_mul_fun__canonical__lebesgue_integral_SimpleFun" class="id"><span id="lebesgue_integral_MeasurableFun__to__lebesgue_integral_isMeasurableFun__189" class="id"><span id="HB_unnamed_factory_187" class="id"><span id="ring.hb_instance_186.g" class="id"><span id="ring.hb_instance_186.f" class="id"><span id="ring.hb_instance_186" class="id"><a name="mathcomp_extra_mul_fun__canonical__lebesgue_integral_SimpleFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:304" class="id"><a name="f:304" class="">f</a></span> <span id="g:305" class="id"><a name="g:305" class="">g</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#copy">MeasurableFun.copy</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:304">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#97c66421897c043c5333ab3c7e831f5b">\*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:305">g</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:304">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:305">g</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="indic_sfun" class="id"><a name="indic_sfun" class="">indic_sfun</a></span> (<span id="D:306" class="id"><a name="D:306" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) (<span id="mD:307" class="id"><a name="mD:307" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:306">D</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mD:307">mD]</a></span>.<br/>
<br/>
<span id="GRing_mulr_fun__canonical__lebesgue_integral_SimpleFun" class="id"><span id="lebesgue_integral_MeasurableFun__to__lebesgue_integral_isMeasurableFun__193" class="id"><span id="HB_unnamed_factory_191" class="id"><span id="ring.hb_instance_190.f" class="id"><span id="ring.hb_instance_190.k" class="id"><span id="ring.hb_instance_190" class="id"><a name="GRing_mulr_fun__canonical__lebesgue_integral_SimpleFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="k:308" class="id"><a name="k:308" class="">k</a></span> <span id="f:309" class="id"><a name="f:309" class="">f</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#copy">MeasurableFun.copy</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:308">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#5e03abe1c4aaadd0b39b8ab0cf62f35b">\o*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:309">f</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:309">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cst_sfun">cst_sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:308">k</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="scale_sfun" class="id"><a name="scale_sfun" class="">scale_sfun</a></span> <span id="k:310" class="id"><a name="k:310" class="">k</a></span> <span id="f:311" class="id"><a name="f:311" class="">f</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT}</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:310">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#5e03abe1c4aaadd0b39b8ab0cf62f35b">\o*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:311">f]</a></span>.<br/>
<br/>
<span id="Order_max_fun__canonical__lebesgue_integral_SimpleFun" class="id"><span id="lebesgue_integral_isMeasurableFun__to__lebesgue_integral_isMeasurableFun" class="id"><span id="HB_unnamed_factory_195" class="id"><span id="ring.hb_instance_194.g" class="id"><span id="ring.hb_instance_194.f" class="id"><span id="ring.hb_instance_194" class="id"><a name="Order_max_fun__canonical__lebesgue_integral_SimpleFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:312" class="id"><a name="f:312" class="">f</a></span> <span id="g:313" class="id"><a name="g:313" class="">g</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_mfun_subproof">max_mfun_subproof</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:312">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:313">g</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="max_sfun" class="id"><a name="max_sfun" class="">max_sfun</a></span> <span id="f:314" class="id"><a name="f:314" class="">f</a></span> <span id="g:315" class="id"><a name="g:315" class="">g</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:314">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#505306268c1f512adbccb1af85edfe66">\max</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:315">g]</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring">ring</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_sfun">indic_sfun</a></span> <span class="id">{d</span> <span class="id">aT</span> <span class="id">rT}</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="fset_set_comp" class="id"><a name="fset_set_comp" class="">fset_set_comp</a></span> (<span id="T1:316" class="id"><a name="T1:316" class="">T1</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="T2:317" class="id"><a name="T2:317" class="">T2</a></span> <span id="T3:318" class="id"><a name="T3:318" class="">T3</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span id="D:319" class="id"><a name="D:319" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T1:316">T1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f:320" class="id"><a name="f:320" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T1:316">T1</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T2:317">T2}</a></span>) (<span id="g:321" class="id"><a name="g:321" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T2:317">T2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T3:318">T3</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:321">g</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:320">f</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:322">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="x:322" class="id"><a name="x:322" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:319">D]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#6001bf45df8f6b6e57fd188448320a89">[fset</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:321">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:323">x</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#6001bf45df8f6b6e57fd188448320a89">|</a></span> <span id="x:323" class="id"><a name="x:323" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:320">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:324">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="x:324" class="id"><a name="x:324" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:319">D]]</a></span>%<span class="id">fset</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#image_comp">image_comp</a></span> <span class="id">f</span> <span class="id">g</span>) <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set_image">fset_set_image</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="preimage_nnfun0" class="id"><a name="preimage_nnfun0" class="">preimage_nnfun0</a></span> <span id="T:325" class="id"><a name="T:325" class="">T</a></span> (<span id="R:326" class="id"><a name="R:326" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.RealDomain.Exports.realDomainType">realDomainType</a></span>) (<span id="f:327" class="id"><a name="f:327" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f7a5001d371827f8d2dd9f14ae0127c4">{nnfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:325">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f7a5001d371827f8d2dd9f14ae0127c4">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:326">R}</a></span>) <span id="t:328" class="id"><a name="t:328" class="">t</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:328">t</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:327">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:328">t]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
<span class="id">move=&gt;</span> <span class="id">t0</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/preimage10</span> <span class="id">=&gt;</span> <span class="id">-[x</span> <span class="id">_];</span> <span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contraPnot">contraPnot</a></span> <span class="id">t0</span> <span class="id">=&gt;</span> <span class="id">&lt;-;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_gtF">le_gtF</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="preimage_cstM" class="id"><a name="preimage_cstM" class="">preimage_cstM</a></span> <span id="T:329" class="id"><a name="T:329" class="">T</a></span> (<span id="R:330" class="id"><a name="R:330" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.RealField.Exports.realFieldType">realFieldType</a></span>) (<span id="x:331" class="id"><a name="x:331" class="">x</a></span> <span id="y:332" class="id"><a name="y:332" class="">y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:330">R</a></span>) (<span id="f:333" class="id"><a name="f:333" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:329">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:330">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:331">x</a></span> <span class="id">!=</span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:331">x</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#97c66421897c043c5333ab3c7e831f5b">\*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:333">f</a></span>) @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:332">y]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:333">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:332">y</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:331">x]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
<span class="id">move=&gt;</span> <span class="id">x0;</span> <span class="id">apply/seteqP;</span> <span class="id">rewrite</span> <span class="id">/preimage;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[z/=</span> <span class="id">&lt;-|z/=</span> <span class="id">-&gt;]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulrAC">mulrAC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.divrr">divrr</a></span> <span class="id">?mul1r//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.unitfE">unitfE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulrCA">mulrCA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.divrr">divrr</a></span> <span class="id">?mulr1//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.unitfE">unitfE</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="preimage_add" class="id"><a name="preimage_add" class="">preimage_add</a></span> <span id="T:334" class="id"><a name="T:334" class="">T</a></span> (<span id="R:335" class="id"><a name="R:335" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.NumDomain.Exports.numDomainType">numDomainType</a></span>) (<span id="f:336" class="id"><a name="f:336" class="">f</a></span> <span id="g:337" class="id"><a name="g:337" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:334">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:335">R</a></span>) <span id="z:338" class="id"><a name="z:338" class="">z</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:336">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#d85e5ec1adc01afcee458717bbaea5e5">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:337">g</a></span>) @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:338">z]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#6c1866a3b78974b64276da9cd4d63a55">\bigcup_</a></span>(<span id="a:339" class="id"><a name="a:339" class="">a</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:336">f</a></span> @<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:336">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a:339">a]</a></span>) <span class="id">`</span>&amp;<span class="id">`</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:337">g</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:338">z</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a:339">a]</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
<span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">[x</span> <span class="id">/=</span> <span class="id">fgz|x</span> <span class="id">[_</span> <span class="id">/=</span> <span class="id">[y</span> <span class="id">_</span> <span class="id">&lt;-]]</span> <span class="id">[]]</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> <span class="id">z</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">g</span> @<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> <span class="id">x=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">-fgz</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addKr">addKr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">-[x'</span> <span class="id">_</span> <span class="id">gzf];</span> <span class="gallina-kwd">exists</span> (<span class="id">z</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">g</span> <span class="id">x'</span>)%<span class="id">R</span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">gzf</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.subrK">subrK</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/preimage</span> <span class="id">/=;</span> <span class="id">split;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">gzf</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.subrK">subrK</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">gzf</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.subrK">subrK</a></span> <span class="id">-fgz</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addKr">addKr</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/preimage</span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">[fxfy</span> <span class="id">gzf]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">gzf</span> <span class="id">-fxfy</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.subrK">subrK</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="simple_bounded" class="id"><a name="simple_bounded" class="">simple_bounded</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:340" class="id"><a name="d:340" class="">d</a></span> (<span id="T:341" class="id"><a name="T:341" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:340">d</a></span>) (<span id="R:342" class="id"><a name="R:342" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="simple_bounded" class="id"><a name="simple_bounded" class="">simple_bounded</a></span> (<span id="f:343" class="id"><a name="f:343" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_bounded.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_bounded.R">R}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#bounded_fun">bounded_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:343">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
<span class="id">have</span> <span class="id">/finite_seqP[r</span> <span class="id">fr]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.cardinality.html#fimfunP">fimfunP</a></span> <span class="id">f</span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca">\big[maxe/-oo</a></span>%<span class="id">E]_</span>(<span id="i:349" class="id"><span id="i:348" class="id"><span id="i:347" class="id"><span id="i:346" class="id"><span id="i:345" class="id"><span id="i:344" class="id"><a name="i:349" class="">i</a></span></span></span></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca">&lt;-</a></span> <span class="id">r</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|i|</a></span>%<span class="id">:E</span>)).<br/>
<span class="id">split;</span> <span class="id">rewrite</span> <span class="id">?num_real//</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">mx</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">apply/ltW/</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">mx</span>).<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id">f</span> <span class="id">z</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">r</span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#imageT">imageT</a></span> <span class="id">f</span> <span class="id">z;</span> <span class="id">rewrite</span> <span class="id">fr</span>.<br/>
<span class="id">rewrite</span> <span class="id">-[leLHS]/</span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|f</a></span> <span class="id">z|</span>%<span class="id">:E</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le//</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#bigmaxe_fin_num">bigmaxe_fin_num</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#map">map</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Def.normr">normr</a></span> <span class="id">r</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|f</a></span> <span class="id">z|</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_map">big_map</a></span> <span class="id">=&gt;</span> <span class="id">-&gt;//;</span> <span class="id">apply/mapP;</span> <span class="gallina-kwd">exists</span> (<span class="id">f</span> <span class="id">z</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#bigmax_sup_seq">bigmax_sup_seq</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span> <span class="id">_</span>)).<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_bounded">simple_bounded</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="nnsfun_functions" class="id"><a name="nnsfun_functions" class="">nnsfun_functions</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:350" class="id"><a name="d:350" class="">d</a></span> (<span id="T:351" class="id"><a name="T:351" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:350">d</a></span>) (<span id="R:352" class="id"><a name="R:352" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="cst_nnfun_subproof" class="id"><a name="cst_nnfun_subproof" class="">cst_nnfun_subproof</a></span> (<span id="x:353" class="id"><a name="x:353" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#3c7df47245b1421bbe9c31d0c8ed78f3">{nonneg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.R">R}</a></span>) <span class="id">:</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#isNonNegFun">isNonNegFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.R">R</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:353">x</a></span>%<span class="id">:num</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">/=</span>. Qed.</div>
<span id="functions_cst__canonical__lebesgue_integral_NonNegSimpleFun" class="id"><span id="functions_cst__canonical__lebesgue_integral_NonNegFun" class="id"><span id="HB_unnamed_factory_198" class="id"><span id="nnsfun_functions.hb_instance_197.x" class="id"><span id="nnsfun_functions.hb_instance_197" class="id"><a name="functions_cst__canonical__lebesgue_integral_NonNegSimpleFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="x:354" class="id"><a name="x:354" class="">x</a></span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cst_nnfun_subproof">cst_nnfun_subproof</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:354">x</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="cst_nnsfun" class="id"><a name="cst_nnsfun" class="">cst_nnsfun</a></span> (<span id="r:355" class="id"><a name="r:355" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#3c7df47245b1421bbe9c31d0c8ed78f3">{nonneg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.R">R}</a></span>) <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.R">R}</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:355">r</a></span>%<span class="id">:num]</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="nnsfun0" class="id"><a name="nnsfun0" class="">nnsfun0</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.R">R}</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cst_nnsfun">cst_nnsfun</a></span> <span class="id">0</span>%<span class="id">R</span>%<span class="id">:nng</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="indic_nnfun_subproof" class="id"><a name="indic_nnfun_subproof" class="">indic_nnfun_subproof</a></span> (<span id="D:356" class="id"><a name="D:356" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.T">T</a></span>) <span class="id">:</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#isNonNegFun">isNonNegFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_D</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id">/indic</span>. Qed.</div>
<span id="numfun_indic__canonical__lebesgue_integral_NonNegFun" class="id"><span id="HB_unnamed_factory_201" class="id"><span id="nnsfun_functions.hb_instance_200.D" class="id"><span id="nnsfun_functions.hb_instance_200" class="id"><a name="numfun_indic__canonical__lebesgue_integral_NonNegFun" class="hierarchy-builder">HB.instance</a></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="D:357" class="id"><a name="D:357" class="">D</a></span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_nnfun_subproof">indic_nnfun_subproof</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:357">D</a></span>.<br/>
<br/>
<span id="lebesgue_integral_mindic__canonical__lebesgue_integral_NonNegSimpleFun" class="id"><span id="lebesgue_integral_mindic__canonical__lebesgue_integral_NonNegFun" class="id"><span id="HB_unnamed_mixin_206" class="id"><span id="lebesgue_integral_NonNegFun__to__lebesgue_integral_isNonNegFun" class="id"><span id="HB_unnamed_factory_204" class="id"><span id="nnsfun_functions.hb_instance_203.mD" class="id"><span id="nnsfun_functions.hb_instance_203.D" class="id"><span id="nnsfun_functions.hb_instance_203" class="id"><a name="lebesgue_integral_mindic__canonical__lebesgue_integral_NonNegSimpleFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="D:358" class="id"><a name="D:358" class="">D</a></span> (<span id="mD:359" class="id"><a name="mD:359" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:358">D</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#NonNegFun">NonNegFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.R">R</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mD:359">mD</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#on">NonNegFun.on</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.R">R</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mD:359">mD</a></span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions">nnsfun_functions</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun0">nnsfun0</a></span> <span class="id">{d</span> <span class="id">T</span> <span class="id">R}</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="nnfun_bin" class="id"><a name="nnfun_bin" class="">nnfun_bin</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="nnfun_bin.T" class="id"><a name="nnfun_bin.T" class="">T</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="nnfun_bin.R" class="id"><a name="nnfun_bin.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.NumDomain.Exports.numDomainType">numDomainType</a></span>) (<span id="nnfun_bin.f" class="id"><a name="nnfun_bin.f" class="">f</a></span> <span id="nnfun_bin.g" class="id"><a name="nnfun_bin.g" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f7a5001d371827f8d2dd9f14ae0127c4">{nnfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:360">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f7a5001d371827f8d2dd9f14ae0127c4">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:361">R}</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="add_nnfun_subproof" class="id"><a name="add_nnfun_subproof" class="">add_nnfun_subproof</a></span> <span class="id">:</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#isNonNegFun">isNonNegFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.f">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#d85e5ec1adc01afcee458717bbaea5e5">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.g">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
 <span class="gallina-kwd">by</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.addr_ge0">addr_ge0//;</a></span> <span class="id">apply/fun_ge0</span>. Qed.</div>
<span id="GRing_add_fun__canonical__lebesgue_integral_NonNegFun" class="id"><span id="HB_unnamed_factory_207" class="id"><a name="GRing_add_fun__canonical__lebesgue_integral_NonNegFun" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#add_nnfun_subproof">add_nnfun_subproof</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="mul_nnfun_subproof" class="id"><a name="mul_nnfun_subproof" class="">mul_nnfun_subproof</a></span> <span class="id">:</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#isNonNegFun">isNonNegFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.f">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#97c66421897c043c5333ab3c7e831f5b">\*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.g">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
 <span class="gallina-kwd">by</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.mulr_ge0">mulr_ge0//;</a></span> <span class="id">apply/fun_ge0</span>. Qed.</div>
<span id="mathcomp_extra_mul_fun__canonical__lebesgue_integral_NonNegFun" class="id"><span id="HB_unnamed_factory_209" class="id"><a name="mathcomp_extra_mul_fun__canonical__lebesgue_integral_NonNegFun" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mul_nnfun_subproof">mul_nnfun_subproof</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="max_nnfun_subproof" class="id"><a name="max_nnfun_subproof" class="">max_nnfun_subproof</a></span> <span class="id">:</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#isNonNegFun">isNonNegFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.f">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#505306268c1f512adbccb1af85edfe66">\max</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.g">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
 <span class="gallina-kwd">by</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">/maxr;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fun_ge0">fun_ge0</a></span>. Qed.</div>
<span id="Order_max_fun__canonical__lebesgue_integral_NonNegFun" class="id"><span id="HB_unnamed_factory_211" class="id"><a name="Order_max_fun__canonical__lebesgue_integral_NonNegFun" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_nnfun_subproof">max_nnfun_subproof</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin">nnfun_bin</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="nnsfun_bin" class="id"><a name="nnsfun_bin" class="">nnsfun_bin</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:364" class="id"><a name="d:364" class="">d</a></span> (<span id="T:365" class="id"><a name="T:365" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:364">d</a></span>) (<span id="R:366" class="id"><a name="R:366" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> <span id="nnsfun_bin.f" class="id"><a name="nnsfun_bin.f" class="">f</a></span> <span id="nnsfun_bin.g" class="id"><a name="nnsfun_bin.g" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.R">R}</a></span>.<br/>
<br/>
<span id="GRing_add_fun__canonical__lebesgue_integral_NonNegSimpleFun" class="id"><span id="lebesgue_integral_MeasurableFun__to__lebesgue_integral_isMeasurableFun__215" class="id"><span id="HB_unnamed_factory_213" class="id"><a name="GRing_add_fun__canonical__lebesgue_integral_NonNegSimpleFun" class="hierarchy-builder">HB.instance</a></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#on">MeasurableFun.on</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.f">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#d85e5ec1adc01afcee458717bbaea5e5">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.g">g</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="add_nnsfun" class="id"><a name="add_nnsfun" class="">add_nnsfun</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.R">R}</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.f">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#d85e5ec1adc01afcee458717bbaea5e5">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.g">g]</a></span>.<br/>
<br/>
<span id="mathcomp_extra_mul_fun__canonical__lebesgue_integral_NonNegSimpleFun" class="id"><span id="lebesgue_integral_MeasurableFun__to__lebesgue_integral_isMeasurableFun__218" class="id"><span id="HB_unnamed_factory_216" class="id"><a name="mathcomp_extra_mul_fun__canonical__lebesgue_integral_NonNegSimpleFun" class="hierarchy-builder">HB.instance</a></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#on">MeasurableFun.on</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.f">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#97c66421897c043c5333ab3c7e831f5b">\*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.g">g</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="mul_nnsfun" class="id"><a name="mul_nnsfun" class="">mul_nnsfun</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.R">R}</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.f">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#97c66421897c043c5333ab3c7e831f5b">\*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.g">g]</a></span>.<br/>
<br/>
<span id="Order_max_fun__canonical__lebesgue_integral_NonNegSimpleFun" class="id"><span id="lebesgue_integral_MeasurableFun__to__lebesgue_integral_isMeasurableFun__221" class="id"><span id="HB_unnamed_factory_219" class="id"><a name="Order_max_fun__canonical__lebesgue_integral_NonNegSimpleFun" class="hierarchy-builder">HB.instance</a></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#on">MeasurableFun.on</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.f">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#505306268c1f512adbccb1af85edfe66">\max</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.g">g</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="max_nnsfun" class="id"><a name="max_nnsfun" class="">max_nnsfun</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.R">R}</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.f">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#505306268c1f512adbccb1af85edfe66">\max</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.g">g]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="indic_nnsfun" class="id"><a name="indic_nnsfun" class="">indic_nnsfun</a></span> <span id="A:369" class="id"><a name="A:369" class="">A</a></span> (<span id="mA:370" class="id"><a name="mA:370" class="">mA</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:369">A</a></span>) <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.R">R}</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.R">R</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mA:370">mA]</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin">nnsfun_bin</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#add_nnsfun">add_nnsfun</a></span> <span class="id">{d</span> <span class="id">T</span> <span class="id">R}</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mul_nnsfun">mul_nnsfun</a></span> <span class="id">{d</span> <span class="id">T</span> <span class="id">R}</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_nnsfun">max_nnsfun</a></span> <span class="id">{d</span> <span class="id">T</span> <span class="id">R}</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="nnsfun_iter" class="id"><a name="nnsfun_iter" class="">nnsfun_iter</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:371" class="id"><a name="d:371" class="">d</a></span> (<span id="T:372" class="id"><a name="T:372" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:371">d</a></span>) (<span id="R:373" class="id"><a name="R:373" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="D:374" class="id"><a name="D:374" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:372">T</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="nnsfun_iter.f" class="id"><a name="nnsfun_iter.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_iter.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_iter.R">R}^nat</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sum_nnsfun" class="id"><a name="sum_nnsfun" class="">sum_nnsfun</a></span> <span id="n:376" class="id"><a name="n:376" class="">n</a></span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#afef6bddeda988bbc365e556241d5732">\big[add_nnsfun/nnsfun0]_</a></span>(<span id="i:379" class="id"><span id="i:378" class="id"><span id="i:377" class="id"><a name="i:379" class="">i</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#afef6bddeda988bbc365e556241d5732">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:376">n</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_iter.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:377">i</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sum_nnsfunE" class="id"><a name="sum_nnsfunE" class="">sum_nnsfunE</a></span> <span id="n:380" class="id"><a name="n:380" class="">n</a></span> <span id="t:381" class="id"><a name="t:381" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sum_nnsfun">sum_nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:380">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:381">t</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#784f0af919f467115774be372bf0dbd7">\sum_</a></span>(<span id="i:384" class="id"><span id="i:383" class="id"><span id="i:382" class="id"><a name="i:384" class="">i</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#784f0af919f467115774be372bf0dbd7">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:380">n</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_iter.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:382">i</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:381">t</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/sum_nnsfun;</span> <span class="id">elim/big_ind2</span> <span class="id">:</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">[|x</span> <span class="id">g</span> <span class="id">y</span> <span class="id">h</span> <span class="id">&lt;-</span> <span class="id">&lt;-|]</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="bigmax_nnsfun" class="id"><a name="bigmax_nnsfun" class="">bigmax_nnsfun</a></span> <span id="n:385" class="id"><a name="n:385" class="">n</a></span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#afef6bddeda988bbc365e556241d5732">\big[max_nnsfun/nnsfun0]_</a></span>(<span id="i:388" class="id"><span id="i:387" class="id"><span id="i:386" class="id"><a name="i:388" class="">i</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#afef6bddeda988bbc365e556241d5732">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:385">n</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_iter.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:386">i</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="bigmax_nnsfunE" class="id"><a name="bigmax_nnsfunE" class="">bigmax_nnsfunE</a></span> <span id="n:389" class="id"><a name="n:389" class="">n</a></span> <span id="t:390" class="id"><a name="t:390" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#bigmax_nnsfun">bigmax_nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:389">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:390">t</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#afef6bddeda988bbc365e556241d5732">\big[maxr/0]_</a></span>(<span id="i:393" class="id"><span id="i:392" class="id"><span id="i:391" class="id"><a name="i:393" class="">i</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#afef6bddeda988bbc365e556241d5732">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:389">n</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_iter.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:391">i</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:390">t</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/bigmax_nnsfun;</span> <span class="id">elim/big_ind2</span> <span class="id">:</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">[|x</span> <span class="id">g</span> <span class="id">y</span> <span class="id">h</span> <span class="id">&lt;-</span> <span class="id">&lt;-|]</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_iter">nnsfun_iter</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="nnsfun_cover" class="id"><a name="nnsfun_cover" class="">nnsfun_cover</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:394" class="id"><a name="d:394" class="">d</a></span> (<span id="T:395" class="id"><a name="T:395" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:394">d</a></span>) (<span id="R:396" class="id"><a name="R:396" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="nnsfun_cover.f" class="id"><a name="nnsfun_cover.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover.R">R}</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="nnsfun_cover" class="id"><a name="nnsfun_cover" class="">nnsfun_cover</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.fsbigop.html#7c3dd4f953ad08c5d8f3fe041bd02ed4">\big[setU/set0]_</a></span>(<span id="i:401" class="id"><span id="i:400" class="id"><span id="i:399" class="id"><span id="i:398" class="id"><a name="i:401" class="">i</a></span></span></span></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#7c3dd4f953ad08c5d8f3fe041bd02ed4">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover.f">f</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover.f">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:398">i]</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_setU">fsbig_setU//=</a></span> <span class="id">-subTset</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover.f">f</a></span> <span class="id">x</span>). Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nnsfun_coverT" class="id"><a name="nnsfun_coverT" class="">nnsfun_coverT</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.fsbigop.html#7c3dd4f953ad08c5d8f3fe041bd02ed4">\big[setU/set0]_</a></span>(<span id="i:405" class="id"><span id="i:404" class="id"><span id="i:403" class="id"><span id="i:402" class="id"><a name="i:405" class="">i</a></span></span></span></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#7c3dd4f953ad08c5d8f3fe041bd02ed4">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover.R">R]</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover.f">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:402">i]</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_widen">fsbig_widen</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover.f">f</a></span>)) <span class="id">?nnsfun_cover//=</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">[_</span> <span class="id">/=</span> <span class="id">/preimage10-&gt;]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover">nnsfun_cover</a></span>.<br/>
<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">_</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">_]</span>)) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;<span class="id">solve</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_sfunP">measurable_sfunP;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_set1">measurable_set1]</a></span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_sfun_inP" class="id"><a name="measurable_sfun_inP" class="">measurable_sfun_inP</a></span> <span class="id">{d}</span> <span class="id">{aT</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:406">d}</a></span> <span class="id">{rT</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span><br/>
&nbsp;&nbsp;&nbsp;(<span id="f:409" class="id"><a name="f:409" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">{mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#aT:407">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cfa8195a18578360e4ad0a1e4cde6878">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#rT:408">rT}</a></span>) <span id="D:410" class="id"><a name="D:410" class="">D</a></span> (<span id="y:411" class="id"><a name="y:411" class="">y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#rT:408">rT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:410">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:410">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:409">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:411">y]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">Dm;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>. Qed.</div>
<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">_</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">_]</span>)) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;<span class="id">solve</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_sfun_inP">measurable_sfun_inP;</a></span> <span class="id">assumption]</span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">solve</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#fimfunP">fimfunP]</a></span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="measure_fsbig" class="id"><a name="measure_fsbig" class="">measure_fsbig</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:412" class="id"><a name="d:412" class="">d</a></span> (<span id="T:413" class="id"><a name="T:413" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:412">d</a></span>) (<span id="R:414" class="id"><a name="R:414" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="measure_fsbig.m" class="id"><a name="measure_fsbig.m" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.R">R}</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measure_fsbig" class="id"><a name="measure_fsbig" class="">measure_fsbig</a></span> (<span id="I:416" class="id"><a name="I:416" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span id="A:417" class="id"><a name="A:417" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I:416">I</a></span>) (<span id="F:418" class="id"><a name="F:418" class="">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I:416">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.T">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:417">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:419" class="id"><a name="i:419" class="">i,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:417">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:419">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:418">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:419">i</a></span>)) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:417">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:418">F</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.m">m</a></span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#7c3dd4f953ad08c5d8f3fe041bd02ed4">\big[setU/set0]_</a></span>(<span id="i:423" class="id"><span id="i:422" class="id"><span id="i:421" class="id"><span id="i:420" class="id"><a name="i:423" class="">i</a></span></span></span></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#7c3dd4f953ad08c5d8f3fe041bd02ed4">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:417">A</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:418">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:420">i</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="i:427" class="id"><span id="i:426" class="id"><span id="i:425" class="id"><span id="i:424" class="id"><a name="i:427" class="">i</a></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:417">A</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.m">m</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:418">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:424">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
<span class="id">move=&gt;</span> <span class="id">Afin</span> <span class="id">Fm</span> <span class="id">Ft</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//</a></span> <span class="id">-measure_fin_bigcup//</span> <span class="id">-bigsetU_fset_set</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="additive_nnsfunr" class="id"><a name="additive_nnsfunr" class="">additive_nnsfunr</a></span> (<span id="g:428" class="id"><a name="g:428" class="">g</a></span> <span id="f:429" class="id"><a name="f:429" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.R">R}</a></span>) <span id="x:430" class="id"><a name="x:430" class="">x</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="i:434" class="id"><span id="i:433" class="id"><span id="i:432" class="id"><span id="i:431" class="id"><a name="i:434" class="">i</a></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:428">g</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.m">m</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:429">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:430">x]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:428">g</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:431">i]</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.m">m</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:429">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:430">x]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#7c3dd4f953ad08c5d8f3fe041bd02ed4">\big[setU/set0]_</a></span>(<span id="i:438" class="id"><span id="i:437" class="id"><span id="i:436" class="id"><span id="i:435" class="id"><a name="i:438" class="">i</a></span></span></span></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#7c3dd4f953ad08c5d8f3fe041bd02ed4">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:428">g</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:428">g</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:435">i]</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
<span class="id">rewrite</span> <span class="id">-?measure_fsbig//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!fsbig_finite//=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_distrr">big_distrr//</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">i</span> <span class="id">Ai;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">exact/trivIset_setIl/trivIset_preimage1</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="additive_nnsfunl" class="id"><a name="additive_nnsfunl" class="">additive_nnsfunl</a></span> (<span id="g:439" class="id"><a name="g:439" class="">g</a></span> <span id="f:440" class="id"><a name="f:440" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.R">R}</a></span>) <span id="x:441" class="id"><a name="x:441" class="">x</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="i:445" class="id"><span id="i:444" class="id"><span id="i:443" class="id"><span id="i:442" class="id"><a name="i:445" class="">i</a></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:439">g</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.m">m</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:439">g</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:442">i]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:440">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:441">x]</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.m">m</a></span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#7c3dd4f953ad08c5d8f3fe041bd02ed4">\big[setU/set0]_</a></span>(<span id="i:449" class="id"><span id="i:448" class="id"><span id="i:447" class="id"><span id="i:446" class="id"><a name="i:449" class="">i</a></span></span></span></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#7c3dd4f953ad08c5d8f3fe041bd02ed4">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:439">g</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:439">g</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:446">i]</a></span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:440">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:441">x]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
 <span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIC">setIC;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIC">setIC</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#additive_nnsfunr">additive_nnsfunr</a></span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig">measure_fsbig</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="mulem_ge0" class="id"><a name="mulem_ge0" class="">mulem_ge0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="mulem_ge0.mulef_ge0" class="id"><a name="mulem_ge0.mulef_ge0" class="">mulef_ge0</a></span> (<span id="R:450" class="id"><a name="R:450" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.RealDomain.Exports.realDomainType">realDomainType</a></span>) <span id="x:451" class="id"><a name="x:451" class="">x</a></span> (<span id="f:452" class="id"><a name="f:452" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:450">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:450">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:452">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:451">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> ((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:451">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">0</span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:452">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:451">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>) <span class="id">-&gt;</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:451">x</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:452">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:451">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
<span class="id">move=&gt;</span> <span class="id">A0</span> <span class="id">xA</span> <span class="id">/=;</span> <span class="id">have</span> <span class="id">[x0|x0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.ltP">ltP</a></span> <span class="id">x</span> <span class="id">0</span>%<span class="id">R;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">xA</span> <span class="id">x0</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nnfun_muleindic_ge0" class="id"><a name="nnfun_muleindic_ge0" class="">nnfun_muleindic_ge0</a></span> <span id="d:453" class="id"><a name="d:453" class="">d</a></span> (<span id="T:454" class="id"><a name="T:454" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:453">d</a></span>) (<span id="R:455" class="id"><a name="R:455" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.RealDomain.Exports.realDomainType">realDomainType</a></span>)<br/>
&nbsp;&nbsp;(<span id="f:456" class="id"><a name="f:456" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f7a5001d371827f8d2dd9f14ae0127c4">{nnfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:454">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f7a5001d371827f8d2dd9f14ae0127c4">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:455">R}</a></span>) <span id="r:457" class="id"><a name="r:457" class="">r</a></span> <span id="z:458" class="id"><a name="z:458" class="">z</a></span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:457">r</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:456">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:457">r]</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:458">z</a></span>)%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
<span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mulem_ge0.mulef_ge0">mulef_ge0</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="r:460" class="id"><span id="r:459" class="id"><a name="r:460" class="">r</a></span></span> <span class="id">=&gt;</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id">f</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:459">r]</a></span>) <span class="id">z</span>)%<span class="id">:E</span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin//</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0//</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic0">indic0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="mulemu_ge0" class="id"><a name="mulemu_ge0" class="">mulemu_ge0</a></span> <span id="d:461" class="id"><a name="d:461" class="">d</a></span> (<span id="T:462" class="id"><a name="T:462" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:461">d</a></span>) (<span id="R:463" class="id"><a name="R:463" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="mu:464" class="id"><a name="mu:464" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:462">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:463">R}</a></span>) <span id="x:465" class="id"><a name="x:465" class="">x</a></span> (<span id="A:466" class="id"><a name="A:466" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:463">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:462">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:465">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">0</span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:466">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:465">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>) <span class="id">-&gt;</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:465">x</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu:464">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:466">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:465">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">xA;</span> <span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mulem_ge0.mulef_ge0">mulef_ge0</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">mu</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">_</span>))<span class="id">//=</span> <span class="id">=&gt;</span> <span class="id">/xA</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
Qed.</div>
<span class="id">Global</span> <span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mulemu_ge0">mulemu_ge0</a></span> <span class="id">{d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">mu</span> <span class="id">x}</span> <span class="id">A</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="nnsfun_mulemu_ge0" class="id"><a name="nnsfun_mulemu_ge0" class="">nnsfun_mulemu_ge0</a></span> <span id="d:467" class="id"><a name="d:467" class="">d</a></span> (<span id="T:468" class="id"><a name="T:468" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:467">d</a></span>) (<span id="R:469" class="id"><a name="R:469" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="mu:470" class="id"><a name="mu:470" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:468">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:469">R}</a></span>) (<span id="f:471" class="id"><a name="f:471" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:468">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:469">R}</a></span>) <span id="x:472" class="id"><a name="x:472" class="">x</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:472">x</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu:470">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:471">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:472">x]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
<span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mulemu_ge0">mulemu_ge0</a></span> (<span class="gallina-kwd">fun</span> <span id="x:474" class="id"><span id="x:473" class="id"><a name="x:474" class="">x</a></span></span> <span class="id">=&gt;</span> <span class="id">f</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:473">x]</a></span>))<span class="id">;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0</a></span>.<br/>
Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mulem_ge0">mulem_ge0</a></span>.<br/>
<br/>
<div class="doc">Definition of Simple Integrals </div>
<br/>
<span class="vernacular">Section</span> <span id="simple_fun_raw_integral" class="id"><a name="simple_fun_raw_integral" class="">simple_fun_raw_integral</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Variables</span> (<span id="simple_fun_raw_integral.T" class="id"><a name="simple_fun_raw_integral.T" class="">T</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="simple_fun_raw_integral.R" class="id"><a name="simple_fun_raw_integral.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.NumDomain.Exports.numDomainType">numDomainType</a></span>) (<span id="simple_fun_raw_integral.mu" class="id"><a name="simple_fun_raw_integral.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:475">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:476">R</a></span>) (<span id="simple_fun_raw_integral.f" class="id"><a name="simple_fun_raw_integral.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:475">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:476">R</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sintegral" class="id"><a name="sintegral" class="">sintegral</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="x:482" class="id"><span id="x:481" class="id"><span id="x:480" class="id"><span id="x:479" class="id"><a name="x:482" class="">x</a></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_fun_raw_integral.R">R]</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:479">x</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_fun_raw_integral.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_fun_raw_integral.f">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:479">x]</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sintegralET" class="id"><a name="sintegralET" class="">sintegralET</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="x:486" class="id"><span id="x:485" class="id"><span id="x:484" class="id"><span id="x:483" class="id"><a name="x:486" class="">x</a></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_fun_raw_integral.R">R]</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:483">x</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_fun_raw_integral.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_fun_raw_integral.f">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:483">x]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_fun_raw_integral">simple_fun_raw_integral</a></span>.<br/>
<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#is_true">is_true</a></span> (<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id">_}</span>) <span class="id">_</span>)%<span class="id">E</span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;<span class="id">solve</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_ge0">measure_ge0]</a></span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="sintegral_lemmas" class="id"><a name="sintegral_lemmas" class="">sintegral_lemmas</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:487" class="id"><a name="d:487" class="">d</a></span> (<span id="T:488" class="id"><a name="T:488" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:487">d</a></span>) (<span id="R:489" class="id"><a name="R:489" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="sintegral_lemmas.mu" class="id"><a name="sintegral_lemmas.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.R">R}</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sintegralE" class="id"><a name="sintegralE" class="">sintegralE</a></span> <span id="f:491" class="id"><a name="f:491" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:491">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="x:495" class="id"><span id="x:494" class="id"><span id="x:493" class="id"><span id="x:492" class="id"><a name="x:495" class="">x</a></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:491">f</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:492">x</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:491">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:492">x]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_widen">fsbig_widen</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)<span class="id">//=</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">[_</span> <span class="id">Nfx]</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage10">preimage10//</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sintegral0" class="id"><a name="sintegral0" class="">sintegral0</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.mu">mu</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span>%<span class="id">R</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralE">sintegralE</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig1">fsbig1//</a></span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#preimage_cst">preimage_cst</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[/[!inE]</span> <span class="id">&lt;-|];</span> <span class="id">rewrite</span> <span class="id">?mul0e//</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sintegral_ge0" class="id"><a name="sintegral_ge0" class="">sintegral_ge0</a></span> (<span id="f:496" class="id"><a name="f:496" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.R">R}</a></span>) <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:496">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralE">sintegralE</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#fsume_ge0">fsume_ge0//</a></span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_mulemu_ge0">nnsfun_mulemu_ge0</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sintegral_indic" class="id"><a name="sintegral_indic" class="">sintegral_indic</a></span> (<span id="A:497" class="id"><a name="A:497" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.T">T</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:497">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralE">sintegralE</a></span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_widen">fsbig_widen</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#5a7092a84ffebb249d94ea1f3b2cd778">[set</a></span> <span class="id">0</span>%<span class="id">R;</span> <span class="id">1</span>%<span class="id">R]</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#image_indic_sub">image_indic_sub</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">[[]</span> <span class="id">-&gt;</span> <span class="id">/=</span> <span class="id">/preimage10-&gt;];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
<span class="id">have</span> <span class="id">N01</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x_':&gt;'_x">&lt;&gt;</a></span> <span class="id">1:&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.R">R</a></span>)%<span class="id">R</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/esym/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.oner_eq0">oner_eq0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbigU">fsbigU//=;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">[-&gt;]//</span>.<br/>
<span class="id">rewrite</span> <span class="id">!fsbig_set1</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#preimage_indic">preimage_indic</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifT">ifT</a></span> <span class="id">?inE//</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifN">ifN</a></span> <span class="id">?notin_set</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sintegralEnnsfun" class="id"><a name="sintegralEnnsfun" class="">sintegralEnnsfun</a></span> (<span id="f:498" class="id"><a name="f:498" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.R">R}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:498">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="x:503" class="id"><span id="x:502" class="id"><span id="x:501" class="id"><span id="x:500" class="id"><a name="x:503" class="">x</a></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="r:499" class="id"><a name="r:499" class="">r</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:499">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">0]</span>%<span class="id">R</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:500">x</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:498">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:500">x]</a></span>)))%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_widen">fsbig_widen</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>) <span class="id">?sintegralET//</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">[_</span> <span class="id">/=];</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.ltgtP">ltgtP</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">[xlt0</span> <span class="id">_|&lt;-];</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage10">preimage10</a></span> <span class="id">?measure0</span> <span class="id">?mule0//=</span> <span class="id">=&gt;</span> <span class="id">-[t</span> <span class="id">_]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/eqP;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.contra_ltN">contra_ltN</a></span> <span class="id">xlt0</span> <span class="id">=&gt;</span> <span class="id">/eqP&lt;-</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas">sintegral_lemmas</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="eq_sintegral" class="id"><a name="eq_sintegral" class="">eq_sintegral</a></span> <span id="d:504" class="id"><a name="d:504" class="">d</a></span> (<span id="T:505" class="id"><a name="T:505" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:504">d</a></span>) (<span id="R:506" class="id"><a name="R:506" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.NumDomain.Exports.numDomainType">numDomainType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="mu:507" class="id"><a name="mu:507" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:505">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:506">R</a></span>) <span id="g:508" class="id"><a name="g:508" class="">g</a></span> <span id="f:509" class="id"><a name="f:509" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:509">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#44b19bd81f7a1388073ea8a65e6fa993">=1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:508">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu:507">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:509">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu:507">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:508">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/funext-&gt;</span>. Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_sintegral">eq_sintegral</a></span> <span class="id">{d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">mu}</span> <span class="id">g</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="sintegralrM" class="id"><a name="sintegralrM" class="">sintegralrM</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:510" class="id"><a name="d:510" class="">d</a></span> (<span id="T:511" class="id"><a name="T:511" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:510">d</a></span>) (<span id="R:512" class="id"><a name="R:512" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="sintegralrM.m" class="id"><a name="sintegralrM.m" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.R">R}</a></span>) (<span id="sintegralrM.r" class="id"><a name="sintegralrM.r" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.R">R</a></span>) (<span id="sintegralrM.f" class="id"><a name="sintegralrM.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.R">R}</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sintegralrM" class="id"><a name="sintegralrM" class="">sintegralrM</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.m">m</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.r">r</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#97c66421897c043c5333ab3c7e831f5b">\*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.f">f</a></span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.r">r</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.m">m</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.f">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
<span class="id">have</span> <span class="id">[-&gt;|r0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.r">r</a></span> <span class="id">0</span>%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_sintegral">eq_sintegral</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span>%<span class="id">R</span>)) <span class="id">?sintegral0//</span> <span class="id">=&gt;</span> <span class="id">x/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mul0r">mul0r</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">!sintegralET</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="x:523" class="id"><span id="x:522" class="id"><span id="x:521" class="id"><span id="x:520" class="id"><span id="x:519" class="id"><span id="x:518" class="id"><span id="x:517" class="id"><span id="x:516" class="id"><a name="x:523" class="">x</a></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.R">R]</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:516">x</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.m">m</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.f">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:516">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.r">r]</a></span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_cstM">preimage_cstM//</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="x:531" class="id"><span id="x:530" class="id"><span id="x:529" class="id"><span id="x:528" class="id"><span id="x:527" class="id"><span id="x:526" class="id"><span id="x:525" class="id"><span id="x:524" class="id"><a name="x:531" class="">x</a></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.R">R]</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.r">r</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:524">x</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.m">m</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.f">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:524">x]</a></span>))).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#reindex_fsbigT">reindex_fsbigT</a></span> (<span class="gallina-kwd">fun</span> <span id="x:534" class="id"><span id="x:533" class="id"><span id="x:532" class="id"><a name="x:534" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.r">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:532">x</a></span>)%<span class="id">R</span>)<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> ( <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#debb5426353332378d52fdc7f7eb13cd">*</a></span>%<span class="id">R</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.r">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#4e5a4c91ec0aa12de06dfe1cc07ea126">^-1</a></span>)%<span class="id">R;</span> <span class="id">[exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulKf">mulKf|exact:</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulVKf">mulVKf]</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulrAC">mulrAC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.divrr">divrr</a></span> <span class="id">?unitfE//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mul1r">mul1r</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleA">muleA</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ge0_mule_fsumr">ge0_mule_fsumr//</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_mulemu_ge0">nnsfun_mulemu_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM">sintegralrM</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="sintegralD" class="id"><a name="sintegralD" class="">sintegralD</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:535" class="id"><a name="d:535" class="">d</a></span> (<span id="T:536" class="id"><a name="T:536" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:535">d</a></span>) (<span id="R:537" class="id"><a name="R:537" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="sintegralD.m" class="id"><a name="sintegralD.m" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.R">R}</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="sintegralD.D" class="id"><a name="sintegralD.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.T">T</a></span>) (<span id="sintegralD.mD" class="id"><a name="sintegralD.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:539">D</a></span>) (<span id="sintegralD.f" class="id"><a name="sintegralD.f" class="">f</a></span> <span id="sintegralD.g" class="id"><a name="sintegralD.g" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.R">R}</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sintegralD" class="id"><a name="sintegralD" class="">sintegralD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.m">m</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.f">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#d85e5ec1adc01afcee458717bbaea5e5">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.g">g</a></span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.m">m</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.f">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.m">m</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.g">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
<span class="id">rewrite</span> <span class="id">!sintegralE;</span> <span class="id">set</span> <span class="id">F</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.f">f</a></span> @<span class="id">`</span> <span class="id">_;</span> <span class="id">set</span> <span class="id">G</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.g">g</a></span> @<span class="id">`</span> <span class="id">_;</span> <span class="id">set</span> <span class="id">FG</span> <span class="id">:=</span> <span class="id">_</span> @<span class="id">`</span> <span class="id">_</span>.<br/>
<span class="id">pose</span> <span class="id">pf</span> <span id="x:543" class="id"><a name="x:543" class="">x</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.f">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:543">x];</a></span> <span class="id">pose</span> <span class="id">pg</span> <span id="y:544" class="id"><a name="y:544" class="">y</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.g">g</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:544">y]</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="z:564" class="id"><span id="z:563" class="id"><span id="z:562" class="id"><span id="z:557" class="id"><span id="z:552" class="id"><span id="z:551" class="id"><span id="z:550" class="id"><span id="z:545" class="id"><a name="z:564" class="">z</a></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id">FG</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:545">z</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="a:568" class="id"><span id="a:567" class="id"><span id="a:566" class="id"><span id="a:565" class="id"><span id="a:561" class="id"><span id="a:560" class="id"><span id="a:559" class="id"><span id="a:558" class="id"><span id="a:556" class="id"><span id="a:555" class="id"><span id="a:554" class="id"><span id="a:553" class="id"><span id="a:549" class="id"><span id="a:548" class="id"><span id="a:547" class="id"><span id="a:546" class="id"><a name="a:568" class="">a</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id">F</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.m">m</a></span> (<span class="id">pf</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a:546">a</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">pg</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:545">z</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a:546">a</a></span>)%<span class="id">R</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_add">preimage_add</a></span> <span class="id">-fsbig_setU//</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig">measure_fsbig//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Fx;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact/trivIset_setIr/trivIset_preimage1</span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ge0_mule_fsumr">ge0_mule_fsumr//;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#exchange_fsbig">exchange_fsbig//</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="x:588" class="id"><span id="x:587" class="id"><span id="x:586" class="id"><span id="x:581" class="id"><span id="x:576" class="id"><span id="x:575" class="id"><span id="x:574" class="id"><span id="x:569" class="id"><a name="x:588" class="">x</a></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id">F</span>) <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="y:592" class="id"><span id="y:591" class="id"><span id="y:590" class="id"><span id="y:589" class="id"><span id="y:585" class="id"><span id="y:584" class="id"><span id="y:583" class="id"><span id="y:582" class="id"><span id="y:580" class="id"><span id="y:579" class="id"><span id="y:578" class="id"><span id="y:577" class="id"><span id="y:573" class="id"><span id="y:572" class="id"><span id="y:571" class="id"><span id="y:570" class="id"><a name="y:592" class="">y</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id">G</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:569">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:570">y</a></span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.m">m</a></span> (<span class="id">pf</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:569">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">pg</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:570">y</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">/pf</span> <span class="id">/pg</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_widen">fsbig_widen</a></span> <span class="id">G</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)<span class="id">//=;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">[_</span> <span class="id">/=</span> <span class="id">/preimage10-&gt;];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setI0">setI0</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_widen">fsbig_widen</a></span> <span class="id">FG</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)<span class="id">//=;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">[_</span> <span class="id">/=</span> <span class="id">FGz];</span> <span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.m">m</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:593">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>) <span class="id">?measure0</span> <span class="id">?mule0//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-subset0</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">{x}i</span> <span class="id">/=</span> <span class="id">[&lt;-]</span> <span class="id">/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#canLR">canLR</a></span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addrNK">addrNK</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_not">contra_not</a></span> <span class="id">FGz</span> <span class="id">=&gt;</span> <span class="id">&lt;-;</span> <span class="gallina-kwd">exists</span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id">//=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#reindex_fsbigT">reindex_fsbigT</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2bf9e19782bb5bbd8d6a51d139904c00">+</a></span>%<span class="id">R</span> <span class="id">x</span>))<span class="id">//=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addrK">addrK</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="x:625" class="id"><span id="x:624" class="id"><span id="x:623" class="id"><span id="x:618" class="id"><span id="x:601" class="id"><span id="x:600" class="id"><span id="x:599" class="id"><span id="x:594" class="id"><a name="x:625" class="">x</a></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id">F</span>) <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="y:629" class="id"><span id="y:628" class="id"><span id="y:627" class="id"><span id="y:626" class="id"><span id="y:622" class="id"><span id="y:621" class="id"><span id="y:620" class="id"><span id="y:619" class="id"><span id="y:605" class="id"><span id="y:604" class="id"><span id="y:603" class="id"><span id="y:602" class="id"><span id="y:598" class="id"><span id="y:597" class="id"><span id="y:596" class="id"><span id="y:595" class="id"><a name="y:629" class="">y</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id">G</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:594">x</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.m">m</a></span> (<span class="id">pf</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:594">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">pg</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:595">y</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="x:637" class="id"><span id="x:636" class="id"><span id="x:635" class="id"><span id="x:630" class="id"><span id="x:613" class="id"><span id="x:612" class="id"><span id="x:611" class="id"><span id="x:606" class="id"><a name="x:637" class="">x</a></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id">F</span>) <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="y:641" class="id"><span id="y:640" class="id"><span id="y:639" class="id"><span id="y:638" class="id"><span id="y:634" class="id"><span id="y:633" class="id"><span id="y:632" class="id"><span id="y:631" class="id"><span id="y:617" class="id"><span id="y:616" class="id"><span id="y:615" class="id"><span id="y:614" class="id"><span id="y:610" class="id"><span id="y:609" class="id"><span id="y:608" class="id"><span id="y:607" class="id"><a name="y:641" class="">y</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id">G</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:607">y</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.m">m</a></span> (<span class="id">pf</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:606">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">pg</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:607">y</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">do</span> <span class="id">2![rewrite</span> <span class="id">-fsbig_split//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">/set_mem</span> <span class="id">[?</span> <span class="id">_</span> <span class="id">&lt;-]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_muleDl">ge0_muleDl//</a></span> <span class="id">?lee_fin</span>.<br/>
<span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id">_</span>)%<span class="id">E;</span> <span class="id">last</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#exchange_fsbig">exchange_fsbig//;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-ge0_mule_fsumr//</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#additive_nnsfunr">additive_nnsfunr</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover">nnsfun_cover</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-ge0_mule_fsumr//</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#additive_nnsfunl">additive_nnsfunl</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover">nnsfun_cover</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD">sintegralD</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="le_sintegral" class="id"><a name="le_sintegral" class="">le_sintegral</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:642" class="id"><a name="d:642" class="">d</a></span> (<span id="T:643" class="id"><a name="T:643" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:642">d</a></span>) (<span id="R:644" class="id"><a name="R:644" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="m:645" class="id"><a name="m:645" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:643">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:644">R}</a></span>).<br/>
<span class="vernacular">Variables</span> <span id="le_sintegral.f" class="id"><a name="le_sintegral.f" class="">f</a></span> <span id="le_sintegral.g" class="id"><a name="le_sintegral.g" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.R">R}</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="le_sintegral.fg" class="id"><a name="le_sintegral.fg" class="">fg</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:648" class="id"><a name="x:648" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:648">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:648">x</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="le_sintegral.fgnn" class="id"><a name="le_sintegral.fgnn" class="">fgnn</a></span> <span class="id">:</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#isNonNegFun">isNonNegFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.g">g</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0bb5d11fe8761db1e6494d75cb45a3cb">\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.f">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.subr_ge0">subr_ge0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.fg">fg</a></span>. Qed.</div>
<span id="GRing_sub_fun__canonical__lebesgue_integral_NonNegSimpleFun" class="id"><span id="GRing_sub_fun__canonical__lebesgue_integral_NonNegFun" class="id"><span id="HB_unnamed_factory_222" class="id"><a name="GRing_sub_fun__canonical__lebesgue_integral_NonNegSimpleFun" class="">#[local]</a></span></span></span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.fgnn">fgnn</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="le_sintegral" class="id"><a name="le_sintegral" class="">le_sintegral</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.m">m</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.f">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.m">m</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.g">g</a></span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
<span class="id">have</span> <span class="id">gfgf</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.g">g</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#44b19bd81f7a1388073ea8a65e6fa993">=1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.f">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#d85e5ec1adc01afcee458717bbaea5e5">\+</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.g">g</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0bb5d11fe8761db1e6494d75cb45a3cb">\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.f">f</a></span>) <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.subrK">subrK</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_sintegral">eq_sintegral</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">gfgf</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD">sintegralD//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeDl">leeDl</a></span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_ge0">sintegral_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral">le_sintegral</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="is_cvg_sintegral" class="id"><a name="is_cvg_sintegral" class="">is_cvg_sintegral</a></span> <span id="d:650" class="id"><a name="d:650" class="">d</a></span> (<span id="T:651" class="id"><a name="T:651" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:650">d</a></span>) (<span id="R:652" class="id"><a name="R:652" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;(<span id="m:653" class="id"><a name="m:653" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:651">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:652">R}</a></span>) (<span id="f:654" class="id"><a name="f:654" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:651">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:652">R}^nat</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:655" class="id"><a name="x:655" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#:::'nondecreasing_seq'_x">nondecreasing_seq</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:654">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:655">x</a></span>)) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvgn">cvgn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m:653">m</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:654">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof89')">Proof.</span></div>
<div class="proofscript" id="proof89">
<span class="id">move=&gt;</span> <span class="id">nd_f;</span> <span class="id">apply/cvg_ex;</span> <span class="id">eexists;</span> <span class="id">apply/ereal_nondecreasing_cvgn</span> <span class="id">=&gt;</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral">le_sintegral</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">exact/nd_f</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="proj_nnsfun" class="id"><a name="proj_nnsfun" class="">proj_nnsfun</a></span> <span id="d:656" class="id"><a name="d:656" class="">d</a></span> (<span id="T:657" class="id"><a name="T:657" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:656">d</a></span>) (<span id="R:658" class="id"><a name="R:658" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f:659" class="id"><a name="f:659" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:657">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:658">R}</a></span>) (<span id="A:660" class="id"><a name="A:660" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:657">T</a></span>) (<span id="mA:661" class="id"><a name="mA:661" class="">mA</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:660">A</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mul_nnsfun">mul_nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:659">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_nnsfun">indic_nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:658">R</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mA:661">mA</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="mrestrict" class="id"><a name="mrestrict" class="">mrestrict</a></span> <span id="d:662" class="id"><a name="d:662" class="">d</a></span> (<span id="T:663" class="id"><a name="T:663" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:662">d</a></span>) (<span id="R:664" class="id"><a name="R:664" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="f:665" class="id"><a name="f:665" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:663">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:664">R}</a></span>)<br/>
&nbsp;&nbsp;<span id="A:666" class="id"><a name="A:666" class="">A</a></span> (<span id="mA:667" class="id"><a name="mA:667" class="">mA</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:666">A</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:665">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:666">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#proj_nnsfun">proj_nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:665">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mA:667">mA</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof90')">Proof.</span></div>
<div class="proofscript" id="proof90">
<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">/patch</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindicE">mindicE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP;</a></span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr0">mulr0,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="scale_nnsfun" class="id"><a name="scale_nnsfun" class="">scale_nnsfun</a></span> <span id="d:668" class="id"><a name="d:668" class="">d</a></span> (<span id="T:669" class="id"><a name="T:669" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:668">d</a></span>) (<span id="R:670" class="id"><a name="R:670" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f:671" class="id"><a name="f:671" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:669">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:670">R}</a></span>) (<span id="k:672" class="id"><a name="k:672" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:670">R</a></span>) (<span id="k0:673" class="id"><a name="k0:673" class="">k0</a></span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:672">k</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mul_nnsfun">mul_nnsfun</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cst_nnsfun">cst_nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:669">T</a></span> (<span class="id"><a href="mathcomp.analysis.signed.html#NngNum">NngNum</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k0:673">k0</a></span>)) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:671">f</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="sintegral_nondecreasing_limit_lemma" class="id"><a name="sintegral_nondecreasing_limit_lemma" class="">sintegral_nondecreasing_limit_lemma</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:674" class="id"><a name="d:674" class="">d</a></span> (<span id="T:675" class="id"><a name="T:675" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:674">d</a></span>) (<span id="R:676" class="id"><a name="R:676" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="sintegral_nondecreasing_limit_lemma.mu" class="id"><a name="sintegral_nondecreasing_limit_lemma.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.R">R}</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="sintegral_nondecreasing_limit_lemma.g" class="id"><a name="sintegral_nondecreasing_limit_lemma.g" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.R">R}^nat</a></span>) (<span id="sintegral_nondecreasing_limit_lemma.f" class="id"><a name="sintegral_nondecreasing_limit_lemma.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.R">R}</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="sintegral_nondecreasing_limit_lemma.nd_g" class="id"><a name="sintegral_nondecreasing_limit_lemma.nd_g" class="">nd_g</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:680" class="id"><a name="x:680" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#:::'nondecreasing_seq'_x">nondecreasing_seq</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:680">x</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="sintegral_nondecreasing_limit_lemma.gf" class="id"><a name="sintegral_nondecreasing_limit_lemma.gf" class="">gf</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:682" class="id"><a name="x:682" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#cvgn">cvgn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:682">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:682">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:682">x</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="sintegral_nondecreasing_limit_lemma.fleg" class="id"><a name="sintegral_nondecreasing_limit_lemma.fleg" class="">fleg</a></span> <span id="c:684" class="id"><a name="c:684" class="">c</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.T">T</a></span>)<span class="id">^nat</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="n:685" class="id"><a name="n:685" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:686" class="id"><a name="x:686" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#c:684">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:686">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:685">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:686">x]</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="sintegral_nondecreasing_limit_lemma.nd_fleg" class="id"><a name="sintegral_nondecreasing_limit_lemma.nd_fleg" class="">nd_fleg</a></span> <span id="c:687" class="id"><a name="c:687" class="">c</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">{homo</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#c:687">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">:</a></span> <span id="n:690" class="id"><span id="n:688" class="id"><a name="n:690" class="">n</a></span></span> <span id="m:691" class="id"><span id="m:689" class="id"><a name="m:691" class="">m</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">/</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:688">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m:689">m</a></span>)%<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">&gt;-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:690">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#6267442e1f81ed96252446fa7b1c579b">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m:691">m</a></span>)%<span class="id">O}</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof91')">Proof.</span></div>
<div class="proofscript" id="proof91">
<span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">m</span> <span class="id">nm;</span> <span class="id">rewrite</span> <span class="id">/fleg;</span> <span class="id">apply/subsetPset</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">cfg</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">cfg</span> <span class="id">=&gt;</span> <span class="id">/le_trans;</span> <span class="id">apply;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.nd_g">nd_g</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="sintegral_nondecreasing_limit_lemma.mfleg" class="id"><a name="sintegral_nondecreasing_limit_lemma.mfleg" class="">mfleg</a></span> <span id="c:692" class="id"><a name="c:692" class="">c</a></span> <span id="n:693" class="id"><a name="n:693" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#c:692">c</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:693">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof92')">Proof.</span></div>
<div class="proofscript" id="proof92">
<span class="id">rewrite</span> <span class="id">/fleg</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:706">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca">\big[setU/set0]_</a></span>(<span id="y:709" class="id"><span id="y:708" class="id"><span id="y:707" class="id"><span id="y:702" class="id"><span id="y:701" class="id"><span id="y:700" class="id"><span id="y:696" class="id"><span id="y:695" class="id"><span id="y:694" class="id"><a name="y:709" class="">y</a></span></span></span></span></span></span></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca">&lt;-</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#60e57ff387b8a0840e944d0d03f215e2">\big[setU/set0]_</a></span>(<span id="x:712" class="id"><span id="x:711" class="id"><span id="x:710" class="id"><span id="x:705" class="id"><span id="x:704" class="id"><span id="x:703" class="id"><span id="x:699" class="id"><span id="x:698" class="id"><span id="x:697" class="id"><a name="x:712" class="">x</a></span></span></span></span></span></span></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#60e57ff387b8a0840e944d0d03f215e2">&lt;-</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span> <span class="id">n</span>)) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#60e57ff387b8a0840e944d0d03f215e2">|</a></span> <span class="id">c</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:694">y</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:697">x</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:694">y]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span> <span class="id">n</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:697">x]</a></span>))).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigsetU_measurable">bigsetU_measurable</a></span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigsetU_measurable">bigsetU_measurable</a></span> <span class="id">=&gt;</span> <span class="id">r'</span> <span class="id">crr'</span>.<br/>
&nbsp;&nbsp;<span class="id">exact/measurableI/measurable_sfunP</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">t;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[/=</span> <span class="id">cfgn|]</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">-bigcup_seq;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> <span class="id">t</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-bigcup_seq_cond;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span> <span class="id">n</span> <span class="id">t</span>) <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#bigsetU_fset_set">bigsetU_fset_set//</a></span> <span class="id">=&gt;</span> <span class="id">-[r</span> <span class="id">[x</span> <span class="id">_</span> <span class="id">fxr]]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#bigsetU_fset_set_cond">bigsetU_fset_set_cond//</a></span> <span class="id">=&gt;</span> <span class="id">-[r'</span> <span class="id">[[x'</span> <span class="id">_</span> <span class="id">gnx'r']</span> <span class="id">crr']]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/preimage/=</span> <span class="id">=&gt;</span> <span class="id">-[-&gt;</span> <span class="id">-&gt;]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="sintegral_nondecreasing_limit_lemma.g1" class="id"><a name="sintegral_nondecreasing_limit_lemma.g1" class="">g1</a></span> <span id="c:713" class="id"><a name="c:713" class="">c</a></span> <span id="n:714" class="id"><a name="n:714" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.R">R}</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#proj_nnsfun">proj_nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mfleg">mfleg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#c:713">c</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:714">n</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="sintegral_nondecreasing_limit_lemma.le_ffleg" class="id"><a name="sintegral_nondecreasing_limit_lemma.le_ffleg" class="">le_ffleg</a></span> <span id="c:715" class="id"><a name="c:715" class="">c</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">{homo</a></span> (<span class="gallina-kwd">fun</span> <span id="p:716" class="id"><a name="p:716" class="">p</a></span> <span id="x:717" class="id"><a name="x:717" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g1">g1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#c:715">c</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#p:716">p</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:717">x</a></span>)<span class="id">:</span> <span id="m:720" class="id"><span id="m:718" class="id"><a name="m:720" class="">m</a></span></span> <span id="n:721" class="id"><span id="n:719" class="id"><a name="n:721" class="">n</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">/</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m:718">m</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:719">n</a></span>)%<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">&gt;-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m:720">m</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#6267442e1f81ed96252446fa7b1c579b">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:721">n</a></span>)%<span class="id">O}</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof93')">Proof.</span></div>
<div class="proofscript" id="proof93">
<span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">apply/asboolP</span> <span class="id">=&gt;</span> <span class="id">t;</span> <span class="id">rewrite</span> <span class="id">/g1/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pM">ler_pM//</a></span> <span class="id">2!mindicE/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span>.<br/>
<span class="id">have</span> <span class="id">[|//]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">t</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span> <span class="id">c</span> <span class="id">m</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">cnt</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.nd_fleg">nd_fleg</a></span> <span class="id">c</span> <span class="id">mn</span> <span class="id">=&gt;</span> <span class="id">/subsetPset/</span>(<span class="id">_</span> <span class="id">_</span> <span class="id">cnt</span>) <span class="id">cmt;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="sintegral_nondecreasing_limit_lemma.bigcup_fleg" class="id"><a name="sintegral_nondecreasing_limit_lemma.bigcup_fleg" class="">bigcup_fleg</a></span> <span id="c:722" class="id"><a name="c:722" class="">c</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#c:722">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#4652af423267d4923a164c1104e1273f">\bigcup_n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#c:722">c</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:723">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof94')">Proof.</span></div>
<div class="proofscript" id="proof94">
<span class="id">move=&gt;</span> <span class="id">c1;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">split=&gt;</span> <span class="id">//</span> <span class="id">_</span>.<br/>
<span class="id">have</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fun_ge0">fun_ge0</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[|]</span> <span class="id">gx0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">/fleg</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">-gx0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr0">mulr0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fun_ge0">fun_ge0</a></span>.<br/>
<span class="id">have</span> <span class="id">[cf|df]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#cvgn">cvgn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g^~</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">cfg</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g^~</a></span> <span class="id">x</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">c</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.gf">gf</a></span> <span class="id">cf</span>)) <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.gtr_pMl">gtr_pMl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">[n</span> <span class="id">cfgn]</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="n:724" class="id"><a name="n:724" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:724">n</a></span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#a3446a989be902579d41cbac1597f4cf">&gt;=</a></span> <span class="id">c</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> <span class="id">x</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">move/</span>(@<span class="id"><a href="mathcomp.analysis.sequences.html#lt_lim">lt_lim</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.nd_g">nd_g</a></span> <span class="id">x</span>) <span class="id">cf</span>) <span class="id">:</span> <span class="id">cfg</span> <span class="id">=&gt;</span> <span class="id">[n</span> <span class="id">_</span> <span class="id">nf]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">n;</span> <span class="id">apply:</span> <span class="id">nf</span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
<span class="id">have</span> <span class="id">/cvgryPge/</span>(<span class="id">_</span> (<span class="id">c</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> <span class="id">x</span>))<span class="id">[n</span> <span class="id">_</span> <span class="id">ncfgn]:=</span> <span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_dvgn_lt">nondecreasing_dvgn_lt</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.nd_g">nd_g</a></span> <span class="id">x</span>) <span class="id">df</span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">/fleg</span> <span class="id">/=;</span> <span class="id">apply:</span> <span class="id">ncfgn</span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="nd_sintegral_lim_lemma" class="id"><a name="nd_sintegral_lim_lemma" class="">nd_sintegral_lim_lemma</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof95')">Proof.</span></div>
<div class="proofscript" id="proof95">
<span class="id">suff</span> <span class="id">?</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="c:725" class="id"><a name="c:725" class="">c,</a></span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#c:725">c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id">1</span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#c:725">c</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/lee_mul01Pr</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_ge0">sintegral_ge0</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">c</span> <span class="id">/andP[c0</span> <span class="id">c1]</span>.<br/>
<span class="id">have</span> <span class="id">cg1g</span> <span class="id">n</span> <span class="id">:</span> <span class="id">c</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g1">g1</a></span> <span class="id">c</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:726">n</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:726">n</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-sintegralrM</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="id">_</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#97c66421897c043c5333ab3c7e831f5b">\*</a></span> <span class="id">_</span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#scale_nnsfun">scale_nnsfun</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g1">g1</a></span> <span class="id">c</span> <span class="id">n</span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">c0</span>)) <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral">le_sintegral</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="m:727" class="id"><a name="m:727" class="">m</a></span> <span id="x:728" class="id"><a name="x:728" class="">x,</a></span> (<span class="id">c</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g1">g1</a></span> <span class="id">c</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m:727">m</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:728">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m:727">m</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:728">x</a></span>)%<span class="id">R</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">n</span> <span class="id">t</span>).<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/g1</span> <span class="id">/proj_nnsfun/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindicE">mindicE</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[|]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">[rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1|rewrite</a></span> <span class="id">2!mulr0</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fun_ge0">fun_ge0]</a></span>.<br/>
<span class="id">suff</span> <span class="id">{cg1g}&lt;-</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="gallina-kwd">fun</span> <span id="n:729" class="id"><a name="n:729" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g1">g1</a></span> <span class="id">c</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:729">n</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">is_cvg_g1</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvgn">cvgn</a></span> (<span class="gallina-kwd">fun</span> <span id="n:731" class="id"><span id="n:730" class="id"><a name="n:731" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g1">g1</a></span> <span class="id">c</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:730">n</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#is_cvg_sintegral">is_cvg_sintegral</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">x</span> <span class="id">m</span> <span class="id">n</span> <span class="id">/</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.le_ffleg">le_ffleg</a></span> <span class="id">c</span>)<span class="id">/lefP/</span>(<span class="id">_</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-limeMl</span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lee_lim">lee_lim//;</a></span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#is_cvgeMl">is_cvgeMl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#is_cvg_sintegral">is_cvg_sintegral</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">apply/lefP</span> <span class="id">=&gt;</span> <span class="id">t;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.nd_g">nd_g</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW;</a></span> <span class="id">exact:</span> <span class="id">cg1g</span>.<br/>
<span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g1">g1</a></span> <span class="id">c</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:732">n</a></span>) @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#96ebe1e290228c2bd5904c3ec35d6f07">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> <span class="gallina-kwd">by</span> <span class="id">apply/cvg_lim</span>.<br/>
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:741">X</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">_]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">fun</span> <span id="n:742" class="id"><span id="n:737" class="id"><span id="n:733" class="id"><a name="n:742" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#2ed228b16343d82e9e410c7fc103f88a">\sum_</a></span>(<span id="x:745" class="id"><span id="x:744" class="id"><span id="x:743" class="id"><span id="x:740" class="id"><span id="x:739" class="id"><span id="x:738" class="id"><span id="x:736" class="id"><span id="x:735" class="id"><span id="x:734" class="id"><a name="x:745" class="">x</a></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#2ed228b16343d82e9e410c7fc103f88a">&lt;-</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:734">x</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:734">x]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span> <span class="id">c</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:733">n</a></span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralE">sintegralE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="x:753" class="id"><span id="x:752" class="id"><span id="x:751" class="id"><span id="x:750" class="id"><span id="x:749" class="id"><span id="x:748" class="id"><span id="x:747" class="id"><span id="x:746" class="id"><a name="x:753" class="">x</a></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:746">x</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g1">g1</a></span> <span class="id">c</span> <span class="id">n</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:746">x]</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#eq_fbigl">eq_fbigl</a></span> <span class="id">=&gt;</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">do</span> <span class="id">2</span> (<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#in_finite_support">in_finite_support;</a></span> <span class="id">last</span> <span class="id">exact/finite_setIl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/idP/idP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id">=&gt;</span> <span class="id">/andP[];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE/=</a></span> <span class="id">=&gt;</span> <span class="id">-[x</span> <span class="id">_];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindicE">mindicE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[_|xcn]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span> <span class="id">=&gt;</span> <span class="id">&lt;-;</span> <span class="id">rewrite</span> <span class="id">!inE/=</span> <span class="id">=&gt;</span> <span class="id">?;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr0">mulr0</a></span> <span class="id">=&gt;</span> <span class="id">/esym</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id">!inE/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id">=&gt;</span> <span class="id">/andP[];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">-[x</span> <span class="id">_</span> <span class="id">&lt;-]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!inE/=</span> <span class="id">=&gt;</span> <span class="id">h;</span> <span class="id">split=&gt;</span> <span class="id">//;</span> <span class="id">move:</span> <span class="id">h;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindicE">mindicE</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_eq0">mule_eq0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_or">negb_or</a></span> <span class="id">=&gt;</span> <span class="id">/andP[_];</span> <span class="id">set</span> <span class="id">S</span> <span class="id">:=</span> (<span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:754">X</a></span>) <span class="id">=&gt;</span> <span class="id">mS0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">suff</span> <span class="id">:</span> <span class="id">S</span> <span class="id">!=set0</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[y</span> <span class="id">yx];</span> <span class="gallina-kwd">exists</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/set0P;</span> <span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra">contra</a></span> <span class="id">mS0</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//=;</a></span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#eq_fbigr">eq_fbigr</a></span> <span class="id">=&gt;</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">-[t</span> <span class="id">_</span> <span class="id">ftr</span> <span class="id">_]</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[-&gt;|r0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">r</span> <span class="id">0</span>%<span class="id">R;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">2!mul0e</span>.<br/>
&nbsp;&nbsp;<span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/preimage/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindicE">mindicE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[|_]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr0">mulr0</a></span> <span class="id">=&gt;</span> <span class="id">/esym/eqP;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">r0</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/preimage/=</span> <span class="id">=&gt;</span> <span class="id">-[fxr</span> <span class="id">cnx];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindicE">mindicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralE">sintegralE</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//=</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_nnesum">cvg_nnesum=&gt;</a></span> <span class="id">[r</span> <span class="id">_|r</span> <span class="id">_]</span>.<br/>
&nbsp;&nbsp;<span class="id">near=&gt;</span> <span class="id">A;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mulemu_ge0">mulemu_ge0</a></span> (<span class="gallina-kwd">fun</span> <span id="x:756" class="id"><span id="x:755" class="id"><a name="x:756" class="">x</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:755">x]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span> <span class="id">c</span> <span class="id">A</span>)) <span class="id">=&gt;</span> <span class="id">r0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0I">set0I</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeMl">cvgeMl</a></span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:759">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#4652af423267d4923a164c1104e1273f">\bigcup_n</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span> <span class="id">c</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:757">n</a></span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-setI_bigcupr</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.bigcup_fleg">bigcup_fleg//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">k</span> <span class="id">i</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:761">k]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span> <span class="id">c</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:762">i</a></span>) <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#nondecreasing_cvg_mu">nondecreasing_cvg_mu;</a></span> <span class="id">[by</span> <span class="id">[]|exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable|]</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">m</span> <span class="id">nm;</span> <span class="id">apply/subsetPset;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIS">setIS</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move/</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.nd_fleg">nd_fleg</a></span> <span class="id">c</span>) <span class="id">:</span> <span class="id">nm</span> <span class="id">=&gt;</span> <span class="id">/subsetPset</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma">sintegral_nondecreasing_limit_lemma</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="sintegral_nondecreasing_limit" class="id"><a name="sintegral_nondecreasing_limit" class="">sintegral_nondecreasing_limit</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:763" class="id"><a name="d:763" class="">d</a></span> (<span id="T:764" class="id"><a name="T:764" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:763">d</a></span>) (<span id="R:765" class="id"><a name="R:765" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="sintegral_nondecreasing_limit.mu" class="id"><a name="sintegral_nondecreasing_limit.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.R">R}</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="sintegral_nondecreasing_limit.g" class="id"><a name="sintegral_nondecreasing_limit.g" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.R">R}^nat</a></span>) (<span id="sintegral_nondecreasing_limit.f" class="id"><a name="sintegral_nondecreasing_limit.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.R">R}</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="sintegral_nondecreasing_limit.nd_g" class="id"><a name="sintegral_nondecreasing_limit.nd_g" class="">nd_g</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:769" class="id"><a name="x:769" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#:::'nondecreasing_seq'_x">nondecreasing_seq</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.g">g^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:769">x</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="sintegral_nondecreasing_limit.gf" class="id"><a name="sintegral_nondecreasing_limit.gf" class="">gf</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:771" class="id"><a name="x:771" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.g">g</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:771">x</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:771">x</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="sintegral_nondecreasing_limit.limg" class="id"><a name="sintegral_nondecreasing_limit.limg" class="">limg</a></span> <span id="x:773" class="id"><a name="x:773" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.g">g^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:773">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:773">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof96')">Proof.</span></div>
<div class="proofscript" id="proof96">
 <span class="gallina-kwd">by</span> <span class="id">apply/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.gf">gf</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nd_sintegral_lim" class="id"><a name="nd_sintegral_lim" class="">nd_sintegral_lim</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.mu">mu</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.g">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof97')">Proof.</span></div>
<div class="proofscript" id="proof97">
<span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_sintegral_lim_lemma">nd_sintegral_lim_lemma</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">-limg</span>.<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#:::'nondecreasing_seq'_x">nondecreasing_seq</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.mu">mu</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.g">g</a></span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral">le_sintegral</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x;</span> <span class="id">exact/nd_g</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/ereal_nondecreasing_cvgn/cvg_lim</span> <span class="id">-&gt;</span> <span class="id">//</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">[n</span> <span class="id">_</span> <span class="id">&lt;-]</span> <span class="id">/=;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral">le_sintegral</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span>.<br/>
<span class="id">rewrite</span> <span class="id">-limg</span> <span class="id">//</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_cvgn_le">nondecreasing_cvgn_le</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.nd_g">nd_g</a></span> <span class="id">x</span>)) <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/cvg_ex;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.f">f</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.gf">gf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit">sintegral_nondecreasing_limit</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="integral" class="id"><a name="integral" class="">integral</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:774" class="id"><a name="d:774" class="">d</a></span> (<span id="T:775" class="id"><a name="T:775" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:774">d</a></span>) (<span id="R:776" class="id"><a name="R:776" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.R">R</a></span>) (<span class="id">D</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.T">T</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="integral.nnintegral" class="id"><a name="integral.nnintegral" class="">nnintegral</a></span> <span id="mu:777" class="id"><a name="mu:777" class="">mu</a></span> <span id="f:778" class="id"><a name="f:778" class="">f</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu:777">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:781">h</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span><br/>
&nbsp;&nbsp;<span id="h:781" class="id"><a name="h:781" class="">h</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">[set</a></span> <span id="h:779" class="id"><a name="h:779" class="">h</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.R">R}</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">|</a></span> <span class="gallina-kwd">forall</span> <span id="x:780" class="id"><a name="x:780" class="">x,</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:779">h</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:780">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:778">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:780">x]]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="integral" class="id"><a name="integral" class="">integral</a></span> <span id="mu:782" class="id"><a name="mu:782" class="">mu</a></span> <span id="D:783" class="id"><a name="D:783" class="">D</a></span> <span id="f:784" class="id"><a name="f:784" class="">f</a></span> (<span id="g:785" class="id"><a name="g:785" class="">g</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:784">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:783">D</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral">nnintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu:782">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:785">g</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#0aba79a7ddf4e21eb9e8bb0a843651a1">^\+</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral">nnintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu:782">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:785">g</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#dc73a9eb30675850d21ad1ad76b8f0e8">^\-</a></span>).<br/>
<br/>
<span class="vernacular">Variable</span> (<span id="integral.mu" class="id"><a name="integral.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.R">R}</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="integral.nnintegral_ge0" class="id"><a name="integral.nnintegral_ge0" class="">nnintegral_ge0</a></span> <span id="f:787" class="id"><a name="f:787" class="">f</a></span> <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="x:788" class="id"><a name="x:788" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:787">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:788">x</a></span>) <span class="id">-&gt;</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral">nnintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:787">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof98')">Proof.</span></div>
<div class="proofscript" id="proof98">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">f0;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub;</a></span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun0">nnsfun0;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral0">sintegral0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="integral.eq_nnintegral" class="id"><a name="integral.eq_nnintegral" class="">eq_nnintegral</a></span> <span id="g:789" class="id"><a name="g:789" class="">g</a></span> <span id="f:790" class="id"><a name="f:790" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:790">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#44b19bd81f7a1388073ea8a65e6fa993">=1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:789">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral">nnintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:790">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral">nnintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:789">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof99')">Proof.</span></div>
<div class="proofscript" id="proof99">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/funext-&gt;</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="integral.nnintegral0" class="id"><a name="integral.nnintegral0" class="">nnintegral0</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral">nnintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.mu">mu</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof100')">Proof.</span></div>
<div class="proofscript" id="proof100">
<span class="id">rewrite</span> <span class="id">/nnintegral</span> <span class="id">/=;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/ereal_sup_ub;</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun0">nnsfun0;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral0">sintegral0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">apply/ub_ereal_sup</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x</span> <span class="id">[f</span> <span class="id">/=</span> <span class="id">f0</span> <span class="id">&lt;-];</span> <span class="id">have</span> <span class="id">{}f0</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:791" class="id"><a name="x:791" class="">x,</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:791">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le</a></span> <span class="id">-2!lee_fin</span> <span class="id">f0</span> <span class="id">//=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin//</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_sintegral">eq_sintegral</a></span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun0">nnsfun0</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.R">R</a></span>)) <span class="id">?sintegral0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="integral.nnintegral_nnsfun" class="id"><a name="integral.nnintegral_nnsfun" class="">nnintegral_nnsfun</a></span> (<span id="h:792" class="id"><a name="h:792" class="">h</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.R">R}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral">nnintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:792">h</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:792">h</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof101')">Proof.</span></div>
<div class="proofscript" id="proof101">
<span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/ub_ereal_sup</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">-[g</span> <span class="id">/=</span> <span class="id">gh</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral">le_sintegral</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> <span class="id">h</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="290ff52d5eb077d1c33b08b0bbb307f4" class="id"><a name="290ff52d5eb077d1c33b08b0bbb307f4" class="">&quot;\int_ ( x 'in' D ) F&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.mu">mu</a></span> <span class="id">D</span> (<span class="gallina-kwd">fun</span> <span id="x:793" class="id"><a name="x:793" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">F</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">36,</span> <span class="id">F</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">36,</span> <span class="id">x,</span> <span class="id">D</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">50,</span><br/>
&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \int_ ( x  'in'  D ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="eq_integral" class="id"><a name="eq_integral" class="">eq_integral</a></span> <span id="D:794" class="id"><a name="D:794" class="">D</a></span> <span id="g:795" class="id"><a name="g:795" class="">g</a></span> <span id="f:796" class="id"><a name="f:796" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:794">D,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:796">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#44b19bd81f7a1388073ea8a65e6fa993">=1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:795">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#290ff52d5eb077d1c33b08b0bbb307f4">\int_</a></span>(<span id="x:797" class="id"><a name="x:797" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:794">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:796">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:797">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#290ff52d5eb077d1c33b08b0bbb307f4">\int_</a></span>(<span id="x:798" class="id"><a name="x:798" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:794">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:795">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:798">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof102')">Proof.</span></div>
<div class="proofscript" id="proof102">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/integral</span> <span class="id">=&gt;</span> <span class="id">/eq_restrictP-&gt;</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ge0_integralE" class="id"><a name="ge0_integralE" class="">ge0_integralE</a></span> <span id="D:799" class="id"><a name="D:799" class="">D</a></span> <span id="f:800" class="id"><a name="f:800" class="">f</a></span> <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="x:801" class="id"><a name="x:801" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:799">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:801">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:800">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:801">x</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#290ff52d5eb077d1c33b08b0bbb307f4">\int_</a></span>(<span id="x:802" class="id"><a name="x:802" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:799">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:800">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:802">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral">nnintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:800">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:799">D</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof103')">Proof.</span></div>
<div class="proofscript" id="proof103">
<span class="id">move=&gt;</span> <span class="id">f0;</span> <span class="id">rewrite</span> <span class="id">/integral</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funeneg_restrict">funeneg_restrict</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funepos_restrict">funepos_restrict</a></span>.<br/>
<span class="id">have</span> <span class="id">/eq_restrictP-&gt;</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.numfun.html#ge0_funeposE">ge0_funeposE</a></span> <span class="id">f0</span>.<br/>
<span class="id">have</span> <span class="id">/eq_restrictP-&gt;</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.numfun.html#ge0_funenegE">ge0_funenegE</a></span> <span class="id">f0</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict0">erestrict0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral0">nnintegral0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sube0">sube0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ge0_integralTE" class="id"><a name="ge0_integralTE" class="">ge0_integralTE</a></span> <span id="f:803" class="id"><a name="f:803" class="">f</a></span> <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="x:804" class="id"><a name="x:804" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:803">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:804">x</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#290ff52d5eb077d1c33b08b0bbb307f4">\int_</a></span>(<span id="x:805" class="id"><a name="x:805" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:803">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:805">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral">nnintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:803">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof104')">Proof.</span></div>
<div class="proofscript" id="proof104">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">f0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralE">ge0_integralE//</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch_setT">patch_setT</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integralE" class="id"><a name="integralE" class="">integralE</a></span> <span id="D:806" class="id"><a name="D:806" class="">D</a></span> <span id="f:807" class="id"><a name="f:807" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#290ff52d5eb077d1c33b08b0bbb307f4">\int_</a></span>(<span id="x:808" class="id"><a name="x:808" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:806">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:807">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:808">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#290ff52d5eb077d1c33b08b0bbb307f4">\int_</a></span>(<span id="x:809" class="id"><a name="x:809" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:806">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:807">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#0aba79a7ddf4e21eb9e8bb0a843651a1">^\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:809">x</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#290ff52d5eb077d1c33b08b0bbb307f4">\int_</a></span>(<span id="x:810" class="id"><a name="x:810" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:806">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:807">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#dc73a9eb30675850d21ad1ad76b8f0e8">^\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:810">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof105')">Proof.</span></div>
<div class="proofscript" id="proof105">
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]/integral</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funepos_restrict">funepos_restrict</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funeneg_restrict">funeneg_restrict</a></span> <span class="id">-!ge0_integralE</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral0" class="id"><a name="integral0" class="">integral0</a></span> <span id="D:811" class="id"><a name="D:811" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#290ff52d5eb077d1c33b08b0bbb307f4">\int_</a></span>(<span id="x:812" class="id"><a name="x:812" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:811">D</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:812">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof106')">Proof.</span></div>
<div class="proofscript" id="proof106">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralE">ge0_integralE//</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict0">erestrict0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral0">nnintegral0</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral0_eq" class="id"><a name="integral0_eq" class="">integral0_eq</a></span> <span id="D:813" class="id"><a name="D:813" class="">D</a></span> <span id="f:814" class="id"><a name="f:814" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:815" class="id"><a name="x:815" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:813">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:815">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:814">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:815">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#290ff52d5eb077d1c33b08b0bbb307f4">\int_</a></span>(<span id="x:816" class="id"><a name="x:816" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:813">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:814">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:816">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof107')">Proof.</span></div>
<div class="proofscript" id="proof107">
<span class="id">move=&gt;</span> <span class="id">f0;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">/[1!inE]</span> <span class="id">/f0</span> <span class="id">-&gt;;</span> <span class="id">over</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0">integral0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_ge0" class="id"><a name="integral_ge0" class="">integral_ge0</a></span> <span id="D:817" class="id"><a name="D:817" class="">D</a></span> <span id="f:818" class="id"><a name="f:818" class="">f</a></span> <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="x:819" class="id"><a name="x:819" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:817">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:819">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:818">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:819">x</a></span>) <span class="id">-&gt;</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#290ff52d5eb077d1c33b08b0bbb307f4">\int_</a></span>(<span id="x:820" class="id"><a name="x:820" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:817">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:818">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:820">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof108')">Proof.</span></div>
<div class="proofscript" id="proof108">
<span class="id">move=&gt;</span> <span class="id">f0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralE">ge0_integralE//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral_ge0">nnintegral_ge0//</a></span> <span class="id">=&gt;</span> <span class="id">x</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/patch;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP;</a></span> <span class="id">rewrite</span> <span class="id">//</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">/f0-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_nnsfun" class="id"><a name="integral_nnsfun" class="">integral_nnsfun</a></span> <span id="D:821" class="id"><a name="D:821" class="">D</a></span> (<span id="mD:822" class="id"><a name="mD:822" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:821">D</a></span>) (<span id="h:823" class="id"><a name="h:823" class="">h</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.R">R}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#290ff52d5eb077d1c33b08b0bbb307f4">\int_</a></span>(<span id="x:824" class="id"><a name="x:824" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:821">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:823">h</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:824">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:823">h</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:821">D</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof109')">Proof.</span></div>
<div class="proofscript" id="proof109">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mrestrict">mrestrict</a></span> <span class="id">-nnintegral_nnsfun//</span> <span class="id">-mrestrict</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralE">ge0_integralE</a></span> <span class="id">?comp_patch//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fun_ge0">fun_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="871f2882c0e95b3d1e1d20f0a4fbdef3" class="id"><a name="871f2882c0e95b3d1e1d20f0a4fbdef3" class="">&quot;\int [ mu ]_ ( x 'in' D ) f&quot;</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span> <span class="id">mu</span> <span class="id">D</span> (<span class="gallina-kwd">fun</span> <span id="x:825" class="id"><a name="x:825" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">f</span>)) <span class="id">:</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="3e4826d90e3d691004f544dc3de2d121" class="id"><a name="3e4826d90e3d691004f544dc3de2d121" class="">&quot;\int [ mu ]_ x f&quot;</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span> <span class="id">mu</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="gallina-kwd">fun</span> <span id="x:826" class="id"><a name="x:826" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">f</span>)))%<span class="id">E</span> <span class="id">:</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">{d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">mu</span> <span class="id">D}</span> <span class="id">g</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="eq_measure_integral" class="id"><a name="eq_measure_integral" class="">eq_measure_integral</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:827" class="id"><a name="d:827" class="">d</a></span> (<span id="T:828" class="id"><a name="T:828" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:827">d</a></span>) (<span id="R:829" class="id"><a name="R:829" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="D:830" class="id"><a name="D:830" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:828">T</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">m</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.R">R}</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="eq_measure_integral.eq_measure_integral0" class="id"><a name="eq_measure_integral.eq_measure_integral0" class="">eq_measure_integral0</a></span> <span id="m2:831" class="id"><a name="m2:831" class="">m2</a></span> <span id="m1:832" class="id"><a name="m1:832" class="">m1</a></span> (<span id="f:833" class="id"><a name="f:833" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="A:834" class="id"><a name="A:834" class="">A,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:834">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:834">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.D">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m1:832">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:834">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m2:831">m2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:834">A</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m1:832">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:837">h</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="h:837" class="id"><a name="h:837" class="">h</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">[set</a></span> <span id="h:835" class="id"><a name="h:835" class="">h</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.R">R}</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">|</a></span> (<span class="gallina-kwd">forall</span> <span id="x:836" class="id"><a name="x:836" class="">x,</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:835">h</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:836">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:833">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:836">x</a></span>)<span class="id">]]</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m2:831">m2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:840">h</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="h:840" class="id"><a name="h:840" class="">h</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">[set</a></span> <span id="h:838" class="id"><a name="h:838" class="">h</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.R">R}</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">|</a></span> (<span class="gallina-kwd">forall</span> <span id="x:839" class="id"><a name="x:839" class="">x,</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:838">h</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:839">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:833">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:839">x</a></span>)<span class="id">]]</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof110')">Proof.</span></div>
<div class="proofscript" id="proof110">
<span class="id">move=&gt;</span> <span class="id">m12</span> <span class="id">_</span> <span class="id">[h</span> <span class="id">hfD</span> <span class="id">&lt;-]</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> <span class="id">h</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">_</span>.<br/>
<span class="id">have</span> <span class="id">[hrD|hrD]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">h</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.D">D</a></span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">m12</span>.<br/>
<span class="id">suff</span> <span class="id">:</span> <span class="id">r</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>%<span class="id">R</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id">!mul0e</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#contra_notP">contra_notP</a></span> <span class="id">hrD</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">r0</span> <span class="id">t/=</span> <span class="id">htr</span>.<br/>
<span class="id">have</span> <span class="id">:=</span> <span class="id">hfD</span> <span class="id">t</span>.<br/>
<span class="id">rewrite</span> <span class="id">/patch/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">tD</span>.<br/>
<span class="id">move:</span> <span class="id">r0;</span> <span class="id">rewrite</span> <span class="id">-htr</span> <span class="id">=&gt;</span> <span class="id">ht0</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe">eqe</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">ht0</span>)<span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.ltNge">ltNge//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fun_ge0">fun_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="eq_measure_integral" class="id"><a name="eq_measure_integral" class="">eq_measure_integral</a></span> <span id="m2:841" class="id"><a name="m2:841" class="">m2</a></span> <span id="m1:842" class="id"><a name="m1:842" class="">m1</a></span> (<span id="f:843" class="id"><a name="f:843" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="A:844" class="id"><a name="A:844" class="">A,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:844">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:844">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.D">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m1:842">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:844">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m2:841">m2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:844">A</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m1]_</a></span>(<span id="x:845" class="id"><a name="x:845" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:843">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:845">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m2]_</a></span>(<span id="x:846" class="id"><a name="x:846" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:843">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:846">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof111')">Proof.</span></div>
<div class="proofscript" id="proof111">
<span class="id">move=&gt;</span> <span class="id">m12;</span> <span class="id">rewrite</span> <span class="id">/integral</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funepos_restrict">funepos_restrict</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funeneg_restrict">funeneg_restrict</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id">_</span>)%<span class="id">E;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset;</a></span> <span class="id">split;</span><br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.eq_measure_integral0">eq_measure_integral0</a></span> <span class="id">=&gt;</span> <span class="id">A</span> <span class="id">/m12</span> <span class="id">//</span> <span class="id">/[apply]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral">eq_measure_integral</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral">eq_measure_integral</a></span> <span class="id">{d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">D}</span> <span class="id">m2</span> <span class="id">{m1</span> <span class="id">f}</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="integral_measure_zero" class="id"><a name="integral_measure_zero" class="">integral_measure_zero</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:847" class="id"><a name="d:847" class="">d</a></span> (<span id="T:848" class="id"><a name="T:848" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:847">d</a></span>) (<span id="R:849" class="id"><a name="R:849" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="integral_measure_zero.sintegral_measure_zero" class="id"><a name="integral_measure_zero.sintegral_measure_zero" class="">sintegral_measure_zero</a></span> (<span id="f:850" class="id"><a name="f:850" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero.R">R</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#mzero">mzero</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:850">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof112')">Proof.</span></div>
<div class="proofscript" id="proof112">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralE">sintegralE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big1">big1//</a></span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">_</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">/mzero</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_measure_zero" class="id"><a name="integral_measure_zero" class="">integral_measure_zero</a></span> (<span id="D:851" class="id"><a name="D:851" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero.T">T</a></span>) (<span id="f:852" class="id"><a name="f:852" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mzero]_</a></span>(<span id="x:853" class="id"><a name="x:853" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:851">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:852">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:853">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof113')">Proof.</span></div>
<div class="proofscript" id="proof113">
<span class="id">have</span> <span class="id">h</span> <span class="id">g</span> <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="x:855" class="id"><a name="x:855" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:854">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:855">x</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#mzero">mzero</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:858">h</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="h:858" class="id"><a name="h:858" class="">h</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">[set</a></span> <span id="h:856" class="id"><a name="h:856" class="">h</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero.R">R}</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">|</a></span> <span class="gallina-kwd">forall</span> <span id="x:857" class="id"><a name="x:857" class="">x,</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:856">h</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:857">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:854">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:857">x]]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">0]</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">g0;</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[_</span> <span class="id">[h/=</span> <span class="id">Dt</span> <span class="id">&lt;-]|x</span> <span class="id">-&gt;</span> <span class="id">/=]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero.sintegral_measure_zero">sintegral_measure_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cst_nnsfun">cst_nnsfun</a></span> <span class="id">_</span> (@<span class="id"><a href="mathcomp.analysis.signed.html#NngNum">NngNum</a></span> <span class="id">_</span> <span class="id">0</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span> <span class="id">_</span>))).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span> <span class="id">!ge0_integralE//=</span> <span class="id">h</span> <span class="id">?ereal_sup1;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">h</span> <span class="id">?ereal_sup1</span> <span class="id">?subee//</span> <span class="id">=&gt;</span> <span class="id">r;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero">integral_measure_zero</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="domain_change" class="id"><a name="domain_change" class="">domain_change</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:859" class="id"><a name="d:859" class="">d</a></span> (<span id="T:860" class="id"><a name="T:860" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:859">d</a></span>) (<span id="R:861" class="id"><a name="R:861" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="domain_change.mu" class="id"><a name="domain_change.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#domain_change.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#domain_change.R">R}</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_mkcond" class="id"><a name="integral_mkcond" class="">integral_mkcond</a></span> <span id="D:863" class="id"><a name="D:863" class="">D</a></span> <span id="f:864" class="id"><a name="f:864" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:865" class="id"><a name="x:865" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:863">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:864">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:865">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mu]_x</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:864">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:863">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:866">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof114')">Proof.</span></div>
<div class="proofscript" id="proof114">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/integral</span> <span class="id"><a href="mathcomp.classical.functions.html#patch_setT">patch_setT</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integralT_nnsfun" class="id"><a name="integralT_nnsfun" class="">integralT_nnsfun</a></span> (<span id="h:867" class="id"><a name="h:867" class="">h</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#domain_change.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#domain_change.R">R}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mu]_x</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:867">h</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:868">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#domain_change.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:867">h</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof115')">Proof.</span></div>
<div class="proofscript" id="proof115">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nnsfun">integral_nnsfun//</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch_setT">patch_setT</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_mkcondr" class="id"><a name="integral_mkcondr" class="">integral_mkcondr</a></span> <span id="D:869" class="id"><a name="D:869" class="">D</a></span> <span id="P:870" class="id"><a name="P:870" class="">P</a></span> <span id="f:871" class="id"><a name="f:871" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:872" class="id"><a name="x:872" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:869">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#P:870">P</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:871">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:872">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:873" class="id"><a name="x:873" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:869">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:871">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#P:870">P</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:873">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof116')">Proof.</span></div>
<div class="proofscript" id="proof116">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span> <span class="id">[RHS]integral_mkcond</span> <span class="id"><a href="mathcomp.classical.functions.html#patch_setI">patch_setI</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_mkcondl" class="id"><a name="integral_mkcondl" class="">integral_mkcondl</a></span> <span id="D:874" class="id"><a name="D:874" class="">D</a></span> <span id="P:875" class="id"><a name="P:875" class="">P</a></span> <span id="f:876" class="id"><a name="f:876" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:877" class="id"><a name="x:877" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#P:875">P</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:874">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:876">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:877">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:878" class="id"><a name="x:878" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:874">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:876">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#P:875">P</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:878">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof117')">Proof.</span></div>
<div class="proofscript" id="proof117">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIC">setIC</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcondr">integral_mkcondr</a></span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#domain_change">domain_change</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span> <span class="id">{d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">mu}</span> <span class="id">D</span> <span class="id">f</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="nondecreasing_integral_limit" class="id"><a name="nondecreasing_integral_limit" class="">nondecreasing_integral_limit</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:879" class="id"><a name="d:879" class="">d</a></span> (<span id="T:880" class="id"><a name="T:880" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:879">d</a></span>) (<span id="R:881" class="id"><a name="R:881" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="nondecreasing_integral_limit.mu" class="id"><a name="nondecreasing_integral_limit.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.R">R}</a></span>) (<span id="nondecreasing_integral_limit.f" class="id"><a name="nondecreasing_integral_limit.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.R">R</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="nondecreasing_integral_limit.g" class="id"><a name="nondecreasing_integral_limit.g" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.R">R}^nat</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="nondecreasing_integral_limit.f0" class="id"><a name="nondecreasing_integral_limit.f0" class="">f0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:885" class="id"><a name="x:885" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:885">x</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="nondecreasing_integral_limit.mf" class="id"><a name="nondecreasing_integral_limit.mf" class="">mf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.f">f</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="nondecreasing_integral_limit.nd_g" class="id"><a name="nondecreasing_integral_limit.nd_g" class="">nd_g</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:888" class="id"><a name="x:888" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#:::'nondecreasing_seq'_x">nondecreasing_seq</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g^~x</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="nondecreasing_integral_limit.gf" class="id"><a name="nondecreasing_integral_limit.gf" class="">gf</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:890" class="id"><a name="x:890" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:890">x</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:890">x</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="nd_ge0_integral_lim" class="id"><a name="nd_ge0_integral_lim" class="">nd_ge0_integral_lim</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mu]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:892">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.mu">mu</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof118')">Proof.</span></div>
<div class="proofscript" id="proof118">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralTE">ge0_integralTE//</a></span>.<br/>
<span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_le">lime_le;</a></span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#is_cvg_sintegral">is_cvg_sintegral</a></span>.<br/>
&nbsp;&nbsp;<span class="id">near=&gt;</span> <span class="id">n;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub;</a></span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g</a></span> <span class="id">n</span>) <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">=&gt;</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">&lt;-</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id">x</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.f">f</a></span> <span class="id">x</span> <span class="gallina-kwd">by</span> <span class="id">apply/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.gf">gf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id">x</span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_cvgn">ereal_nondecreasing_cvgn</a></span> <span class="id">=&gt;</span> <span class="id">p</span> <span class="id">q</span> <span class="id">pq</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact/nd_g</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">-&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub;</a></span> <span class="gallina-kwd">exists</span> <span class="id">n</span>.<br/>
<span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mu]_x</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:893">x</a></span>)).<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[|]</span> <span class="id">mufoo;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mu]_x</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:894">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralTE">ge0_integralTE//</a></span> <span class="id">=&gt;</span> <span class="id">/ub_ereal_sup_adherent</span> <span class="id">h</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/lee_addgt0Pr</span> <span class="id">=&gt;</span> <span class="id">_/posnumP[e]</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">{h}</span> <span class="id">[/=</span> <span class="id">_</span> <span class="id">[G</span> <span class="id">Gf</span> <span class="id">&lt;-]]</span> <span class="id">:=</span> <span class="id">h</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.signed.html#abaaa7ace396c67daec735802349f5d9">[gt0</a></span> <span class="id">of</span> <span class="id">e</span>%<span class="id">:num]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_subl_addr">lte_subl_addr//</a></span> <span class="id">=&gt;</span> <span class="id">fGe</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:895" class="id"><a name="x:895" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#cvgn">cvgn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:895">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">G</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:895">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:895">x</a></span>))%<span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">cg;</span> <span class="id">rewrite</span> <span class="id">-lee_fin</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.normedtype.html#EFin_lim">EFin_lim</a></span> <span class="id">cg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">/cvg_lim</span> <span class="id">gxfx</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.gf">gf</a></span> <span class="id">x;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id">Gf</span> <span class="id">_</span>))<span class="id">//</span> <span class="id">gxfx</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_sintegral_lim_lemma">nd_sintegral_lim_lemma</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.nd_g">nd_g</a></span>)<span class="id">/</span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeD2r">leeD2r</a></span> <span class="id">e</span>%<span class="id">:num</span>%<span class="id">:E</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans;</a></span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
<span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.mu">mu</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id">-ge0_integralTE//</span> <span class="id">mufoo</span>.<br/>
<span class="id">apply/eqyP</span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">r0</span>.<br/>
<span class="id">have</span> <span class="id">[G</span> <span class="id">[Gf</span> <span class="id">rG]]</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="h:896" class="id"><a name="h:896" class="">h</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.R">R},</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:897" class="id"><a name="x:897" class="">x,</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:896">h</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:897">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:897">x</a></span>) <span class="id">/\</span> (<span class="id">r</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:896">h</a></span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> <span class="id">r</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mu]_x</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:898">x</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> (<span class="id">mufoo</span>) <span class="id">=&gt;</span> <span class="id">/eqyP/</span>(<span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.addr_gt0">addr_gt0</a></span> <span class="id">r0</span> <span class="id">r0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltrDr">ltrDr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralTE">ge0_integralTE//</a></span> <span class="id">=&gt;</span> <span class="id">/ereal_sup_gt[x</span> <span class="id">[/=</span> <span class="id">G</span> <span class="id">Gf</span> <span class="id">Gx</span> <span class="id">rx]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">G;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">rx</span>)) <span class="id">//</span> <span class="id">Gx</span>.<br/>
<span class="id">have</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:899" class="id"><a name="x:899" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#cvgn">cvgn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:899">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">G</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:899">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:899">x</a></span>))%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">cg;</span> <span class="id">rewrite</span> <span class="id">-lee_fin</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.normedtype.html#EFin_lim">EFin_lim</a></span> <span class="id">cg</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">/cvg_lim</span> <span class="id">gxfx</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.gf">gf</a></span> <span class="id">x;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id">Gf</span> <span class="id">_</span>)) <span class="id">//</span> <span class="id">gxfx</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move/</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_sintegral_lim_lemma">nd_sintegral_lim_lemma</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.nd_g">nd_g</a></span>) <span class="id">=&gt;</span> <span class="id">Gg;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">rG</span>).<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit">nondecreasing_integral_limit</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="dyadic_interval" class="id"><a name="dyadic_interval" class="">dyadic_interval</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="dyadic_interval.R" class="id"><a name="dyadic_interval.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="dyadic_itv" class="id"><a name="dyadic_itv" class="">dyadic_itv</a></span> <span id="n:901" class="id"><a name="n:901" class="">n</a></span> <span id="k:902" class="id"><a name="k:902" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#interval">interval</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dyadic_interval.R">R</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#957313378acc4cb77b1d2f647eca85b3">`[</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:902">k</a></span>%<span class="id">:R</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2cbbcf28cb71296a00bdaede8cf3ea56">^-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:901">n</a></span>)<span class="id">,</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:902">k</a></span>.<span class="id">+1</span>%<span class="id">:R</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2cbbcf28cb71296a00bdaede8cf3ea56">^-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:901">n</a></span>)<span class="id">[</span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="I" class="id"><a name="I" class="">I</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dyadic_itv">dyadic_itv</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="dyadic_itv_subU" class="id"><a name="dyadic_itv_subU" class="">dyadic_itv_subU</a></span> <span id="n:903" class="id"><a name="n:903" class="">n</a></span> <span id="k:904" class="id"><a name="k:904" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I">I</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:903">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:904">k]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I">I</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:903">n</a></span>.<span class="id">+1</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:904">k</a></span>.<span class="id">*2]</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#f0f4f4a06533e5eeff19ee265a896441">`|`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I">I</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:903">n</a></span>.<span class="id">+1</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:904">k</a></span>.<span class="id">*2</span>.<span class="id">+1]</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof119')">Proof.</span></div>
<div class="proofscript" id="proof119">
<span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">/andP[Ir</span> <span class="id">rI]</span>.<br/>
<span class="id">have</span> <span class="id">[rk|rk]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.ltP">ltP</a></span> <span class="id">r</span> (<span class="id">k</span>.<span class="id">*2</span>.<span class="id">+1</span>%<span class="id">:R</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> (<span class="id">2</span>%<span class="id">:R</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2cbbcf28cb71296a00bdaede8cf3ea56">^-</a></span> <span class="id">n</span>.<span class="id">+1</span>))<span class="id">;</span> <span class="id">[left|right]</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=</span> <span class="id">rk</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">Ir</span>)<span class="id">//</span> <span class="id">-muln2</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.natrM">natrM</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.exprS">exprS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.invrM">invrM</a></span> <span class="id">?unitfE//</span> <span class="id">?expf_neq0//</span> <span class="id">-mulrA</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulrCA">mulrCA</a></span> <span class="id">2</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.divrr">divrr</a></span> <span class="id">?unitfE//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=</span> <span class="id">rk</span> <span class="id">/=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">rI</span>)<span class="id">//</span> <span class="id">-doubleS</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-muln2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.natrM">natrM</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.exprS">exprS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.invrM">invrM</a></span> <span class="id">?unitfE//</span> <span class="id">?expf_neq0//</span> <span class="id">-mulrA</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulrCA">mulrCA</a></span> <span class="id">2</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.divrr">divrr</a></span> <span class="id">?unitfE//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bigsetU_dyadic_itv" class="id"><a name="bigsetU_dyadic_itv" class="">bigsetU_dyadic_itv</a></span> <span id="n:905" class="id"><a name="n:905" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#140563da441f6537ec725c3b5a222afb">`[n</a></span>%<span class="id">:R,</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:905">n</a></span>.<span class="id">+1</span>%<span class="id">:R[</span>%<span class="id">classic</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#a0f72dd08c3295710348031e7df784a3">\big[setU/set0]_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:905">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c">^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:905">n</a></span>.<span class="id">+1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#a0f72dd08c3295710348031e7df784a3">&lt;=</a></span> <span id="k:908" class="id"><span id="k:907" class="id"><span id="k:906" class="id"><a name="k:908" class="">k</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#a0f72dd08c3295710348031e7df784a3">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:905">n</a></span>.<span class="id">+1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c">^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:905">n</a></span>.<span class="id">+1</span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I">I</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:905">n</a></span>.<span class="id">+1</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:906">k]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof120')">Proof.</span></div>
<div class="proofscript" id="proof120">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">r;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[/=</span> <span class="id">/[!in_itv]/=</span> <span class="id">/andP[nr</span> <span class="id">rn1]|]</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">-bigcup_seq</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">`|floor</a></span> (<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#663140372ac3b275aae871b74b140513">^+</a></span> <span class="id">n</span>.<span class="id">+1</span>)<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">|</a></span>%<span class="id">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#mem_index_iota">mem_index_iota;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-ltez_nat</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#gez0_abs">gez0_abs</a></span> <span class="id">?floor_ge0;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.mulr_ge0">mulr_ge0//</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">nr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> (<span class="id">n</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c">^</a></span> <span class="id">n</span>.<span class="id">+1</span>)%<span class="id">:R</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.reals.html#le_floor">le_floor;</a></span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.natrM">natrM</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.natrX">natrX</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pM2r">ler_pM2r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_natz">floor_natz</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#intz">intz</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-ltz_nat</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#gez0_abs">gez0_abs;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.mulr_ge0">mulr_ge0//</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">nr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#ltr_int">ltr_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dyadic_interval.R">R</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor_le">floor_le</a></span> <span class="id">_</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#PoszM">PoszM</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#intrM">intrM</a></span> <span class="id">-natrX</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pM2r">ltr_pM2r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=;</span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pdivrMr">ler_pdivrMr//</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor_le">floor_le</a></span> <span class="id">_</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#gez0_abs">gez0_abs</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.mulr_ge0">mulr_ge0//</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">nr</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pdivlMr">ltr_pdivlMr//</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#lt_succ_floor">lt_succ_floor</a></span> <span class="id">_</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS]natr1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lerD2r">lerD2r//</a></span> <span class="id">-</span>(@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#gez0_abs">gez0_abs</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.mulr_ge0">mulr_ge0//</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">nr</span>).<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">-bigcup_seq</span> <span class="id">=&gt;</span> <span class="id">-[/=</span> <span class="id">k]</span> <span class="id">/[!mem_index_iota]</span> <span class="id">/andP[nk</span> <span class="id">kn]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">/andP[knr</span> <span class="id">rkn];</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=;</span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">knr</span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pdivlMr">ler_pdivlMr//</a></span> <span class="id">-natrX</span> <span class="id">-natrM</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">rkn</span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pdivrMr">ler_pdivrMr//</a></span> <span class="id">-natrX</span> <span class="id">-natrM</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="dyadic_itv_image" class="id"><a name="dyadic_itv_image" class="">dyadic_itv_image</a></span> <span id="n:909" class="id"><a name="n:909" class="">n</a></span> <span id="T:910" class="id"><a name="T:910" class="">T</a></span> (<span id="f:911" class="id"><a name="f:911" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:910">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dyadic_interval.R">R</a></span>) <span id="x:912" class="id"><a name="x:912" class="">x</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:909">n</a></span>%<span class="id">:R</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#df42a38c1c08db7c50c9021fc7951d60">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:911">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:912">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#df42a38c1c08db7c50c9021fc7951d60">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:909">n</a></span>.<span class="id">+1</span>%<span class="id">:R</span>%<span class="id">:E</span>)%<span class="id">E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="k:913" class="id"><a name="k:913" class="">k,</a></span> (<span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c">^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:909">n</a></span>.<span class="id">+1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:909">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ea090076ab3dcdee0cfd3882c88b993f">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:913">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ea090076ab3dcdee0cfd3882c88b993f">&lt;</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c">^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:909">n</a></span>.<span class="id">+1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:909">n</a></span>.<span class="id">+1</span>)%<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:911">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:912">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> @<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I">I</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:909">n</a></span>.<span class="id">+1</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:913">k]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof121')">Proof.</span></div>
<div class="proofscript" id="proof121">
<span class="id">move=&gt;</span> <span class="id">fxn;</span> <span class="id">have</span> <span class="id">fxfin</span> <span class="id">:</span> <span class="id">f</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE;</a></span> <span class="id">move:</span> <span class="id">fxn;</span> <span class="id">case:</span> (<span class="id">f</span> <span class="id">x</span>) <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/andP[]</span>.<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id">f</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> @<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#140563da441f6537ec725c3b5a222afb">`[n</a></span>%<span class="id">:R,</span> <span class="id">n</span>.<span class="id">+1</span>%<span class="id">:R[</span>%<span class="id">classic</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">x</span>))<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=</span> <span class="id">-lee_fin</span> <span class="id">-lte_fin</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">fxfin</span>).<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#bigsetU_dyadic_itv">bigsetU_dyadic_itv</a></span> <span class="id">n</span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">-[r];</span> <span class="id">rewrite</span> <span class="id">-bigcup_seq</span> <span class="id">=&gt;</span> <span class="id">-[k</span> <span class="id">/=]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#mem_index_iota">mem_index_iota</a></span> <span class="id">=&gt;</span> <span class="id">nk</span> <span class="id">Ir</span> <span class="id">rfx</span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">k;</span> <span class="id">split;</span> <span class="id">[rewrite</span> <span class="id">!</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#mulnC">mulnC</a></span> (<span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c">^</a></span> <span class="id">n</span>.<span class="id">+1</span>)%<span class="id">N</span>)<span class="id">|rewrite</span> <span class="id">!inE</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> <span class="id">r]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dyadic_interval">dyadic_interval</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="approximation" class="id"><a name="approximation" class="">approximation</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:914" class="id"><a name="d:914" class="">d</a></span> (<span id="T:915" class="id"><a name="T:915" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:914">d</a></span>) (<span id="R:916" class="id"><a name="R:916" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="approximation.D" class="id"><a name="approximation.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.T">T</a></span>) (<span id="approximation.mD" class="id"><a name="approximation.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:917">D</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="approximation.f" class="id"><a name="approximation.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>) (<span id="approximation.mf" class="id"><a name="approximation.mf" class="">mf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:919">f</a></span>).<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="I" class="id"><a name="I" class="">I</a></span> <span class="id">:=</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dyadic_itv">dyadic_itv</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="approximation.A" class="id"><a name="approximation.A" class="">A</a></span> <span id="n:921" class="id"><a name="n:921" class="">n</a></span> <span id="k:922" class="id"><a name="k:922" class="">k</a></span> <span class="id">:=</span> <span class="gallina-kwd">if</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:922">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:921">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c">^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:921">n</a></span>)%<span class="id">N</span> <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:923" class="id"><a name="x:923" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:923">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> @<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I">I</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:921">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:922">k]]</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="approximation.B" class="id"><a name="approximation.B" class="">B</a></span> <span id="n:924" class="id"><a name="n:924" class="">n</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:925" class="id"><a name="x:925" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:924">n</a></span>%<span class="id">:R</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:925">x]</a></span>%<span class="id">E</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="approx" class="id"><a name="approx" class="">approx</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>)<span class="id">^nat</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="n:926" class="id"><a name="n:926" class="">n</a></span> <span id="x:927" class="id"><a name="x:927" class="">x</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#784f0af919f467115774be372bf0dbd7">\sum_</a></span>(<span id="k:930" class="id"><span id="k:929" class="id"><span id="k:928" class="id"><a name="k:930" class="">k</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#784f0af919f467115774be372bf0dbd7">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:926">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c">^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:926">n</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:928">k</a></span>%<span class="id">:R</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2cbbcf28cb71296a00bdaede8cf3ea56">^-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:926">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:926">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:928">k</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:927">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:926">n</a></span>%<span class="id">:R</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:926">n</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:927">x</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="approximation.mA" class="id"><a name="approximation.mA" class="">mA</a></span> <span id="n:931" class="id"><a name="n:931" class="">n</a></span> <span id="k:932" class="id"><a name="k:932" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:931">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:932">k</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof122')">Proof.</span></div>
<div class="proofscript" id="proof122">
<span class="id">rewrite</span> <span class="id">/A;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[kn|_]//;</span> <span class="id">rewrite</span> <span class="id">-preimage_comp</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.mf">mf</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/measurable_image_EFin;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="approximation.trivIsetA" class="id"><a name="approximation.trivIsetA" class="">trivIsetA</a></span> <span id="n:933" class="id"><a name="n:933" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:933">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof123')">Proof.</span></div>
<div class="proofscript" id="proof123">
<span class="id">apply/trivIsetP</span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">j</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="id">wlog</span> <span class="id">:</span> <span class="id">i</span> <span class="id">j</span> <span class="id">/</span> (<span class="id">i</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">j</span>)%<span class="id">N</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">h;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.neq_lt">neq_lt</a></span> <span class="id">=&gt;</span> <span class="id">/orP[ij|ji]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">h</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_eqF">lt_eqF</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIC">setIC;</a></span> <span class="id">apply:</span> <span class="id">h</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_eqF">lt_eqF</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">ij</span> <span class="id">_</span>.<br/>
<span class="id">rewrite</span> <span class="id">/A;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">ni;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0I">set0I</a></span>.<br/>
<span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">nj;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setI0">setI0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">t;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">-[/=]</span> <span class="id">[_]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">-[r</span> <span class="id">/=];</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">/andP[r1</span> <span class="id">r2]</span> <span class="id">rft</span> <span class="id">[_]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">-[s</span> <span class="id">/=];</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">/andP[s1</span> <span class="id">s2]</span>.<br/>
<span class="id">rewrite</span> <span class="id">-rft</span> <span class="id">=&gt;</span> <span class="id">-[sr];</span> <span class="id">rewrite</span> <span class="id">{}sr</span> <span class="id">{s}</span> <span class="gallina-kwd">in</span> <span class="id">s1</span> <span class="id">s2</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">s1</span> <span class="id">r2;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pM2r">ltr_pM2r//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_nat">ltr_nat</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#leqNgt">leqNgt</a></span> <span class="id">ij</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="approximation.f0_A0" class="id"><a name="approximation.f0_A0" class="">f0_A0</a></span> <span id="n:934" class="id"><a name="n:934" class="">n</a></span> (<span id="i:935" class="id"><a name="i:935" class="">i</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#:::'''I_'_x">'I_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:934">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c">^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:934">n</a></span>)) <span id="x:936" class="id"><a name="x:936" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:936">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:935">i</a></span> <span class="id">!=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span> <span class="id">:&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:934">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:935">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:936">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof124')">Proof.</span></div>
<div class="proofscript" id="proof124">
<span class="id">move=&gt;</span> <span class="id">fx0</span> <span class="id">i0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset//</a></span> <span class="id">/A</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#ltn_ord">ltn_ord</a></span> <span class="id">=&gt;</span> <span class="id">-[Dx/=]</span> <span class="id">/[1!inE]/=</span> <span class="id">-[r]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">fx0</span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">r0;</span> <span class="id">move/eqP</span> <span class="id">:</span> <span class="id">r0</span> <span class="id">=&gt;</span> <span class="id">/[1!eqe]</span> <span class="id">/eqP</span> <span class="id">-&gt;</span> <span class="id">/andP[+</span> <span class="id">_]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pdivrMr">ler_pdivrMr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mul0r">mul0r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lern0">lern0</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">i0</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="approximation.fgen_A0" class="id"><a name="approximation.fgen_A0" class="">fgen_A0</a></span> <span id="n:937" class="id"><a name="n:937" class="">n</a></span> <span id="x:938" class="id"><a name="x:938" class="">x</a></span> (<span id="i:939" class="id"><a name="i:939" class="">i</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#:::'''I_'_x">'I_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:937">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c">^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:937">n</a></span>)) <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:937">n</a></span>%<span class="id">:R</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:938">x</a></span>)%<span class="id">E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:937">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:939">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:938">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof125')">Proof.</span></div>
<div class="proofscript" id="proof125">
<span class="id">move=&gt;</span> <span class="id">fxn;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id">/A</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#ltn_ord">ltn_ord</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset//</a></span> <span class="id">=&gt;</span> <span class="id">-[Dx/=]</span> <span class="id">/[1!inE]/=</span> <span class="id">-[r]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">=&gt;</span> <span class="id">/andP[_</span> <span class="id">h]</span> <span class="id">rfx;</span> <span class="id">move:</span> <span class="id">fxn;</span> <span class="id">rewrite</span> <span class="id">-rfx</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">apply/negP</span>.<br/>
<span class="id">rewrite</span> <span class="id">-ltNge</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">h</span>)<span class="id">//</span> <span class="id">-natrX</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pdivrMr">ler_pdivrMr//</a></span> <span class="id">-natrM</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#leq_trans">leq_trans</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#ltn_ord">ltn_ord</a></span> <span class="id">i</span>)).<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="approximation.disj_A0" class="id"><a name="approximation.disj_A0" class="">disj_A0</a></span> <span id="x:940" class="id"><a name="x:940" class="">x</a></span> <span id="n:941" class="id"><a name="n:941" class="">n</a></span> (<span id="i:942" class="id"><a name="i:942" class="">i</a></span> <span id="k:943" class="id"><a name="k:943" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#:::'''I_'_x">'I_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:941">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c">^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:941">n</a></span>)) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:942">i</a></span> <span class="id">!=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:943">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:940">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:941">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:943">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:941">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:942">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:940">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof126')">Proof.</span></div>
<div class="proofscript" id="proof126">
<span class="id">move=&gt;</span> <span class="id">ik</span> <span class="id">/[1!inE]</span> <span class="id">xAn1k;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset//</a></span> <span class="id">=&gt;</span> <span class="id">xAi</span>.<br/>
<span class="id">have</span> <span class="id">/trivIsetP/</span>(<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span> <span class="id">ik</span>)<span class="id">/=</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.trivIsetA">trivIsetA</a></span> <span class="id">n</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">x</span>)<span class="id">[+</span> <span class="id">_];</span> <span class="id">exact</span>.<br/>
Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#disj_A0">disj_A0</a></span> <span class="id">{x</span> <span class="id">n</span> <span class="id">i}</span> <span class="id">k</span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="approximation.mB" class="id"><a name="approximation.mB" class="">mB</a></span> <span id="n:944" class="id"><a name="n:944" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:944">n</a></span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof127')">Proof.</span></div>
<div class="proofscript" id="proof127">
 <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_c_infty">emeasurable_fun_c_infty</a></span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="approximation.foo_B1" class="id"><a name="approximation.foo_B1" class="">foo_B1</a></span> <span id="x:945" class="id"><a name="x:945" class="">x</a></span> <span id="n:946" class="id"><a name="n:946" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:945">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:945">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>%<span class="id">E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:946">n</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:945">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof128')">Proof.</span></div>
<div class="proofscript" id="proof128">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">Dx</span> <span class="id">fxoo;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//</a></span> <span class="id">/B/=</span> <span class="id">fxoo</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="approximation.f0_B0" class="id"><a name="approximation.f0_B0" class="">f0_B0</a></span> <span id="x:947" class="id"><a name="x:947" class="">x</a></span> <span id="n:948" class="id"><a name="n:948" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:947">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:948">n</a></span> <span class="id">!=</span> <span class="id">0</span>%<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:948">n</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:947">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof129')">Proof.</span></div>
<div class="proofscript" id="proof129">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">h</span> <span class="id">/negbTE</span> <span class="id">n0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset//</a></span> <span class="id">/B/=</span> <span class="id">h</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lern0">lern0</a></span> <span class="id">n0</span> <span class="id">=&gt;</span> <span class="id">-[]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="approximation.fgtn_B0" class="id"><a name="approximation.fgtn_B0" class="">fgtn_B0</a></span> <span id="x:949" class="id"><a name="x:949" class="">x</a></span> <span id="n:950" class="id"><a name="n:950" class="">n</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:949">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:950">n</a></span>%<span class="id">:R</span>%<span class="id">:E</span>)%<span class="id">E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:950">n</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:949">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof130')">Proof.</span></div>
<div class="proofscript" id="proof130">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">h;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset//</a></span> <span class="id">=&gt;</span> <span class="id">-[_/=];</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.leNgt">leNgt</a></span> <span class="id">h</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="approximation.f0_approx0" class="id"><a name="approximation.f0_approx0" class="">f0_approx0</a></span> <span id="n:951" class="id"><a name="n:951" class="">n</a></span> <span id="x:952" class="id"><a name="x:952" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:952">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>%<span class="id">E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:951">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:952">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof131')">Proof.</span></div>
<div class="proofscript" id="proof131">
<span class="id">move=&gt;</span> <span class="id">fx0;</span> <span class="id">rewrite</span> <span class="id">/approx;</span> <span class="id">have</span> <span class="id">[-&gt;|n0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#mul0n">mul0n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mul0r">mul0r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addr0">addr0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_ord0">big_ord0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f0_B0">f0_B0//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr0">mulr0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addr0">addr0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big1">big1//</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="id">have</span> <span class="id">[-&gt;|i0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#nat_of_ord">nat_of_ord</a></span> <span class="id">i</span>) <span class="id">0</span>%<span class="id">N;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mul0r">mul0r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mul0r">mul0r</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f0_A0">f0_A0</a></span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr0">mulr0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="approximation.fpos_approx_neq0" class="id"><a name="approximation.fpos_approx_neq0" class="">fpos_approx_neq0</a></span> <span id="x:953" class="id"><a name="x:953" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:953">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">0</span>%<span class="id">E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:953">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>)%<span class="id">E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\forall</a></span> <span id="n:954" class="id"><a name="n:954" class="">n</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#be9d045413b70f39126ce7af3de2a77f">\near</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:954">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:953">x</a></span> <span class="id">!=</span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof132')">Proof.</span></div>
<div class="proofscript" id="proof132">
<span class="id">move=&gt;</span> <span class="id">Dx</span> <span class="id">/andP[fx_gt0</span> <span class="id">fxoo]</span>.<br/>
<span class="id">have</span> <span class="id">fxfin</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gt0_fin_numE">gt0_fin_numE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">fxfin</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="gallina-kwd">in</span> <span class="id">fx_gt0;</span> <span class="id">near=&gt;</span> <span class="id">n</span>.<br/>
<span class="id">rewrite</span> <span class="id">/approx</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.paddr_eq0">paddr_eq0//;</a></span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.sumr_ge0">sumr_ge0</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.mulr_ge0">mulr_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.mulr_ge0">mulr_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.psumr_eq0">psumr_eq0//;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">i</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.mulr_ge0">mulr_ge0</a></span>.<br/>
<span class="id">apply/negP</span> <span class="id">=&gt;</span> <span class="id">/andP[/allP</span> <span class="id">An0];</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulf_eq0">mulf_eq0</a></span> <span class="id">=&gt;</span> <span class="id">/orP[|]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/negP;</span> <span class="id">near:</span> <span class="id">n;</span> <span class="gallina-kwd">exists</span> <span class="id">1</span>%<span class="id">N</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">m</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#lt0n">lt0n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.pnatr_eq0">pnatr_eq0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.pnatr_eq0">pnatr_eq0</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span>.<br/>
<span class="id">have</span> <span class="id">[//|]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> <span class="id">n</span>).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span> <span class="id">/B</span> <span class="id">/setI</span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">/not_andP[]</span> <span class="id">//</span> <span class="id">/negP</span>.<br/>
<span class="id">rewrite</span> <span class="id">-ltNge</span> <span class="id">=&gt;</span> <span class="id">fxn</span> <span class="id">_</span>.<br/>
<span class="id">have</span> <span class="id">K</span> <span class="id">:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">`|floor</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#663140372ac3b275aae871b74b140513">^+</a></span> <span class="id">n</span>)<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">n</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c">^</a></span> <span class="id">n</span>)%<span class="id">N</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-ltz_nat</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#gez0_abs">gez0_abs;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.mulr_ge0">mulr_ge0//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#ltr_int">ltr_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>)<span class="id">;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor_le">floor_le</a></span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#PoszM">PoszM</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#intrM">intrM</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-natrX</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pM2r">ltr_pM2r//</a></span> <span class="id">-lte_fin</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">fxfin</span>).<br/>
<span class="id">have</span> <span class="id">/[!mem_index_enum]/</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#isT">isT</a></span>) <span class="id">:=</span> <span class="id">An0</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#Ordinal">Ordinal</a></span> <span class="id">K</span>).<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#implyTb">implyTb</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">?mulr1;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/A</span> <span class="id">K</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE;</a></span> <span class="id">split=&gt;</span> <span class="id">//=;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>))<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=;</span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pdivrMr">ler_pdivrMr//</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor_le">floor_le</a></span> <span class="id">_</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#gez0_abs">gez0_abs</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.mulr_ge0">mulr_ge0//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pdivlMr">ltr_pdivlMr//</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#lt_succ_floor">lt_succ_floor</a></span> <span class="id">_</span>))<span class="id">//</span> <span class="id">-[in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS]natr1</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lerD2r">lerD2r//</a></span> <span class="id">-{1}</span>(@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#gez0_abs">gez0_abs</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.mulr_ge0">mulr_ge0//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulf_eq0">mulf_eq0//</a></span> <span class="id">-exprVn;</span> <span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_or">negb_or</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.expf_neq0">expf_neq0//=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.pnatr_eq0">pnatr_eq0</a></span> <span class="id">-lt0n</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#absz_gt0">absz_gt0</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_neq0">floor_neq0//</a></span> <span class="id">-ler_pdivrMr//</span>.<br/>
<span class="id">apply/orP;</span> <span class="id">right;</span> <span class="id">apply/ltW;</span> <span class="id">near:</span> <span class="id">n</span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#near_infty_natSinv_expn_lt">near_infty_natSinv_expn_lt</a></span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">fx_gt0</span>).<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="approximation.f_ub_approx" class="id"><a name="approximation.f_ub_approx" class="">f_ub_approx</a></span> <span id="n:955" class="id"><a name="n:955" class="">n</a></span> <span id="x:956" class="id"><a name="x:956" class="">x</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:956">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:955">n</a></span>%<span class="id">:R</span>%<span class="id">:E</span>)%<span class="id">E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:955">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:956">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="gallina-kwd">exists</span> <span id="k:957" class="id"><a name="k:957" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014">[/\</a></span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:957">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:955">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c">^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:955">n</a></span>)%<span class="id">N,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:956">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:955">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:957">k,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:955">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:956">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:957">k</a></span>%<span class="id">:R</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#663140372ac3b275aae871b74b140513">^+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:955">n</a></span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:956">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> @<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I">I</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:955">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:957">k]]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof133')">Proof.</span></div>
<div class="proofscript" id="proof133">
<span class="id">move=&gt;</span> <span class="id">fxn;</span> <span class="id">rewrite</span> <span class="id">/approx</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.fgtn_B0">fgtn_B0</a></span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr0">mulr0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addr0">addr0</a></span>.<br/>
<span class="id">set</span> <span class="id">lhs</span> <span class="id">:=</span> (<span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:958">X</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id">0</span>)<span class="id">;</span> <span class="id">have</span> <span class="id">[|]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">lhs</span> <span class="id">0;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">left</span>.<br/>
<span class="id">rewrite</span> <span class="id">{}/lhs</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.psumr_eq0">psumr_eq0;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">i</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.mulr_ge0">mulr_ge0</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/allPn[/=</span> <span class="id">k</span> <span class="id">_]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulf_eq0">mulf_eq0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_or">negb_or</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulf_eq0">mulf_eq0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_or">negb_or</a></span> <span class="id">-andbA</span> <span class="id">=&gt;</span> <span class="id">/and3P[k_neq0</span> <span class="id">_]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.pnatr_eq0">pnatr_eq0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#eqb0">eqb0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbK">negbK</a></span> <span class="id">=&gt;</span> <span class="id">xAnk;</span> <span class="id">right</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#bigD1">bigD1</a></span> <span class="id">k</span>) <span class="id">//=</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id">xAnk</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big1">big1</a></span> <span class="id">?addr0;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">i</span> <span class="id">ik;</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.disj_A0">disj_A0</a></span> <span class="id">k</span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr0">mulr0</a></span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id">k;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#lt0n">lt0n</a></span> <span class="id">-</span>(@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.pnatr_eq0">pnatr_eq0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>) <span class="id">k_neq0/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">xAnk;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">/A</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#ltn_ord">ltn_ord</a></span> <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">-[/[swap]</span> <span class="id">Dx]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="approximation.notinD_approx0" class="id"><a name="approximation.notinD_approx0" class="">notinD_approx0</a></span> <span id="x:959" class="id"><a name="x:959" class="">x</a></span> <span id="n:960" class="id"><a name="n:960" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:959">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:960">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:959">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof134')">Proof.</span></div>
<div class="proofscript" id="proof134">
<span class="id">move=&gt;</span> <span class="id">Dx;</span> <span class="id">rewrite</span> <span class="id">/approx</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big1">big1;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">i</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset</a></span> <span class="id">?mulr0//</span> <span class="id">/A;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[?</span> <span class="id">[]|_]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset//</a></span> <span class="id">?mulr0</span> <span class="id">?addr0//</span> <span class="id">=&gt;</span> <span class="id">-[]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nd_approx" class="id"><a name="nd_approx" class="">nd_approx</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#:::'nondecreasing_seq'_x">nondecreasing_seq</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof135')">Proof.</span></div>
<div class="proofscript" id="proof135">
<span class="id">apply/nondecreasing_seqP</span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">apply/lefP</span> <span class="id">=&gt;</span> <span class="id">x</span>.<br/>
<span class="id">have</span> <span class="id">[Dx|Dx]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">?notinD_approx0</span>.<br/>
<span class="id">have</span> <span class="id">[fxn|fxn]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.ltP">ltP</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>) <span class="id">n</span>%<span class="id">:R</span>%<span class="id">:E</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">{2}/approx</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.fgtn_B0">fgtn_B0</a></span> <span class="id">?mulr0</span> <span class="id">?addr0;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_trans">lt_trans</a></span> <span class="id">fxn</span>) <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_nat">ltr_nat</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[/eqP</span> <span class="id">-&gt;|[k</span> <span class="id">[/andP[k0</span> <span class="id">kn]</span> <span class="id">xAnk</span> <span class="id">-&gt;</span> <span class="id">_]]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f_ub_approx">f_ub_approx</a></span> <span class="id">fxn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.sumr_ge0">sumr_ge0</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.mulr_ge0">mulr_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move:</span> (<span class="id">xAnk</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">{1}/A</span> <span class="id">kn</span> <span class="id">=&gt;</span> <span class="id">-[_]</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">-[r]</span> <span class="id">/dyadic_itv_subU[|]</span> <span class="id">rnk</span> <span class="id">rfx</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">have</span> <span class="id">k2n</span> <span class="id">:</span> (<span class="id">k</span>.<span class="id">*2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">n</span>.<span class="id">+1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c">^</a></span> <span class="id">n</span>.<span class="id">+1</span>)%<span class="id">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#expnS">expnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#mulnCA">mulnCA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#mul2n">mul2n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ltn_double">ltn_double</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ltn_trans">ltn_trans</a></span> <span class="id">kn</span>) <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ltn_mul2r">ltn_mul2r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#expn_gt0">expn_gt0</a></span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#bigD1">bigD1</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#Ordinal">Ordinal</a></span> <span class="id">k2n</span>)) <span class="id">//=</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">xAn1k</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">n</span>.<span class="id">+1</span> <span class="id">k</span>.<span class="id">*2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">/A</span> <span class="id">k2n;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE;</a></span> <span class="gallina-kwd">exists</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">xAn1k</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big1">big1</a></span> <span class="id">?addr0;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">i</span> <span class="id">ik2n;</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.disj_A0">disj_A0</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#Ordinal">Ordinal</a></span> <span class="id">k2n</span>)) <span class="id">?mulr0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.exprS">exprS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.invrM">invrM</a></span> <span class="id">?unitfE//</span> <span class="id">-muln2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.natrM">natrM</a></span> <span class="id">-mulrA</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulrCA">mulrCA</a></span> <span class="id">2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.divrr">divrr</a></span> <span class="id">?mulr1</span> <span class="id">?unitfE</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">have</span> <span class="id">k2n</span> <span class="id">:</span> (<span class="id">k</span>.<span class="id">*2</span>.<span class="id">+1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">n</span>.<span class="id">+1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c">^</a></span> <span class="id">n</span>.<span class="id">+1</span>)%<span class="id">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">kn;</span> <span class="id">rewrite</span> <span class="id">-ltn_double</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ltn_add2r">ltn_add2r</a></span> <span class="id">1</span>) <span class="id">2!addn1</span> <span class="id">=&gt;</span> <span class="id">/leq_trans;</span> <span class="id">apply</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-muln2</span> <span class="id">-mulnA</span> <span class="id">-expnSr</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ltn_mul2r">ltn_mul2r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#expn_gt0">expn_gt0</a></span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#bigD1">bigD1</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#Ordinal">Ordinal</a></span> <span class="id">k2n</span>)) <span class="id">//=</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">xAn1k</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">n</span>.<span class="id">+1</span> <span class="id">k</span>.<span class="id">*2</span>.<span class="id">+1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/A</span> <span class="id">/=</span> <span class="id">k2n</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE;</a></span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE/=;</a></span> <span class="gallina-kwd">exists</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">xAn1k</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big1">big1</a></span> <span class="id">?addr0;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">i</span> <span class="id">ik2n;</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.disj_A0">disj_A0</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#Ordinal">Ordinal</a></span> <span class="id">k2n</span>)) <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr0">mulr0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.natr1">natr1</a></span> <span class="id">_</span> <span class="id">k</span>.<span class="id">*2</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulrDl">mulrDl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.exprS">exprS</a></span> <span class="id">-mul2n</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.natrM">natrM</a></span> <span class="id">-mulf_div</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.divrr">divrr</a></span> <span class="id">?unitfE//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!mul1r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lerDl">lerDl</a></span>.<br/>
<span class="id">have</span> <span class="id">/orP[{}fxn|{}fxn]</span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id">n</span>%<span class="id">:R</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#df42a38c1c08db7c50c9021fc7951d60">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#df42a38c1c08db7c50c9021fc7951d60">&lt;</a></span> <span class="id">n</span>.<span class="id">+1</span>%<span class="id">:R</span>%<span class="id">:E</span>) <span class="id">||</span> (<span class="id">n</span>.<span class="id">+1</span>%<span class="id">:R</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>))%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">fxn;</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">[_</span> <span class="id">_|_</span> <span class="id">-&gt;//];</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">have</span> <span class="id">[k</span> <span class="id">[k1</span> <span class="id">k2]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dyadic_itv_image">dyadic_itv_image</a></span> <span class="id">fxn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">xBn</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> <span class="id">n</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/B</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">/=;</span> <span class="id">case/andP</span> <span class="id">:</span> <span class="id">fxn</span> <span class="id">=&gt;</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/approx</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id">xBn</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big1">big1</a></span> <span class="id">?add0r;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">i</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.fgen_A0">fgen_A0</a></span> <span class="id">?mulr0//;</span> <span class="id">case/andP</span> <span class="id">:</span> <span class="id">fxn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.fgtn_B0">fgtn_B0</a></span> <span class="id">?mulr0</span> <span class="id">?addr0;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">case/andP</span> <span class="id">:</span> <span class="id">fxn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">kn2</span> <span class="id">:</span> (<span class="id">k</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">n</span>.<span class="id">+1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c">^</a></span> <span class="id">n</span>.<span class="id">+1</span>)%<span class="id">N</span> <span class="gallina-kwd">by</span> <span class="id">case/andP</span> <span class="id">:</span> <span class="id">k1</span> <span class="id">=&gt;</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#mulnC">mulnC</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#bigD1">bigD1</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#Ordinal">Ordinal</a></span> <span class="id">kn2</span>)) <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">xAn1k</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">n</span>.<span class="id">+1</span> <span class="id">k</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">/A</span> <span class="id">kn2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id">xAn1k</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big1">big1</a></span> <span class="id">?addr0;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">i</span> <span class="id">/=</span> <span class="id">ikn2;</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.disj_A0">disj_A0</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#Ordinal">Ordinal</a></span> <span class="id">kn2</span>)) <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr0">mulr0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-natrX</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pdivlMr">ler_pdivlMr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulrC">mulrC</a></span> <span class="id">-natrM</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat;</a></span> <span class="id">case/andP</span> <span class="id">:</span> <span class="id">k1</span>.<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">xBn</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> <span class="id">n</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/B</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">/=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">fxn</span>) <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/approx</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id">xBn</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">xBn1</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> <span class="id">n</span>.<span class="id">+1</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/B</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id">xBn1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big1">big1</a></span> <span class="id">?add0r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big1">big1</a></span> <span class="id">?add0r</span> <span class="id">?ler_nat//</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">i</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.fgen_A0">fgen_A0//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr0">mulr0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">i</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.fgen_A0">fgen_A0</a></span> <span class="id">?mulr0//</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">fxn</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cvg_approx" class="id"><a name="cvg_approx" class="">cvg_approx</a></span> <span id="x:961" class="id"><a name="x:961" class="">x</a></span> (<span id="f0:963" class="id"><a name="f0:963" class="">f0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:962" class="id"><a name="x:962" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:962">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:962">x</a></span>)%<span class="id">E</span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:961">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:961">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>)%<span class="id">E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:961">x</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:961">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof136')">Proof.</span></div>
<div class="proofscript" id="proof136">
<span class="id">move=&gt;</span> <span class="id">Dx</span> <span class="id">fxoo;</span> <span class="id">have</span> <span class="id">fxfin</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE//</a></span> <span class="id">f0</span>.<br/>
<span class="id">apply/</span>(@<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgrPdist_lt">cvgrPdist_lt</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R^o]</a></span>) <span class="id">=&gt;</span> <span class="id">_/posnumP[e]</span>.<br/>
<span class="id">have</span> <span class="id">[fx0|fx0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>) <span class="id">0</span>%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f0_approx0">f0_approx0</a></span> <span class="id">//</span> <span class="id">fx0</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.normr0">normr0</a></span>.<br/>
<span class="id">have</span> <span class="id">/</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.fpos_approx_neq0">fpos_approx_neq0</a></span> <span class="id">Dx</span>)<span class="id">[m</span> <span class="id">_</span> <span class="id">Hm]</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>)%<span class="id">E</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt0e">lt0e</a></span> <span class="id">fx0</span> <span class="id">f0</span>.<br/>
<span class="id">near=&gt;</span> <span class="id">n</span>.<br/>
<span class="id">have</span> <span class="id">mn</span> <span class="id">:</span> (<span class="id">m</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3">&lt;=</a></span> <span class="id">n</span>)%<span class="id">N</span> <span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">n;</span> <span class="gallina-kwd">exists</span> <span class="id">m</span>.<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">n</span>%<span class="id">:R</span>.<br/>
&nbsp;&nbsp;<span class="id">near:</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">`|floor</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>))<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">|</a></span>.<span class="id">+1</span>%<span class="id">N</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">p</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-natr1</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">`|</a></span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">|</a></span>%<span class="id">:R</span>  <span class="id">=</span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>)))%<span class="id">:~R</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#gez0_abs">gez0_abs</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0//;</a></span> <span class="id">exact/fine_ge0/f0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.reals.html#lt_succ_floor">lt_succ_floor</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-lte_fin</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">fxfin</span>) <span class="id">=&gt;</span> <span class="id">fxn</span>.<br/>
<span class="id">have</span> <span class="id">[approx_nx0|[k</span> <span class="id">[/andP[k0</span> <span class="id">kn2n]</span> <span class="id">?</span> <span class="id">-&gt;]]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f_ub_approx">f_ub_approx</a></span> <span class="id">fxn</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id">Hm</span> <span class="id">_</span> <span class="id">mn;</span> <span class="id">rewrite</span> <span class="id">approx_nx0</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">-[r</span> <span class="id">/=];</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">/andP[k1</span> <span class="id">k2]</span> <span class="id">rfx</span>.<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#663140372ac3b275aae871b74b140513">^+</a></span> <span class="id">n</span>)) <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norml">ler_norml;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lerBrDl">lerBrDl</a></span> <span class="id">-mulrBl</span> <span class="id">-lee_fin</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">fxfin</span>) <span class="id">-rfx</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">k1</span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pM2r">ler_pM2r//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lerBlDl">lerBlDl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lerDr">lerDr</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lerBlDr">lerBlDr</a></span> <span class="id">-mulrDl</span> <span class="id">-lee_fin</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.nat1r">nat1r</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW//</a></span> <span class="id">-rfx</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#near_infty_natSinv_expn_lt">near_infty_natSinv_expn_lt</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="le_approx" class="id"><a name="le_approx" class="">le_approx</a></span> <span id="k:964" class="id"><a name="k:964" class="">k</a></span> <span id="x:965" class="id"><a name="x:965" class="">x</a></span> (<span id="f0:967" class="id"><a name="f0:967" class="">f0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:966" class="id"><a name="x:966" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:966">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:966">x</a></span>)%<span class="id">E</span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:965">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:964">k</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:965">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:965">x</a></span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof137')">Proof.</span></div>
<div class="proofscript" id="proof137">
<span class="id">move=&gt;</span> <span class="id">Dx;</span> <span class="id">have</span> <span class="id">[fixoo|]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.ltP">ltP</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>) (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>%<span class="id">E</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
<span class="id">have</span> <span class="id">nd_ag</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">{homo</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">:</a></span> <span id="n:970" class="id"><span id="n:968" class="id"><a name="n:970" class="">n</a></span></span> <span id="m:971" class="id"><span id="m:969" class="id"><a name="m:971" class="">m</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">/</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:968">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m:969">m</a></span>)%<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:970">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m:971">m}</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">exact/lefP/nd_approx</span>.<br/>
<span class="id">have</span> <span class="id">fi0</span> <span class="id">y</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:972">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:972">y</a></span>)%<span class="id">E</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">exact:</span> <span class="id">f0</span>.<br/>
<span class="id">have</span> <span class="id">cvg_af</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cvg_approx">cvg_approx</a></span> <span class="id">fi0</span> <span class="id">Dx</span> <span class="id">fixoo</span>.<br/>
<span class="id">have</span> <span class="id">is_cvg_af</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvgn">cvgn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id">x</span>) <span class="gallina-kwd">by</span> <span class="id">apply/cvg_ex;</span> <span class="id">eexists;</span> <span class="id">exact:</span> <span class="id">cvg_af</span>.<br/>
<span class="id">have</span> <span class="id">{is_cvg_af}</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_cvgn_le">nondecreasing_cvgn_le</a></span> <span class="id">nd_ag</span> <span class="id">is_cvg_af</span> <span class="id">k</span>.<br/>
<span class="id">rewrite</span> <span class="id">-lee_fin</span> <span class="id">=&gt;</span> <span class="id">/le_trans;</span> <span class="id">apply</span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>))<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE//</a></span> <span class="id">f0</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move/</span>(<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> (@<span class="id"><a href="mathcomp.analysis.topology.html#Rhausdorff">Rhausdorff</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>)) <span class="id">:</span> <span class="id">cvg_af</span> <span class="id">=&gt;</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="dvg_approx" class="id"><a name="dvg_approx" class="">dvg_approx</a></span> <span id="x:973" class="id"><a name="x:973" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:973">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:973">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>%<span class="id">E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#cvgn">cvgn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:973">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R^o</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof138')">Proof.</span></div>
<div class="proofscript" id="proof138">
<span class="id">move=&gt;</span> <span class="id">Dx</span> <span class="id">fxoo;</span> <span class="id">have</span> <span class="id">approx_x</span> <span class="id">n</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:974">n</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:974">n</a></span>%<span class="id">:R</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/approx</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.foo_B1">foo_B1//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big1">big1</a></span> <span class="id">?add0r//</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">i</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.fgen_A0">fgen_A0</a></span> <span class="id">//</span> <span class="id">?mulr0</span> <span class="id">//</span> <span class="id">fxoo</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
<span class="id">case/cvg_ex</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">l;</span> <span class="id">have</span> <span class="id">[l0|l0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0</span>%<span class="id">R</span> <span class="id">l</span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">/cvgrPdist_lt/</span>(<span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr01">ltr01</a></span>) <span class="id">-[n</span> <span class="id">_]</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">`|ceil</a></span> <span class="id">l|</span>.<span class="id">+1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id">n</span>)%<span class="id">N</span>) <span class="id">/=</span> <span class="id">/</span>(<span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#leq_addl">leq_addl</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">approx_x</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id">-leNgt</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lerB_normD">lerB_normD</a></span> <span class="id">_</span> <span class="id">_</span>)) <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.normrN">normrN</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lerBrDl">lerBrDl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#addSnnS">addSnnS</a></span> <span class="id">[leRHS]ger0_norm</span> <span class="id">?ler0n//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.natrD">natrD</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lerD">lerD//</a></span> <span class="id">?ler1n//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm</a></span> <span class="id">//</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge">ceil_ge</a></span> <span class="id">_</span>)) <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#gez0_abs">gez0_abs</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> <span class="id">_</span>)) <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge0">ceil_ge0</a></span>.<br/>
<span class="id">-</span> <span class="id">move/cvgrPdist_lt</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr01">ltr01</a></span>) <span class="id">-[n</span> <span class="id">_]</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">`|floor</a></span> <span class="id">l|</span>.<span class="id">+1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id">n</span>)%<span class="id">N</span>) <span class="id">/=</span> <span class="id">/</span>(<span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#leq_addl">leq_addl</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">approx_x</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id">-leNgt</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lerB_normD">lerB_normD</a></span> <span class="id">_</span> <span class="id">_</span>)) <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.normrN">normrN</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lerBrDl">lerBrDl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#addSnnS">addSnnS</a></span> <span class="id">[leRHS]ger0_norm</span> <span class="id">?ler0n//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.natrD">natrD</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lerD">lerD//</a></span> <span class="id">?ler1n//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler0_norm">ler0_norm</a></span> <span class="id">//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">l</span>)%<span class="id">:~R</span>) <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#mulrNz">mulrNz</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lerNl">lerNl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_le">floor_le</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#lez0_abs">lez0_abs</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">_</span>)) <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_le0">floor_le0</a></span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ecvg_approx" class="id"><a name="ecvg_approx" class="">ecvg_approx</a></span> (<span id="f0:976" class="id"><a name="f0:976" class="">f0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:975" class="id"><a name="x:975" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:975">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:975">x</a></span>)%<span class="id">E</span>) <span id="x:977" class="id"><a name="x:977" class="">x</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:977">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx^~x</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:977">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof139')">Proof.</span></div>
<div class="proofscript" id="proof139">
<span class="id">move=&gt;</span> <span class="id">Dx;</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[|]</span> <span class="id">fxoo</span>.<br/>
<span class="id">have</span> <span class="id">dvg_approx</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dvg_approx">dvg_approx</a></span> <span class="id">Dx</span> <span class="id">fxoo</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">{homo</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">:</a></span> <span id="n:980" class="id"><span id="n:978" class="id"><a name="n:980" class="">n</a></span></span> <span id="m:981" class="id"><span id="m:979" class="id"><a name="m:981" class="">m</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">/</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:978">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m:979">m</a></span>)%<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:980">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m:981">m}</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_approx">nd_approx</a></span> <span class="id">mn</span> <span class="id">=&gt;</span> <span class="id">/lefP;</span> <span class="id">exact</span>.<br/>
&nbsp;&nbsp;<span class="id">move/nondecreasing_dvgn_lt</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">dvg_approx</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">fxoo</span> <span class="id">=&gt;</span> <span class="id">?;</span> <span class="id">apply/cvgeryP</span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>))<span class="id">;</span> <span class="id">first</span> <span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.topology.html#cvg_comp">cvg_comp</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cvg_approx">cvg_approx</a></span> <span class="id">f0</span> <span class="id">Dx</span> <span class="id">fxoo</span>)).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE//</a></span> <span class="id">f0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="approximation.k2n_ge0" class="id"><a name="approximation.k2n_ge0" class="">k2n_ge0</a></span> <span id="n:982" class="id"><a name="n:982" class="">n</a></span> (<span id="k:983" class="id"><a name="k:983" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#:::'''I_'_x">'I_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:982">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c">^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:982">n</a></span>)) <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#ba5152cc8b7dbce43c273ac9c15cfb7c">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:983">k</a></span>%<span class="id">:R</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2cbbcf28cb71296a00bdaede8cf3ea56">^-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:982">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#ba5152cc8b7dbce43c273ac9c15cfb7c">:&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof140')">Proof.</span></div>
<div class="proofscript" id="proof140">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="nnsfun_approx" class="id"><a name="nnsfun_approx" class="">nnsfun_approx</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R}^nat</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="n:984" class="id"><a name="n:984" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#locked">locked</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#add_nnsfun">add_nnsfun</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sum_nnsfun">sum_nnsfun</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="k:985" class="id"><a name="k:985" class="">k</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">match</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Bool.Bool.html#bool_dec">Bool.bool_dec</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:985">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x">&lt;</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:984">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c">^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:984">n</a></span>))%<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#left">left</a></span> <span class="id">h</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#scale_nnsfun">scale_nnsfun</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_nnsfun">indic_nnsfun</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.mA">mA</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:984">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:985">k</a></span>)) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.k2n_ge0">k2n_ge0</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#Ordinal">Ordinal</a></span> <span class="id">h</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#right">right</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun0">nnsfun0</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:984">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54">*</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c">^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:984">n</a></span>)%<span class="id">N</span>)<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#scale_nnsfun">scale_nnsfun</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_nnsfun">indic_nnsfun</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.mB">mB</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:984">n</a></span>)) (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler0n">ler0n</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:984">n</a></span>))).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="nnsfun_approxE" class="id"><a name="nnsfun_approxE" class="">nnsfun_approxE</a></span> <span id="n:986" class="id"><a name="n:986" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approx">nnsfun_approx</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:986">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:986">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof141')">Proof.</span></div>
<div class="proofscript" id="proof141">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">/nnsfun_approx;</span> <span class="id">unlock;</span> <span class="id">rewrite</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sum_nnsfunE">sum_nnsfunE;</a></span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">_</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#eq_bigr">eq_bigr</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">_;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Bool.Bool.html#bool_dec">Bool.bool_dec</a></span> <span class="id">=&gt;</span> <span class="id">[h|/negP];</span> <span class="id">[|rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#ltn_ord">ltn_ord]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cvg_nnsfun_approx" class="id"><a name="cvg_nnsfun_approx" class="">cvg_nnsfun_approx</a></span> (<span id="f0:988" class="id"><a name="f0:988" class="">f0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:987" class="id"><a name="x:987" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:987">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:987">x</a></span>)%<span class="id">E</span>) <span id="x:989" class="id"><a name="x:989" class="">x</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:989">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approx">nnsfun_approx^~x</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:989">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof142')">Proof.</span></div>
<div class="proofscript" id="proof142">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">Dx;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approxE">nnsfun_approxE;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ecvg_approx">ecvg_approx</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nd_nnsfun_approx" class="id"><a name="nd_nnsfun_approx" class="">nd_nnsfun_approx</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#:::'nondecreasing_seq'_x">nondecreasing_seq</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approx">nnsfun_approx</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>)<span class="id">^nat</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof143')">Proof.</span></div>
<div class="proofscript" id="proof143">
<span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approxE">nnsfun_approxE</a></span> <span class="id">n</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approxE">nnsfun_approxE</a></span> <span class="id">m</span>).<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_approx">nd_approx</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="approximation" class="id"><a name="approximation" class="">approximation</a></span> <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="t:990" class="id"><a name="t:990" class="">t,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:990">t</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:990">t</a></span>)%<span class="id">E</span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="g:991" class="id"><a name="g:991" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R}^nat,</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#:::'nondecreasing_seq'_x">nondecreasing_seq</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:991">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>)<span class="id">^nat</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:992" class="id"><a name="x:992" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:992">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:991">g^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:992">x</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:992">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof144')">Proof.</span></div>
<div class="proofscript" id="proof144">
<span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approx">nnsfun_approx;</a></span> <span class="id">split;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_nnsfun_approx">nd_nnsfun_approx|]</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cvg_nnsfun_approx">cvg_nnsfun_approx</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span>.<br/>
<br/>
<br/>
<span class="vernacular">Section</span> <span id="semi_linearity0" class="id"><a name="semi_linearity0" class="">semi_linearity0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:993" class="id"><a name="d:993" class="">d</a></span> (<span id="T:994" class="id"><a name="T:994" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:993">d</a></span>) (<span id="R:995" class="id"><a name="R:995" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="semi_linearity0.mu" class="id"><a name="semi_linearity0.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.R">R}</a></span>) (<span id="semi_linearity0.D" class="id"><a name="semi_linearity0.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.T">T</a></span>) (<span id="semi_linearity0.mD" class="id"><a name="semi_linearity0.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:997">D</a></span>).<br/>
<span class="vernacular">Variables</span> <span id="semi_linearity0.f1" class="id"><a name="semi_linearity0.f1" class="">f1</a></span> <span id="semi_linearity0.f2" class="id"><a name="semi_linearity0.f2" class="">f2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.R">R</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="semi_linearity0.f10" class="id"><a name="semi_linearity0.f10" class="">f10</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:1001" class="id"><a name="x:1001" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1001">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.f1">f1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1001">x</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="semi_linearity0.mf1" class="id"><a name="semi_linearity0.mf1" class="">mf1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.f1">f1</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="ge0_integralZl_EFin" class="id"><a name="ge0_integralZl_EFin" class="">ge0_integralZl_EFin</a></span> <span id="k:1004" class="id"><a name="k:1004" class="">k</a></span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1004">k</a></span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1005" class="id"><a name="x:1005" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1004">k</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.f1">f1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1005">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1004">k</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1006" class="id"><a name="x:1006" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.f1">f1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1006">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof145')">Proof.</span></div>
<div class="proofscript" id="proof145">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_scale">erestrict_scale</a></span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]integral_mkcond</a></span> <span class="id">=&gt;</span> <span class="id">k0</span>.<br/>
<span class="id">set</span> <span class="id">h1</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.f1">f1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.D">D</a></span>.<br/>
<span class="id">have</span> <span class="id">h10</span> <span class="id">x</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">h1</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1007">x</a></span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span>.<br/>
<span class="id">have</span> <span class="id">mh1</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">h1</span> <span class="gallina-kwd">by</span> <span class="id">apply/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.mD">mD</a></span>).<br/>
<span class="id">have</span> <span class="id">[g</span> <span class="id">[nd_g</span> <span class="id">gh1]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mh1</span> (<span class="gallina-kwd">fun</span> <span id="x:1008" class="id"><a name="x:1008" class="">x</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">h10</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1008">x</a></span>).<br/>
<span class="id">pose</span> <span class="id">kg</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="n:1009" class="id"><a name="n:1009" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#scale_nnsfun">scale_nnsfun</a></span> (<span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1009">n</a></span>) <span class="id">k0</span>.<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_ge0_integral_lim">nd_ge0_integral_lim</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.mu">mu</a></span> (<span class="gallina-kwd">fun</span> <span id="x:1012" class="id"><span id="x:1011" class="id"><span id="x:1010" class="id"><a name="x:1012" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id">k</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id">h1</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1010">x</a></span>) <span class="id">kg</span>).<br/>
<span class="id">-</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">fun</span> <span id="n:1015" class="id"><span id="n:1014" class="id"><span id="n:1013" class="id"><a name="n:1015" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#scale_nnsfun">scale_nnsfun</a></span> (<span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1013">n</a></span>) <span class="id">k0</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="n:1018" class="id"><span id="n:1017" class="id"><span id="n:1016" class="id"><a name="n:1018" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id">k</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.mu">mu</a></span> (<span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1016">n</a></span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#limeMl">limeMl</a></span> <span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#is_cvg_sintegral">is_cvg_sintegral</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">apply/</span>(<span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">x</span> <span class="id">nd_g</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_ge0_integral_lim">nd_ge0_integral_lim</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.mu">mu</a></span> <span class="id">h10</span>) <span class="id">//</span> <span class="id">=&gt;</span> <span class="id">x;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[exact/</span>(<span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">x</span> <span class="id">nd_g</span>)<span class="id">|exact:</span> <span class="id">gh1]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM">sintegralrM</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.mu">mu</a></span> <span class="id">k</span> (<span class="id">g</span> <span class="id">_</span>)).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">rewrite</span> <span class="id">/kg</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pM">ler_pM//;</a></span> <span class="id">exact/lefP/nd_g</span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:1021">X</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">_]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="n:1022" class="id"><span id="n:1020" class="id"><span id="n:1019" class="id"><a name="n:1022" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id">k</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1019">n</a></span> <span class="id">x</span>)%<span class="id">:E</span>)) <span class="id">?funeqE//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeMl">cvgeMl</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">gh1</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0">semi_linearity0</a></span>.<br/>
<span class="id">#[deprecated</span>(<span class="id">since=</span><span class="id">&quot;mathcomp-analysis 0.6.4&quot;, note=&quot;use `ge0_integralZl_EFin` instead&quot;</span>)<span class="id">]</span><br/>
<span class="vernacular">Notation</span> <span id="ge0_integralM_EFin" class="id"><a name="ge0_integralM_EFin" class="">ge0_integralM_EFin</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl_EFin">ge0_integralZl_EFin</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="semi_linearity" class="id"><a name="semi_linearity" class="">semi_linearity</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1023" class="id"><a name="d:1023" class="">d</a></span> (<span id="T:1024" class="id"><a name="T:1024" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1023">d</a></span>) (<span id="R:1025" class="id"><a name="R:1025" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="semi_linearity.mu" class="id"><a name="semi_linearity.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.R">R}</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="semi_linearity.D" class="id"><a name="semi_linearity.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.T">T</a></span>) (<span id="semi_linearity.mD" class="id"><a name="semi_linearity.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1027">D</a></span>) (<span id="semi_linearity.f1" class="id"><a name="semi_linearity.f1" class="">f1</a></span> <span id="semi_linearity.f2" class="id"><a name="semi_linearity.f2" class="">f2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.R">R</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="semi_linearity.f10" class="id"><a name="semi_linearity.f10" class="">f10</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:1031" class="id"><a name="x:1031" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1031">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f1">f1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1031">x</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="semi_linearity.mf1" class="id"><a name="semi_linearity.mf1" class="">mf1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f1">f1</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="semi_linearity.f20" class="id"><a name="semi_linearity.f20" class="">f20</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:1034" class="id"><a name="x:1034" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1034">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f2">f2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1034">x</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="semi_linearity.mf2" class="id"><a name="semi_linearity.mf2" class="">mf2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f2">f2</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="ge0_integralD" class="id"><a name="ge0_integralD" class="">ge0_integralD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1037" class="id"><a name="x:1037" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f1">f1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1037">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f2">f2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1037">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1038" class="id"><a name="x:1038" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f1">f1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1038">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1039" class="id"><a name="x:1039" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f2">f2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1039">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof146')">Proof.</span></div>
<div class="proofscript" id="proof146">
<span class="id">rewrite</span> <span class="id">!</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.numfun.html#erestrictD">erestrictD</a></span>.<br/>
<span class="id">set</span> <span class="id">h1</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f1">f1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D;</a></span> <span class="id">set</span> <span class="id">h2</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f2">f2</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span>.<br/>
<span class="id">have</span> <span class="id">h10</span> <span class="id">x</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">h1</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1040">x</a></span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span>.<br/>
<span class="id">have</span> <span class="id">h20</span> <span class="id">x</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">h2</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1041">x</a></span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span>.<br/>
<span class="id">have</span> <span class="id">mh1</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">h1</span> <span class="gallina-kwd">by</span> <span class="id">apply/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.mD">mD</a></span>).<br/>
<span class="id">have</span> <span class="id">mh2</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">h2</span> <span class="gallina-kwd">by</span> <span class="id">apply/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.mD">mD</a></span>).<br/>
<span class="id">have</span> <span class="id">[g1</span> <span class="id">[nd_g1</span> <span class="id">gh1]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mh1</span> (<span class="gallina-kwd">fun</span> <span id="x:1042" class="id"><a name="x:1042" class="">x</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">h10</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1042">x</a></span>).<br/>
<span class="id">have</span> <span class="id">[g2</span> <span class="id">[nd_g2</span> <span class="id">gh2]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mh2</span> (<span class="gallina-kwd">fun</span> <span id="x:1043" class="id"><a name="x:1043" class="">x</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">h20</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1043">x</a></span>).<br/>
<span class="id">pose</span> <span class="id">g12</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="n:1044" class="id"><a name="n:1044" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#add_nnsfun">add_nnsfun</a></span> (<span class="id">g1</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1044">n</a></span>) (<span class="id">g2</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1044">n</a></span>).<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_ge0_integral_lim">nd_ge0_integral_lim</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.mu">mu</a></span> <span class="id">_</span> <span class="id">g12</span>) <span class="id">//;</span> <span class="id">last</span> <span class="id">3</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_seqD">nondecreasing_seqD</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[exact/</span>(<span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">x</span> <span class="id">nd_g1</span>)<span class="id">|exact/</span>(<span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">x</span> <span class="id">nd_g2</span>)<span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="n:1047" class="id"><span id="n:1046" class="id"><span id="n:1045" class="id"><a name="n:1047" class="">n</a></span></span></span> <span class="id">=&gt;</span> (<span class="id">g1</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1045">n</a></span> <span class="id">x</span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> (<span class="id">g2</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1045">n</a></span> <span class="id">x</span>)%<span class="id">:E</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeD">cvgeD</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[|exact:</span> <span class="id">gh1|exact:</span> <span class="id">gh2]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_adde_def">ge0_adde_def</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">!inE;</span> <span class="id">[exact:</span> <span class="id">h10|exact:</span> <span class="id">h20]</span>.<br/>
<span class="id">under</span> <span class="id">[_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">_]eq_fun</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD">sintegralD</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_ge0_integral_lim">nd_ge0_integral_lim</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="x:1050" class="id"><span id="x:1049" class="id"><span id="x:1048" class="id"><a name="x:1050" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1048">x</a></span> <span class="id">nd_g1</span>)) <span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">exact:</span> <span class="id">gh1</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_ge0_integral_lim">nd_ge0_integral_lim</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="x:1053" class="id"><span id="x:1052" class="id"><span id="x:1051" class="id"><a name="x:1053" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1051">x</a></span> <span class="id">nd_g2</span>)) <span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">exact:</span> <span class="id">gh2</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#limeD">limeD</a></span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#is_cvg_sintegral">is_cvg_sintegral</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">exact/</span>(<span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">x</span> <span class="id">nd_g1</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#is_cvg_sintegral">is_cvg_sintegral</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">exact/</span>(<span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">x</span> <span class="id">nd_g2</span>).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_adde_def">ge0_adde_def</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_ge">lime_ge</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#is_cvg_sintegral">is_cvg_sintegral</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">exact/</span>(<span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">x</span> <span class="id">nd_g1</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_ge0">sintegral_ge0</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#is_cvg_sintegral">is_cvg_sintegral</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">exact/</span>(<span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">x</span> <span class="id">nd_g2</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_ge0">sintegral_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ge0_le_integral" class="id"><a name="ge0_le_integral" class="">ge0_le_integral</a></span> <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="x:1054" class="id"><a name="x:1054" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1054">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f1">f1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1054">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f2">f2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1054">x</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1055" class="id"><a name="x:1055" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f1">f1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1055">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1056" class="id"><a name="x:1056" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f2">f2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1056">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof147')">Proof.</span></div>
<div class="proofscript" id="proof147">
<span class="id">move=&gt;</span> <span class="id">f12;</span> <span class="id">rewrite</span> <span class="id">!</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span>).<br/>
<span class="id">set</span> <span class="id">h1</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f1">f1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D;</a></span> <span class="id">set</span> <span class="id">h2</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f2">f2</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span>.<br/>
<span class="id">have</span> <span class="id">h10</span> <span class="id">x</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">h1</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1057">x</a></span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span>.<br/>
<span class="id">have</span> <span class="id">h20</span> <span class="id">x</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">h2</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1058">x</a></span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span>.<br/>
<span class="id">have</span> <span class="id">mh1</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">h1</span> <span class="gallina-kwd">by</span> <span class="id">apply/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.mD">mD</a></span>).<br/>
<span class="id">have</span> <span class="id">mh2</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">h2</span> <span class="gallina-kwd">by</span> <span class="id">apply/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.mD">mD</a></span>).<br/>
<span class="id">have</span> <span class="id">h12</span> <span class="id">x</span> <span class="id">:</span> <span class="id">h1</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1059">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">h2</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1059">x</a></span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#lee_restrict">lee_restrict</a></span>.<br/>
<span class="id">have</span> <span class="id">[g1</span> <span class="id">[nd_g1</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>)<span class="id">gh1]]</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mh1</span> (<span class="gallina-kwd">fun</span> <span id="x:1060" class="id"><a name="x:1060" class="">x</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">h10</span> <span class="id">_</span>).<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_ge0_integral_lim">nd_ge0_integral_lim</a></span> <span class="id">_</span> <span class="id">h10</span> (<span class="gallina-kwd">fun</span> <span id="x:1063" class="id"><span id="x:1062" class="id"><span id="x:1061" class="id"><a name="x:1063" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1061">x</a></span> <span class="id">nd_g1</span>) <span class="id">gh1</span>)<span class="id">//</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_le">lime_le</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#is_cvg_sintegral">is_cvg_sintegral</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">t</span> <span class="id">Dt;</span> <span class="id">exact/</span>(<span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">t</span> <span class="id">nd_g1</span>).<br/>
<span class="id">near=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralTE">ge0_integralTE//;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id">g1</span> <span class="id">n</span>) <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">t;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id">h12</span> <span class="id">_</span>)) <span class="id">//</span>.<br/>
<span class="id">have</span> <span class="id">:=</span> <span class="id">gh1</span> <span class="id">t</span>.<br/>
<span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> (<span class="id">h1</span> <span class="id">t</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[-&gt;|ftoo]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
<span class="id">have</span> <span class="id">h1tfin</span> <span class="id">:</span> <span class="id">h1</span> <span class="id">t</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.gt_eqF">gt_eqF/=</a></span> <span class="id">?lt_eqF//</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">_</span> (<span class="id">h10</span> <span class="id">t</span>)).<br/>
<span class="id">have</span> <span class="id">:=</span> <span class="id">gh1</span> <span class="id">t</span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">h1tfin</span>) <span class="id">=&gt;</span> <span class="id">/fine_cvgP[ft_near]</span>.<br/>
<span class="id">set</span> <span class="id">u_</span> <span class="id">:=</span> (<span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:1064">X</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">u_h1</span> <span class="id">g1h1</span>.<br/>
<span class="id">have</span> <span class="id">&lt;-</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">u_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">h1</span> <span class="id">t</span>) <span class="gallina-kwd">by</span> <span class="id">exact/cvg_lim</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_cvgn_le">nondecreasing_cvgn_le</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">//</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab;</span> <span class="id">rewrite</span> <span class="id">/u_</span> <span class="id">/=;</span> <span class="id">exact/lefP/nd_g1</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/cvg_ex;</span> <span class="id">eexists;</span> <span class="id">exact:</span> <span class="id">u_h1</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity">semi_linearity</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="approximation_sfun" class="id"><a name="approximation_sfun" class="">approximation_sfun</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:1065" class="id"><a name="d:1065" class="">d</a></span> (<span id="T:1066" class="id"><a name="T:1066" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1065">d</a></span>) (<span id="R:1067" class="id"><a name="R:1067" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="f:1068" class="id"><a name="f:1068" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:1066">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:1067">R</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="approximation_sfun.D" class="id"><a name="approximation_sfun.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.T">T</a></span>) (<span id="approximation_sfun.mD" class="id"><a name="approximation_sfun.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1069">D</a></span>) (<span id="approximation_sfun.mf" class="id"><a name="approximation_sfun.mf" class="">mf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1069">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.f">f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="approximation_sfun" class="id"><a name="approximation_sfun" class="">approximation_sfun</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="g:1072" class="id"><a name="g:1072" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.R">R}^nat,</a></span> (<span class="gallina-kwd">forall</span> <span id="x:1073" class="id"><a name="x:1073" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1073">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1072">g^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1073">x</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1073">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof148')">Proof.</span></div>
<div class="proofscript" id="proof148">
<span class="id">have</span> <span class="id">[fp_</span> <span class="id">[fp_nd</span> <span class="id">fp_cvg]]</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.mD">mD</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.mf">mf</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#36dd16448713ee91dfa0961a8ba48e73">fun=&gt;</a></span> <span class="id">ltac:</span>(<span class="gallina-kwd">by</span> <span class="id">[]</span>)).<br/>
<span class="id">have</span> <span class="id">[fn_</span> <span class="id">[fn_nd</span> <span class="id">fn_cvg]]</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.mD">mD</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.mf">mf</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#36dd16448713ee91dfa0961a8ba48e73">fun=&gt;</a></span> <span class="id">ltac:</span>(<span class="gallina-kwd">by</span> <span class="id">[]</span>)).<br/>
<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span id="n:1075" class="id"><span id="n:1074" class="id"><a name="n:1075" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.R">R}</a></span> <span class="id">of</span> <span class="id">fp_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1074">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#d85e5ec1adc01afcee458717bbaea5e5">\+</a></span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">-1</span>) <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#97c66421897c043c5333ab3c7e831f5b">\*</a></span> <span class="id">fn_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1074">n]</a></span>) <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:1076">X</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">_]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">fp_^~</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#b9ea624cf1ed6f77d648bedb1e978b55">-</a></span>%<span class="id">E</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">fn_^~</span> <span class="id">x</span>))%<span class="id">E;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">n/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulN1r">mulN1r</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">Dx;</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#funeposneg">funeposneg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.f">f</a></span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeD">cvgeD;</a></span><br/>
&nbsp;&nbsp;<span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#add_def_funeposneg">add_def_funeposneg|apply:</a></span> <span class="id">fp_cvg|apply:cvgeN;</span> <span class="id">exact:</span> <span class="id">fn_cvg]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun">approximation_sfun</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="lusin" class="id"><a name="lusin" class="">lusin</a></span>.<br/>
<span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span>  (<span class="id"><a href="mathcomp.analysis.topology.html#hausdorff_space">hausdorff_space</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> (<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#Rhausdorff">Rhausdorff</a></span> ) <span class="id">:</span> <span class="id">core</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> (<span id="rT:1077" class="id"><a name="rT:1077" class="">rT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="A:1078" class="id"><a name="A:1078" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#rT:1077">rT</a></span>).<br/>
<span class="vernacular">Let</span> <span id="lusin.mu" class="id"><a name="lusin.mu" class="">mu</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.rT">rT]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="lusin.R" class="id"><a name="lusin.R" class="">R</a></span>  <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurableTypeR">measurableTypeR</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.rT">rT]</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="lusin.mA" class="id"><a name="lusin.mA" class="">mA</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="lusin.finA" class="id"><a name="lusin.finA" class="">finA</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="lusin.lusin_simple" class="id"><a name="lusin.lusin_simple" class="">lusin_simple</a></span> (<span id="f:1081" class="id"><a name="f:1081" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.R">R</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.rT">rT}</a></span>) (<span id="eps:1082" class="id"><a name="eps:1082" class="">eps</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.rT">rT</a></span>) <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eps:1082">eps</a></span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="K:1083" class="id"><a name="K:1083" class="">K,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014">[/\</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#compact">compact</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:1083">K,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:1083">K</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:1083">K</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eps:1082">eps</a></span>%<span class="id">:E</span> &amp;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:1083">K,</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1081">f}]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof149')">Proof.</span></div>
<div class="proofscript" id="proof149">
<span class="id">move:</span> <span class="id">eps=&gt;</span> <span class="id">_/posnumP[eps];</span> <span class="id">have</span> <span class="id">[N</span> <span class="id">/card_fset_set</span> <span class="id">rfN]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.cardinality.html#fimfunP">fimfunP</a></span> <span class="id">f</span>.<br/>
<span class="id">pose</span> <span class="id">Af</span> <span id="x:1085" class="id"><span id="x:1084" class="id"><a name="x:1085" class="">x</a></span></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.R">R</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">f</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1085">x]</a></span>.<br/>
<span class="id">have</span> <span class="id">mAf</span> <span class="id">x</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">Af</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1086">x</a></span>) <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">have</span> <span class="id">finAf</span> <span class="id">x</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> (<span class="id">Af</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1087">x</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.finA">finA</a></span>)<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure//</a></span> <span class="id">?inE//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subIsetl">subIsetl</a></span>.<br/>
<span class="id">have</span> <span class="id">eNpos</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">eps</span>%<span class="id">:num/N</span>.<span class="id">+1</span>%<span class="id">:R</span>)%<span class="id">R</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">have</span> <span class="id">dK'</span> <span class="id">x</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity_inner">lebesgue_regularity_inner</a></span> (<span class="id">mAf</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1088">x</a></span>) (<span class="id">finAf</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1088">x</a></span>) <span class="id">eNpos</span>.<br/>
<span class="id">pose</span> <span class="id">dK</span> <span id="x:1090" class="id"><span id="x:1089" class="id"><a name="x:1090" class="">x</a></span></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.R">R</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT1">projT1</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">dK'</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1090">x</a></span>))<span class="id">;</span> <span class="id">pose</span> <span class="id">J</span> <span id="i:1092" class="id"><span id="i:1091" class="id"><a name="i:1092" class="">i</a></span></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.R">R</a></span> <span class="id">:=</span> <span class="id">Af</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1092">i</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id">dK</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1092">i</a></span>.<br/>
<span class="id">have</span> <span class="id">dkP</span> <span class="id">x</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">dK'</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1093">x</a></span>)).<br/>
<span class="id">have</span> <span class="id">mdK</span> <span class="id">i</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">dK</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1094">i</a></span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#closed_measurable">closed_measurable;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#compact_closed">compact_closed</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">case:</span> (<span class="id">dkP</span> <span class="id">i</span>).<br/>
<span class="id">have</span> <span class="id">mJ</span> <span class="id">i</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">J</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1095">i</a></span>) <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">have</span> <span class="id">dKsub</span> <span class="id">z</span> <span class="id">:</span> <span class="id">dK</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:1096">z</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id">f</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:1096">z]</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">dkP</span> <span class="id">z</span>) <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">/subset_trans</span> <span class="id">+</span> <span class="id">_;</span> <span class="id">apply</span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">[]</span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#6c1866a3b78974b64276da9cd4d63a55">\bigcup_</a></span>(<span id="i:1098" class="id"><span id="i:1097" class="id"><a name="i:1098" class="">i</a></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>) <span class="id">dK</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1097">i</a></span>)<span class="id">;</span> <span class="id">split</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-bigsetU_fset_set//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#bigsetU_compact">bigsetU_compact=&gt;//</a></span> <span class="id">i</span> <span class="id">_;</span> <span class="id">case:</span> (<span class="id">dkP</span> <span class="id">i</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">[y</span> <span class="id">_</span> <span class="id">dy];</span> <span class="id">have</span> <span class="id">[_</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">_</span> <span class="id">dy</span>) <span class="id">[]]</span> <span class="id">:=</span> <span class="id">dkP</span> <span class="id">y</span>.<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#6c1866a3b78974b64276da9cd4d63a55">\bigcup_</a></span>(<span id="i:1099" class="id"><a name="i:1099" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>) <span class="id">dK</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1099">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#6c1866a3b78974b64276da9cd4d63a55">\bigcup_</a></span>(<span id="i:1100" class="id"><a name="i:1100" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>) <span class="id">J</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1100">i</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-bigcupDr</span> <span class="id">/=</span> <span class="id">?eqEsubset;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>)<span class="id">,</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split</span> <span class="id">=&gt;</span> <span class="id">z;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id">_</span> (<span class="id">f</span> <span class="id">z</span>)) <span class="id">[//|</span> <span class="id">?</span> <span class="id">?];</span> <span class="gallina-kwd">exists</span> (<span class="id">f</span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">[?</span> <span class="id">_</span> <span class="id">&lt;-]</span> <span class="id">[[zab</span> <span class="id">/=</span> <span class="id">&lt;-</span> <span class="id">nfz]]</span> <span class="id">?</span> <span class="id">[r</span> <span class="id">_</span> <span class="id">&lt;-];</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">nfz;</span> <span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_not">contra_not</a></span> <span class="id">=&gt;</span> <span class="id">/[dup]</span> <span class="id">/dKsub</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="i:1108" class="id"><span id="i:1107" class="id"><span id="i:1106" class="id"><span id="i:1105" class="id"><span id="i:1104" class="id"><span id="i:1103" class="id"><span id="i:1102" class="id"><span id="i:1101" class="id"><a name="i:1108" class="">i</a></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> (<span class="id">J</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1101">i</a></span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#content_sub_fsum">content_sub_fsum</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#fin_bigcup_measurable">fin_bigcup_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.ereal.html#lee_fsum">lee_fsum</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#36dd16448713ee91dfa0961a8ba48e73">fun=&gt;</a></span> (<span class="id">eps</span>%<span class="id">:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">N</span>.<span class="id">+1</span>%<span class="id">:R</span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id">1</span>%<span class="id">:E</span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">i</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1;</a></span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW;</a></span> <span class="id">have</span> <span class="id">[_</span> <span class="id">_]</span> <span class="id">:=</span> <span class="id">dkP</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/=-ge0_mule_fsumr</span> <span class="id">//</span> <span class="id">-esum_fset</span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.measure.html#finite_card_sum">finite_card_sum</a></span> <span class="id">//</span> <span class="id">-EFinM</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">rfN</span> <span class="id">-mulrA</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.gtr_pMr">gtr_pMr</a></span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulrC">mulrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pdivrMr">ltr_pdivrMr</a></span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mul1r">mul1r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_nat">ltr_nat</a></span>.<br/>
<span class="id">-</span> <span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#closed">closed</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#6c1866a3b78974b64276da9cd4d63a55">\bigcup_</a></span>(<span id="i:1109" class="id"><a name="i:1109" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>) <span class="id">dK</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1109">i</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#6c1866a3b78974b64276da9cd4d63a55">\bigcup_</a></span>(<span id="i:1110" class="id"><a name="i:1110" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>) <span class="id">dK</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1110">i,</a></span> <span class="id">continuous</span> <span class="id">f}</span> <span class="gallina-kwd">by</span> <span class="id">case</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-bigsetU_fset_set</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_ind">big_ind</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="U:1112" class="id"><span id="U:1111" class="id"><a name="U:1112" class="">U</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.topology.html#closed">closed</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#U:1111">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#U:1111">U,</a></span> <span class="id">continuous</span> <span class="id">f}</span>)).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#closed0">closed0</a></span> <span class="id">|</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace0">continuous_subspace0]</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">?</span> <span class="id">[?</span> <span class="id">?][?</span> <span class="id">?];</span> <span class="id">split;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#closedU">closedU|exact:</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#withinU_continuous">withinU_continuous]</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">move=&gt;</span> <span class="id">i</span> <span class="id">_;</span> <span class="id">split;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#compact_closed">compact_closed;</a></span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id">dkP</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW</a></span> (<span class="id">dKsub</span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.topology.html#subspace_eq_continuous">subspace_eq_continuous</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#36dd16448713ee91dfa0961a8ba48e73">fun=&gt;</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">/set_mem</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceT">continuous_subspaceT</a></span> <span class="id">=&gt;</span> <span class="id">?;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="lusin.measurable_almost_continuous'" class="id"><a name="lusin.measurable_almost_continuous'" class="">measurable_almost_continuous'</a></span> (<span id="f:1113" class="id"><a name="f:1113" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.R">R</a></span>) (<span id="eps:1114" class="id"><a name="eps:1114" class="">eps</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.rT">rT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eps:1114">eps</a></span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1113">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">exists</span> <span id="K:1115" class="id"><a name="K:1115" class="">K,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014">[/\</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:1115">K,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:1115">K</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:1115">K</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eps:1114">eps</a></span>%<span class="id">:E</span> &amp;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:1115">K,</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1113">f}]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof150')">Proof.</span></div>
<div class="proofscript" id="proof150">
<span class="id">move:</span> <span class="id">eps=&gt;</span> <span class="id">_/posnumP[eps]</span> <span class="id">mf;</span> <span class="id">pose</span> <span class="id">f'</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">f</span>.<br/>
<span class="id">have</span> <span class="id">mf'</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> <span class="id">f'</span> <span class="gallina-kwd">by</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
<span class="id">have</span> <span class="id">[/=</span> <span class="id">g_</span> <span class="id">gf']</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun">approximation_sfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.R">R</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.rT">rT</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mA">mA</a></span> <span class="id">mf'</span>.<br/>
<span class="id">pose</span> <span class="id">e2n</span> <span id="n:1116" class="id"><a name="n:1116" class="">n</a></span> <span class="id">:=</span> (<span class="id">eps</span>%<span class="id">:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">2</span>) <span class="id">/</span> (<span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c">^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1116">n</a></span>.<span class="id">+1</span>)%<span class="id">:R</span>.<br/>
<span class="id">have</span> <span class="id">e2npos</span> <span class="id">n</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">e2n</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1117">n</a></span>)%<span class="id">R</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.divr_gt0">divr_gt0</a></span>.<br/>
<span class="id">have</span> <span class="id">gK'</span> <span class="id">n</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.lusin_simple">lusin_simple</a></span> (<span class="id">g_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1118">n</a></span>) (<span class="id">e2n</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1118">n</a></span>) (<span class="id">e2npos</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1118">n</a></span>).<br/>
<span class="id">pose</span> <span class="id">gK</span> <span id="n:1119" class="id"><a name="n:1119" class="">n</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT1">projT1</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">gK'</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1119">n</a></span>))<span class="id">;</span> <span class="id">have</span> <span class="id">gKP</span> <span class="id">n</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">gK'</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1120">n</a></span>)).<br/>
<span class="id">pose</span> <span class="id">K</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0f075d0e59a6e8ec7e140f5f44f5e4cc">\bigcap_i</a></span> <span class="id">gK</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1121">i;</a></span> <span class="id">have</span> <span class="id">mgK</span> <span class="id">n</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">gK</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1122">n</a></span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#closed_measurable">closed_measurable;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#compact_closed">compact_closed</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id">gKP</span> <span class="id">n</span>.<br/>
<span class="id">have</span> <span class="id">mK</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">K</span> <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigcap_measurable">bigcap_measurable</a></span>.<br/>
<span class="id">have</span> <span class="id">Kab</span> <span class="id">:</span> <span class="id">K</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">/</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>)<span class="id">;</span> <span class="id">have</span> <span class="id">[_</span> <span class="id">+</span> <span class="id">_</span> <span class="id">_]</span> <span class="id">:=</span> <span class="id">gKP</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O;</a></span> <span class="id">apply</span>.<br/>
<span class="id">have</span> <span class="id">[]//</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#pointwise_almost_uniform">pointwise_almost_uniform</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.rT">rT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.R">R</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> <span class="id">g_</span> <span class="id">f</span> <span class="id">K</span> (<span class="id">eps</span>%<span class="id">:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">2</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">_</span> <span class="id">Kab</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure//</a></span> <span class="id">?inE</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">Kz;</span> <span class="id">have</span> <span class="id">/fine_fcvg</span> <span class="id">:=</span> <span class="id">gf'</span> <span class="id">z</span> (<span class="id">Kab</span> <span class="id">_</span> <span class="id">Kz</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">-fmap_comp</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#compA">compA</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">D</span> <span class="id">[/=</span> <span class="id">mD</span> <span class="id">Deps</span> <span class="id">KDf];</span> <span class="gallina-kwd">exists</span> (<span class="id">K</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id">D</span>)<span class="id">;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> <span class="id">Kab</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDDr">setDDr;</a></span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measureU2">measureU2</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[_</span>%<span class="id">:num]splitr</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_lt_add">lee_lt_add</a></span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">first</span> <span class="id">2</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> <span class="id">D</span>)) <span class="id">?le_measure</span> <span class="id">?inE//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE//</a></span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span> <span class="id">?inE//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDE">setDE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setC_bigcap">setC_bigcap</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setI_bigcupr">setI_bigcupr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span>(<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="k:1128" class="id"><span id="k:1127" class="id"><span id="k:1126" class="id"><span id="k:1125" class="id"><span id="k:1124" class="id"><span id="k:1123" class="id"><a name="k:1128" class="">k</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id">gK</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1123">k</a></span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_sigma_sub_additive">measure_sigma_sub_additive</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[|apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">_]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">k</span> <span class="id">/=;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id">mgK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">k</span> <span class="id">/=;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id">mgK</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span>(<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="k:1134" class="id"><span id="k:1133" class="id"><span id="k:1132" class="id"><span id="k:1131" class="id"><span id="k:1130" class="id"><span id="k:1129" class="id"><a name="k:1134" class="">k</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) (<span class="id">e2n</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1129">k</a></span>)%<span class="id">:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#epsilon_trick0">epsilon_trick0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#lee_nneseries">lee_nneseries</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">k</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW;</a></span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id">gKP</span> <span class="id">k</span>.<br/>
<span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.topology.html#uniform_limit_continuous_subspace">uniform_limit_continuous_subspace</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">g_</span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">near_simpl;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n;</span> <span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">gK</span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">[+</span> <span class="id">_];</span> <span class="id">apply</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">gK'</span> <span class="id">n</span>)).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_almost_continuous" class="id"><a name="measurable_almost_continuous" class="">measurable_almost_continuous</a></span> (<span id="f:1135" class="id"><a name="f:1135" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.R">R</a></span>) (<span id="eps:1136" class="id"><a name="eps:1136" class="">eps</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.rT">rT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eps:1136">eps</a></span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1135">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">exists</span> <span id="K:1137" class="id"><a name="K:1137" class="">K,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014">[/\</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#compact">compact</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:1137">K,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:1137">K</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:1137">K</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eps:1136">eps</a></span>%<span class="id">:E</span> &amp;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:1137">K,</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1135">f}]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof151')">Proof.</span></div>
<div class="proofscript" id="proof151">
<span class="id">move:</span> <span class="id">eps=&gt;</span> <span class="id">_/posnumP[eps]</span> <span class="id">mf;</span> <span class="id">have</span> <span class="id">e2pos</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">eps</span>%<span class="id">:num/2</span>)%<span class="id">R</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">have</span> <span class="id">[K</span> <span class="id">[mK</span> <span class="id">KA</span> <span class="id">?</span> <span class="id">?]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.measurable_almost_continuous'">measurable_almost_continuous'</a></span> <span class="id">e2pos</span> <span class="id">mf</span>.<br/>
<span class="id">have</span> <span class="id">Kfin</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> <span class="id">K</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.finA">finA</a></span>)<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span> <span class="id">?inE</span>.<br/>
<span class="id">have</span> <span class="id">[D</span> <span class="id">/=</span> <span class="id">[cD</span> <span class="id">DK</span> <span class="id">KDe]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity_inner">lebesgue_regularity_inner</a></span> <span class="id">mK</span> <span class="id">Kfin</span> <span class="id">e2pos</span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id">D;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">last</span> <span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW</a></span> <span class="id">DK</span>).<br/>
&nbsp;&nbsp;<span class="id">exact:</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> <span class="id">DK</span>).<br/>
<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id">D</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id">K</span>) <span class="id">`|`</span> (<span class="id">K</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id">D</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset;</a></span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">K</span> <span class="id">z</span>)) <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">?</span> <span class="id">[?</span> <span class="id">?];</span> <span class="id">[right</span> <span class="id">|</span> <span class="id">left]</span>.<br/>
&nbsp;&nbsp;<span class="id">case;</span> <span class="id">case=&gt;</span> <span class="id">az</span> <span class="id">nz;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[by</span> <span class="id">move:</span> <span class="id">z</span> <span class="id">nz</span> <span class="id">{az};</span> <span class="id">apply/subsetC|]</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id">KA</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measureU2">measureU2;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#closed_measurable">closed_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#compact_closed">compact_closed;</a></span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#Rhausdorff">Rhausdorff</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">[_</span> <span class="id">eps]splitr</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lteD">lteD</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin">lusin</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="emeasurable_fun" class="id"><a name="emeasurable_fun" class="">emeasurable_fun</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1138" class="id"><a name="d:1138" class="">d</a></span> (<span id="T:1139" class="id"><a name="T:1139" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1138">d</a></span>) (<span id="R:1140" class="id"><a name="R:1140" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">D</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.T">T</a></span>) (<span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="emeasurable_funD" class="id"><a name="emeasurable_funD" class="">emeasurable_funD</a></span> <span id="D:1141" class="id"><a name="D:1141" class="">D</a></span> <span id="f:1142" class="id"><a name="f:1142" class="">f</a></span> <span id="g:1143" class="id"><a name="g:1143" class="">g</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1141">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1142">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1141">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1143">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1141">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1142">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1143">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof152')">Proof.</span></div>
<div class="proofscript" id="proof152">
<span class="id">move=&gt;</span> <span class="id">mf</span> <span class="id">mg</span> <span class="id">mD</span>.<br/>
<span class="id">have</span> <span class="id">Cnoom</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>)) <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
<span class="id">have</span> <span class="id">Cpoom</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>)) <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
<span class="id">have</span> <span class="id">mfg</span> <span class="id">:</span>  <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:1144" class="id"><a name="x:1144" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1144">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#95c149a6c3d7e16b8d29b2e8ca838dd4">+?</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1144">x]</a></span>).<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:1145" class="id"><a name="x:1145" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1145">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#95c149a6c3d7e16b8d29b2e8ca838dd4">+?</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1145">x]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">f</span> @<span class="id">^-1`</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo]</a></span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#f0f4f4a06533e5eeff19ee265a896441">`|`</a></span> <span class="id">g</span> @<span class="id">^-1`</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo]</a></span>)) <span class="id">`</span>&amp;<span class="id">`</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">f</span> @<span class="id">^-1`</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo]</a></span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#f0f4f4a06533e5eeff19ee265a896441">`|`</a></span> <span class="id">g</span> @<span class="id">^-1`</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo]</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIIr">setIIr;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUr">setIUr;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU;</a></span> <span class="id">do</span> <span class="id">?[apply:</span> <span class="id">mf|apply:</span> <span class="id">mg]</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply/predeqP=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/preimage/=</span> <span class="id">/adde_def</span> <span class="id">!</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_or">negb_or</a></span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP2">rwP2</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqP">eqP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) <span class="id">!</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP2">rwP2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) <span class="id">!</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP2">rwP2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) <span class="id">!</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP2">rwP2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>).<br/>
<span class="id">wlog</span> <span class="id">fg</span> <span class="id">:</span> <span class="id">D</span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">mg</span> <span class="id">mfg</span> <span class="id">/</span> <span class="gallina-kwd">forall</span> <span id="x:1146" class="id"><a name="x:1146" class="">x,</a></span> <span class="id">D</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1146">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1146">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#95c149a6c3d7e16b8d29b2e8ca838dd4">+?</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1146">x</a></span> <span class="id">=&gt;</span> <span class="id">[hwlogD|];</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[f_</span> <span class="id">f_cvg]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun">approximation_sfun</a></span> <span class="id">mD</span> <span class="id">mf</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[g_</span> <span class="id">g_cvg]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun">approximation_sfun</a></span> <span class="id">mD</span> <span class="id">mg</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_cvg">emeasurable_fun_cvg</a></span> (<span class="gallina-kwd">fun</span> <span id="n:1149" class="id"><span id="n:1147" class="id"><a name="n:1149" class="">n</a></span></span> <span id="x:1150" class="id"><span id="x:1148" class="id"><a name="x:1150" class="">x</a></span></span> <span class="id">=&gt;</span> (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1147">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1148">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">g_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1147">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1148">x</a></span>)%<span class="id">:E</span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">apply/EFin_measurable_fun/measurable_funTS/measurable_funD</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeD">cvgeD</a></span> (<span class="id">fg</span> <span class="id">_</span> <span class="id">_</span>) (<span class="id">f_cvg</span> <span class="id">_</span> <span class="id">_</span>) (<span class="id">g_cvg</span> <span class="id">_</span> <span class="id">_</span>).<br/>
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">mA;</span> <span class="id">wlog</span> <span class="id">NAnoo:</span> <span class="id">A</span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">mg</span> <span class="id">mA</span> <span class="id">/</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~</a></span> (<span class="id">A</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>) <span class="id">=&gt;</span> <span class="id">[hwlogA|]</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">A</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>)<span class="id">;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id">hwlogA</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/</span>(@<span class="id"><a href="mathcomp.classical.classical_sets.html#setD1K">setD1K</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>)<span class="id">&lt;-;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_setU">preimage_setU</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUr">setIUr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">hwlogA=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD|case=&gt;/=]</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id">g</span>) @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">f</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#f0f4f4a06533e5eeff19ee265a896441">`|`</a></span> <span class="id">g</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo]</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">[/eqP|[]];</span> <span class="id">rewrite</span> <span class="id">/preimage/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_eq_ninfty">adde_eq_ninfty</a></span> <span class="id">=&gt;</span> <span class="id">/orP[]</span> <span class="id">/eqP-&gt;;</span> <span class="id">[left|right]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move-&gt;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUr">setIUr;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU;</a></span> <span class="id">[apply:</span> <span class="id">mf|apply:</span> <span class="id">mg]</span>.<br/>
<span class="id">have-&gt;</span> <span class="id">:</span> <span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id">g</span>) @<span class="id">^-1`</span> <span class="id">A</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:1151" class="id"><a name="x:1151" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1151">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#95c149a6c3d7e16b8d29b2e8ca838dd4">+?</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1151">x]</a></span>) <span class="id">`</span>&amp;<span class="id">`</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id">g</span>) @<span class="id">^-1`</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-setIA;</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/preimage/=;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">case</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">Afgx;</span> <span class="id">split=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">f</span> <span class="id">x</span>) (<span class="id">g</span> <span class="id">x</span>) <span class="id">Afgx</span> <span class="id">=&gt;</span> <span class="id">[rf||]</span> <span class="id">[rg||]</span>.<br/>
<span class="id">have</span> <span class="id">Dfg</span> <span class="id">:</span> <span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:1152" class="id"><a name="x:1152" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1152">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#95c149a6c3d7e16b8d29b2e8ca838dd4">+?</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1152">x]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id">D</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subIset">subIset;</a></span> <span class="id">left</span>.<br/>
<span class="id">apply:</span> <span class="id">hwlogD</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mD</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">do</span> <span class="id">?exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mD</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">do</span> <span class="id">?exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-setIA</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">[]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="emeasurable_fun_sum" class="id"><a name="emeasurable_fun_sum" class="">emeasurable_fun_sum</a></span> <span id="D:1153" class="id"><a name="D:1153" class="">D</a></span> <span id="I:1154" class="id"><a name="I:1154" class="">I</a></span> <span id="s:1155" class="id"><a name="s:1155" class="">s</a></span> (<span id="h:1156" class="id"><a name="h:1156" class="">h</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I:1154">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>)) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="n:1157" class="id"><a name="n:1157" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1153">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:1156">h</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1157">n</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1153">D</a></span> (<span class="gallina-kwd">fun</span> <span id="x:1158" class="id"><a name="x:1158" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#2ed228b16343d82e9e410c7fc103f88a">\sum_</a></span>(<span id="i:1161" class="id"><span id="i:1160" class="id"><span id="i:1159" class="id"><a name="i:1161" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#2ed228b16343d82e9e410c7fc103f88a">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#s:1155">s</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:1156">h</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1159">i</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1158">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof153')">Proof.</span></div>
<div class="proofscript" id="proof153">
<span class="id">elim:</span> <span class="id">s</span> <span class="id">=&gt;</span> <span class="id">[|s</span> <span class="id">t</span> <span class="id">ih]</span> <span class="id">mf</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_nil">big_nil;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_cst">measurable_cst</a></span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_cons">big_cons</a></span> <span class="id">//=;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">exact:</span> <span class="id">ih</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="emeasurable_fun_fsum" class="id"><a name="emeasurable_fun_fsum" class="">emeasurable_fun_fsum</a></span> <span id="D:1162" class="id"><a name="D:1162" class="">D</a></span> (<span id="I:1163" class="id"><a name="I:1163" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span id="A:1164" class="id"><a name="A:1164" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I:1163">I</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="h:1165" class="id"><a name="h:1165" class="">h</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I:1163">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>)) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:1164">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="n:1166" class="id"><a name="n:1166" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1162">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:1165">h</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1166">n</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1162">D</a></span> (<span class="gallina-kwd">fun</span> <span id="x:1167" class="id"><a name="x:1167" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="i:1171" class="id"><span id="i:1170" class="id"><span id="i:1169" class="id"><span id="i:1168" class="id"><a name="i:1171" class="">i</a></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:1164">A</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:1165">h</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1168">i</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1167">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof154')">Proof.</span></div>
<div class="proofscript" id="proof154">
<span class="id">move=&gt;</span> <span class="id">fs</span> <span class="id">mh;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//</a></span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_sum">emeasurable_fun_sum</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ge0_emeasurable_fun_sum" class="id"><a name="ge0_emeasurable_fun_sum" class="">ge0_emeasurable_fun_sum</a></span> <span id="D:1172" class="id"><a name="D:1172" class="">D</a></span> (<span id="h:1173" class="id"><a name="h:1173" class="">h</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>)) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="k:1174" class="id"><a name="k:1174" class="">k</a></span> <span id="x:1175" class="id"><a name="x:1175" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:1173">h</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1174">k</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1175">x</a></span>) <span class="id">-&gt;</span> (<span class="gallina-kwd">forall</span> <span id="k:1176" class="id"><a name="k:1176" class="">k,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1172">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:1173">h</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1176">k</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1172">D</a></span> (<span class="gallina-kwd">fun</span> <span id="x:1177" class="id"><a name="x:1177" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="i:1180" class="id"><span id="i:1179" class="id"><span id="i:1178" class="id"><a name="i:1180" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:1173">h</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1178">i</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1177">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof155')">Proof.</span></div>
<div class="proofscript" id="proof155">
<span class="id">move=&gt;</span> <span class="id">h0</span> <span class="id">mh;</span> <span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:1191">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:1192" class="id"><span id="x:1186" class="id"><span id="x:1181" class="id"><a name="x:1192" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.sequences.html#limn_esup">limn_esup</a></span> (<span class="gallina-kwd">fun</span> <span id="n:1193" class="id"><span id="n:1187" class="id"><span id="n:1182" class="id"><a name="n:1193" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#98bc974fd64583a6d22eda494d2559c2">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#98bc974fd64583a6d22eda494d2559c2">&lt;=</a></span> <span id="i:1196" class="id"><span id="i:1195" class="id"><span id="i:1194" class="id"><span id="i:1190" class="id"><span id="i:1189" class="id"><span id="i:1188" class="id"><span id="i:1185" class="id"><span id="i:1184" class="id"><span id="i:1183" class="id"><a name="i:1196" class="">i</a></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#98bc974fd64583a6d22eda494d2559c2">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1182">n</a></span>) <span class="id">h</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1183">i</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1181">x</a></span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/funext=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_limn_esupE">is_cvg_limn_esupE//</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_ereal_nneg_natsum">is_cvg_ereal_nneg_natsum</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_limn_esup">measurable_fun_limn_esup</a></span> <span class="id">=&gt;</span> <span class="id">k;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_sum">emeasurable_fun_sum</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="emeasurable_funB" class="id"><a name="emeasurable_funB" class="">emeasurable_funB</a></span> <span id="D:1197" class="id"><a name="D:1197" class="">D</a></span> <span id="f:1198" class="id"><a name="f:1198" class="">f</a></span> <span id="g:1199" class="id"><a name="g:1199" class="">g</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1197">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1198">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1197">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1199">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1197">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1198">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#413a754bf74f3e306cb2b48b8fe944d4">\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1199">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof156')">Proof.</span></div>
<div class="proofscript" id="proof156">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">mf</span> <span class="id">mg</span> <span class="id">mD;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="emeasurable_funM" class="id"><a name="emeasurable_funM" class="">emeasurable_funM</a></span> <span id="D:1200" class="id"><a name="D:1200" class="">D</a></span> <span id="f:1201" class="id"><a name="f:1201" class="">f</a></span> <span id="g:1202" class="id"><a name="g:1202" class="">g</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1200">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1201">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1200">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1202">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1200">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1201">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1b777d6ed36ff4e9cc54d468aac5be7a">\*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1202">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof157')">Proof.</span></div>
<div class="proofscript" id="proof157">
<span class="id">move=&gt;</span> <span class="id">mf</span> <span class="id">mg</span> <span class="id">mD</span>.<br/>
<span class="id">have</span> <span class="id">m0</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">0]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>)) <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">have</span> <span class="id">mC0</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#3dde060273a7d21198e50a79e780aafd">[set~</a></span> <span class="id">0]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>)) <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
<span class="id">have</span> <span class="id">mCoo</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#5a7092a84ffebb249d94ea1f3b2cd778">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">exact/measurableC/measurableU</span>.<br/>
<span class="id">have</span> <span class="id">mfg</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:1203" class="id"><a name="x:1203" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1203">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#c01952ca28b1189368386654f511e1c2">*?</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1203">x]</a></span>).<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:1204" class="id"><a name="x:1204" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1204">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#c01952ca28b1189368386654f511e1c2">*?</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1204">x]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">f</span> @<span class="id">^-1`</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">0]</span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#f0f4f4a06533e5eeff19ee265a896441">`|`</a></span> <span class="id">g</span> @<span class="id">^-1`</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#5a7092a84ffebb249d94ea1f3b2cd778">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo]</a></span>)) <span class="id">`</span>&amp;<span class="id">`</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">g</span> @<span class="id">^-1`</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">0]</span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#f0f4f4a06533e5eeff19ee265a896441">`|`</a></span> <span class="id">f</span> @<span class="id">^-1`</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#5a7092a84ffebb249d94ea1f3b2cd778">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo]</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIIr">setIIr;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUr">setIUr;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU;</a></span> <span class="id">do</span> <span class="id">?[apply:</span> <span class="id">mf|apply:</span> <span class="id">mg]</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply/predeqP=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/preimage/=</span> <span class="id">/mule_def</span> <span class="id">!</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_or">negb_or</a></span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP2">rwP2</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqP">eqP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) <span class="id">!</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP2">rwP2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) <span class="id">!</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP2">rwP2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP2">rwP2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) <span class="id">!</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP2">rwP2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) <span class="id">!</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP2">rwP2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe_absl">eqe_absl</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbC">orbC</a></span> (<span class="id">g</span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe_absl">eqe_absl</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbC">orbC</a></span> (<span class="id">f</span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>)).<br/>
<span class="id">wlog</span> <span class="id">fg</span> <span class="id">:</span> <span class="id">D</span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">mg</span> <span class="id">mfg</span> <span class="id">/</span> <span class="gallina-kwd">forall</span> <span id="x:1205" class="id"><a name="x:1205" class="">x,</a></span> <span class="id">D</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1205">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1205">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#c01952ca28b1189368386654f511e1c2">*?</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1205">x</a></span> <span class="id">=&gt;</span> <span class="id">[hwlogM|];</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[f_</span> <span class="id">f_cvg]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun">approximation_sfun</a></span> <span class="id">mD</span> <span class="id">mf</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[g_</span> <span class="id">g_cvg]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun">approximation_sfun</a></span> <span class="id">mD</span> <span class="id">mg</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_cvg">emeasurable_fun_cvg</a></span> (<span class="gallina-kwd">fun</span> <span id="n:1208" class="id"><span id="n:1206" class="id"><a name="n:1208" class="">n</a></span></span> <span id="x:1209" class="id"><span id="x:1207" class="id"><a name="x:1209" class="">x</a></span></span> <span class="id">=&gt;</span> (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1206">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1207">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">g_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1206">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1207">x</a></span>)%<span class="id">:E</span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">apply/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funM">measurable_funM</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeM">cvgeM</a></span> (<span class="id">fg</span> <span class="id">_</span> <span class="id">_</span>) (<span class="id">f_cvg</span> <span class="id">_</span> <span class="id">_</span>) (<span class="id">g_cvg</span> <span class="id">_</span> <span class="id">_</span>).<br/>
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">mA;</span> <span class="id">wlog</span> <span class="id">NA0:</span> <span class="id">A</span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">mg</span> <span class="id">mA</span> <span class="id">/</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~</a></span> (<span class="id">A</span> <span class="id">0</span>) <span class="id">=&gt;</span> <span class="id">[hwlogA|]</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">A</span> <span class="id">0</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id">hwlogA</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/</span>(@<span class="id"><a href="mathcomp.classical.classical_sets.html#setD1K">setD1K</a></span> <span class="id">_</span> <span class="id">0</span>)<span class="id">&lt;-;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_setU">preimage_setU</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUr">setIUr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">hwlogA=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD|case</a></span> <span class="id">=&gt;</span> <span class="id">/=]</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> (<span class="gallina-kwd">fun</span> <span id="x:1210" class="id"><a name="x:1210" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1210">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1210">x</a></span>) @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">0]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">0]</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#f0f4f4a06533e5eeff19ee265a896441">`|`</a></span> <span class="id">g</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">0]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">[/eqP|[]];</span> <span class="id">rewrite</span> <span class="id">/preimage/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_eq0">mule_eq0</a></span> <span class="id">=&gt;</span> <span class="id">/orP[]</span> <span class="id">/eqP-&gt;;</span> <span class="id">[left|right]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUr">setIUr;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU;</a></span> <span class="id">[apply:</span> <span class="id">mf|apply:</span> <span class="id">mg]</span>.<br/>
<span class="id">have-&gt;</span> <span class="id">:</span> <span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> (<span class="gallina-kwd">fun</span> <span id="x:1211" class="id"><a name="x:1211" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1211">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1211">x</a></span>) @<span class="id">^-1`</span> <span class="id">A</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:1212" class="id"><a name="x:1212" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1212">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#c01952ca28b1189368386654f511e1c2">*?</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1212">x]</a></span>) <span class="id">`</span>&amp;<span class="id">`</span> (<span class="gallina-kwd">fun</span> <span id="x:1213" class="id"><a name="x:1213" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1213">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1213">x</a></span>) @<span class="id">^-1`</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-setIA;</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/preimage/=;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">case</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">Afgx;</span> <span class="id">split=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#neq0_mule_def">neq0_mule_def</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#contra_notT">contra_notT</a></span> <span class="id">NA0;</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbK">negbK</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">&lt;-</span>.<br/>
<span class="id">have</span> <span class="id">Dfg</span> <span class="id">:</span> <span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:1214" class="id"><a name="x:1214" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1214">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#c01952ca28b1189368386654f511e1c2">*?</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1214">x]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id">D</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subIset">subIset;</a></span> <span class="id">left</span>.<br/>
<span class="id">apply:</span> <span class="id">hwlogM</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mD</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">do</span> <span class="id">?exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mD</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">do</span> <span class="id">?exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-setIA</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">[]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_funeM" class="id"><a name="measurable_funeM" class="">measurable_funeM</a></span> <span id="D:1215" class="id"><a name="D:1215" class="">D</a></span> (<span id="f:1216" class="id"><a name="f:1216" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>) (<span id="k:1217" class="id"><a name="k:1217" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1215">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1216">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1215">D</a></span> (<span class="gallina-kwd">fun</span> <span id="x:1218" class="id"><a name="x:1218" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1217">k</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1216">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1218">x</a></span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof158')">Proof.</span></div>
<div class="proofscript" id="proof158">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">mf;</span> <span class="id">exact/</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span> <span class="id">_</span> <span class="id">mf</span>). Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun">emeasurable_fun</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="measurable_fun_measurable2" class="id"><a name="measurable_fun_measurable2" class="">measurable_fun_measurable2</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1219" class="id"><a name="d:1219" class="">d</a></span> (<span id="T:1220" class="id"><a name="T:1220" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1219">d</a></span>) (<span id="R:1221" class="id"><a name="R:1221" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="measurable_fun_measurable2.D" class="id"><a name="measurable_fun_measurable2.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.T">T</a></span>) (<span id="measurable_fun_measurable2.mD" class="id"><a name="measurable_fun_measurable2.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1222">D</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.R">R</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="emeasurable_fun_lt" class="id"><a name="emeasurable_fun_lt" class="">emeasurable_fun_lt</a></span> <span id="f:1224" class="id"><a name="f:1224" class="">f</a></span> <span id="g:1225" class="id"><a name="g:1225" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1224">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1225">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:1226" class="id"><a name="x:1226" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1224">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1226">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1225">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1226">x]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof159')">Proof.</span></div>
<div class="proofscript" id="proof159">
<span class="id">move=&gt;</span> <span class="id">mf</span> <span class="id">mg;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eq_set">eq_set</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">-sube_gt0</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_o_infty">emeasurable_fun_o_infty</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="emeasurable_fun_le" class="id"><a name="emeasurable_fun_le" class="">emeasurable_fun_le</a></span> <span id="f:1227" class="id"><a name="f:1227" class="">f</a></span> <span id="g:1228" class="id"><a name="g:1228" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1227">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1228">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:1229" class="id"><a name="x:1229" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1227">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1229">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1228">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1229">x]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof160')">Proof.</span></div>
<div class="proofscript" id="proof160">
<span class="id">move=&gt;</span> <span class="id">mf</span> <span class="id">mg;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eq_set">eq_set</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">-sube_le0</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_infty_c">emeasurable_fun_infty_c</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="emeasurable_fun_eq" class="id"><a name="emeasurable_fun_eq" class="">emeasurable_fun_eq</a></span> <span id="f:1230" class="id"><a name="f:1230" class="">f</a></span> <span id="g:1231" class="id"><a name="g:1231" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1230">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1231">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:1232" class="id"><a name="x:1232" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1230">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1232">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1231">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1232">x]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof161')">Proof.</span></div>
<div class="proofscript" id="proof161">
<span class="id">move=&gt;</span> <span class="id">mf</span> <span class="id">mg;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_eq_le">set_eq_le</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIIr">setIIr</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_le">emeasurable_fun_le</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="emeasurable_fun_neq" class="id"><a name="emeasurable_fun_neq" class="">emeasurable_fun_neq</a></span> <span id="f:1233" class="id"><a name="f:1233" class="">f</a></span> <span id="g:1234" class="id"><a name="g:1234" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1233">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1234">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:1235" class="id"><a name="x:1235" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1233">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1235">x</a></span> <span class="id">!=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1234">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1235">x]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof162')">Proof.</span></div>
<div class="proofscript" id="proof162">
<span class="id">move=&gt;</span> <span class="id">mf</span> <span class="id">mg;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_neq_lt">set_neq_lt</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUr">setIUr</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_lt">emeasurable_fun_lt</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2">measurable_fun_measurable2</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ge0_integral_sum" class="id"><a name="ge0_integral_sum" class="">ge0_integral_sum</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1236" class="id"><a name="d:1236" class="">d</a></span> (<span id="T:1237" class="id"><a name="T:1237" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1236">d</a></span>) (<span id="R:1238" class="id"><a name="R:1238" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="ge0_integral_sum.mu" class="id"><a name="ge0_integral_sum.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.R">R}</a></span>) (<span id="ge0_integral_sum.D" class="id"><a name="ge0_integral_sum.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.T">T</a></span>) (<span id="ge0_integral_sum.mD" class="id"><a name="ge0_integral_sum.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1240">D</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="ge0_integral_sum.I" class="id"><a name="ge0_integral_sum.I" class="">I</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="ge0_integral_sum.f" class="id"><a name="ge0_integral_sum.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I:1242">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.R">R</a></span>)).<br/>
<span class="vernacular">Hypothesis</span> <span id="ge0_integral_sum.mf" class="id"><a name="ge0_integral_sum.mf" class="">mf</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="n:1244" class="id"><a name="n:1244" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.D">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1244">n</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="ge0_integral_sum.f0" class="id"><a name="ge0_integral_sum.f0" class="">f0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="n:1246" class="id"><a name="n:1246" class="">n</a></span> <span id="x:1247" class="id"><a name="x:1247" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1247">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1246">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1247">x</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="ge0_integral_sum" class="id"><a name="ge0_integral_sum" class="">ge0_integral_sum</a></span> (<span id="s:1249" class="id"><a name="s:1249" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.I">I</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1250" class="id"><a name="x:1250" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#2ed228b16343d82e9e410c7fc103f88a">\sum_</a></span>(<span id="k:1253" class="id"><span id="k:1252" class="id"><span id="k:1251" class="id"><a name="k:1253" class="">k</a></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#2ed228b16343d82e9e410c7fc103f88a">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#s:1249">s</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1251">k</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1250">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#2ed228b16343d82e9e410c7fc103f88a">\sum_</a></span>(<span id="k:1256" class="id"><span id="k:1255" class="id"><span id="k:1254" class="id"><a name="k:1256" class="">k</a></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#2ed228b16343d82e9e410c7fc103f88a">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#s:1249">s</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1257" class="id"><a name="x:1257" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1254">k</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1257">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof163')">Proof.</span></div>
<div class="proofscript" id="proof163">
<span class="id">elim:</span> <span class="id">s</span> <span class="id">=&gt;</span> <span class="id">[|h</span> <span class="id">t</span> <span class="id">ih]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> (<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_nil">big_nil</a></span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_nil">big_nil</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0">integral0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_cons">big_cons</a></span> <span class="id">/=</span> <span class="id">-ih</span> <span class="id">-ge0_integralD//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_cons">big_cons</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.f0">f0</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sume_ge0">sume_ge0</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">k</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.f0">f0</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_sum">emeasurable_fun_sum</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum">ge0_integral_sum</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ge0_integral_fsum" class="id"><a name="ge0_integral_fsum" class="">ge0_integral_fsum</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1258" class="id"><a name="d:1258" class="">d</a></span> (<span id="T:1259" class="id"><a name="T:1259" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1258">d</a></span>) (<span id="R:1260" class="id"><a name="R:1260" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="ge0_integral_fsum.mu" class="id"><a name="ge0_integral_fsum.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.R">R}</a></span>) (<span id="ge0_integral_fsum.D" class="id"><a name="ge0_integral_fsum.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.T">T</a></span>) (<span id="ge0_integral_fsum.mD" class="id"><a name="ge0_integral_fsum.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1262">D</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="ge0_integral_fsum.I" class="id"><a name="ge0_integral_fsum.I" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span id="ge0_integral_fsum.f" class="id"><a name="ge0_integral_fsum.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I:1264">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.R">R</a></span>)).<br/>
<span class="vernacular">Hypothesis</span> <span id="ge0_integral_fsum.mf" class="id"><a name="ge0_integral_fsum.mf" class="">mf</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="n:1266" class="id"><a name="n:1266" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.D">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1266">n</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="ge0_integral_fsum.f0" class="id"><a name="ge0_integral_fsum.f0" class="">f0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="n:1268" class="id"><a name="n:1268" class="">n</a></span> <span id="x:1269" class="id"><a name="x:1269" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1269">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1268">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1269">x</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="ge0_integral_fsum" class="id"><a name="ge0_integral_fsum" class="">ge0_integral_fsum</a></span> (<span id="A:1271" class="id"><a name="A:1271" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.I">I</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:1271">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1272" class="id"><a name="x:1272" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="k:1276" class="id"><span id="k:1275" class="id"><span id="k:1274" class="id"><span id="k:1273" class="id"><a name="k:1276" class="">k</a></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:1271">A</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1273">k</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1272">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="k:1281" class="id"><span id="k:1280" class="id"><span id="k:1279" class="id"><span id="k:1277" class="id"><a name="k:1281" class="">k</a></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:1271">A</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1282" class="id"><span id="x:1278" class="id"><a name="x:1282" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1277">k</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1278">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof164')">Proof.</span></div>
<div class="proofscript" id="proof164">
<span class="id">move=&gt;</span> <span class="id">fs;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//=</a></span> <span class="id">-ge0_integral_sum//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">xD;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="monotone_convergence_theorem" class="id"><a name="monotone_convergence_theorem" class="">monotone_convergence_theorem</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1283" class="id"><a name="d:1283" class="">d</a></span> (<span id="T:1284" class="id"><a name="T:1284" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1283">d</a></span>) (<span id="R:1285" class="id"><a name="R:1285" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="monotone_convergence_theorem.mu" class="id"><a name="monotone_convergence_theorem.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.R">R}</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="monotone_convergence_theorem.D" class="id"><a name="monotone_convergence_theorem.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.T">T</a></span>) (<span id="monotone_convergence_theorem.mD" class="id"><a name="monotone_convergence_theorem.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1287">D</a></span>) (<span id="monotone_convergence_theorem.g'" class="id"><a name="monotone_convergence_theorem.g'" class="">g'</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.R">R</a></span>)<span class="id">^nat</span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="monotone_convergence_theorem.mg'" class="id"><a name="monotone_convergence_theorem.mg'" class="">mg'</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="n:1290" class="id"><a name="n:1290" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.D">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g'">g'</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1290">n</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="monotone_convergence_theorem.g'0" class="id"><a name="monotone_convergence_theorem.g'0" class="">g'0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="n:1292" class="id"><a name="n:1292" class="">n</a></span> <span id="x:1293" class="id"><a name="x:1293" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1293">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g'">g'</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1292">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1293">x</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="monotone_convergence_theorem.nd_g'" class="id"><a name="monotone_convergence_theorem.nd_g'" class="">nd_g'</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:1295" class="id"><a name="x:1295" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1295">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#:::'nondecreasing_seq'_x">nondecreasing_seq</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g'">g'^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1295">x</a></span>).<br/>
<span class="vernacular">Let</span> <span id="monotone_convergence_theorem.f'" class="id"><a name="monotone_convergence_theorem.f'" class="">f'</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="x:1297" class="id"><a name="x:1297" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g'">g'^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1297">x</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="monotone_convergence_theorem.g" class="id"><a name="monotone_convergence_theorem.g" class="">g</a></span> <span id="n:1298" class="id"><a name="n:1298" class="">n</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g'">g'</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1298">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.D">D</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="monotone_convergence_theorem.g0" class="id"><a name="monotone_convergence_theorem.g0" class="">g0</a></span> <span id="n:1299" class="id"><a name="n:1299" class="">n</a></span> <span id="x:1300" class="id"><a name="x:1300" class="">x</a></span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1299">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1300">x</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof165')">Proof.</span></div>
<div class="proofscript" id="proof165">
 <span class="id">exact/erestrict_ge0/g'0</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="monotone_convergence_theorem.mg" class="id"><a name="monotone_convergence_theorem.mg" class="">mg</a></span> <span id="n:1301" class="id"><a name="n:1301" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1301">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof166')">Proof.</span></div>
<div class="proofscript" id="proof166">
 <span class="id">exact/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.mD">mD</a></span>). Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="monotone_convergence_theorem.nd_g" class="id"><a name="monotone_convergence_theorem.nd_g" class="">nd_g</a></span> <span id="x:1302" class="id"><a name="x:1302" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#:::'nondecreasing_seq'_x">nondecreasing_seq</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1302">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof167')">Proof.</span></div>
<div class="proofscript" id="proof167">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">rewrite</span> <span class="id">/g/patch;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/set_mem</span> <span class="id">/nd_g'</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="monotone_convergence_theorem.f" class="id"><a name="monotone_convergence_theorem.f" class="">f</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="x:1303" class="id"><a name="x:1303" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1303">x</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="monotone_convergence_theorem.is_cvg_g" class="id"><a name="monotone_convergence_theorem.is_cvg_g" class="">is_cvg_g</a></span> <span id="t:1304" class="id"><a name="t:1304" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvgn">cvgn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:1304">t</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof168')">Proof.</span></div>
<div class="proofscript" id="proof168">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_is_cvgn">ereal_nondecreasing_is_cvgn</a></span> <span class="id">=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">?;</span> <span class="id">exact/nd_g</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Definition</span> <span id="g2'" class="id"><a name="g2'" class="">g2'</a></span> <span id="n:1305" class="id"><a name="n:1305" class="">n</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.R">R</a></span>)<span class="id">^nat</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1305">n</a></span>).<br/>
<span class="vernacular">Local</span> <span class="vernacular">Definition</span> <span id="g2" class="id"><a name="g2" class="">g2</a></span> <span id="n:1306" class="id"><a name="n:1306" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.R">R}^nat</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approx">nnsfun_approx</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.mg">mg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1306">n</a></span>).<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Definition</span> <span id="max_g2'" class="id"><a name="max_g2'" class="">max_g2'</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.R">R</a></span>)<span class="id">^nat</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="k:1307" class="id"><a name="k:1307" class="">k</a></span> <span id="t:1308" class="id"><a name="t:1308" class="">t</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#afef6bddeda988bbc365e556241d5732">\big[maxr/0]_</a></span>(<span id="i:1311" class="id"><span id="i:1310" class="id"><span id="i:1309" class="id"><a name="i:1311" class="">i</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#afef6bddeda988bbc365e556241d5732">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1307">k</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g2'">g2'</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1309">i</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1307">k</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:1308">t</a></span>)%<span class="id">R</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Definition</span> <span id="max_g2" class="id"><a name="max_g2" class="">max_g2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.R">R}^nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="k:1312" class="id"><a name="k:1312" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#bigmax_nnsfun">bigmax_nnsfun</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g2">g2^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1312">k</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1312">k</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="monotone_convergence_theorem.is_cvg_g2" class="id"><a name="monotone_convergence_theorem.is_cvg_g2" class="">is_cvg_g2</a></span> <span id="n:1313" class="id"><a name="n:1313" class="">n</a></span> <span id="t:1314" class="id"><a name="t:1314" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvgn">cvgn</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g2">g2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1313">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:1314">t</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof169')">Proof.</span></div>
<div class="proofscript" id="proof169">
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_is_cvgn">ereal_nondecreasing_is_cvgn</a></span> <span class="id">=&gt;</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">2!nnsfun_approxE;</span> <span class="id">exact/lefP/nd_approx</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="monotone_convergence_theorem.nd_max_g2" class="id"><a name="monotone_convergence_theorem.nd_max_g2" class="">nd_max_g2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#:::'nondecreasing_seq'_x">nondecreasing_seq</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_g2">max_g2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.R">R</a></span>)<span class="id">^nat</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof170')">Proof.</span></div>
<div class="proofscript" id="proof170">
<span class="id">apply/nondecreasing_seqP</span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">apply/lefP</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">2!bigmax_nnsfunE</span>.<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#afef6bddeda988bbc365e556241d5732">\big[maxr/0]_</a></span>(<span id="i:1323" class="id"><span id="i:1322" class="id"><span id="i:1321" class="id"><span id="i:1320" class="id"><span id="i:1319" class="id"><span id="i:1318" class="id"><span id="i:1317" class="id"><span id="i:1316" class="id"><span id="i:1315" class="id"><a name="i:1323" class="">i</a></span></span></span></span></span></span></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#afef6bddeda988bbc365e556241d5732">&lt;</a></span> <span class="id">n</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g2">g2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1315">i</a></span> <span class="id">n</span>.<span class="id">+1</span> <span class="id">x</span>)%<span class="id">R</span>) <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.le_bigmax2">le_bigmax2</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">_;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_seqP">nondecreasing_seqP</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g2">g2</a></span> <span class="id">i</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id">x</span>)).<span class="id">2</span> <span class="id">=&gt;</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!nnsfun_approxE;</span> <span class="id">exact/lefP/nd_approx</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.bigmaxD1">bigmaxD1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#ord_max">ord_max</a></span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.le_maxr">le_maxr;</a></span> <span class="id">apply/orP;</span> <span class="id">right</span>.<br/>
<span class="id">rewrite</span> <span class="id">[leRHS]</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#eq_bigl">eq_bigl</a></span> (<span class="gallina-kwd">fun</span> <span id="i:1326" class="id"><span id="i:1325" class="id"><span id="i:1324" class="id"><a name="i:1326" class="">i</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#nat_of_ord">nat_of_ord</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1324">i</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">n</span>)%<span class="id">N</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_ord_narrow">big_ord_narrow</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#leqnSn">leqnSn</a></span> <span class="id">n</span>)).<br/>
<span class="id">move=&gt;</span> <span class="id">i</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.neq_lt">neq_lt;</a></span> <span class="id">apply/orP/idP</span> <span class="id">=&gt;</span> <span class="id">[[//|]|];</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">left</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#leq_trans">leq_trans</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#ltn_ord">ltn_ord</a></span> <span class="id">i</span>))<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ltnn">ltnn</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="monotone_convergence_theorem.is_cvg_max_g2" class="id"><a name="monotone_convergence_theorem.is_cvg_max_g2" class="">is_cvg_max_g2</a></span> <span id="t:1327" class="id"><a name="t:1327" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvgn">cvgn</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_g2">max_g2</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:1327">t</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof171')">Proof.</span></div>
<div class="proofscript" id="proof171">
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_is_cvgn">ereal_nondecreasing_is_cvgn</a></span> <span class="id">=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">exact/lefP/nd_max_g2</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="monotone_convergence_theorem.max_g2_g" class="id"><a name="monotone_convergence_theorem.max_g2_g" class="">max_g2_g</a></span> <span id="k:1328" class="id"><a name="k:1328" class="">k</a></span> <span id="x:1329" class="id"><a name="x:1329" class="">x</a></span> <span class="id">:</span> ((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_g2">max_g2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1328">k</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1329">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#6267442e1f81ed96252446fa7b1c579b">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1328">k</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1329">x</a></span>)%<span class="id">O</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof172')">Proof.</span></div>
<div class="proofscript" id="proof172">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#bigmax_nnsfunE">bigmax_nnsfunE</a></span>.<br/>
<span class="id">apply:</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#afef6bddeda988bbc365e556241d5732">\big[maxe/0</a></span>%<span class="id">:E]_</span>(<span id="i:1335" class="id"><span id="i:1334" class="id"><span id="i:1333" class="id"><span id="i:1332" class="id"><span id="i:1331" class="id"><span id="i:1330" class="id"><a name="i:1335" class="">i</a></span></span></span></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#afef6bddeda988bbc365e556241d5732">&lt;</a></span> <span class="id">k</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">k</span> <span class="id">x</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/bigmax_leP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id">g0D</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_morph">big_morph</a></span> <span class="id">_</span> (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin_max">EFin_max</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.R">R</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>) <span class="id">//</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.le_bigmax2">le_bigmax2</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approxE">nnsfun_approxE</a></span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_approx">le_approx</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/nd_g/ltnW</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="monotone_convergence_theorem.lim_max_g2_f" class="id"><a name="monotone_convergence_theorem.lim_max_g2_f" class="">lim_max_g2_f</a></span> <span id="t:1336" class="id"><a name="t:1336" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_g2">max_g2</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:1336">t</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:1336">t</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof173')">Proof.</span></div>
<div class="proofscript" id="proof173">
 <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lee_lim">lee_lim</a></span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">near=&gt;</span> <span class="id">n;</span> <span class="id">exact/max_g2_g</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="monotone_convergence_theorem.lim_g2_max_g2" class="id"><a name="monotone_convergence_theorem.lim_g2_max_g2" class="">lim_g2_max_g2</a></span> <span id="t:1337" class="id"><a name="t:1337" class="">t</a></span> <span id="n:1338" class="id"><a name="n:1338" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g2">g2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1338">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:1337">t</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_g2">max_g2</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:1337">t</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof174')">Proof.</span></div>
<div class="proofscript" id="proof174">
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lee_lim">lee_lim</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">near=&gt;</span> <span class="id">k;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#bigmax_nnsfunE">bigmax_nnsfunE</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">have</span> <span class="id">nk</span> <span class="id">:</span> (<span class="id">n</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">k</span>)%<span class="id">N</span> <span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">k;</span> <span class="gallina-kwd">exists</span> <span class="id">n</span>.<span class="id">+1</span>.<br/>
<span class="id">exact:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.bigmax_sup">bigmax_sup</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.fintype.html#Ordinal">Ordinal</a></span> <span class="id">nk</span>)).<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="monotone_convergence_theorem.cvg_max_g2_f" class="id"><a name="monotone_convergence_theorem.cvg_max_g2_f" class="">cvg_max_g2_f</a></span> <span id="t:1339" class="id"><a name="t:1339" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_g2">max_g2</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:1339">t</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:1339">t</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof175')">Proof.</span></div>
<div class="proofscript" id="proof175">
<span class="id">have</span> <span class="id">/cvg_ex[l</span> <span class="id">g_l]</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.is_cvg_max_g2">is_cvg_max_g2</a></span> <span class="id">t</span>.<br/>
<span class="id">suff</span> <span class="id">:</span> <span class="id">l</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.f">f</a></span> <span class="id">t</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/eqP</span> <span class="id">&lt;-</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/f</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.lim_max_g2_f">lim_max_g2_f</a></span> <span class="id">_</span>)) <span class="id">//</span> (<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> <span class="id">_</span> <span class="id">g_l</span>).<br/>
<span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> <span class="id">l;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[-&gt;|loo];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> <span class="id">_</span> <span class="id">g_l</span>) <span class="id">//=</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_le">lime_le</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">near=&gt;</span> <span class="id">n</span>.<br/>
<span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">n</span> <span class="id">t</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[|]</span> <span class="id">fntoo</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">h</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dvg_approx">dvg_approx</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">_</span> <span class="id">t</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span> <span class="id">fntoo</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">g2oo</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g2">g2</a></span> <span class="id">n</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id">t</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/cvgeryP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">under</span> <span class="id">[in</span> <span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:1340">X</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">_]eq_fun</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approxE">nnsfun_approxE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">{homo</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">n</span>))<span class="id">^~</span> <span class="id">t</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">:</a></span> <span id="n0:1343" class="id"><span id="n0:1341" class="id"><a name="n0:1343" class="">n0</a></span></span> <span id="m:1344" class="id"><span id="m:1342" class="id"><a name="m:1344" class="">m</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">/</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n0:1341">n0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m:1342">m</a></span>)%<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">&gt;-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n0:1343">n0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m:1344">m</a></span>)%<span class="id">R}</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/lef_at/nd_approx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move/nondecreasing_dvgn_lt</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">h</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_g2">max_g2</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id">t</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.lim_g2_max_g2">lim_g2_max_g2</a></span> <span class="id">t</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id">g2oo</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">approx_g_g</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cvg_approx">cvg_approx</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">_</span> <span class="id">t</span> (<span class="gallina-kwd">fun</span> <span id="t:1345" class="id"><a name="t:1345" class="">t</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g0">g0</a></span> <span class="id">n</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:1345">t</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span> <span class="id">fntoo</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g2">g2</a></span> <span class="id">n</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id">t</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">n</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">&lt;-;</span> <span class="id">exact:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.lim_g2_max_g2">lim_g2_max_g2</a></span> <span class="id">t</span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">/cvg_lim</span> <span class="id">&lt;-</span> <span class="id">//</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">n</span>)) <span class="id">^~</span> <span class="id">t</span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">n</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move/cvg_comp</span> <span class="id">:</span> <span class="id">approx_g_g;</span> <span class="id">apply</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">n</span> <span class="id">t</span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g0">g0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">n</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id">t</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]/=</a></span> <span class="id">-nnsfun_approxE</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="monotone_convergence" class="id"><a name="monotone_convergence" class="">monotone_convergence</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1346" class="id"><a name="x:1346" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.f'">f'</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1346">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="gallina-kwd">fun</span> <span id="n:1347" class="id"><a name="n:1347" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1348" class="id"><a name="x:1348" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g'">g'</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1347">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1348">x</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof176')">Proof.</span></div>
<div class="proofscript" id="proof176">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span>.<br/>
<span class="id">under</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span> <span class="id">-/</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">_</span>).<br/>
<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.f'">f'</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.D">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.f">f</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/f</span> <span class="id">/f'</span> <span class="id">/g</span> <span class="id">/patch</span> <span class="id">/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#lim_cst">lim_cst</a></span>.<br/>
<span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">nd_int_g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#:::'nondecreasing_seq'_x">nondecreasing_seq</a></span> (<span class="gallina-kwd">fun</span> <span id="n:1349" class="id"><a name="n:1349" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mu]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1349">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1350">x</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.nd_g">nd_g</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">ub</span> <span class="id">n</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mu]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1351">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1352">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mu]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1353">x</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_ge">lime_ge</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> <span class="id">=&gt;</span> <span class="id">k;</span> <span class="id">exact/g0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_cvg">emeasurable_fun_cvg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.mg">mg</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_is_cvgn">ereal_nondecreasing_is_cvgn</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_ge">lime_ge</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near=&gt;</span> <span class="id">m;</span> <span class="id">have</span> <span class="id">nm</span> <span class="id">:</span> (<span class="id">n</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3">&lt;=</a></span> <span class="id">m</span>)%<span class="id">N</span> <span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">m;</span> <span class="gallina-kwd">exists</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/nd_g</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_le">lime_le</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:ereal_nondecreasing_is_cvgn|exact:nearW]</span>.<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_ge0_integral_lim">nd_ge0_integral_lim</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.mu">mu</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_g2">max_g2</a></span>) <span class="id">//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">t;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_ge">lime_ge</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g0">g0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">exact/lefP/nd_max_g2</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lee_lim">lee_lim</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#is_cvg_sintegral">is_cvg_sintegral</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">t</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">exact/lefP/nd_max_g2</span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_is_cvgn">ereal_nondecreasing_is_cvgn</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n</span> <span class="id">m</span> <span class="id">nm;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">exact/nd_g</span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralTE">ge0_integralTE//</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub;</a></span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_g2">max_g2</a></span> <span class="id">n</span>) <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">t;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.max_g2_g">max_g2_g</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cvg_monotone_convergence" class="id"><a name="cvg_monotone_convergence" class="">cvg_monotone_convergence</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1355" class="id"><a name="x:1355" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g'">g'</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1354">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1355">x</a></span> @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#96ebe1e290228c2bd5904c3ec35d6f07">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1356" class="id"><a name="x:1356" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.f'">f'</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1356">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof177')">Proof.</span></div>
<div class="proofscript" id="proof177">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_is_cvgn">ereal_nondecreasing_is_cvgn</a></span> <span class="id">=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">t</span> <span class="id">Dt;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g'0">g'0|exact:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g'0">g'0|exact:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.nd_g'">nd_g']</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem">monotone_convergence_theorem</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="integral_nneseries" class="id"><a name="integral_nneseries" class="">integral_nneseries</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1357" class="id"><a name="d:1357" class="">d</a></span> (<span id="T:1358" class="id"><a name="T:1358" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1357">d</a></span>) (<span id="R:1359" class="id"><a name="R:1359" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="integral_nneseries.mu" class="id"><a name="integral_nneseries.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.R">R}</a></span>) (<span id="integral_nneseries.D" class="id"><a name="integral_nneseries.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.T">T</a></span>) (<span id="integral_nneseries.mD" class="id"><a name="integral_nneseries.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1361">D</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="integral_nneseries.f" class="id"><a name="integral_nneseries.f" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.R">R</a></span>)<span class="id">^nat</span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="integral_nneseries.mf" class="id"><a name="integral_nneseries.mf" class="">mf</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="n:1364" class="id"><a name="n:1364" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.D">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1364">n</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="integral_nneseries.f0" class="id"><a name="integral_nneseries.f0" class="">f0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="n:1366" class="id"><a name="n:1366" class="">n</a></span> <span id="x:1367" class="id"><a name="x:1367" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1367">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1366">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1367">x</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_nneseries" class="id"><a name="integral_nneseries" class="">integral_nneseries</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1369" class="id"><a name="x:1369" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:1372" class="id"><span id="n:1371" class="id"><span id="n:1370" class="id"><a name="n:1372" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1370">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1369">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:1375" class="id"><span id="n:1374" class="id"><span id="n:1373" class="id"><a name="n:1375" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1376" class="id"><a name="x:1376" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1373">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1376">x</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof178')">Proof.</span></div>
<div class="proofscript" id="proof178">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-lim_mkord;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum">ge0_integral_sum//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_mkord">big_mkord</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_sum">emeasurable_fun_sum</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sume_ge0">sume_ge0</a></span> <span class="id">=&gt;</span> <span class="id">m</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.f0">f0</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_sum_nneg_natr">lee_sum_nneg_natr</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">k</span> <span class="id">_</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.f0">f0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries">integral_nneseries</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ge0_integralZl" class="id"><a name="ge0_integralZl" class="">ge0_integralZl</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1377" class="id"><a name="d:1377" class="">d</a></span> (<span id="T:1378" class="id"><a name="T:1378" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1377">d</a></span>) (<span id="R:1379" class="id"><a name="R:1379" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="ge0_integralZl.mu" class="id"><a name="ge0_integralZl.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.R">R}</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="ge0_integralZl.D" class="id"><a name="ge0_integralZl.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.T">T</a></span>) (<span id="ge0_integralZl.mD" class="id"><a name="ge0_integralZl.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1381">D</a></span>) (<span id="ge0_integralZl.f" class="id"><a name="ge0_integralZl.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.R">R</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="ge0_integralZl.mf" class="id"><a name="ge0_integralZl.mf" class="">mf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="ge0_integralZl" class="id"><a name="ge0_integralZl" class="">ge0_integralZl</a></span> (<span id="k:1385" class="id"><a name="k:1385" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.R">R</a></span>) <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="x:1386" class="id"><a name="x:1386" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1386">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1386">x</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1385">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1387" class="id"><a name="x:1387" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1385">k</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1387">x</a></span>)%<span class="id">E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1385">k</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1388" class="id"><a name="x:1388" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1388">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof179')">Proof.</span></div>
<div class="proofscript" id="proof179">
<span class="id">move=&gt;</span> <span class="id">f0;</span> <span class="id">move:</span> <span class="id">k</span> <span class="id">=&gt;</span> <span class="id">[k|_|//];</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl_EFin">ge0_integralZl_EFin</a></span>.<br/>
<span class="id">pose</span> <span class="id">g</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.R">R</a></span>)<span class="id">^nat</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="n:1389" class="id"><a name="n:1389" class="">n</a></span> <span id="x:1390" class="id"><a name="x:1390" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1389">n</a></span>%<span class="id">:R</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1390">x</a></span>.<br/>
<span class="id">have</span> <span class="id">mg</span> <span class="id">n</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span> (<span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1391">n</a></span>) <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_funeM">measurable_funeM</a></span>.<br/>
<span class="id">have</span> <span class="id">g0</span> <span class="id">n</span> <span class="id">x</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1393">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1392">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1393">x</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">Dx;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0;</a></span> <span class="id">[rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin|exact:f0]</a></span>.<br/>
<span class="id">have</span> <span class="id">nd_g</span> <span class="id">x</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1394">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#:::'nondecreasing_seq'_x">nondecreasing_seq</a></span> (<span class="id">g^~x</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">Dx</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_wpmul2r">lee_wpmul2r</a></span> <span class="id">?f0//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span>.<br/>
<span class="id">pose</span> <span class="id">h</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="x:1395" class="id"><a name="x:1395" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id">g^~</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1395">x</a></span>).<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1397" class="id"><span id="x:1396" class="id"><a name="x:1397" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id">g^~</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1396">x</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[fx0|fx0|fx0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.ltgtP">ltgtP</a></span> <span class="id">0</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gt0_mulye">gt0_mulye//;</a></span> <span class="id">apply/cvgeyPgey;</span> <span class="id">near=&gt;</span> <span class="id">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">M0</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">M</span>)%<span class="id">R</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/g;</span> <span class="id">case:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id">x</span>) <span class="id">fx0</span> <span class="id">=&gt;</span> <span class="id">[r</span> <span class="id">r0|_|//];</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">1</span>%<span class="id">N</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">m</span> <span class="id">/=</span> <span class="id">m0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulry">mulry</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_sg">gtr0_sg//</a></span> <span class="id">?mul1e</span> <span class="id">?leey//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr0n">ltr0n</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">-ler_pdivrMr//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near:</span> <span class="id">n;</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">`|ceil</a></span> (<span class="id">M</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">r</span>)<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">|</a></span>%<span class="id">N</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">m</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.R">R</a></span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#natr_absz">natr_absz</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm</a></span> <span class="id">?ceil_ge//</span> <span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge0">ceil_ge0//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.divr_ge0">divr_ge0//</a></span> <span class="id">?ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt0_mulye">lt0_mulye//;</a></span> <span class="id">apply/cvgeNyPleNy;</span> <span class="id">near=&gt;</span> <span class="id">M;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">M0</span> <span class="id">:</span> (<span class="id">M</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">0</span>)%<span class="id">R</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/g;</span> <span class="id">case:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id">x</span>) <span class="id">fx0</span> <span class="id">=&gt;</span> <span class="id">[r</span> <span class="id">r0|//|_];</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">1</span>%<span class="id">N</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">m</span> <span class="id">/=</span> <span class="id">m0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulrNy">mulrNy</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_sg">gtr0_sg//</a></span> <span class="id">?ltr0n//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span> <span class="id">?leNye</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">-ler_ndivrMr//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near:</span> <span class="id">n;</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">`|ceil</a></span> (<span class="id">M</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">r</span>)<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">|</a></span>%<span class="id">N</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">m</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.R">R</a></span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#natr_absz">natr_absz</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm</a></span> <span class="id">?ceil_ge//</span> <span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge0">ceil_ge0//</a></span> <span class="id">-mulrNN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.mulr_ge0">mulr_ge0//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lerNr">lerNr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.oppr0">oppr0//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.invr_lt0">invr_lt0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id">-fx0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> <span class="id">/g</span> <span class="id">-fx0</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:1398">X</a></span> @ <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">_]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.mD">mD</a></span> <span class="id">mg</span> <span class="id">g0</span> <span class="id">nd_g</span>).<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span>  <span class="id">rewrite</span> <span class="id">/g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl_EFin">ge0_integralZl_EFin//</a></span>.<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1399" class="id"><a name="x:1399" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1399">x</a></span>) <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[&lt;-|if_gt0]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0;</a></span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#lim_cst">lim_cst</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gt0_mulye">gt0_mulye//;</a></span> <span class="id">apply/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/cvgeyPgey;</span> <span class="id">near=&gt;</span> <span class="id">M</span>.<br/>
<span class="id">have</span> <span class="id">M0</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">M</span>)%<span class="id">R</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">near=&gt;</span> <span class="id">n;</span> <span class="id">have</span> <span class="id">[ifoo|]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.ltP">ltP</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1400" class="id"><a name="x:1400" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1400">x</a></span>)) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulry">mulry</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">muleC</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gt0_mulye">gt0_mulye</a></span> <span class="id">?leey//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">n;</span> <span class="gallina-kwd">exists</span> <span class="id">1</span>%<span class="id">N</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n</span> <span class="id">/=</span> <span class="id">n0;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_sg">gtr0_sg//</a></span> <span class="id">?lte_fin//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr0n">ltr0n</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1403" class="id"><span id="x:1402" class="id"><span id="x:1401" class="id"><a name="x:1403" class="">x</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1401">x</a></span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numElt">fin_numElt</a></span> <span class="id">ifoo</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">if_gt0</span>).<br/>
<span class="id">rewrite</span> <span class="id">-lee_pdivr_mulr//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">if_gt0</span> <span class="id">ifoo;</span> <span class="id">case:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1406" class="id"><span id="x:1405" class="id"><span id="x:1404" class="id"><a name="x:1406" class="">x</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1404">x</a></span>).<br/>
<span class="id">near:</span> <span class="id">n</span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">`|ceil</a></span> (<span class="id">M</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1408" class="id"><span id="x:1407" class="id"><a name="x:1408" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1407">x</a></span>))<span class="id">^-1</span>)<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">|</a></span>%<span class="id">N</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.R">R</a></span>) <span class="id">-lee_fin;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#natr_absz">natr_absz</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm</a></span> <span class="id">?ceil_ge//</span> <span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge0">ceil_ge0//</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.mulr_ge0">mulr_ge0//</a></span> <span class="id">?invr_ge0//;</span> <span class="id">apply/fine_ge0/integral_ge0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl</a></span>.<br/>
<span class="id">#[deprecated</span>(<span class="id">since=</span><span class="id">&quot;mathcomp-analysis 0.6.4&quot;, note=&quot;use `ge0_integralZl` instead&quot;</span>)<span class="id">]</span><br/>
<span class="vernacular">Notation</span> <span id="ge0_integralM" class="id"><a name="ge0_integralM" class="">ge0_integralM</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="integral_indic" class="id"><a name="integral_indic" class="">integral_indic</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1409" class="id"><a name="d:1409" class="">d</a></span> (<span id="T:1410" class="id"><a name="T:1410" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1409">d</a></span>) (<span id="R:1411" class="id"><a name="R:1411" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="mu:1412" class="id"><a name="mu:1412" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:1410">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:1411">R}</a></span>) (<span id="D:1413" class="id"><a name="D:1413" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:1410">T</a></span>) (<span id="mD:1414" class="id"><a name="mD:1414" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1413">D</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_indic" class="id"><a name="integral_indic" class="">integral_indic</a></span> (<span id="E:1415" class="id"><a name="E:1415" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.T">T</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:1415">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1416" class="id"><a name="x:1416" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_E</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1416">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:1415">E</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.D">D</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof180')">Proof.</span></div>
<div class="proofscript" id="proof180">
<span class="id">move=&gt;</span> <span class="id">mE;</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_nnsfun">indic_nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.R">R</a></span> <span class="id">mE</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nnsfun">integral_nnsfun//=</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#restrict_indic">restrict_indic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_indic">sintegral_indic//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="integralZl_indic" class="id"><a name="integralZl_indic" class="">integralZl_indic</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1417" class="id"><a name="d:1417" class="">d</a></span> (<span id="T:1418" class="id"><a name="T:1418" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1417">d</a></span>) (<span id="R:1419" class="id"><a name="R:1419" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="integralZl_indic.m" class="id"><a name="integralZl_indic.m" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.R">R}</a></span>) (<span id="integralZl_indic.D" class="id"><a name="integralZl_indic.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.T">T</a></span>) (<span id="integralZl_indic.mD" class="id"><a name="integralZl_indic.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1421">D</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integralZl_indic" class="id"><a name="integralZl_indic" class="">integralZl_indic</a></span> (<span id="f:1423" class="id"><a name="f:1423" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.T">T</a></span>) (<span id="k:1424" class="id"><a name="k:1424" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1424">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">0</span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1423">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1424">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1423">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1424">k</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m]_</a></span>(<span id="x:1425" class="id"><a name="x:1425" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1424">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1423">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1424">k</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1425">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1424">k</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m]_</a></span>(<span id="x:1426" class="id"><a name="x:1426" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1423">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1424">k</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1426">x</a></span>)%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof181')">Proof.</span></div>
<div class="proofscript" id="proof181">
<span class="id">move=&gt;</span> <span class="id">fk0</span> <span class="id">mfk;</span> <span class="id">have</span> <span class="id">[k0|k0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.ltP">ltP</a></span> <span class="id">k</span> <span class="id">0</span>%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq//;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">fk0//</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic0">indic0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr0">mulr0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq</a></span> <span class="id">?mule0//</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">fk0//</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic0">indic0</a></span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl//;</a></span> <span class="id">first</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integralZl_indic_nnsfun" class="id"><a name="integralZl_indic_nnsfun" class="">integralZl_indic_nnsfun</a></span> (<span id="f:1427" class="id"><a name="f:1427" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.R">R}</a></span>) (<span id="k:1428" class="id"><a name="k:1428" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m]_</a></span>(<span id="x:1429" class="id"><a name="x:1429" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1428">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1427">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1428">k]</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1429">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1428">k</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m]_</a></span>(<span id="x:1430" class="id"><a name="x:1430" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1427">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1428">k]</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1430">x</a></span>)%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof182')">Proof.</span></div>
<div class="proofscript" id="proof182">
<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic">integralZl_indic</a></span> (<span class="gallina-kwd">fun</span> <span id="k:1433" class="id"><span id="k:1432" class="id"><span id="k:1431" class="id"><a name="k:1433" class="">k</a></span></span></span> <span class="id">=&gt;</span> <span class="id">f</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1431">k]</a></span>))<span class="id">//</span> <span class="id">=&gt;</span> <span class="id">k0</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic">integralZl_indic</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic">integralZl_indic</a></span> <span class="id">{d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">m</span> <span class="id">D}</span> <span class="id">mD</span> <span class="id">f</span>.<br/>
<span class="id">#[deprecated</span>(<span class="id">since=</span><span class="id">&quot;mathcomp-analysis 0.6.4&quot;, note=&quot;use `integralZl_indic` instead&quot;</span>)<span class="id">]</span><br/>
<span class="vernacular">Notation</span> <span id="integralM_indic" class="id"><a name="integralM_indic" class="">integralM_indic</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic">integralZl_indic</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<span class="id">#[deprecated</span>(<span class="id">since=</span><span class="id">&quot;mathcomp-analysis 0.6.4&quot;, note=&quot;use `integralZl_indic_nnsfun` instead&quot;</span>)<span class="id">]</span><br/>
<span class="vernacular">Notation</span> <span id="integralM_indic_nnsfun" class="id"><a name="integralM_indic_nnsfun" class="">integralM_indic_nnsfun</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic_nnsfun">integralZl_indic_nnsfun</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="integral_mscale" class="id"><a name="integral_mscale" class="">integral_mscale</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1434" class="id"><a name="d:1434" class="">d</a></span> (<span id="T:1435" class="id"><a name="T:1435" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1434">d</a></span>) (<span id="R:1436" class="id"><a name="R:1436" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="integral_mscale.m" class="id"><a name="integral_mscale.m" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.R">R}</a></span>) (<span id="integral_mscale.D" class="id"><a name="integral_mscale.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.T">T</a></span>) (<span id="integral_mscale.mD" class="id"><a name="integral_mscale.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1438">D</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="integral_mscale.k" class="id"><a name="integral_mscale.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#3c7df47245b1421bbe9c31d0c8ed78f3">{nonneg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.R">R}</a></span>) (<span id="integral_mscale.f" class="id"><a name="integral_mscale.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="integral_mscale.integral_mscale_indic" class="id"><a name="integral_mscale.integral_mscale_indic" class="">integral_mscale_indic</a></span> <span id="E:1442" class="id"><a name="E:1442" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:1442">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mscale</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.k">k</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.m">m]_</a></span>(<span id="x:1443" class="id"><a name="x:1443" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_E</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1443">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.k">k</a></span>%<span class="id">:num</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m]_</a></span>(<span id="x:1444" class="id"><a name="x:1444" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_E</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1444">x</a></span>)%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof183')">Proof.</span></div>
<div class="proofscript" id="proof183">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id">!integral_indic</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="integral_mscale.integral_mscale_nnsfun" class="id"><a name="integral_mscale.integral_mscale_nnsfun" class="">integral_mscale_nnsfun</a></span> (<span id="h:1445" class="id"><a name="h:1445" class="">h</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.R">R}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mscale</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.k">k</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.m">m]_</a></span>(<span id="x:1446" class="id"><a name="x:1446" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:1445">h</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1446">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.k">k</a></span>%<span class="id">:num</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m]_</a></span>(<span id="x:1447" class="id"><a name="x:1447" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:1445">h</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1447">x</a></span>)%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof184')">Proof.</span></div>
<div class="proofscript" id="proof184">
<span class="id">under</span> <span class="id">[LHS]eq_integral</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfunE">fimfunE</a></span> <span class="id">-fsumEFin//</span>.<br/>
<span class="id">rewrite</span> <span class="id">[LHS]ge0_integral_fsum//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r;</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-[RHS]ge0_integralZl//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact/EFin_measurable_fun/measurable_funTS</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">under</span> <span class="id">[RHS]eq_integral</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">xD;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfunE">fimfunE</a></span> <span class="id">-fsumEFin//</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ge0_mule_fsumr">ge0_mule_fsumr;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">over</span>.<br/>
<span class="id">rewrite</span> <span class="id">[RHS]ge0_integral_fsum//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r;</span> <span class="id">apply/EFin_measurable_fun;</span> <span class="id">do</span> <span class="id">2</span> <span class="id">apply/measurableT_comp</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl//</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!integralZl_indic_nnsfun//=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.integral_mscale_indic">integral_mscale_indic//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleCA">muleCA</a></span>.<br/>
<span class="id">-</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ge0_integral_mscale" class="id"><a name="ge0_integral_mscale" class="">ge0_integral_mscale</a></span> (<span id="mf:1448" class="id"><a name="mf:1448" class="">mf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.f">f</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:1449" class="id"><a name="x:1449" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1449">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1449">x</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mscale</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.k">k</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.m">m]_</a></span>(<span id="x:1450" class="id"><a name="x:1450" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1450">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.k">k</a></span>%<span class="id">:num</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m]_</a></span>(<span id="x:1451" class="id"><a name="x:1451" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1451">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof185')">Proof.</span></div>
<div class="proofscript" id="proof185">
<span class="id">move=&gt;</span> <span class="id">f0;</span> <span class="id">have</span> <span class="id">[f_</span> <span class="id">[ndf_</span> <span class="id">f_f]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.mD">mD</a></span> <span class="id">mf</span> <span class="id">f0</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="gallina-kwd">fun</span> <span id="n:1454" class="id"><span id="n:1452" class="id"><a name="n:1454" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mscale</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.k">k</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.m">m]_</a></span>(<span id="x:1455" class="id"><span id="x:1453" class="id"><a name="x:1455" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span>) (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1452">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1453">x</a></span>)%<span class="id">:E</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-monotone_convergence//=</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/[!inE]</span> <span class="id">xD;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">exact:</span> <span class="id">f_f</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact/EFin_measurable_fun/measurable_funTS</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">/ndf_</span> <span class="id">/lefP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m]_</a></span>(<span id="x:1462" class="id"><span id="x:1459" class="id"><span id="x:1456" class="id"><a name="x:1462" class="">x</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span>) <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="gallina-kwd">fun</span> <span id="n:1463" class="id"><span id="n:1460" class="id"><span id="n:1457" class="id"><a name="n:1463" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m]_</a></span>(<span id="x:1464" class="id"><span id="x:1461" class="id"><span id="x:1458" class="id"><a name="x:1464" class="">x</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span>) (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1457">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1458">x</a></span>)%<span class="id">:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-monotone_convergence//=</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/[!inE]</span> <span class="id">xD;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">f_f</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact/EFin_measurable_fun/measurable_funTS</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">/ndf_</span> <span class="id">/lefP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-limeMl//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.integral_mscale_nnsfun">integral_mscale_nnsfun</a></span>.<br/>
<span class="id">apply/ereal_nondecreasing_is_cvgn</span> <span class="id">=&gt;</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">-</span> <span class="id">exact/EFin_measurable_fun/measurable_funTS</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">-</span> <span class="id">exact/EFin_measurable_fun/measurable_funTS</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">move/ndf_</span> <span class="id">:</span> <span class="id">ab</span> <span class="id">=&gt;</span> <span class="id">/lefP</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale">integral_mscale</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="fatou" class="id"><a name="fatou" class="">fatou</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1465" class="id"><a name="d:1465" class="">d</a></span> (<span id="T:1466" class="id"><a name="T:1466" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1465">d</a></span>) (<span id="R:1467" class="id"><a name="R:1467" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="fatou.mu" class="id"><a name="fatou.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.R">R}</a></span>) (<span id="fatou.D" class="id"><a name="fatou.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.T">T</a></span>) (<span id="fatou.mD" class="id"><a name="fatou.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1469">D</a></span>).<br/>
<span class="vernacular">Variable</span> (<span id="fatou.f" class="id"><a name="fatou.f" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.R">R</a></span>)<span class="id">^nat</span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="fatou.mf" class="id"><a name="fatou.mf" class="">mf</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="n:1472" class="id"><a name="n:1472" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.D">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1472">n</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="fatou.f0" class="id"><a name="fatou.f0" class="">f0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="n:1474" class="id"><a name="n:1474" class="">n</a></span> <span id="x:1475" class="id"><a name="x:1475" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1475">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1474">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1475">x</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="fatou" class="id"><a name="fatou" class="">fatou</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1477" class="id"><a name="x:1477" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.sequences.html#limn_einf">limn_einf</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.f">f^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1477">x</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#limn_einf">limn_einf</a></span> (<span class="gallina-kwd">fun</span> <span id="n:1478" class="id"><a name="n:1478" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1479" class="id"><a name="x:1479" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1478">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1479">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof186')">Proof.</span></div>
<div class="proofscript" id="proof186">
<span class="id">pose</span> <span class="id">g</span> <span id="n:1480" class="id"><a name="n:1480" class="">n</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="x:1481" class="id"><a name="x:1481" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.sequences.html#einfs">einfs</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.f">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1481">x</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1480">n</a></span>.<br/>
<span class="id">have</span> <span class="id">mg</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_einfs">measurable_fun_einfs</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.mf">mf</a></span>.<br/>
<span class="id">have</span> <span class="id">g0</span> <span class="id">n</span> <span class="id">x</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1483">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1482">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1483">x</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">Dx;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#lb_ereal_inf">lb_ereal_inf</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">[m</span> <span class="id">/=</span> <span class="id">nm</span> <span class="id">&lt;-];</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.f0">f0</a></span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#limn_einf_lim">limn_einf_lim</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#limn_einf_lim">limn_einf_lim</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span> <span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span> <span class="id">/=;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#le_ereal_inf">le_ereal_inf</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">/=</span> <span class="id">[p</span> <span class="id">/=</span> <span class="id">np</span> <span class="id">&lt;-]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">p</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#leq_trans">leq_trans</a></span> <span class="id">mn</span>).<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lee_lim">lee_lim</a></span>.<br/>
<span class="id">-</span> <span class="id">apply/cvg_ex;</span> <span class="id">eexists;</span> <span class="id">apply/ereal_nondecreasing_cvgn</span> <span class="id">=&gt;</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id">g0|</span> <span class="id">exact:</span> <span class="id">mg|</span> <span class="id">exact:</span> <span class="id">g0|</span> <span class="id">exact:</span> <span class="id">mg|]</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#le_ereal_inf">le_ereal_inf</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">[n</span> <span class="id">/=</span> <span class="id">bn</span> <span class="id">&lt;-]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#leq_trans">leq_trans</a></span> <span class="id">ab</span>).<br/>
<span class="id">-</span> <span class="id">apply/cvg_ex;</span> <span class="id">eexists;</span> <span class="id">apply/ereal_nondecreasing_cvgn</span> <span class="id">=&gt;</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#le_ereal_inf">le_ereal_inf</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">_</span> <span class="id">[n</span> <span class="id">/=</span> <span class="id">bn</span> <span class="id">&lt;-]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#leq_trans">leq_trans</a></span> <span class="id">ab</span>).<br/>
<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> <span class="id">=&gt;</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="n:1484" class="id"><a name="n:1484" class="">n</a></span> <span id="p:1485" class="id"><a name="p:1485" class="">p,</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#p:1485">p</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#73030c22bc0b1fa771c65aa5414c65f9">&gt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1484">n</a></span>)%<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1486" class="id"><a name="x:1486" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.D">D</a></span>) <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1484">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1486">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#einfs">einfs</a></span> (<span class="gallina-kwd">fun</span> <span id="k:1487" class="id"><a name="k:1487" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1488" class="id"><a name="x:1488" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1487">k</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1488">x</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1484">n</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">p</span> <span class="id">np;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#lb_ereal_inf">lb_ereal_inf</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[k</span> <span class="id">/=</span> <span class="id">nk</span> <span class="id">&lt;-]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id">g0|exact:</span> <span class="id">mg|exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.f0">f0|]</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb;</a></span> <span class="gallina-kwd">exists</span> <span class="id">k</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou">fatou</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="integralN" class="id"><a name="integralN" class="">integralN</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1489" class="id"><a name="d:1489" class="">d</a></span> (<span id="T:1490" class="id"><a name="T:1490" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1489">d</a></span>) (<span id="R:1491" class="id"><a name="R:1491" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="mu:1492" class="id"><a name="mu:1492" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:1490">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:1491">R}</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integralN" class="id"><a name="integralN" class="">integralN</a></span> <span id="D:1493" class="id"><a name="D:1493" class="">D</a></span> (<span id="f:1494" class="id"><a name="f:1494" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1495" class="id"><a name="x:1495" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1493">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1494">f^\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1495">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#95c149a6c3d7e16b8d29b2e8ca838dd4">+?</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1496" class="id"><a name="x:1496" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1493">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1494">f^\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1496">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1497" class="id"><a name="x:1497" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1493">D</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1494">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1497">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1498" class="id"><a name="x:1498" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1493">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1494">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1498">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof187')">Proof.</span></div>
<div class="proofscript" id="proof187">
<span class="id">have</span> <span class="id">[f_fin</span> <span class="id">_|]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1499" class="id"><a name="x:1499" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) <span class="id">f^\-</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1499">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE//</a></span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]integralE//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_oppeD">fin_num_oppeD</a></span> <span class="id">?fin_numN//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funenegN">funenegN</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">2!negbK</span> <span class="id">=&gt;</span> <span class="id">/orP[nfoo|/eqP</span> <span class="id">nfoo]</span>.<br/>
&nbsp;&nbsp;<span class="id">exfalso;</span> <span class="id">move/negP</span> <span class="id">:</span> <span class="id">nfoo;</span> <span class="id">apply;</span> <span class="id">rewrite</span> <span class="id">-leeNy_eq;</span> <span class="id">apply/negP</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-ltNge</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> <span class="id">nfoo</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_defEninfty">adde_defEninfty</a></span> <span class="id">-leye_eq</span> <span class="id">-ltNge</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltey_eq">ltey_eq</a></span> <span class="id">=&gt;</span> <span class="id">/orP[f_fin|/eqP</span> <span class="id">pfoo]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]integralE</a></span> <span class="id">nfoo</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]addeC/=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funenegN">funenegN</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addye">addye//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe_oppLR">eqe_oppLR/=</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#eqbLR">eqbLR</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span> <span class="id">_</span>) <span class="id">f_fin</span>)).<span class="id">2</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE//</a></span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]integralE//</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funeposN">funeposN</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funenegN">funenegN</a></span> <span class="id">nfoo</span> <span class="id">pfoo</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_ge0N" class="id"><a name="integral_ge0N" class="">integral_ge0N</a></span> (<span id="D:1500" class="id"><a name="D:1500" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN.T">T</a></span>) (<span id="f:1501" class="id"><a name="f:1501" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:1502" class="id"><a name="x:1502" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1500">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1502">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1501">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1502">x</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1503" class="id"><a name="x:1503" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1500">D</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1501">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1503">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1504" class="id"><a name="x:1504" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1500">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1501">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1504">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof188')">Proof.</span></div>
<div class="proofscript" id="proof188">
<span class="id">move=&gt;</span> <span class="id">f0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN">integralN</a></span> <span class="id">//</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#ge0_funenegE">ge0_funenegE</a></span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0">integral0</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_adde_defl">fin_num_adde_defl</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN">integralN</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="integral_cst" class="id"><a name="integral_cst" class="">integral_cst</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1505" class="id"><a name="d:1505" class="">d</a></span> (<span id="T:1506" class="id"><a name="T:1506" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1505">d</a></span>) (<span id="R:1507" class="id"><a name="R:1507" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="mu:1508" class="id"><a name="mu:1508" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:1506">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:1507">R}</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="integral_cst.f" class="id"><a name="integral_cst.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.R">R</a></span>) (<span id="integral_cst.D" class="id"><a name="integral_cst.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.T">T</a></span>) (<span id="integral_cst.mD" class="id"><a name="integral_cst.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1510">D</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sintegral_EFin_cst" class="id"><a name="sintegral_EFin_cst" class="">sintegral_EFin_cst</a></span> (<span id="x:1512" class="id"><a name="x:1512" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#3c7df47245b1421bbe9c31d0c8ed78f3">{nonneg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.R">R}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.mu">mu</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1512">x</a></span>%<span class="id">:num</span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1512">x</a></span>%<span class="id">:num</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof189')">Proof.</span></div>
<div class="proofscript" id="proof189">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralE">sintegralE</a></span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_widen">fsbig_widen</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#5a7092a84ffebb249d94ea1f3b2cd778">[set</a></span> <span class="id">0</span>%<span class="id">R;</span> <span class="id">x</span>%<span class="id">:num]</span>)<span class="id">/=</span>.<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">[-&gt;|x0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">x</span>%<span class="id">:num</span> <span class="id">0</span>%<span class="id">R;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setUid">setUid</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_set1">fsbig_set1</a></span> <span class="id">!mul0e</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbigU0">fsbigU0//=;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">[-&gt;]/esym;</span> <span class="id">apply/eqP</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!fsbig_set1</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span> <span class="id"><a href="mathcomp.classical.functions.html#preimage_restrict">preimage_restrict//</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifN">ifN</a></span> <span class="id">?set0U</span> <span class="id">?setIidl//=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span> <span class="id">=&gt;</span> <span class="id">/esym;</span> <span class="id">exact/eqP</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">[t</span> <span class="id">_</span> <span class="id">&lt;-]</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">/patch;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn;</a></span> <span class="id">[right|left]</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">[_</span> <span class="id">/=/preimage10-&gt;];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Lemma</span> <span id="integral_cstr" class="id"><a name="integral_cstr" class="">integral_cstr</a></span> <span id="r:1513" class="id"><a name="r:1513" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1514" class="id"><a name="x:1514" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:1513">r</a></span>%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:1513">r</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof190')">Proof.</span></div>
<div class="proofscript" id="proof190">
<span class="id">wlog</span> <span class="id">r0</span> <span class="id">:</span> <span class="id">r</span> <span class="id">/</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">r</span>)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">h;</span> <span class="id">have</span> <span class="id">[|r0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0</span>%<span class="id">R</span> <span class="id">r;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id">h</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id">r</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulNe">mulNe</a></span> <span class="id">-h</span> <span class="id">?oppr_ge0;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-integral_ge0N//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.oppr_ge0">oppr_ge0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id">[RHS]eq_integral</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cst_nnsfun">cst_nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.T">T</a></span> (<span class="id"><a href="mathcomp.analysis.signed.html#NngNum">NngNum</a></span> <span class="id">r0</span>)))<span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nnsfun">integral_nnsfun//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_EFin_cst">sintegral_EFin_cst</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Lemma</span> <span id="integral_csty" class="id"><a name="integral_csty" class="">integral_csty</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span> <span class="id">!=</span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1515" class="id"><a name="x:1515" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1515">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof191')">Proof.</span></div>
<div class="proofscript" id="proof191">
<span class="id">move=&gt;</span> <span class="id">muD0;</span> <span class="id">pose</span> <span class="id">g</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.R">R</a></span>)<span class="id">^nat</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="n:1516" class="id"><a name="n:1516" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1516">n</a></span>%<span class="id">:R</span>%<span class="id">:E</span>.<br/>
<span class="id">have</span> <span class="id">&lt;-</span> <span class="id">:</span> (<span class="gallina-kwd">fun</span> <span id="t:1517" class="id"><a name="t:1517" class="">t</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id">g^~</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:1517">t</a></span>)) <span class="id">=</span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">t;</span> <span class="id">apply/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/cvgeryP/cvgryPge</span> <span class="id">=&gt;</span> <span class="id">M;</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">`|ceil</a></span> <span class="id">M|</span>%<span class="id">N</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.R">R</a></span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge">ceil_ge</a></span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#natr_absz">natr_absz</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#ler_int">ler_int</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norm">ler_norm</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">under</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cstr">integral_cstr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/cvgeyPge</span> <span class="id">=&gt;</span> <span class="id">M</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[muDoo|muDoo]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.ltP">ltP</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">1</span>%<span class="id">N</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">m</span> <span class="id">/=</span> <span class="id">m0;</span> <span class="id">move:</span> <span class="id">muDoo;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulry">mulry</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_sg">gtr0_sg</a></span> <span class="id">?mul1e</span> <span class="id">?leey//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr0n">ltr0n</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">`|ceil</a></span> (<span class="id">M</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span>))<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">|</a></span>%<span class="id">N</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">m</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.R">R</a></span>) <span class="id">=&gt;</span> <span class="id">MDm;</span> <span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span>)) <span class="id">?ge0_fin_numE//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-lee_pdivr_mulr;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_gt0">fine_gt0//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt0e">lt0e</a></span> <span class="id">muD0</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_ge0">measure_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">MDm</span>)<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#natr_absz">natr_absz</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge">ceil_ge</a></span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#ler_int">ler_int</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norm">ler_norm</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_cst">measurable_cst</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">Dt</span> <span class="id">n</span> <span class="id">m</span> <span class="id">nm;</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Lemma</span> <span id="integral_cstNy" class="id"><a name="integral_cstNy" class="">integral_cstNy</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span> <span class="id">!=</span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1518" class="id"><a name="x:1518" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1518">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof192')">Proof.</span></div>
<div class="proofscript" id="proof192">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#bf80dd271000fa448e03c4c14365c369">\-</a></span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>)) <span class="id">?integral_ge0N/=</span> <span class="id">?integral_csty</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst">integral_cst</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="transfer" class="id"><a name="transfer" class="">transfer</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d1:1519" class="id"><a name="d1:1519" class="">d1</a></span> <span id="d2:1520" class="id"><a name="d2:1520" class="">d2</a></span> (<span id="X:1521" class="id"><a name="X:1521" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d1:1519">d1</a></span>) (<span id="Y:1522" class="id"><a name="Y:1522" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d2:1520">d2</a></span>) (<span id="R:1523" class="id"><a name="R:1523" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="transfer.phi" class="id"><a name="transfer.phi" class="">phi</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.Y">Y</a></span>) (<span id="transfer.mphi" class="id"><a name="transfer.mphi" class="">mphi</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#phi:1524">phi</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="transfer.mu" class="id"><a name="transfer.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.X">X</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.R">R}</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_pushforward" class="id"><a name="integral_pushforward" class="">integral_pushforward</a></span> (<span id="f:1527" class="id"><a name="f:1527" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.Y">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1527">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="gallina-kwd">forall</span> <span id="y:1528" class="id"><a name="y:1528" class="">y,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1527">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:1528">y</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[pushforward</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.mphi">mphi]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1527">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:1529">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mu]_x</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1527">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.phi">phi</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1530">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof193')">Proof.</span></div>
<div class="proofscript" id="proof193">
<span class="id">move=&gt;</span> <span class="id">mf</span> <span class="id">f0</span>.<br/>
<span class="id">have</span> <span class="id">[f_</span> <span class="id">[ndf_</span> <span class="id">f_f]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mf</span> (<span class="gallina-kwd">fun</span> <span id="t:1531" class="id"><a name="t:1531" class="">t</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">f0</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:1531">t</a></span>).<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="gallina-kwd">fun</span> <span id="n:1534" class="id"><span id="n:1532" class="id"><a name="n:1534" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[pushforward</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.mphi">mphi]_x</a></span> (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1532">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1533">x</a></span>)%<span class="id">:E</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-monotone_convergence//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">f_f</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">apply/lefP/ndf_</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="n:1540" class="id"><span id="n:1538" class="id"><span id="n:1536" class="id"><a name="n:1540" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mu]_x</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1536">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.phi">phi</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1537">x</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-monotone_convergence//;</span> <span class="id">last</span> <span class="id">3</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">/=;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">x</span> <span class="id">_</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact/lefP/ndf_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_</span> <span class="id">/=;</span> <span class="id">apply/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">f_f</span>.<br/>
<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">n</span>.<br/>
<span class="id">have</span> <span class="id">mfnphi</span> <span class="id">r</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">f_</span> <span class="id">n</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:1542">r]</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.phi">phi</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">_]/</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.phi">phi</a></span> @<span class="id">^-1`</span> (<span class="id">f_</span> <span class="id">n</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>)) <span class="id">-</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> (<span class="id">_</span> @<span class="id">^-1`</span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;<span class="id">exact/mphi</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="k:1553" class="id"><span id="k:1552" class="id"><span id="k:1551" class="id"><span id="k:1549" class="id"><span id="k:1547" class="id"><span id="k:1546" class="id"><span id="k:1545" class="id"><span id="k:1543" class="id"><a name="k:1553" class="">k</a></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id">f_</span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mu]_x</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1543">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>((<span class="id">f_</span> <span class="id">n</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1543">k]</a></span>) <span class="id">\o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.phi">phi</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1544">x</a></span>)%<span class="id">:E</span>).<br/>
&nbsp;&nbsp;<span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfunE">fimfunE</a></span> <span class="id">-fsumEFin//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum//;</a></span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y;</span> <span class="id">apply/EFin_measurable_fun;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funM">measurable_funM</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic_nnsfun">integralZl_indic_nnsfun//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//=</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic">integralZl_indic</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="r:1557" class="id"><span id="r:1556" class="id"><span id="r:1555" class="id"><a name="r:1557" class="">r</a></span></span></span> <span class="id">=&gt;</span> <span class="id">f_</span> <span class="id">n</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:1555">r]</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.phi">phi</a></span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">[RHS]</span>(@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-ge0_integral_fsum//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r;</span> <span class="id">apply/EFin_measurable_fun;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funM">measurable_funM</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#fsumEFin">fsumEFin//</a></span> <span class="id">-fimfunE</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer">transfer</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="integral_dirac" class="id"><a name="integral_dirac" class="">integral_dirac</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1558" class="id"><a name="d:1558" class="">d</a></span> (<span id="T:1559" class="id"><a name="T:1559" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1558">d</a></span>) (<span id="a:1560" class="id"><a name="a:1560" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:1559">T</a></span>) (<span id="R:1561" class="id"><a name="R:1561" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="integral_dirac.D" class="id"><a name="integral_dirac.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.T">T</a></span>) (<span id="integral_dirac.mD" class="id"><a name="integral_dirac.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1562">D</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="integral_dirac.ge0_integral_dirac" class="id"><a name="integral_dirac.ge0_integral_dirac" class="">ge0_integral_dirac</a></span> (<span id="f:1564" class="id"><a name="f:1564" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.R">R</a></span>) (<span id="mf:1565" class="id"><a name="mf:1565" class="">mf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1564">f</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f0:1567" class="id"><a name="f0:1567" class="">f0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:1566" class="id"><a name="x:1566" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1566">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1564">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1566">x</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.a">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[\d_a]_</a></span>(<span id="x:1568" class="id"><a name="x:1568" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1564">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1568">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1564">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.a">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof194')">Proof.</span></div>
<div class="proofscript" id="proof194">
<span class="id">move=&gt;</span> <span class="id">Da;</span> <span class="id">have</span> <span class="id">[f_</span> <span class="id">[ndf_</span> <span class="id">f_f]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.mD">mD</a></span> <span class="id">mf</span> <span class="id">f0</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="gallina-kwd">fun</span> <span id="n:1571" class="id"><span id="n:1569" class="id"><a name="n:1571" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[\d_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.a">a]_</a></span>(<span id="x:1572" class="id"><span id="x:1570" class="id"><a name="x:1572" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.D">D</a></span>) (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1569">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1570">x</a></span>)%<span class="id">:E</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-monotone_convergence//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id">f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="gallina-kwd">in</span> <span class="id">Dx</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">apply/EFin_measurable_fun;</span> <span class="id">exact/measurable_funTS</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact/lefP/ndf_</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="n:1575" class="id"><span id="n:1574" class="id"><span id="n:1573" class="id"><a name="n:1575" class="">n</a></span></span></span> <span class="id">=&gt;</span> (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1573">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.a">a</a></span>)%<span class="id">:E</span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">f_f</span>.<br/>
<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">n</span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfunE">fimfunE//</a></span> <span class="id">-fsumEFin//</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum//</a></span>.<br/>
<span class="id">-</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic_nnsfun">integralZl_indic_nnsfun//</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/=</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbigD1">fsbigD1</a></span> (<span class="id">f_</span> <span class="id">n</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.a">a</a></span>))<span class="id">//=;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.a">a</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//=</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#diracE">diracE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig1">fsbig1</a></span> <span class="id">?adde0//</span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">/=</span> <span class="id">[_</span> <span class="id">rfna]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//=</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#diracE">diracE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset</a></span> <span class="id">?mule0//=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/not_andP;</span> <span class="id">left;</span> <span class="id">exact/nesym</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r;</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_dirac" class="id"><a name="integral_dirac" class="">integral_dirac</a></span> (<span id="f:1576" class="id"><a name="f:1576" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.R">R</a></span>) (<span id="mf:1577" class="id"><a name="mf:1577" class="">mf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1576">f</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[\d_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.a">a]_</a></span>(<span id="x:1578" class="id"><a name="x:1578" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1576">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1578">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#beb404b4c6e52afbdfec2979598a2318">\d_a</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.D">D</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1576">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.a">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof195')">Proof.</span></div>
<div class="proofscript" id="proof195">
<span class="id">have</span> <span class="id">[/[!inE]</span> <span class="id">aD|aD]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.a">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.D">D</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.ge0_integral_dirac">ge0_integral_dirac//;</a></span> <span class="id">last</span> <span class="id">exact/measurable_funepos</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.ge0_integral_dirac">ge0_integral_dirac//;</a></span> <span class="id">last</span> <span class="id">exact/measurable_funeneg</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(<span class="id"><a href="mathcomp.analysis.numfun.html#funeposneg">funeposneg</a></span> <span class="id">f</span>) <span class="id"><a href="mathcomp.analysis.measure.html#diracE">diracE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#diracE">diracE</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">aD</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero">integral_measure_zero</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.D">D</a></span> <span class="id">f</span>)<span class="id">//</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral">eq_measure_integral</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">S</span> <span class="id">mS</span> <span class="id">DS;</span> <span class="id">rewrite</span> <span class="id">/dirac</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset//</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/DS/mem_set;</span> <span class="id">exact/negP</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac">integral_dirac</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="integral_measure_sum_nnsfun" class="id"><a name="integral_measure_sum_nnsfun" class="">integral_measure_sum_nnsfun</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1579" class="id"><a name="d:1579" class="">d</a></span> (<span id="T:1580" class="id"><a name="T:1580" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1579">d</a></span>) (<span id="R:1581" class="id"><a name="R:1581" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="integral_measure_sum_nnsfun.m_" class="id"><a name="integral_measure_sum_nnsfun.m_" class="">m_</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.R">R}^nat</a></span>) (<span id="integral_measure_sum_nnsfun.N" class="id"><a name="integral_measure_sum_nnsfun.N" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>).<br/>
<span class="vernacular">Let</span> <span id="integral_measure_sum_nnsfun.m" class="id"><a name="integral_measure_sum_nnsfun.m" class="">m</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#msum">msum</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.m_">m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.N">N</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="integral_measure_sum_nnsfun.integral_measure_sum_indic" class="id"><a name="integral_measure_sum_nnsfun.integral_measure_sum_indic" class="">integral_measure_sum_indic</a></span> (<span id="E:1584" class="id"><a name="E:1584" class="">E</a></span> <span id="D:1585" class="id"><a name="D:1585" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.T">T</a></span>) (<span id="mE:1586" class="id"><a name="mE:1586" class="">mE</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:1584">E</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="mD:1587" class="id"><a name="mD:1587" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1585">D</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m]_</a></span>(<span id="x:1588" class="id"><a name="x:1588" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:1584">E</a></span>) (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1588">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70c6c347670b7d7a821347ad84e9446b">\sum_</a></span>(<span id="n:1591" class="id"><span id="n:1590" class="id"><span id="n:1589" class="id"><a name="n:1591" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70c6c347670b7d7a821347ad84e9446b">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.N">N</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1589">n]_</a></span>(<span id="x:1592" class="id"><a name="x:1592" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:1584">E</a></span>) (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1592">x</a></span>)%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof196')">Proof.</span></div>
<div class="proofscript" id="proof196">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//=</a></span> <span class="id">/msum/=;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#eq_bigr">eq_bigr</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="integral_measure_sum_nnsfun.integralT_measure_sum" class="id"><a name="integral_measure_sum_nnsfun.integralT_measure_sum" class="">integralT_measure_sum</a></span> (<span id="f:1593" class="id"><a name="f:1593" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.R">R}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m]_x</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1593">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1594">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70c6c347670b7d7a821347ad84e9446b">\sum_</a></span>(<span id="n:1597" class="id"><span id="n:1596" class="id"><span id="n:1595" class="id"><a name="n:1597" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70c6c347670b7d7a821347ad84e9446b">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.N">N</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1595">n]_x</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1593">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1598">x</a></span>)%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof197')">Proof.</span></div>
<div class="proofscript" id="proof197">
<span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfunE">fimfunE</a></span> <span class="id">-fsumEFin//</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum//;</a></span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">/=;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">t</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="i:1618" class="id"><span id="i:1617" class="id"><span id="i:1616" class="id"><span id="i:1611" class="id"><span id="i:1606" class="id"><span id="i:1605" class="id"><span id="i:1604" class="id"><span id="i:1599" class="id"><a name="i:1618" class="">i</a></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70c6c347670b7d7a821347ad84e9446b">\sum_</a></span>(<span id="n:1621" class="id"><span id="n:1620" class="id"><span id="n:1619" class="id"><span id="n:1614" class="id"><span id="n:1613" class="id"><span id="n:1612" class="id"><span id="n:1609" class="id"><span id="n:1608" class="id"><span id="n:1607" class="id"><span id="n:1602" class="id"><span id="n:1601" class="id"><span id="n:1600" class="id"><a name="n:1621" class="">n</a></span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70c6c347670b7d7a821347ad84e9446b">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.N">N</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1599">i</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1600">n]_x</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id">f</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1599">i]</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1603">x</a></span>)%<span class="id">:E</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic_nnsfun">integralZl_indic_nnsfun//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.integral_measure_sum_indic">integral_measure_sum_indic//</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_sume_distrr">ge0_sume_distrr//</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#exchange_big">exchange_big/=;</a></span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#eq_bigr">eq_bigr</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralT_nnsfun">integralT_nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralE">sintegralE</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//=;</a></span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#eq_bigr">eq_bigr</a></span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_measure_sum_nnsfun" class="id"><a name="integral_measure_sum_nnsfun" class="">integral_measure_sum_nnsfun</a></span> (<span id="D:1623" class="id"><a name="D:1623" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.T">T</a></span>) (<span id="mD:1624" class="id"><a name="mD:1624" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1623">D</a></span>)<br/>
&nbsp;&nbsp;(<span id="f:1625" class="id"><a name="f:1625" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.R">R}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m]_</a></span>(<span id="x:1626" class="id"><a name="x:1626" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1623">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1625">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1626">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70c6c347670b7d7a821347ad84e9446b">\sum_</a></span>(<span id="n:1629" class="id"><span id="n:1628" class="id"><span id="n:1627" class="id"><a name="n:1629" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70c6c347670b7d7a821347ad84e9446b">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.N">N</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1627">n]_</a></span>(<span id="x:1630" class="id"><a name="x:1630" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1623">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1625">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1630">x</a></span>)%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof198')">Proof.</span></div>
<div class="proofscript" id="proof198">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m]_x</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#proj_nnsfun">proj_nnsfun</a></span> <span class="id">f</span> <span class="id">mD</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1631">x</a></span>)%<span class="id">:E</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">_</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">/patch</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindicE">mindicE;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">tD;</span> <span class="id">rewrite</span> <span class="id">?mulr1</span> <span class="id">?mulr0</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.integralT_measure_sum">integralT_measure_sum;</a></span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#eq_bigr">eq_bigr</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="id">rewrite</span> <span class="id">[RHS]integral_mkcond;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">_</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">/patch</span> <span class="id">/mindic</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">t</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">D</span>)) <span class="id">=&gt;</span> <span class="id">tD;</span> <span class="id">rewrite</span> <span class="id">?mulr1</span> <span class="id">?mulr0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun">integral_measure_sum_nnsfun</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_measure_add_nnsfun" class="id"><a name="integral_measure_add_nnsfun" class="">integral_measure_add_nnsfun</a></span> <span id="d:1633" class="id"><a name="d:1633" class="">d</a></span> (<span id="T:1634" class="id"><a name="T:1634" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1633">d</a></span>) (<span id="R:1635" class="id"><a name="R:1635" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="m1:1636" class="id"><a name="m1:1636" class="">m1</a></span> <span id="m2:1637" class="id"><a name="m2:1637" class="">m2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:1634">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:1635">R}</a></span>) (<span id="D:1638" class="id"><a name="D:1638" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:1634">T</a></span>) (<span id="mD:1639" class="id"><a name="mD:1639" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1638">D</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f:1640" class="id"><a name="f:1640" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:1634">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:1635">R}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[measure_add</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m1:1636">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m2:1637">m2]_</a></span>(<span id="x:1641" class="id"><a name="x:1641" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1638">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1640">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1641">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m1]_</a></span>(<span id="x:1642" class="id"><a name="x:1642" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1638">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1640">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1642">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m2]_</a></span>(<span id="x:1643" class="id"><a name="x:1643" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1638">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1640">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1643">x</a></span>)%<span class="id">:E</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof199')">Proof.</span></div>
<div class="proofscript" id="proof199">
<span class="id">rewrite</span> <span class="id">/measureD</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun">integral_measure_sum_nnsfun//</a></span> <span class="id">2!big_ord_recl/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_ord0">big_ord0</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="integral_mfun_measure_sum" class="id"><a name="integral_mfun_measure_sum" class="">integral_mfun_measure_sum</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1644" class="id"><a name="d:1644" class="">d</a></span> (<span id="T:1645" class="id"><a name="T:1645" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1644">d</a></span>) (<span id="R:1646" class="id"><a name="R:1646" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="integral_mfun_measure_sum.m_" class="id"><a name="integral_mfun_measure_sum.m_" class="">m_</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.R">R}^nat</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="ge0_integral_measure_sum" class="id"><a name="ge0_integral_measure_sum" class="">ge0_integral_measure_sum</a></span> (<span id="D:1648" class="id"><a name="D:1648" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.T">T</a></span>) (<span id="mD:1649" class="id"><a name="mD:1649" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1648">D</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f:1650" class="id"><a name="f:1650" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:1651" class="id"><a name="x:1651" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1648">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1651">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1650">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1651">x</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1648">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1650">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">forall</span> <span id="N:1652" class="id"><a name="N:1652" class="">N,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[msum</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.m_">m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#N:1652">N]_</a></span>(<span id="x:1653" class="id"><a name="x:1653" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1648">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1650">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1653">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70c6c347670b7d7a821347ad84e9446b">\sum_</a></span>(<span id="n:1656" class="id"><span id="n:1655" class="id"><span id="n:1654" class="id"><a name="n:1656" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70c6c347670b7d7a821347ad84e9446b">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#N:1652">N</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1654">n]_</a></span>(<span id="x:1657" class="id"><a name="x:1657" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1648">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1650">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1657">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof200')">Proof.</span></div>
<div class="proofscript" id="proof200">
<span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">mf</span>.<br/>
<span class="id">have</span> <span class="id">[f_</span> <span class="id">[f_nd</span> <span class="id">f_f]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">f0</span>.<br/>
<span class="id">elim</span> <span class="id">=&gt;</span> <span class="id">[|N</span> <span class="id">ih];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_ord0">big_ord0</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#msum_mzero">msum_mzero</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero">integral_measure_zero</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_ord_recr">big_ord_recr/=</a></span> <span class="id">-ih</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.m_">m_</a></span> <span class="id">N</span>.<span class="id">+1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_add">measure_add</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#msum">msum</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.m_">m_</a></span> <span class="id">N]</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.m_">m_</a></span> <span class="id">N</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">A;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_addE">measure_addE</a></span> <span class="id">/msum/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_ord_recr">big_ord_recr</a></span>.<br/>
<span class="id">have</span> <span class="id">mf_</span> <span class="id">n</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="gallina-kwd">fun</span> <span id="x:1659" class="id"><a name="x:1659" class="">x</a></span> <span class="id">=&gt;</span> (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1658">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1659">x</a></span>)%<span class="id">:E</span>).<br/>
&nbsp;&nbsp;<span class="id">exact/measurable_funTS/EFin_measurable_fun</span>.<br/>
<span class="id">have</span> <span class="id">f_ge0</span> <span class="id">n</span> <span class="id">x</span> <span class="id">:</span> <span class="id">D</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1661">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1660">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1661">x</a></span>)%<span class="id">:E</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">Dx;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">have</span> <span class="id">cvg_f_</span> (<span id="m:1662" class="id"><a name="m:1662" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.R">R}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#cvgn">cvgn</a></span> (<span class="gallina-kwd">fun</span> <span id="x:1665" class="id"><span id="x:1663" class="id"><a name="x:1665" class="">x</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m]_</a></span>(<span id="x0:1666" class="id"><span id="x0:1664" class="id"><a name="x0:1666" class="">x0</a></span></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1663">x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x0:1664">x0</a></span>)%<span class="id">:E</span>).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_is_cvgn">ereal_nondecreasing_is_cvgn</a></span> <span class="id">=&gt;</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id">f_ge0|exact:</span> <span class="id">f_ge0|]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">Dt;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">apply/lefP/f_nd</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="gallina-kwd">fun</span> <span id="n:1669" class="id"><span id="n:1667" class="id"><a name="n:1669" class="">n</a></span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[measure_add</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#msum">msum</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.m_">m_</a></span> <span class="id">N</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.m_">m_</a></span> <span class="id">N</span>)<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">]_</a></span>(<span id="x:1670" class="id"><span id="x:1668" class="id"><a name="x:1670" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1667">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1668">x</a></span>)%<span class="id">:E</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-monotone_convergence//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">Dt</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact/lefP/f_nd</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">/[!inE]</span> <span class="id">Dt;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">f_f</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="gallina-kwd">fun</span> <span id="n:1674" class="id"><span id="n:1671" class="id"><a name="n:1674" class="">n</a></span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[msum</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.m_">m_</a></span> <span class="id">N]_</span>(<span id="x:1675" class="id"><span id="x:1672" class="id"><a name="x:1675" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1671">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1672">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m_</a></span> <span class="id">N]_</span>(<span id="x:1676" class="id"><span id="x:1673" class="id"><a name="x:1676" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1671">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1673">x</a></span>)%<span class="id">:E</span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_add_nnsfun">integral_measure_add_nnsfun</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#limeD">limeD//;</a></span> <span class="id">do?[exact:</span> <span class="id">cvg_f_];</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_adde_def">ge0_adde_def;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_ge">lime_ge</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">do?[exact:</span> <span class="id">cvg_f_];</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> <span class="id">=&gt;</span> <span class="id">n;</span>  <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">f_ge0</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id">_</span>)<span class="id">;</span> (<span class="id">rewrite</span> <span class="id">-monotone_convergence//;</span> <span class="id">[</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">/[!inE]</span> <span class="id">Dt;</span> <span class="id">apply/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">f_f</span> <span class="id">|</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">Dt</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact/lefP/f_nd]</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum">integral_mfun_measure_sum</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_measure_add" class="id"><a name="integral_measure_add" class="">integral_measure_add</a></span> <span id="d:1677" class="id"><a name="d:1677" class="">d</a></span> (<span id="T:1678" class="id"><a name="T:1678" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1677">d</a></span>) (<span id="R:1679" class="id"><a name="R:1679" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="m1:1680" class="id"><a name="m1:1680" class="">m1</a></span> <span id="m2:1681" class="id"><a name="m2:1681" class="">m2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:1678">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:1679">R}</a></span>) (<span id="D:1682" class="id"><a name="D:1682" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:1678">T</a></span>) (<span id="mD:1683" class="id"><a name="mD:1683" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1682">D</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f:1684" class="id"><a name="f:1684" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:1678">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:1679">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:1685" class="id"><a name="x:1685" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1682">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1685">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1684">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1685">x</a></span>)%<span class="id">E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1682">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1684">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[measure_add</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m1:1680">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m2:1681">m2]_</a></span>(<span id="x:1686" class="id"><a name="x:1686" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1682">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1684">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1686">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m1]_</a></span>(<span id="x:1687" class="id"><a name="x:1687" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1682">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1684">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1687">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m2]_</a></span>(<span id="x:1688" class="id"><a name="x:1688" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1682">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1684">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1688">x</a></span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof201')">Proof.</span></div>
<div class="proofscript" id="proof201">
<span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">mf;</span> <span class="id">rewrite</span> <span class="id">/measureD</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_sum">ge0_integral_measure_sum//</a></span> <span class="id">2!big_ord_recl/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_ord0">big_ord0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="integral_measure_series" class="id"><a name="integral_measure_series" class="">integral_measure_series</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1689" class="id"><a name="d:1689" class="">d</a></span> (<span id="T:1690" class="id"><a name="T:1690" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1689">d</a></span>) (<span id="R:1691" class="id"><a name="R:1691" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="integral_measure_series.m_" class="id"><a name="integral_measure_series.m_" class="">m_</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.R">R}^nat</a></span>.<br/>
<span class="vernacular">Let</span> <span id="integral_measure_series.m" class="id"><a name="integral_measure_series.m" class="">m</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.m_">m_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="integral_measure_series.integral_measure_series_indic" class="id"><a name="integral_measure_series.integral_measure_series_indic" class="">integral_measure_series_indic</a></span> (<span id="D:1693" class="id"><a name="D:1693" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.T">T</a></span>) (<span id="mD:1694" class="id"><a name="mD:1694" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1693">D</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m]_x</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1695">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:1698" class="id"><span id="n:1697" class="id"><span id="n:1696" class="id"><a name="n:1698" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1696">n]_x</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1699">x</a></span>)%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof202')">Proof.</span></div>
<div class="proofscript" id="proof202">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span> <span class="id">/m/=</span> <span class="id">/mseries;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_measure_series_nnsfun" class="id"><a name="integral_measure_series_nnsfun" class="">integral_measure_series_nnsfun</a></span> (<span id="D:1700" class="id"><a name="D:1700" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.T">T</a></span>) (<span id="mD:1701" class="id"><a name="mD:1701" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1700">D</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f:1702" class="id"><a name="f:1702" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.R">R}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m]_x</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1702">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1703">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:1706" class="id"><span id="n:1705" class="id"><span id="n:1704" class="id"><a name="n:1706" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1704">n]_x</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1702">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1707">x</a></span>)%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof203')">Proof.</span></div>
<div class="proofscript" id="proof203">
<span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfunE">fimfunE</a></span> <span class="id">-fsumEFin//</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum//;</a></span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">/=;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">t</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="i:1727" class="id"><span id="i:1726" class="id"><span id="i:1725" class="id"><span id="i:1720" class="id"><span id="i:1715" class="id"><span id="i:1714" class="id"><span id="i:1713" class="id"><span id="i:1708" class="id"><a name="i:1727" class="">i</a></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:1730" class="id"><span id="n:1729" class="id"><span id="n:1728" class="id"><span id="n:1723" class="id"><span id="n:1722" class="id"><span id="n:1721" class="id"><span id="n:1718" class="id"><span id="n:1717" class="id"><span id="n:1716" class="id"><span id="n:1711" class="id"><span id="n:1710" class="id"><span id="n:1709" class="id"><a name="n:1730" class="">n</a></span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1708">i</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1709">n]_x</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id">f</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1708">i]</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1712">x</a></span>)%<span class="id">:E</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic_nnsfun">integralZl_indic_nnsfun//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.integral_measure_series_indic">integral_measure_series_indic//</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#nneseriesZl">nneseriesZl//</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//=</a></span> <span class="id">-nneseries_sum;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">j</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[r0|r0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0</span>%<span class="id">R</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0//;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">t</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq</a></span> <span class="id">?mule0//</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0//</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_set0">in_set0</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">=&gt;</span> <span class="id">k</span> <span class="id">_</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralT_nnsfun">integralT_nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralE">sintegralE</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//=;</a></span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#eq_bigr">eq_bigr</a></span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series">integral_measure_series</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ge0_integral_measure_series" class="id"><a name="ge0_integral_measure_series" class="">ge0_integral_measure_series</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1732" class="id"><a name="d:1732" class="">d</a></span> (<span id="T:1733" class="id"><a name="T:1733" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1732">d</a></span>) (<span id="R:1734" class="id"><a name="R:1734" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="ge0_integral_measure_series.m_" class="id"><a name="ge0_integral_measure_series.m_" class="">m_</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.R">R}^nat</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ge0_integral_measure_series.m" class="id"><a name="ge0_integral_measure_series.m" class="">m</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.m_">m_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="ge0_integral_measure_series" class="id"><a name="ge0_integral_measure_series" class="">ge0_integral_measure_series</a></span> (<span id="D:1736" class="id"><a name="D:1736" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.T">T</a></span>) (<span id="mD:1737" class="id"><a name="mD:1737" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1736">D</a></span>) (<span id="f:1738" class="id"><a name="f:1738" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="t:1739" class="id"><a name="t:1739" class="">t,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1736">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:1739">t</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1738">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:1739">t</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1736">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1738">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m]_</a></span>(<span id="x:1740" class="id"><a name="x:1740" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1736">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1738">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1740">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:1743" class="id"><span id="n:1742" class="id"><span id="n:1741" class="id"><a name="n:1743" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1741">n]_</a></span>(<span id="x:1744" class="id"><a name="x:1744" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1736">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1738">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1744">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof204')">Proof.</span></div>
<div class="proofscript" id="proof204">
<span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">mf</span>.<br/>
<span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="n:1745" class="id"><a name="n:1745" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70c6c347670b7d7a821347ad84e9446b">\sum_</a></span>(<span id="k:1748" class="id"><span id="k:1747" class="id"><span id="k:1746" class="id"><a name="k:1748" class="">k</a></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70c6c347670b7d7a821347ad84e9446b">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1745">n</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1746">k]_</a></span>(<span id="x:1749" class="id"><a name="x:1749" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1749">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m]_</a></span>(<span id="x:1750" class="id"><a name="x:1750" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1750">x</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_le">lime_le</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_ereal_nneg_natsum">is_cvg_ereal_nneg_natsum</a></span> <span class="id">=&gt;</span> <span class="id">k</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_mkord">big_mkord</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:1761">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70c6c347670b7d7a821347ad84e9446b">\sum_</a></span>(<span id="k:1764" class="id"><span id="k:1763" class="id"><span id="k:1762" class="id"><span id="k:1758" class="id"><span id="k:1757" class="id"><span id="k:1756" class="id"><span id="k:1753" class="id"><span id="k:1752" class="id"><span id="k:1751" class="id"><a name="k:1764" class="">k</a></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70c6c347670b7d7a821347ad84e9446b">&lt;</a></span> <span class="id">n</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1751">k]_</a></span>(<span id="x:1765" class="id"><span id="x:1759" class="id"><span id="x:1754" class="id"><a name="x:1765" class="">x</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1754">x</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mseries</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.m_">m_</a></span> <span class="id">n]_</span>(<span id="x:1766" class="id"><span id="x:1760" class="id"><span id="x:1755" class="id"><a name="x:1766" class="">x</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1755">x</a></span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[measure_add</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#msum">msum</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.m_">m_</a></span> <span class="id">n]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.m_">m_</a></span> <span class="id">n]]_</span>(<span id="x:1768" class="id"><span id="x:1767" class="id"><a name="x:1768" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1767">x</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[_]_</a></span>(<span class="id">_</span> <span class="gallina-kwd">in</span> <span class="id">D</span>) <span class="id">_</span>)<span class="id">;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_addE">measure_addE;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_split">nneseries_split</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_add">integral_measure_add//;</a></span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-ge0_integral_measure_sum</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeDl">leeDl;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralE">ge0_integralE//=;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[g</span> <span class="id">/=</span> <span class="id">gf]</span> <span class="id">&lt;-</span>.<br/>
<span class="id">rewrite</span> <span class="id">-integralT_nnsfun</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series_nnsfun">integral_measure_series_nnsfun</a></span> <span class="id">_</span> <span class="id">mD</span>).<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#lee_nneseries">lee_nneseries</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">[leRHS]integral_mkcond;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">-</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span>.<br/>
<span class="id">-</span> <span class="id">exact/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id">mD</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="subset_integral" class="id"><a name="subset_integral" class="">subset_integral</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1769" class="id"><a name="d:1769" class="">d</a></span> (<span id="T:1770" class="id"><a name="T:1770" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1769">d</a></span>) (<span id="R:1771" class="id"><a name="R:1771" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="mu:1772" class="id"><a name="mu:1772" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:1770">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:1771">R}</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_setU" class="id"><a name="integral_setU" class="">integral_setU</a></span> (<span id="A:1773" class="id"><a name="A:1773" class="">A</a></span> <span id="B:1774" class="id"><a name="B:1774" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.T">T</a></span>) (<span id="mA:1775" class="id"><a name="mA:1775" class="">mA</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:1773">A</a></span>) (<span id="mB:1776" class="id"><a name="mB:1776" class="">mB</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#B:1774">B</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f:1777" class="id"><a name="f:1777" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.R">R</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:1773">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#f0f4f4a06533e5eeff19ee265a896441">`|`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#B:1774">B</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1777">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:1778" class="id"><a name="x:1778" class="">x,</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:1773">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#f0f4f4a06533e5eeff19ee265a896441">`|`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#B:1774">B</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1778">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1777">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1778">x</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#4018333acbc7108eb3f9ccdb961a2cbb">[disjoint</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:1773">A</a></span> &amp; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#B:1774">B]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1779" class="id"><a name="x:1779" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:1773">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#f0f4f4a06533e5eeff19ee265a896441">`|`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#B:1774">B</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1777">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1779">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1780" class="id"><a name="x:1780" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:1773">A</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1777">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1780">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1781" class="id"><a name="x:1781" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#B:1774">B</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1777">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1781">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof205')">Proof.</span></div>
<div class="proofscript" id="proof205">
<span class="id">move=&gt;</span> <span class="id">mf</span> <span class="id">f0</span> <span class="id">AB</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1783" class="id"><span id="x:1782" class="id"><a name="x:1783" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id">A</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#f0f4f4a06533e5eeff19ee265a896441">`|`</a></span> <span class="id">B</span>) ((<span class="id">f</span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id">A</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1782">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> (<span class="id">f</span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id">B</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1782">x</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">-[xA|xB]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/patch</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifF">ifF</a></span> <span class="id">?adde0//;</span> <span class="id">apply/negbTE/negP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">xB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">AB;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#disj_set2E">disj_set2E</a></span> <span class="id">=&gt;</span> <span class="id">/eqP;</span> <span class="id">apply/eqP/set0P;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/patch</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifF">ifF</a></span> <span class="id">?adde0//;</span> <span class="id">apply/negbTE/negP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">xA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">AB;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#disj_set2E">disj_set2E</a></span> <span class="id">=&gt;</span> <span class="id">/eqP;</span> <span class="id">apply/eqP/set0P;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD//;</a></span> <span class="id">last</span> <span class="id">5</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">Ay;</span> <span class="id">apply:</span> <span class="id">f0;</span> <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">A</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mf;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU|exact:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetUl">subsetUl]</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>).<span class="id">1</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">By;</span> <span class="id">apply:</span> <span class="id">f0;</span> <span class="id">right</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">B</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mf;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU|exact:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetUr">subsetUr]</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>).<span class="id">1</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-integral_mkcondl</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIC">setIC</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setUK">setUK</a></span> <span class="id">-integral_mkcondl</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setKU">setKU</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="subset_integral" class="id"><a name="subset_integral" class="">subset_integral</a></span> (<span id="A:1784" class="id"><a name="A:1784" class="">A</a></span> <span id="B:1785" class="id"><a name="B:1785" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.T">T</a></span>) (<span id="mA:1786" class="id"><a name="mA:1786" class="">mA</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:1784">A</a></span>) (<span id="mB:1787" class="id"><a name="mB:1787" class="">mB</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#B:1785">B</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f:1788" class="id"><a name="f:1788" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.R">R</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#B:1785">B</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1788">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="gallina-kwd">forall</span> <span id="x:1789" class="id"><a name="x:1789" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#B:1785">B</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1789">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1788">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1789">x</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:1784">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#B:1785">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1790" class="id"><a name="x:1790" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:1784">A</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1788">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1790">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1791" class="id"><a name="x:1791" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#B:1785">B</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1788">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1791">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof206')">Proof.</span></div>
<div class="proofscript" id="proof206">
<span class="id">move=&gt;</span> <span class="id">mf</span> <span class="id">f0</span> <span class="id">AB;</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#setDUK">setDUK</a></span> <span class="id">AB</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setU">integral_setU//;</a></span> <span class="id">last</span> <span class="id">4</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDUK">setDUK</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDUK">setDUK//;</a></span> <span class="id">exact:</span> <span class="id">f0</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#disj_set2E">disj_set2E</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDIK">setDIK</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeDl">leeDl;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">[Bx</span> <span class="id">_];</span> <span class="id">exact:</span> <span class="id">f0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_set0" class="id"><a name="integral_set0" class="">integral_set0</a></span> (<span id="f:1792" class="id"><a name="f:1792" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.R">R</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1793" class="id"><a name="x:1793" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1792">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1793">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof207')">Proof.</span></div>
<div class="proofscript" id="proof207">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq//</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/restrict;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_set0">in_set0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ge0_integral_bigsetU" class="id"><a name="ge0_integral_bigsetU" class="">ge0_integral_bigsetU</a></span> (<span id="I:1794" class="id"><a name="I:1794" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType">eqType</a></span>) (<span id="F:1795" class="id"><a name="F:1795" class="">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I:1794">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.T">T</a></span>) (<span id="f:1796" class="id"><a name="f:1796" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.R">R</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="s:1797" class="id"><a name="s:1797" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I:1794">I</a></span>) <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="n:1798" class="id"><a name="n:1798" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:1795">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1798">n</a></span>)) <span class="id">-&gt;</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#uniq">uniq</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#s:1797">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#s:1797">s]</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:1795">F</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="D:1802" class="id"><a name="D:1802" class="">D</a></span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca">\big[setU/set0]_</a></span>(<span id="i:1801" class="id"><span id="i:1800" class="id"><span id="i:1799" class="id"><a name="i:1801" class="">i</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#s:1797">s</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:1795">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1799">i</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1802">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1796">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:1803" class="id"><a name="x:1803" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1802">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1803">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1796">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1803">x</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1804" class="id"><a name="x:1804" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1802">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1796">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1804">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#2ed228b16343d82e9e410c7fc103f88a">\sum_</a></span>(<span id="i:1807" class="id"><span id="i:1806" class="id"><span id="i:1805" class="id"><a name="i:1807" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#2ed228b16343d82e9e410c7fc103f88a">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#s:1797">s</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1808" class="id"><a name="x:1808" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:1795">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1805">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1796">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1808">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof208')">Proof.</span></div>
<div class="proofscript" id="proof208">
<span class="id">move=&gt;</span> <span class="id">mF;</span> <span class="id">elim:</span> <span class="id">s</span> <span class="id">=&gt;</span> <span class="id">[|h</span> <span class="id">t</span> <span class="id">ih]</span> <span class="id">us</span> <span class="id">tF</span> <span class="id">D</span> <span class="id">mf</span> <span class="id">f0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/D</span> <span class="id">2!big_nil</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_set0">integral_set0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/D</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_cons">big_cons</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setU">integral_setU//</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_cons">big_cons</a></span> <span class="id">ih//</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">us</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">/andP[]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#sub_trivIset">sub_trivIset</a></span> <span class="id">tF</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">i</span> <span class="id">/=</span> <span class="id">it;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">it</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mf</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigsetU_measurable">bigsetU_measurable</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/D</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_cons">big_cons;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetUr">subsetUr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">UFx;</span> <span class="id">apply:</span> <span class="id">f0;</span> <span class="id">rewrite</span> <span class="id">/D</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_cons">big_cons;</a></span> <span class="id">right</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigsetU_measurable">bigsetU_measurable</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">mf;</span> <span class="id">rewrite</span> <span class="id">/D</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_cons">big_cons</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">f0;</span> <span class="id">rewrite</span> <span class="id">/D</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_cons">big_cons</a></span>.<br/>
<span class="id">-</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_distrr">big_distrr/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_seq">big_seq</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big1">big1//</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;<span class="id">move/trivIsetP</span> <span class="id">:</span> <span class="id">tF;</span> <span class="id">apply</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id">?mem_head//</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">it</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">apply/eqP</span> <span class="id">=&gt;</span> <span class="id">hi;</span> <span class="id">move:</span> <span class="id">us</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">hi</span> <span class="id">it</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="le_integral_abse" class="id"><a name="le_integral_abse" class="">le_integral_abse</a></span> (<span id="D:1809" class="id"><a name="D:1809" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.T">T</a></span>) (<span id="mD:1810" class="id"><a name="mD:1810" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1809">D</a></span>) (<span id="g:1811" class="id"><a name="g:1811" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.R">R</a></span>) <span id="a:1812" class="id"><a name="a:1812" class="">a</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1809">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1811">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a:1812">a</a></span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a:1812">a</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1809">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:1813" class="id"><a name="x:1813" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1813">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#92160d99f87da4bf2648609e0f89da8e">&gt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a:1812">a</a></span>%<span class="id">:E]</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1814" class="id"><a name="x:1814" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1809">D</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1814">x|</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof209')">Proof.</span></div>
<div class="proofscript" id="proof209">
<span class="id">move=&gt;</span> <span class="id">mg</span> <span class="id">a0;</span> <span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:1815" class="id"><a name="x:1815" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">a</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1815">x|]</a></span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_c_infty">emeasurable_fun_c_infty</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="id">apply:</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1819" class="id"><span id="x:1817" class="id"><a name="x:1819" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:1818" class="id"><span id="x:1816" class="id"><a name="x:1818" class="">x</a></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1816">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#92160d99f87da4bf2648609e0f89da8e">&gt;=</a></span> <span class="id">a</span>%<span class="id">:E]</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1817">x|</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-integral_cstr//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_</span> <span class="id">/=;</span> <span class="id">exact/ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mg</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">[]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral">subset_integral</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral">subset_integral</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Rintegral" class="id"><a name="Rintegral" class="">Rintegral</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1820" class="id"><a name="d:1820" class="">d</a></span> (<span id="T:1821" class="id"><a name="T:1821" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1820">d</a></span>) (<span id="R:1822" class="id"><a name="R:1822" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="mu:1823" class="id"><a name="mu:1823" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:1821">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:1822">R}</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Rintegral" class="id"><a name="Rintegral" class="">Rintegral</a></span> (<span id="D:1824" class="id"><a name="D:1824" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Rintegral.T">T</a></span>) (<span id="f:1825" class="id"><a name="f:1825" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Rintegral.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Rintegral.R">R</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1826" class="id"><a name="x:1826" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1824">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1825">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1826">x</a></span>)%<span class="id">:E</span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Rintegral">Rintegral</a></span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="00afd7077fe8d4381a047ef487700a85" class="id"><a name="00afd7077fe8d4381a047ef487700a85" class="">&quot;\int [ mu ]_ ( x 'in' D ) f&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Rintegral">Rintegral</a></span> <span class="id">mu</span> <span class="id">D</span> (<span class="gallina-kwd">fun</span> <span id="x:1827" class="id"><a name="x:1827" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">f</span>)) <span class="id">:</span> <span class="id">ring_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="2b06fa1f371e8a16533c60b425cce675" class="id"><a name="2b06fa1f371e8a16533c60b425cce675" class="">&quot;\int [ mu ]_ x f&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Rintegral">Rintegral</a></span> <span class="id">mu</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="gallina-kwd">fun</span> <span id="x:1828" class="id"><a name="x:1828" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">f</span>)) <span class="id">:</span> <span class="id">ring_scope</span>.<br/>
<br/>
<span id="integrable.unlock" class="id"><span id="integrable.body" class="id"><span id="integrable" class="id"><span id="integrableLocked.unlock" class="id"><span id="integrableLocked.body" class="id"><span id="integrableLocked" class="id"><a name="integrable.unlock" class="">HB.lock</a></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">integrable</span> <span class="id">{d}</span> <span class="id">{T</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1829">d}</a></span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="mu:1832" class="id"><a name="mu:1832" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:1830">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:1831">R</a></span>) <span id="D:1833" class="id"><a name="D:1833" class="">D</a></span> <span id="f:1834" class="id"><a name="f:1834" class="">f</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.boolp.html#cd531d9d29c2247dfa84f185bc7200e2">`[&lt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1833">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1834">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1835" class="id"><a name="x:1835" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1833">D</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1835">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>)%<span class="id">E</span> <span class="id"><a href="mathcomp.classical.boolp.html#cd531d9d29c2247dfa84f185bc7200e2">&gt;]</a></span>.<br/>
<span class="vernacular">Canonical</span> <span id="integrable_unlockable" class="id"><a name="integrable_unlockable" class="">integrable_unlockable</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Unlockable">Unlockable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#unlock">integrable.unlock</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integrableP" class="id"><a name="integrableP" class="">integrableP</a></span> <span id="d:1836" class="id"><a name="d:1836" class="">d</a></span> <span id="T:1837" class="id"><a name="T:1837" class="">T</a></span> <span id="R:1838" class="id"><a name="R:1838" class="">R</a></span> <span id="mu:1839" class="id"><a name="mu:1839" class="">mu</a></span> <span id="D:1840" class="id"><a name="D:1840" class="">D</a></span> <span id="f:1841" class="id"><a name="f:1841" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1840">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1841">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1842" class="id"><a name="x:1842" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1840">D</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1842">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>)%<span class="id">E</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable">integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1836">d</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:1837">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:1838">R</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu:1839">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1840">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1841">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof210')">Proof.</span></div>
<div class="proofscript" id="proof210">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#unlock">unlock;</a></span> <span class="id">apply/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span> <span class="id">_</span>)). Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_int" class="id"><a name="measurable_int" class="">measurable_int</a></span> <span id="d:1843" class="id"><a name="d:1843" class="">d</a></span> <span id="T:1844" class="id"><a name="T:1844" class="">T</a></span> <span id="R:1845" class="id"><a name="R:1845" class="">R</a></span> <span id="mu:1846" class="id"><a name="mu:1846" class="">mu</a></span> <span id="D:1847" class="id"><a name="D:1847" class="">D</a></span> <span id="f:1848" class="id"><a name="f:1848" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable">integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1843">d</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:1844">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:1845">R</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu:1846">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1847">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1848">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1847">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1848">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof211')">Proof.</span></div>
<div class="proofscript" id="proof211">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#unlock">unlock</a></span> <span class="id">=&gt;</span> <span class="id">/asboolP[]</span>. Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="integrable_theory" class="id"><a name="integrable_theory" class="">integrable_theory</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1849" class="id"><a name="d:1849" class="">d</a></span> (<span id="T:1850" class="id"><a name="T:1850" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1849">d</a></span>) (<span id="R:1851" class="id"><a name="R:1851" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="integrable_theory.mu" class="id"><a name="integrable_theory.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.R">R}</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="integrable_theory.D" class="id"><a name="integrable_theory.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.T">T</a></span>) (<span id="integrable_theory.mD" class="id"><a name="integrable_theory.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1853">D</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="gallina-kwd">Type</span> <span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.R">R</a></span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="mu_int" class="id"><a name="mu_int" class="">mu_int</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable">integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integrable0" class="id"><a name="integrable0" class="">integrable0</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof212')">Proof.</span></div>
<div class="proofscript" id="proof212">
<span class="id">apply/integrableP;</span> <span class="id">split=&gt;</span> <span class="id">//;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span> <span class="id">0</span>)).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0">integral0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="eq_integrable" class="id"><a name="eq_integrable" class="">eq_integrable</a></span> <span id="f:1855" class="id"><a name="f:1855" class="">f</a></span> <span id="g:1856" class="id"><a name="g:1856" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1855">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#44b19bd81f7a1388073ea8a65e6fa993">=1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1856">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1855">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1856">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof213')">Proof.</span></div>
<div class="proofscript" id="proof213">
<span class="id">move=&gt;</span> <span class="id">fg</span> <span class="id">/integrableP[mf</span> <span class="id">fi];</span> <span class="id">apply/integrableP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#eq_measurable_fun">eq_measurable_fun</a></span> <span class="id">mf</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">fi</span>)<span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral=&gt;</a></span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#eq_measurable_fun">eq_measurable_fun</a></span> <span class="id">mf</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#eq_measurable_fun">eq_measurable_fun</a></span> <span class="id">mf</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">rewrite</span> <span class="id">fg//</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="le_integrable" class="id"><a name="le_integrable" class="">le_integrable</a></span> <span id="f:1857" class="id"><a name="f:1857" class="">f</a></span> <span id="g:1858" class="id"><a name="g:1858" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1857">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:1859" class="id"><a name="x:1859" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1859">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1859">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1859">x|</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1858">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1857">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof214')">Proof.</span></div>
<div class="proofscript" id="proof214">
<span class="id">move=&gt;</span> <span class="id">mf</span> <span class="id">fg</span> <span class="id">/integrableP[mfg</span> <span class="id">goo];</span> <span class="id">apply/integrableP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">goo;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integrableN" class="id"><a name="integrableN" class="">integrableN</a></span> <span id="f:1860" class="id"><a name="f:1860" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1860">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#b9ea624cf1ed6f77d648bedb1e978b55">-</a></span>%<span class="id">E</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1860">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof215')">Proof.</span></div>
<div class="proofscript" id="proof215">
<span class="id">move=&gt;</span> <span class="id">/integrableP[mf</span> <span class="id">foo];</span> <span class="id">apply/integrableP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/comp;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseN">abseN</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/comp;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_oppe">measurable_oppe</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integrableZl" class="id"><a name="integrableZl" class="">integrableZl</a></span> (<span id="k:1861" class="id"><a name="k:1861" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.R">R</a></span>) <span id="f:1862" class="id"><a name="f:1862" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1862">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> (<span class="gallina-kwd">fun</span> <span id="x:1863" class="id"><a name="x:1863" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1861">k</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1862">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1863">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof216')">Proof.</span></div>
<div class="proofscript" id="proof216">
<span class="id">move=&gt;</span> <span class="id">/integrableP[mf</span> <span class="id">foo];</span> <span class="id">apply/integrableP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_funeM">measurable_funeM</a></span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseM">abseM</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl//</a></span> <span class="id">?lte_mul_pinfty//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integrableZr" class="id"><a name="integrableZr" class="">integrableZr</a></span> (<span id="k:1864" class="id"><a name="k:1864" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.R">R</a></span>) <span id="f:1865" class="id"><a name="f:1865" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1865">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1865">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1b777d6ed36ff4e9cc54d468aac5be7a">\*</a></span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1864">k</a></span>%<span class="id">:E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof217')">Proof.</span></div>
<div class="proofscript" id="proof217">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">mf;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integrable">eq_integrable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableZl">integrableZl</a></span> <span class="id">k</span> <span class="id">mf</span>) <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">muleC</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integrableD" class="id"><a name="integrableD" class="">integrableD</a></span> <span id="f:1866" class="id"><a name="f:1866" class="">f</a></span> <span id="g:1867" class="id"><a name="g:1867" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1866">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1867">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1866">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1867">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof218')">Proof.</span></div>
<div class="proofscript" id="proof218">
<span class="id">move=&gt;</span> <span class="id">/integrableP[mf</span> <span class="id">foo]</span> <span class="id">/integrableP[mg</span> <span class="id">goo];</span> <span class="id">apply/integrableP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span>.<br/>
<span class="id">apply:</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1869" class="id"><span id="x:1868" class="id"><a name="x:1869" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1868">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1868">x|</a></span>))).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs_add">lee_abs_add</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD</a></span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty|</a></span><br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp|exact:</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integrable_sum" class="id"><a name="integrable_sum" class="">integrable_sum</a></span> (<span id="s:1870" class="id"><a name="s:1870" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.R">R</a></span>)) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="h:1871" class="id"><a name="h:1871" class="">h,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:1871">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#s:1870">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:1871">h</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> (<span class="gallina-kwd">fun</span> <span id="x:1872" class="id"><a name="x:1872" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#2ed228b16343d82e9e410c7fc103f88a">\sum_</a></span>(<span id="h:1875" class="id"><span id="h:1874" class="id"><span id="h:1873" class="id"><a name="h:1875" class="">h</a></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#2ed228b16343d82e9e410c7fc103f88a">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#s:1870">s</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:1873">h</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1872">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof219')">Proof.</span></div>
<div class="proofscript" id="proof219">
<span class="id">elim:</span> <span class="id">s</span> <span class="id">=&gt;</span> <span class="id">[_|h</span> <span class="id">s</span> <span class="id">ih</span> <span class="id">hs]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_nil">big_nil;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable0">integrable0</a></span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_cons">big_cons;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableD">integrableD</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">hs;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#in_cons">in_cons</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">ih</span> <span class="id">=&gt;</span> <span class="id">k</span> <span class="id">ks;</span> <span class="id">apply:</span> <span class="id">hs;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#in_cons">in_cons</a></span> <span class="id">ks</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integrableB" class="id"><a name="integrableB" class="">integrableB</a></span> <span id="f:1876" class="id"><a name="f:1876" class="">f</a></span> <span id="g:1877" class="id"><a name="g:1877" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1876">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1877">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1876">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#413a754bf74f3e306cb2b48b8fe944d4">\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:1877">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof220')">Proof.</span></div>
<div class="proofscript" id="proof220">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">fi</span> <span class="id">gi;</span> <span class="id">exact/</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableD">integrableD</a></span> <span class="id">fi</span>)<span class="id">/integrableN</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integrable_add_def" class="id"><a name="integrable_add_def" class="">integrable_add_def</a></span> <span id="f:1878" class="id"><a name="f:1878" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1878">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1879" class="id"><a name="x:1879" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1878">f^\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1879">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#95c149a6c3d7e16b8d29b2e8ca838dd4">+?</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1880" class="id"><a name="x:1880" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1878">f^\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1880">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof221')">Proof.</span></div>
<div class="proofscript" id="proof221">
<span class="id">move=&gt;</span> <span class="id">/integrableP[mf];</span> <span class="id">rewrite</span> <span class="id">-[fun</span> <span id="x:1883" class="id"><span id="x:1882" class="id"><span id="x:1881" class="id"><a name="x:1883" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id">_]/</span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">f</span>) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id">=&gt;</span> <span class="id">foo</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD</a></span> <span class="id">//</span> <span class="gallina-kwd">in</span> <span class="id">foo;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltpinfty_adde_def">ltpinfty_adde_def</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">foo;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeDl">leeDl//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">0</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeNl">leeNl</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integrable_funepos" class="id"><a name="integrable_funepos" class="">integrable_funepos</a></span> <span id="f:1884" class="id"><a name="f:1884" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1884">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1884">f^\+</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof222')">Proof.</span></div>
<div class="proofscript" id="proof222">
<span class="id">move=&gt;</span> <span class="id">/integrableP[Df</span> <span class="id">foo];</span> <span class="id">apply/integrableP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">foo;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply/measurableT_comp</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
<span class="id">-</span> <span class="id">exact/measurableT_comp</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">Dt;</span> <span class="id">rewrite</span> <span class="id">-/</span>((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">f</span>) <span class="id">t</span>) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeDl">leeDl</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integrable_funeneg" class="id"><a name="integrable_funeneg" class="">integrable_funeneg</a></span> <span id="f:1885" class="id"><a name="f:1885" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1885">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1885">f^\-</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof223')">Proof.</span></div>
<div class="proofscript" id="proof223">
<span class="id">move=&gt;</span> <span class="id">/integrableP[Df</span> <span class="id">foo];</span> <span class="id">apply/integrableP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">foo;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply/measurableT_comp</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
<span class="id">-</span> <span class="id">exact/measurableT_comp</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">Dt;</span> <span class="id">rewrite</span> <span class="id">-/</span>((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">f</span>) <span class="id">t</span>) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeDr">leeDr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_funeneg_lt_pinfty" class="id"><a name="integral_funeneg_lt_pinfty" class="">integral_funeneg_lt_pinfty</a></span> <span id="f:1886" class="id"><a name="f:1886" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1886">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1887" class="id"><a name="x:1887" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1886">f^\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1887">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof224')">Proof.</span></div>
<div class="proofscript" id="proof224">
<span class="id">move=&gt;</span> <span class="id">/integrableP[mf];</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">have</span> <span class="id">[fx0|/ltW</span> <span class="id">fx0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> (<span class="id">f</span> <span class="id">x</span>) <span class="id">0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee0_abs">lee0_abs//</a></span> <span class="id">/funeneg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">fx0;</span> <span class="id">rewrite</span> <span class="id">-{1}oppe0</span> <span class="id">-leeNr</span> <span class="id">=&gt;</span> <span class="id">/max_idPl</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id">/funeneg</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> (<span class="id">fx0</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">-{1}oppe0</span> <span class="id">-leeNl</span> <span class="id">=&gt;</span> <span class="id">/max_idPr</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_funepos_lt_pinfty" class="id"><a name="integral_funepos_lt_pinfty" class="">integral_funepos_lt_pinfty</a></span> <span id="f:1888" class="id"><a name="f:1888" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1888">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1889" class="id"><a name="x:1889" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1888">f^\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1889">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof225')">Proof.</span></div>
<div class="proofscript" id="proof225">
<span class="id">move=&gt;</span> <span class="id">/integrableP[mf];</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">have</span> <span class="id">[fx0|/ltW</span> <span class="id">fx0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> (<span class="id">f</span> <span class="id">x</span>) <span class="id">0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee0_abs">lee0_abs//</a></span> <span class="id">/funepos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> (<span class="id">fx0</span>) <span class="id">=&gt;</span> <span class="id">/max_idPr</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id">-leeNr</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id">/funepos;</span> <span class="id">move:</span> (<span class="id">fx0</span>) <span class="id">=&gt;</span> <span class="id">/max_idPl</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integrable_neg_fin_num" class="id"><a name="integrable_neg_fin_num" class="">integrable_neg_fin_num</a></span> <span id="f:1890" class="id"><a name="f:1890" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1890">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1891" class="id"><a name="x:1891" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1890">f^\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1891">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof226')">Proof.</span></div>
<div class="proofscript" id="proof226">
<span class="id">move=&gt;</span> <span class="id">/integrableP</span> <span class="id">fi</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numElt">fin_numElt;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">0</span>) <span class="id">?lte_ninfty//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">case:</span> <span class="id">fi</span> <span class="id">=&gt;</span> <span class="id">mf;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">exact/measurable_funeneg</span>.<br/>
<span class="id">-</span> <span class="id">exact/measurableT_comp</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">rewrite</span> <span class="id">-/</span>((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">f</span>) <span class="id">x</span>) (<span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id">f</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeDr">leeDr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integrable_pos_fin_num" class="id"><a name="integrable_pos_fin_num" class="">integrable_pos_fin_num</a></span> <span id="f:1892" class="id"><a name="f:1892" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1892">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1893" class="id"><a name="x:1893" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1892">f^\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1893">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof227')">Proof.</span></div>
<div class="proofscript" id="proof227">
<span class="id">move=&gt;</span> <span class="id">/integrableP</span> <span class="id">fi</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numElt">fin_numElt;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">0</span>) <span class="id">?lte_ninfty//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">case:</span> <span class="id">fi</span> <span class="id">=&gt;</span> <span class="id">mf;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">exact/measurable_funepos</span>.<br/>
<span class="id">-</span> <span class="id">exact/measurableT_comp</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">rewrite</span> <span class="id">-/</span>((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">f</span>) <span class="id">x</span>) (<span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id">f</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeDl">leeDl</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory">integrable_theory</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::type_scope:x_'.-integrable'" class="id"><a name="::type_scope:x_'.-integrable'" class="">&quot;mu .-integrable&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable">integrable</a></span> <span class="id">mu</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integrable">eq_integrable</a></span> <span class="id">{d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">mu</span> <span class="id">D}</span> <span class="id">mD</span> <span class="id">f</span>.<br/>
<span class="id">#[deprecated</span>(<span class="id">since=</span><span class="id">&quot;mathcomp-analysis 0.6.4&quot;, note=&quot;use `integrableZl` instead&quot;</span>)<span class="id">]</span><br/>
<span class="vernacular">Notation</span> <span id="integrablerM" class="id"><a name="integrablerM" class="">integrablerM</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableZl">integrableZl</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<span class="id">#[deprecated</span>(<span class="id">since=</span><span class="id">&quot;mathcomp-analysis 0.6.4&quot;, note=&quot;use `integrableZr` instead&quot;</span>)<span class="id">]</span><br/>
<span class="vernacular">Notation</span> <span id="integrableMr" class="id"><a name="integrableMr" class="">integrableMr</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableZr">integrableZr</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="sequence_measure" class="id"><a name="sequence_measure" class="">sequence_measure</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1894" class="id"><a name="d:1894" class="">d</a></span> (<span id="T:1895" class="id"><a name="T:1895" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1894">d</a></span>) (<span id="R:1896" class="id"><a name="R:1896" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="sequence_measure.m_" class="id"><a name="sequence_measure.m_" class="">m_</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.R">R}^nat</a></span>.<br/>
<span class="vernacular">Let</span> <span id="sequence_measure.m" class="id"><a name="sequence_measure.m" class="">m</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.m_">m_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_measure_series" class="id"><a name="integral_measure_series" class="">integral_measure_series</a></span> (<span id="D:1898" class="id"><a name="D:1898" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.T">T</a></span>) (<span id="mD:1899" class="id"><a name="mD:1899" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1898">D</a></span>) (<span id="f:1900" class="id"><a name="f:1900" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="n:1901" class="id"><a name="n:1901" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable">integrable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.m_">m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1901">n</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1898">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1900">f</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1898">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1900">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:1904" class="id"><span id="n:1903" class="id"><span id="n:1902" class="id"><a name="n:1904" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1902">n]_</a></span>(<span id="x:1905" class="id"><a name="x:1905" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1898">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1900">f^\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1905">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>%<span class="id">E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:1908" class="id"><span id="n:1907" class="id"><span id="n:1906" class="id"><a name="n:1908" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1906">n]_</a></span>(<span id="x:1909" class="id"><a name="x:1909" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1898">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1900">f^\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1909">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>%<span class="id">E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m]_</a></span>(<span id="x:1910" class="id"><a name="x:1910" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1898">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1900">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1910">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:1913" class="id"><span id="n:1912" class="id"><span id="n:1911" class="id"><a name="n:1913" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1911">n]_</a></span>(<span id="x:1914" class="id"><a name="x:1914" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1898">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1900">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1914">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof228')">Proof.</span></div>
<div class="proofscript" id="proof228">
<span class="id">move=&gt;</span> <span class="id">fi</span> <span class="id">mf</span> <span class="id">fmoo</span> <span class="id">fpoo;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series//;</a></span> <span class="id">last</span> <span class="id">exact/measurable_funepos</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series//;</a></span> <span class="id">last</span> <span class="id">exact/measurable_funeneg</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:1925" class="id"><span id="n:1924" class="id"><span id="n:1923" class="id"><span id="n:1917" class="id"><span id="n:1916" class="id"><span id="n:1915" class="id"><a name="n:1925" class="">n</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1915">n]_</a></span>(<span id="x:1926" class="id"><span id="x:1918" class="id"><a name="x:1926" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) <span class="id">f^\+</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1918">x</a></span>))%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:1929" class="id"><span id="n:1928" class="id"><span id="n:1927" class="id"><span id="n:1921" class="id"><span id="n:1920" class="id"><span id="n:1919" class="id"><a name="n:1929" class="">n</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1919">n]_</a></span>(<span id="x:1930" class="id"><span id="x:1922" class="id"><a name="x:1930" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) <span class="id">f^\-</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1922">x</a></span>))%<span class="id">:E</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_pos_fin_num">integrable_pos_fin_num|exact:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_neg_fin_num">integrable_neg_fin_num]</a></span>.<br/>
<span class="id">have</span> <span class="id">fineKn</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:1933" class="id"><span id="n:1932" class="id"><span id="n:1931" class="id"><a name="n:1933" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1931">n]_</a></span>(<span id="x:1934" class="id"><a name="x:1934" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) <span class="id">f^\-</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1934">x|</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:1937" class="id"><span id="n:1936" class="id"><span id="n:1935" class="id"><a name="n:1937" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1935">n]_</a></span>(<span id="x:1938" class="id"><a name="x:1938" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) <span class="id">f^\-</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1938">x</a></span>))%<span class="id">:E|</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">congr</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_neg_fin_num">integrable_neg_fin_num</a></span>.<br/>
<span class="id">have</span> <span class="id">fineKp</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:1941" class="id"><span id="n:1940" class="id"><span id="n:1939" class="id"><a name="n:1941" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1939">n]_</a></span>(<span id="x:1942" class="id"><a name="x:1942" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) <span class="id">f^\+</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1942">x|</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:1945" class="id"><span id="n:1944" class="id"><span id="n:1943" class="id"><a name="n:1945" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1943">n]_</a></span>(<span id="x:1946" class="id"><a name="x:1946" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) <span class="id">f^\+</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1946">x</a></span>))%<span class="id">:E|</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">congr</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_pos_fin_num">integrable_pos_fin_num</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">exact/fine_ge0/integral_ge0</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">exact/fine_ge0/integral_ge0</span>.<br/>
<span class="id">rewrite</span> <span class="id">-esumB//;</span> <span class="id">last</span> <span class="id">4</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">/summable</span> <span class="id">-nneseries_esum//</span> <span class="id">-fineKp</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/summable</span> <span class="id">/=</span> <span class="id">-nneseries_esum//</span> <span class="id">-fineKn;</span> <span class="id">exact:</span> <span class="id">fmoo</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">exact/fine_ge0/integral_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">exact/fine_ge0/integral_ge0</span>.<br/>
<span class="id">rewrite</span> <span class="id">-summable_eseries_esum;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:1949" class="id"><span id="i:1947" class="id"><a name="i:1949" class="">i</a></span></span> <span class="gallina-kwd">in</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#36dd16448713ee91dfa0961a8ba48e73">fun=&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1947">i]_</a></span>(<span id="x:1950" class="id"><span id="x:1948" class="id"><a name="x:1950" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1948">x</a></span>))%<span class="id">:E|</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#le_esum">le_esum</a></span> <span class="id">=&gt;</span> <span class="id">k</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">-EFinB</span> <span class="id">-fineB//</span> <span class="id">-?integralE//;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_pos_fin_num">integrable_pos_fin_num|exact:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_neg_fin_num">integrable_neg_fin_num]</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-nneseries_esum;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:1961" class="id"><span id="n:1960" class="id"><span id="n:1959" class="id"><span id="n:1953" class="id"><span id="n:1952" class="id"><span id="n:1951" class="id"><a name="n:1961" class="">n</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1951">n]_</a></span>(<span id="x:1962" class="id"><span id="x:1954" class="id"><a name="x:1962" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) <span class="id">f^\+</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1954">x</a></span>))%<span class="id">:E|</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:1965" class="id"><span id="n:1964" class="id"><span id="n:1963" class="id"><span id="n:1957" class="id"><span id="n:1956" class="id"><span id="n:1955" class="id"><a name="n:1965" class="">n</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:1955">n]_</a></span>(<span id="x:1966" class="id"><span id="x:1958" class="id"><a name="x:1966" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) <span class="id">f^\-</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1958">x</a></span>))%<span class="id">:E|</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-nneseriesD//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#lee_nneseries">lee_nneseries</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineB">fineB//</a></span> <span class="id">?EFinB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs_sub">lee_abs_sub</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_pos_fin_num">integrable_pos_fin_num</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_neg_fin_num">integrable_neg_fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-fineKp</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-fineKn;</span> <span class="id">exact:</span> <span class="id">fmoo</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">=&gt;</span> <span class="id">k</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">!fineK//</span> <span class="id">-?integralE//;</span><br/>
&nbsp;&nbsp;<span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_neg_fin_num">integrable_neg_fin_num|exact:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_pos_fin_num">integrable_pos_fin_num]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure">sequence_measure</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="integrable_lemmas" class="id"><a name="integrable_lemmas" class="">integrable_lemmas</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:1967" class="id"><a name="d:1967" class="">d</a></span> (<span id="T:1968" class="id"><a name="T:1968" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:1967">d</a></span>) (<span id="R:1969" class="id"><a name="R:1969" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="mu:1970" class="id"><a name="mu:1970" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:1968">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:1969">R}</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="ge0_integral_bigcup" class="id"><a name="ge0_integral_bigcup" class="">ge0_integral_bigcup</a></span> (<span id="F:1971" class="id"><a name="F:1971" class="">F</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">_</span>)<span class="id">^nat</span>) (<span id="f:1972" class="id"><a name="f:1972" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="k:1973" class="id"><a name="k:1973" class="">k,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:1971">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1973">k</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="D:1975" class="id"><a name="D:1975" class="">D</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#4652af423267d4923a164c1104e1273f">\bigcup_k</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:1971">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:1974">k</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1975">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1972">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:1976" class="id"><a name="x:1976" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1975">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1976">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1972">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1976">x</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:1971">F</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1977" class="id"><a name="x:1977" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:1975">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1972">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1977">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="i:1980" class="id"><span id="i:1979" class="id"><span id="i:1978" class="id"><a name="i:1980" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1981" class="id"><a name="x:1981" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:1971">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1978">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:1972">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1981">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof229')">Proof.</span></div>
<div class="proofscript" id="proof229">
<span class="id">move=&gt;</span> <span class="id">mF</span> <span class="id">D</span> <span class="id">/integrableP</span> <span class="id">fi</span> <span class="id">f0</span> <span class="id">tF</span>.<br/>
<span class="id">pose</span> <span class="id">f_</span> <span id="N:1982" class="id"><a name="N:1982" class="">N</a></span> <span class="id">:=</span> <span class="id">f</span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#a0f72dd08c3295710348031e7df784a3">\big[setU/set0]_</a></span>(<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#a0f72dd08c3295710348031e7df784a3">&lt;=</a></span> <span id="i:1985" class="id"><span id="i:1984" class="id"><span id="i:1983" class="id"><a name="i:1985" class="">i</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#a0f72dd08c3295710348031e7df784a3">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#N:1982">N</a></span>) <span class="id">F</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1983">i</a></span>).<br/>
<span class="id">have</span> <span class="id">lim_f_</span> <span class="id">t</span> <span class="id">:</span> <span class="id">f_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:1986">t</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> (<span class="id">f</span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id">D</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:1986">t</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:1987">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id">f_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id">t</span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/restrict;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[|_]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setE">in_setE</a></span> <span class="id">=&gt;</span> <span class="id">-[n</span> <span class="id">_</span> <span class="id">Fnt];</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub;</a></span> <span class="gallina-kwd">exists</span> <span class="id">n</span>.<span class="id">+1</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/f_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_mkord">big_mkord</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patchT">patchT//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setE">in_setE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_ord_recr">big_ord_recr/=;</a></span> <span class="id">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span> <span class="id">t</span>))<span class="id">//</span> <span class="id">?ereal_sup_ub//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/f_</span> <span class="id"><a href="mathcomp.classical.functions.html#patchN">patchN//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_mkord">big_mkord</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_ord0">big_ord0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE/=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_set0">in_set0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">[n</span> <span class="id">_</span> <span class="id">&lt;-]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/f_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#restrict_lee">restrict_lee//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_mkord">big_mkord;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#bigsetU_bigcup">bigsetU_bigcup</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_cvgn">ereal_nondecreasing_cvgn</a></span> <span class="id">=&gt;</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/f_</span> <span class="id">!big_mkord</span> <span class="id"><a href="mathcomp.analysis.numfun.html#restrict_lee">restrict_lee</a></span> <span class="id">//;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subset_bigsetU">subset_bigsetU</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">apply:</span> <span class="id">f0</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#bigsetU_bigcup">bigsetU_bigcup</a></span> <span class="id">Dx</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mu]_x</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id">f_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1988">x</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">lim_f_</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence//;</a></span> <span class="id">last</span> <span class="id">3</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">apply/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">f</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigsetU_measurable">bigsetU_measurable</a></span> <span class="id">=&gt;</span> <span class="id">k</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id">mF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case:</span> <span class="id">fi</span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">_;</span> <span class="id">apply/measurable_funS</span> <span class="id">=&gt;//;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_mkord">big_mkord;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#bigsetU_bigcup">bigsetU_bigcup</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span> <span class="id">=&gt;</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_mkord">big_mkord</a></span> <span class="id">=&gt;</span> <span class="id">Dy;</span> <span class="id">apply:</span> <span class="id">f0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#bigsetU_bigcup">bigsetU_bigcup</a></span> <span class="id">Dy</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#restrict_lee">restrict_lee</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_mkord">big_mkord</a></span> <span class="id">=&gt;</span> <span class="id">Dy;</span> <span class="id">apply:</span> <span class="id">f0;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#bigsetU_bigcup">bigsetU_bigcup</a></span> <span class="id">Dy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">2!big_mkord;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subset_bigsetU">subset_bigsetU</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="gallina-kwd">fun</span> <span id="N:1995" class="id"><span id="N:1990" class="id"><a name="N:1995" class="">N</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:1999" class="id"><span id="x:1994" class="id"><a name="x:1999" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#afef6bddeda988bbc365e556241d5732">\big[setU/set0]_</a></span>(<span id="i:1998" class="id"><span id="i:1997" class="id"><span id="i:1996" class="id"><span id="i:1993" class="id"><span id="i:1992" class="id"><span id="i:1991" class="id"><a name="i:1998" class="">i</a></span></span></span></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#afef6bddeda988bbc365e556241d5732">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#N:1990">N</a></span>) <span class="id">F</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:1991">i</a></span>) <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:1994">x</a></span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/congr_lim/funext</span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id">/f_</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]integral_mkcond</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_mkord">big_mkord</a></span>.<br/>
<span class="id">apply/congr_lim/funext</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">n</span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_mkord">big_mkord</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#xpredT">xpredT</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_bigsetU">ge0_integral_bigsetU</a></span> <span class="id">?big_mkord//</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#iota_uniq">iota_uniq</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#sub_trivIset">sub_trivIset</a></span> <span class="id">tF</span>.<br/>
<span class="id">-</span> <span class="id">case:</span> <span class="id">fi</span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#bigsetU_bigcup">bigsetU_bigcup</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">Dy;</span> <span class="id">apply:</span> <span class="id">f0;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#bigsetU_bigcup">bigsetU_bigcup</a></span> <span class="id">Dy</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integrableS" class="id"><a name="integrableS" class="">integrableS</a></span> (<span id="E:2000" class="id"><a name="E:2000" class="">E</a></span> <span id="D:2001" class="id"><a name="D:2001" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.T">T</a></span>) (<span id="f:2002" class="id"><a name="f:2002" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:2000">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2001">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2001">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:2000">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:2000">E</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2002">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2001">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2002">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof230')">Proof.</span></div>
<div class="proofscript" id="proof230">
<span class="id">move=&gt;</span> <span class="id">mE</span> <span class="id">mD</span> <span class="id">DE</span> <span class="id">/integrableP[mf</span> <span class="id">ifoo];</span> <span class="id">apply/integrableP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mf</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">ifoo;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral">subset_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integrable_mkcond" class="id"><a name="integrable_mkcond" class="">integrable_mkcond</a></span> <span id="D:2003" class="id"><a name="D:2003" class="">D</a></span> <span id="f:2004" class="id"><a name="f:2004" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2003">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2003">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2004">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2004">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2003">D</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof231')">Proof.</span></div>
<div class="proofscript" id="proof231">
<span class="id">move=&gt;</span> <span class="id">mD</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#unlock">unlock;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#asbool_equiv">asbool_equiv;</a></span> <span class="id">rewrite</span> <span class="id">[in</span> <span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2005">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id">_]integral_mkcond</span>.<br/>
<span class="id">under</span> <span class="id">[in</span> <span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2006">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id">_]eq_integral</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#restrict_abse">restrict_abse</a></span>.<br/>
<span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[|]</span> <span class="id">[mf</span> <span class="id">foo]</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">[exact/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>).<span class="id">1|</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">foo]</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">[exact/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">_</span>).<span class="id">2|</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">foo]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas">integrable_lemmas</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_mkcond">integrable_mkcond</a></span> <span class="id">{d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">mu</span> <span class="id">D}</span> <span class="id">f</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="finite_measure_integrable_cst" class="id"><a name="finite_measure_integrable_cst" class="">finite_measure_integrable_cst</a></span> <span id="d:2007" class="id"><a name="d:2007" class="">d</a></span> (<span id="T:2008" class="id"><a name="T:2008" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2007">d</a></span>) (<span id="R:2009" class="id"><a name="R:2009" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="mu:2010" class="id"><a name="mu:2010" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bf11977399f31556eaaab82c176def03">{finite_measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2008">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#bf11977399f31556eaaab82c176def03">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:2009">R}</a></span>) <span id="k:2011" class="id"><a name="k:2011" class="">k</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu:2010">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2008">T]</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:2011">k</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof232')">Proof.</span></div>
<div class="proofscript" id="proof232">
<span class="id">apply/integrableP;</span> <span class="id">split;</span> <span class="id">first</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
<span class="id">have</span> <span class="id">[k0|k0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0</span> <span class="id">k</span>.<br/>
<span class="id">-</span> <span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm//</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cstr">integral_cstr//=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_mul_pinfty">lte_mul_pinfty//</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#fin_num_fun_lty">fin_num_fun_lty//</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#fin_num_measure">fin_num_measure</a></span>.<br/>
<span class="id">-</span> <span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr0_norm">ltr0_norm//</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cstr">integral_cstr//=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_mul_pinfty">lte_mul_pinfty//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lerNr">lerNr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.oppr0">oppr0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#fin_num_fun_lty">fin_num_fun_lty//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#fin_num_measure">fin_num_measure</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="integrable_ae" class="id"><a name="integrable_ae" class="">integrable_ae</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:2012" class="id"><a name="d:2012" class="">d</a></span> (<span id="T:2013" class="id"><a name="T:2013" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2012">d</a></span>) (<span id="R:2014" class="id"><a name="R:2014" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="integrable_ae.mu" class="id"><a name="integrable_ae.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.R">R}</a></span>) (<span id="integrable_ae.D" class="id"><a name="integrable_ae.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.T">T</a></span>) (<span id="integrable_ae.mD" class="id"><a name="integrable_ae.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2016">D</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="integrable_ae.f" class="id"><a name="integrable_ae.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.R">R</a></span>.<br/>
<span class="vernacular">Hypotheses</span> <span id="integrable_ae.fint" class="id"><a name="integrable_ae.fint" class="">fint</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.f">f</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integrable_ae" class="id"><a name="integrable_ae" class="">integrable_ae</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bc9b2ba76d94ad575afd74542172654c">{ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.mu">mu,</a></span> <span class="gallina-kwd">forall</span> <span id="x:2020" class="id"><a name="x:2020" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2020">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2020">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof233')">Proof.</span></div>
<div class="proofscript" id="proof233">
<span class="id">have</span> <span class="id">[muD0|muD0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span>) <span class="id">0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D;</a></span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">t</span> <span class="id">/=</span> <span class="id">/not_implyP[]</span>.<br/>
<span class="id">pose</span> <span class="id">E</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:2021" class="id"><a name="x:2021" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2021">x|</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2021">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">]</a></span>.<br/>
<span class="id">have</span> <span class="id">mE</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.f">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#5a7092a84ffebb249d94ea1f3b2cd778">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo]</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.fint">fint</a></span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/E</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">t;</span> <span class="id">split=&gt;</span> <span class="id">[[/eqP]|[Dt</span> <span class="id">[|]/=</span> <span class="id">-&gt;//]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe_absl">eqe_absl</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">/preimage/=</span> <span class="id">=&gt;</span> <span class="id">/orP[|]/eqP;</span> <span class="id">tauto</span>.<br/>
<span class="id">have</span> <span class="id">[ET|ET]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">E</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">foo</span> <span class="id">t</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:2022">t|</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:</span> <span class="id">E</span> <span class="id">t</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">ET</span>.<br/>
&nbsp;&nbsp;<span class="id">suff:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2023" class="id"><a name="x:2023" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2023">x|</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.fint">fint</a></span>) <span class="id">=&gt;</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltey">ltey</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_csty">integral_csty</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.mD">mD</a></span> <span class="id">muD0</span>)<span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span>.<br/>
<span class="id">suff:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.mu">mu</a></span> <span class="id">E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">muE0;</span> <span class="gallina-kwd">exists</span> <span class="id">E;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">t</span> <span class="id">/=</span> <span class="id">/not_implyP[Dt]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> <span class="id">=&gt;</span> <span class="id">/negP;</span> <span class="id">rewrite</span> <span class="id">-leNgt</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span>.<br/>
<span class="id">have</span> <span class="id">[-&gt;|/set0P</span> <span class="id">E0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">E</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
<span class="id">have</span> <span class="id">[M</span> <span class="id">M0</span> <span class="id">muM]</span> <span class="id">:</span> <span class="gallina-kwd">exists2</span> <span id="M:2025" class="id"><span id="M:2024" class="id"><a name="M:2025" class="">M,</a></span></span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#M:2024">M</a></span>)%<span class="id">R</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:2026" class="id"><a name="n:2026" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2026">n</a></span>%<span class="id">:R</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.mu">mu</a></span> (<span class="id">E</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#M:2025">M</a></span>%<span class="id">:E</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2028" class="id"><span id="x:2027" class="id"><a name="x:2028" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2027">x|</a></span>))<span class="id">;</span> <span class="id">first</span> <span class="id">exact/fine_ge0/integral_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id">-integral_indic//</span> <span class="id">-ge0_integralZl//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.fint">fint</a></span>) <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">foo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">/indic</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.fint">fint</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[|xE]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">E</span>)<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/E</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">-[-&gt;];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
<span class="id">apply/eqP/negPn/negP</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">muED0;</span> <span class="id">move/not_forallP</span> <span class="id">:</span> <span class="id">muM;</span> <span class="id">apply</span>.<br/>
<span class="id">have</span> <span class="id">[muEDoo|]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.ltP">ltP</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.mu">mu</a></span> (<span class="id">E</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span>)) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">-&gt;;</span> <span class="gallina-kwd">exists</span> <span class="id">1</span>%<span class="id">N;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">`|ceil</a></span> (<span class="id">M</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.mu">mu</a></span> (<span class="id">E</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span>)))<span class="id">^-1</span>)<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">|</a></span>%<span class="id">N</span>.<span class="id">+1</span>.<br/>
<span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id">-ltNge</span>.<br/>
<span class="id">rewrite</span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2029">X]</a></span>(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.mu">mu</a></span> (<span class="id">E</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numElt">fin_numElt</a></span> <span class="id">muEDoo</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measure_ge0">measure_ge0</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">-ltr_pdivrMr</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-natr1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#natr_absz">natr_absz</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge">ceil_ge</a></span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltrDl">ltrDl</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge0">ceil_ge0//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.divr_ge0">divr_ge0//;</a></span> <span class="id">apply/le0R/measure_ge0;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-lte_fin</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt0e">lt0e</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_ge0">measure_ge0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="id">suff:</span> <span class="id">E</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">E</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-&gt;;</span> <span class="id">exact/eqP</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">t;</span> <span class="id">split=&gt;</span> <span class="id">-[]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE//</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_ge0">measure_ge0//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae">integrable_ae</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="linearity" class="id"><a name="linearity" class="">linearity</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:2030" class="id"><a name="d:2030" class="">d</a></span> (<span id="T:2031" class="id"><a name="T:2031" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2030">d</a></span>) (<span id="R:2032" class="id"><a name="R:2032" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="linearity.mu" class="id"><a name="linearity.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.R">R}</a></span>) (<span id="linearity.D" class="id"><a name="linearity.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.T">T</a></span>) (<span id="linearity.mD" class="id"><a name="linearity.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2034">D</a></span>).<br/>
<span class="vernacular">Variable</span> (<span id="linearity.f" class="id"><a name="linearity.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.R">R</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="linearity.intf" class="id"><a name="linearity.intf" class="">intf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.f">f</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="linearity.mesf" class="id"><a name="linearity.mesf" class="">mesf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.f">f</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof234')">Proof.</span></div>
<div class="proofscript" id="proof234">
 <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.intf">intf</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integralZl" class="id"><a name="integralZl" class="">integralZl</a></span> <span id="r:2038" class="id"><a name="r:2038" class="">r</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2039" class="id"><a name="x:2039" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:2038">r</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2039">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:2038">r</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2040" class="id"><a name="x:2040" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2040">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof235')">Proof.</span></div>
<div class="proofscript" id="proof235">
<span class="id">have</span> <span class="id">[r0|r0|-&gt;]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.ltgtP">ltgtP</a></span> <span class="id">r</span> <span class="id">0</span>%<span class="id">R;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0">integral0</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]integralE//</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#gt0_funeposM">gt0_funeposM//</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#gt0_funenegM">gt0_funenegM//</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl_EFin">ge0_integralZl_EFin</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">r0</span>)) <span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl_EFin">ge0_integralZl_EFin</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">r0</span>)) <span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-muleBr</span> <span class="id">1?[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]integralE//</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_add_def">integrable_add_def</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]integralE//</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#lt0_funeposM">lt0_funeposM//</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#lt0_funenegM">lt0_funenegM//</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl_EFin">ge0_integralZl_EFin</a></span> <span class="id">//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-lerNr</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.oppr0">oppr0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl_EFin">ge0_integralZl_EFin</a></span> <span class="id">//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-lerNr</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.oppr0">oppr0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-mulNe</span> <span class="id">-EFinN</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulNe">mulNe</a></span> <span class="id">-muleBr</span> <span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_add_def">integrable_add_def</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]integralE</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity">linearity</a></span>.<br/>
<span class="id">#[deprecated</span>(<span class="id">since=</span><span class="id">&quot;mathcomp-analysis 0.6.4&quot;, note=&quot;use `integralZl` instead&quot;</span>)<span class="id">]</span><br/>
<span class="vernacular">Notation</span> <span id="integralM" class="id"><a name="integralM" class="">integralM</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl">integralZl</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="linearity" class="id"><a name="linearity" class="">linearity</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:2041" class="id"><a name="d:2041" class="">d</a></span> (<span id="T:2042" class="id"><a name="T:2042" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2041">d</a></span>) (<span id="R:2043" class="id"><a name="R:2043" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="linearity.mu" class="id"><a name="linearity.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.R">R}</a></span>) (<span id="linearity.D" class="id"><a name="linearity.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.T">T</a></span>) (<span id="linearity.mD" class="id"><a name="linearity.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2045">D</a></span>).<br/>
<span class="vernacular">Variables</span> <span id="linearity.f1" class="id"><a name="linearity.f1" class="">f1</a></span> <span id="linearity.f2" class="id"><a name="linearity.f2" class="">f2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.R">R</a></span>.<br/>
<span class="vernacular">Let</span> <span id="linearity.g1" class="id"><a name="linearity.g1" class="">g1</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.f1">f1</a></span>.<br/>
<span class="vernacular">Let</span> <span id="linearity.g2" class="id"><a name="linearity.g2" class="">g2</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.f2">f2</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="linearity.if1" class="id"><a name="linearity.if1" class="">if1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="linearity.if2" class="id"><a name="linearity.if2" class="">if2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="linearity.mf1" class="id"><a name="linearity.mf1" class="">mf1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof236')">Proof.</span></div>
<div class="proofscript" id="proof236">
 <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.if1">if1</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="linearity.mf2" class="id"><a name="linearity.mf2" class="">mf2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof237')">Proof.</span></div>
<div class="proofscript" id="proof237">
 <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.if2">if2</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integralD_EFin" class="id"><a name="integralD_EFin" class="">integralD_EFin</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2051" class="id"><a name="x:2051" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2051">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2052" class="id"><a name="x:2052" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2052">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2053" class="id"><a name="x:2053" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2053">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof238')">Proof.</span></div>
<div class="proofscript" id="proof238">
<span class="id">suff:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2054" class="id"><a name="x:2054" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) ((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>)<span class="id">^\+</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2054">x</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2055" class="id"><a name="x:2055" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1^\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2055">x</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2056" class="id"><a name="x:2056" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2^\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2056">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2057" class="id"><a name="x:2057" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) ((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>)<span class="id">^\-</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2057">x</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2058" class="id"><a name="x:2058" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1^\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2058">x</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2059" class="id"><a name="x:2059" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2^\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2059">x</a></span>).<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">h;</span> <span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]integralE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move/eqP</span> <span class="id">:</span> <span class="id">h;</span> <span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#eqRHS">eqRHS]addeA</a></span> <span class="id">[in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#eqRHS">eqRHS]addeC</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">g12pos</span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2060" class="id"><a name="x:2060" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1^\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2060">x</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2061" class="id"><a name="x:2061" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2^\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2061">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_funepos_lt_pinfty">integral_funepos_lt_pinfty</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">g12neg</span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2062" class="id"><a name="x:2062" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1^\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2062">x</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2063" class="id"><a name="x:2063" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2^\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2063">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty//</a></span> <span class="id">;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_funeneg_lt_pinfty">integral_funeneg_lt_pinfty</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-sube_eq;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_funeneg_lt_pinfty">integral_funeneg_lt_pinfty</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_funeneg_lt_pinfty">integral_funeneg_lt_pinfty</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_funepos_lt_pinfty">integral_funepos_lt_pinfty</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableD">integrableD</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0//;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_adde_defr">fin_num_adde_defr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">addeA</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2066" class="id"><span id="x:2065" class="id"><span id="x:2064" class="id"><a name="x:2066" class="">x</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>)<span class="id">^\+</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2064">x</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2069" class="id"><span id="x:2068" class="id"><span id="x:2067" class="id"><a name="x:2069" class="">x</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>)<span class="id">^\+</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2067">x</a></span>)) <span class="id">-[eqbLHS]addeA</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2074" class="id"><span id="x:2072" class="id"><span id="x:2070" class="id"><a name="x:2074" class="">x</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1^\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2070">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2075" class="id"><span id="x:2073" class="id"><span id="x:2071" class="id"><a name="x:2075" class="">x</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2^\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2071">x</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sube_eq">sube_eq</a></span> <span class="id">g12pos</span>) <span class="id">?fin_num_adde_defl//</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_oppeD">fin_num_oppeD;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE;</a></span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_funeneg_lt_pinfty">integral_funeneg_lt_pinfty</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.if2">if2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeACA">addeACA</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>).<br/>
<span class="id">have</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>)<span class="id">^\+</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1^\-</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2^\-</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>)<span class="id">^\-</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1^\+</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2^\+</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id">-2!addeA</span> <span class="id">[in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#eqRHS">eqRHS]addeC</a></span> <span class="id">-sube_eq;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/funepos</span> <span class="id">/funeneg</span> <span class="id">-!fine_max</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/funepos</span> <span class="id">/funeneg</span> <span class="id">-!fine_max</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeAC">addeAC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id">-sube_eq;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/funepos</span> <span class="id">/funeneg</span> <span class="id">-!fine_max</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/funepos</span> <span class="id">/funeneg</span> <span class="id">-!fine_max</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/eqP</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[LHS]/</span>((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1^\+</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2^\+</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#413a754bf74f3e306cb2b48b8fe944d4">\-</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1^\-</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2^\-</a></span>)) <span class="id">x</span>) <span class="id">-funeD_posD</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-[RHS]/</span>((<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#413a754bf74f3e306cb2b48b8fe944d4">\-</a></span> <span class="id">_</span>) <span class="id">x</span>) <span class="id">-funeD_Dpos</span>.<br/>
<span class="id">move/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> (<span class="gallina-kwd">fun</span> <span id="y:2076" class="id"><a name="y:2076" class="">y</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2077" class="id"><a name="x:2077" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2076">y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2077">x</a></span>) )).<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mD">mD</a></span>)<span class="id">;</span> <span class="id">last</span> <span class="id">4</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/measurable_funepos/emeasurable_funD</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mD">mD</a></span>)<span class="id">;</span> <span class="id">last</span> <span class="id">4</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact/measurable_funepos/emeasurable_funD</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact/measurable_funepos/measurableT_comp</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">-&gt;</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mD">mD</a></span>)<span class="id">;</span> <span class="id">last</span> <span class="id">4</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/measurable_funeneg/emeasurable_funD</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mD">mD</a></span>) <span class="id">//;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
<span class="id">exact/measurable_funeneg/emeasurable_funD</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity">linearity</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integralB_EFin" class="id"><a name="integralB_EFin" class="">integralB_EFin</a></span> <span id="d:2078" class="id"><a name="d:2078" class="">d</a></span> (<span id="T:2079" class="id"><a name="T:2079" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2078">d</a></span>) (<span id="R:2080" class="id"><a name="R:2080" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;(<span id="mu:2081" class="id"><a name="mu:2081" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2079">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:2080">R}</a></span>) (<span id="D:2082" class="id"><a name="D:2082" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2079">T</a></span>) (<span id="f1:2083" class="id"><a name="f1:2083" class="">f1</a></span> <span id="f2:2084" class="id"><a name="f2:2084" class="">f2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2079">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:2080">R</a></span>)<br/>
&nbsp;&nbsp;(<span id="mD:2085" class="id"><a name="mD:2085" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2082">D</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu:2081">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2082">D</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f1:2083">f1</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu:2081">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2082">D</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f2:2084">f2</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2086" class="id"><a name="x:2086" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2082">D</a></span>) ((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f1:2083">f1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2086">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f2:2084">f2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2086">x</a></span>)%<span class="id">:E</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2087" class="id"><a name="x:2087" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2082">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f1:2083">f1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2087">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2088" class="id"><a name="x:2088" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2082">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f2:2084">f2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2088">x</a></span>)%<span class="id">:E</span>))%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof239')">Proof.</span></div>
<div class="proofscript" id="proof239">
<span class="id">move=&gt;</span> <span class="id">if1</span> <span class="id">if2;</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD_EFin">integralD_EFin</a></span> <span class="id">mD</span> <span class="id">if1</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:2091" class="id"><span id="x:2090" class="id"><span id="x:2089" class="id"><a name="x:2091" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> (<span class="id">f2</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2089">x</a></span>)%<span class="id">:E</span>))%<span class="id">E;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableN">integrableN|by</a></span> <span class="id">[]]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-integralN//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_add_def">integrable_add_def</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="le_abse_integral" class="id"><a name="le_abse_integral" class="">le_abse_integral</a></span> <span id="d:2092" class="id"><a name="d:2092" class="">d</a></span> (<span id="T:2093" class="id"><a name="T:2093" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2092">d</a></span>) (<span id="R:2094" class="id"><a name="R:2094" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;(<span id="mu:2095" class="id"><a name="mu:2095" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2093">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:2094">R}</a></span>) (<span id="D:2096" class="id"><a name="D:2096" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2093">T</a></span>) (<span id="f:2097" class="id"><a name="f:2097" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2093">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:2094">R</a></span>)<br/>
&nbsp;&nbsp;(<span id="mD:2098" class="id"><a name="mD:2098" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2096">D</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2096">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2097">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2099" class="id"><a name="x:2099" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2096">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2097">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2099">x</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2100" class="id"><a name="x:2100" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2096">D</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2100">x|</a></span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof240')">Proof.</span></div>
<div class="proofscript" id="proof240">
<span class="id">move=&gt;</span> <span class="id">mf</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs_sub">lee_abs_sub</a></span> <span class="id">_</span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-ge0_integralD</span> <span class="id">//</span> <span class="id">-?fune_abse//;</span><br/>
&nbsp;&nbsp;<span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span> <span class="id">|</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="abse_integralP" class="id"><a name="abse_integralP" class="">abse_integralP</a></span> <span id="d:2101" class="id"><a name="d:2101" class="">d</a></span> (<span id="T:2102" class="id"><a name="T:2102" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2101">d</a></span>) (<span id="R:2103" class="id"><a name="R:2103" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="mu:2104" class="id"><a name="mu:2104" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2102">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:2103">R}</a></span>) (<span id="D:2105" class="id"><a name="D:2105" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2102">T</a></span>) (<span id="f:2106" class="id"><a name="f:2106" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2102">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:2103">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2105">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2105">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2106">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2107" class="id"><a name="x:2107" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2105">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2106">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2107">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2108" class="id"><a name="x:2108" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2105">D</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2108">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof241')">Proof.</span></div>
<div class="proofscript" id="proof241">
<span class="id">move=&gt;</span> <span class="id">mD</span> <span class="id">mf;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[|]</span> <span class="id">foo;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> <span class="id">mu</span> <span class="id">mD</span> <span class="id">mf</span>) <span class="id">foo</span>).<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">-/</span>((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">f</span>) <span class="id">_</span>) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD//;[|exact/measurable_funepos|exact/measurable_funeneg]</a></span>.<br/>
<span class="id">move:</span> <span class="id">foo;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE/=</a></span> <span class="id">-fin_num_abs</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numB">fin_numB</a></span> <span class="id">=&gt;</span> <span class="id">/andP[fpoo</span> <span class="id">fnoo]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltey_eq">ltey_eq</a></span> <span class="id">?fpoo</span> <span class="id">?fnoo</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="integral_indic" class="id"><a name="integral_indic" class="">integral_indic</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:2109" class="id"><a name="d:2109" class="">d</a></span> (<span id="T:2110" class="id"><a name="T:2110" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2109">d</a></span>) (<span id="R:2111" class="id"><a name="R:2111" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="mu:2112" class="id"><a name="mu:2112" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2110">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:2111">R}</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_setI_indic" class="id"><a name="integral_setI_indic" class="">integral_setI_indic</a></span> (<span id="E:2113" class="id"><a name="E:2113" class="">E</a></span> <span id="D:2114" class="id"><a name="D:2114" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.T">T</a></span>) (<span id="mD:2115" class="id"><a name="mD:2115" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2114">D</a></span>) (<span id="f:2116" class="id"><a name="f:2116" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:2113">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2117" class="id"><a name="x:2117" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:2113">E</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2114">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2116">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2117">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2118" class="id"><a name="x:2118" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:2113">E</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2116">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2118">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2118">x</a></span>)%<span class="id">:E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof242')">Proof.</span></div>
<div class="proofscript" id="proof242">
<span class="id">move=&gt;</span> <span class="id">mE;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcondr">integral_mkcondr;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">xE</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_restrict">indic_restrict</a></span> <span class="id">/patch;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn;</a></span> <span class="id">rewrite</span> <span class="id">?mule1</span> <span class="id">?mule0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integralEindic" class="id"><a name="integralEindic" class="">integralEindic</a></span> (<span id="D:2119" class="id"><a name="D:2119" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.T">T</a></span>) (<span id="mD:2120" class="id"><a name="mD:2120" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2119">D</a></span>) (<span id="f:2121" class="id"><a name="f:2121" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2122" class="id"><a name="x:2122" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2119">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2121">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2122">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2123" class="id"><a name="x:2123" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2119">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2121">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2123">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2123">x</a></span>)%<span class="id">:E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof243')">Proof.</span></div>
<div class="proofscript" id="proof243">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-integral_setI_indic//</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid</a></span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ae_eq_integral" class="id"><a name="ae_eq_integral" class="">ae_eq_integral</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:2124" class="id"><a name="d:2124" class="">d</a></span> (<span id="T:2125" class="id"><a name="T:2125" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2124">d</a></span>) (<span id="R:2126" class="id"><a name="R:2126" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="mu:2127" class="id"><a name="mu:2127" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2125">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:2126">R}</a></span>).<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="ae_eq" class="id"><a name="ae_eq" class="">ae_eq</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.measure.html#ae_eq">ae_eq</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="ae_eq_integral.ae_eq_integral_abs_bounded" class="id"><a name="ae_eq_integral.ae_eq_integral_abs_bounded" class="">ae_eq_integral_abs_bounded</a></span> (<span id="D:2128" class="id"><a name="D:2128" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span>) (<span id="mD:2129" class="id"><a name="mD:2129" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2128">D</a></span>) (<span id="f:2130" class="id"><a name="f:2130" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="M:2131" class="id"><a name="M:2131" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2128">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2130">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="gallina-kwd">forall</span> <span id="x:2132" class="id"><a name="x:2132" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2128">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2132">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2132">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#M:2131">M</a></span>%<span class="id">:E</span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2128">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2130">f</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2133" class="id"><a name="x:2133" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2128">D</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2133">x|</a></span>%<span class="id">E</span>  <span class="id">=</span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof244')">Proof.</span></div>
<div class="proofscript" id="proof244">
<span class="id">move=&gt;</span> <span class="id">mf</span> <span class="id">fM</span> <span class="id">[N</span> <span class="id">[mA</span> <span class="id">mN0</span> <span class="id">Df0N]]</span>.<br/>
<span class="id">pose</span> <span class="id">Df_neq0</span> <span class="id">:=</span> <span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:2134" class="id"><a name="x:2134" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2134">x</a></span> <span class="id">!=</span> <span class="id">0]</span>.<br/>
<span class="id">have</span> <span class="id">mDf_neq0</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">Df_neq0</span> <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_neq">emeasurable_neq</a></span>.<br/>
<span class="id">pose</span> <span class="id">f'</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic">indic</a></span> <span class="id">Df_neq0</span>.<br/>
<span class="id">have</span> <span class="id">le_f_M</span> <span class="id">t</span> <span class="id">:</span> <span class="id">D</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:2135">t</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:2135">t|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">M</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id">f'</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:2135">t</a></span>)%<span class="id">:E</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">Dt;</span> <span class="id">rewrite</span> <span class="id">/f'</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE;</a></span> <span class="id">have</span> <span class="id">[|]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">t</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">Df_neq0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">-[_</span> <span class="id">_];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span> <span class="id">fM</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set=&gt;</a></span> <span class="id">/not_andP[//|/negP/negPn/eqP</span> <span class="id">-&gt;];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse0">abse0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#22a004aef08384828d8c3e3f6ac9fe2e">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2137" class="id"><span id="x:2136" class="id"><a name="x:2137" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2136">x|</a></span>  <span class="id">&lt;=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|M|</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> <span class="id">Df_neq0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0//=</a></span> <span class="id">/Df_neq0</span> <span class="id">-{2}</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid</a></span> <span class="id">D</span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#setIAC">setIAC</a></span> <span class="id">-integral_indic//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-/Df_neq0</span> <span class="id">-ge0_integralZl//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id">le_f_M</span> <span class="id">_</span> <span class="id">Dx</span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">/f'</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">?mulr1</span> <span class="id">?mulr0//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norm">ler_norm</a></span>.<br/>
<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> <span class="id">Df_neq0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#subset_measure0">subset_measure0</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">mN0</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> <span class="id">Df0N</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x</span> <span class="id">[/=</span> <span class="id">f0</span> <span class="id">Dx]</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/not_implyP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/eqP</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> <span class="id">-eq_le</span> <span class="id">=&gt;</span> <span class="id">/eqP</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ae_eq_integral_abs" class="id"><a name="ae_eq_integral_abs" class="">ae_eq_integral_abs</a></span> (<span id="D:2138" class="id"><a name="D:2138" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span>) (<span id="mD:2139" class="id"><a name="mD:2139" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2138">D</a></span>) (<span id="f:2140" class="id"><a name="f:2140" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2138">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2140">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2141" class="id"><a name="x:2141" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2138">D</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2141">x|</a></span>  <span class="id">=</span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2138">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2140">f</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof245')">Proof.</span></div>
<div class="proofscript" id="proof245">
<span class="id">move=&gt;</span> <span class="id">mf;</span> <span class="id">split=&gt;</span> <span class="id">[iDf0|Df0]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:2143" class="id"><span id="x:2142" class="id"><a name="x:2143" class="">x</a></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2142">x</a></span> <span class="id">!=</span> <span class="id">0]</span>)<span class="id">;</span> <span class="id">split;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_neq">emeasurable_neq|</a></span> <span class="id">|by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">/=</span> <span class="id">/not_implyP</span> <span class="id">[Dt</span> <span class="id">/eqP</span> <span class="id">ft0]]</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">muDf</span> <span class="id">a</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a:2144">a</a></span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> (<span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:2145" class="id"><a name="x:2145" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a:2144">a</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2145">x|]</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">a0;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id">-measure_le0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_integral_abse">le_integral_abse</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">a0;</span> <span class="id">rewrite</span> <span class="id">iDf0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#pmule_rle0">pmule_rle0</a></span> <span class="id">?lte_fin</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2150">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#4652af423267d4923a164c1104e1273f">\bigcup_n</a></span> (<span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:2152" class="id"><span id="x:2149" class="id"><span id="x:2147" class="id"><a name="x:2152" class="">x</a></span></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2147">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#92160d99f87da4bf2648609e0f89da8e">&gt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2146">n</a></span>.<span class="id">+1</span>%<span class="id">:R^-1</span>%<span class="id">:E]</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">t;</span> <span class="id">split=&gt;</span> <span class="id">[[Dt</span> <span class="id">ft0]|[n</span> <span class="id">_</span> <span class="id">/=</span> <span class="id">[Dt</span> <span class="id">nft]]]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[ftoo|ftoo]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id">t|</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">0</span>%<span class="id">N</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id">ftoo</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">m</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#124262c1d6731d26a230b737e0b3e9b6">`|ceil</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id">t|</span>)<span class="id">^-1|</span>%<span class="id">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">ftfin</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id">t|</span>%<span class="id">E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltey">ltey</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id">t|</span>) <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">-ler_pV2;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.unitfE">unitfE</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_eq0">fine_eq0//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_eq0">abse_eq0</a></span> <span class="id">ft0/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_gt0">fine_gt0//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt0e">lt0e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_ge0">abse_ge0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_eq0">abse_eq0</a></span> <span class="id">ft0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltey">ltey</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.unitfE">unitfE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.invr_eq0">invr_eq0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.pnatr_eq0">pnatr_eq0</a></span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.invr_gt0">invr_gt0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.invrK">invrK</a></span> <span class="id">/m</span> <span class="id">-natr1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html#natr_absz">natr_absz</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm</a></span> <span class="id">?ceil_ge0//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> ((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id">t|</span>)<span class="id">^-1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">1</span>)%<span class="id">R</span>) <span class="id">?lerDl//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lerD2r">lerD2r//</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge">ceil_ge</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contraTN">contraTN</a></span> <span class="id">nft</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse0">abse0</a></span> <span class="id">-ltNge</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="gallina-kwd">fun</span> <span id="n:2155" class="id"><span id="n:2153" class="id"><a name="n:2155" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> (<span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:2156" class="id"><span id="x:2154" class="id"><a name="x:2156" class="">x</a></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2154">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#92160d99f87da4bf2648609e0f89da8e">&gt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2153">n</a></span>.<span class="id">+1</span>%<span class="id">:R^-1</span>%<span class="id">:E]</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#nondecreasing_cvg_mu">nondecreasing_cvg_mu</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">i;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_c_infty">emeasurable_fun_c_infty</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span> <span class="id">=&gt;</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_c_infty">emeasurable_fun_c_infty</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">apply/subsetPset;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIS">setIS</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lef_pV2">lef_pV2</a></span> <span class="id">//</span> <span class="id">?ler_nat</span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.posrE">posrE</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span>) <span class="id">?lim_cst//=</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">muDf</span>.<br/>
<span class="id">pose</span> <span class="id">f_</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="n:2157" class="id"><a name="n:2157" class="">n</a></span> <span id="x:2158" class="id"><a name="x:2158" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mine">mine</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2158">x|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2157">n</a></span>%<span class="id">:R</span>%<span class="id">:E</span>.<br/>
<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> (<span class="gallina-kwd">fun</span> <span id="x:2159" class="id"><a name="x:2159" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2159">x|</a></span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="x:2160" class="id"><a name="x:2160" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id">f_^~</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2160">x</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/cvg_ballP</span> <span class="id">=&gt;</span> <span class="id">_/posnumP[e]</span>.<br/>
&nbsp;&nbsp;<span class="id">near=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id">/ball</span> <span class="id">/=</span> <span class="id">/ereal_ball</span> <span class="id">/=</span> <span class="id">/f_</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[-&gt;|fxoo]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id">x|</span>%<span class="id">E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[contract</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo]</a></span>(@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.divrr">divrr</a></span> <span class="id">_</span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">n</span>%<span class="id">:R</span>)%<span class="id">R</span>) <span class="id">?unitfE</span> <span class="id">?nat1r//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm</a></span> <span class="id">_</span> <span class="id">n</span>%<span class="id">:R</span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.nat1r">nat1r</a></span> <span class="id">-mulrBl</span> <span class="id">-natrB//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#subSnn">subSnn</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.div1r">div1r;</a></span> <span class="id">near:</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#near_infty_natSinv_lt">near_infty_natSinv_lt</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">fxn</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id">x|</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">n</span>%<span class="id">:R</span>%<span class="id">:E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id">x|</span>)<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltey">ltey</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">near:</span> <span class="id">n;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.bound">Num.bound</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id">x|</span>)) <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">n/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans;</a></span> <span class="id">exact/ltW/archi_boundP</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.min_l">min_l//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.normr0">normr0</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="gallina-kwd">fun</span> <span id="n:2163" class="id"><span id="n:2161" class="id"><a name="n:2163" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2164" class="id"><span id="x:2162" class="id"><a name="x:2164" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2161">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2162">x</a></span>) )).<br/>
&nbsp;&nbsp;<span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cvg_monotone_convergence">cvg_monotone_convergence</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_mine">measurable_mine</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">t</span> <span class="id">Dt;</span> <span class="id">rewrite</span> <span class="id">/f_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.LatticeTheoryMeet.lexI">lexI</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_ge0">abse_ge0</a></span> <span class="id">//=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">Dt</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">rewrite</span> <span class="id">/f_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.LatticeTheoryMeet.lexI">lexI</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[ftm|ftm]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id">t|</span>%<span class="id">E</span> <span class="id">m</span>%<span class="id">:R</span>%<span class="id">:E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span> <span class="id">/=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">ftm</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">ftm</span>) <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span>.<br/>
<span class="id">have</span> <span class="id">ae_eq_f_</span> <span class="id">n</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">D</span> (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2165">n</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span>).<br/>
&nbsp;&nbsp;<span class="id">case:</span> <span class="id">Df0</span> <span class="id">=&gt;</span> <span class="id">N</span> <span class="id">[mN</span> <span class="id">muN0</span> <span class="id">DfN]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">N;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">t</span> <span class="id">/=</span> <span class="id">/not_implyP[Dt</span> <span class="id">fnt0]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id">DfN</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">apply/not_implyP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_not">contra_not</a></span> <span class="id">fnt0</span> <span class="id">=&gt;</span> <span class="id">ft0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/f_</span> <span class="id">ft0</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.normr0">normr0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.min_l">min_l//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">have</span> <span class="id">f_bounded</span> <span class="id">n</span> <span class="id">x</span> <span class="id">:</span> <span class="id">D</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2167">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2166">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2167">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2166">n</a></span>%<span class="id">:R</span>%<span class="id">:E</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">Dx;</span> <span class="id">rewrite</span> <span class="id">/f_;</span> <span class="id">have</span> <span class="id">[|_]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id">x|</span> <span class="id">n</span>%<span class="id">:R</span>%<span class="id">:E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_id">abse_id</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">have</span> <span class="id">if_0</span> <span class="id">n</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2169" class="id"><a name="x:2169" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2168">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2169">x|</a></span>  <span class="id">=</span> <span class="id">0</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.ae_eq_integral_abs_bounded">ae_eq_integral_abs_bounded</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">n</span>%<span class="id">:R</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_mine">measurable_mine</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id">f_bounded</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span>) <span class="id">//</span> <span class="id">?lim_cst//</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">n</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id">if_0</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id">/f_</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_abs_eq0" class="id"><a name="integral_abs_eq0" class="">integral_abs_eq0</a></span> <span id="D:2170" class="id"><a name="D:2170" class="">D</a></span> (<span id="N:2171" class="id"><a name="N:2171" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span>) (<span id="f:2172" class="id"><a name="f:2172" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#N:2171">N</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2170">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#N:2171">N</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2170">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2170">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2172">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#N:2171">N</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2173" class="id"><a name="x:2173" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#N:2171">N</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2173">x|</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof246')">Proof.</span></div>
<div class="proofscript" id="proof246">
<span class="id">move=&gt;</span> <span class="id">mN</span> <span class="id">mD</span> <span class="id">ND</span> <span class="id">mf</span> <span class="id">muN0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralEindic">integralEindic//</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (<span class="gallina-kwd">fun</span> <span id="x:2176" class="id"><span id="x:2175" class="id"><span id="x:2174" class="id"><a name="x:2176" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2174">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_N</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2174">x</a></span>)%<span class="id">:E|</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseM">abseM</a></span> (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_N</a></span> <span class="id">t</span>)%<span class="id">:E</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">apply/ae_eq_integral_abs</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mD</span>).<br/>
&nbsp;&nbsp;<span class="id">exact/EFin_measurable_fun</span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id">N;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">t</span> <span class="id">/=</span> <span class="id">/not_implyP[_];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[|]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">t</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">N</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">?inE</span> <span class="id">?mule0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="funID" class="id"><a name="funID" class="">funID</a></span> (<span id="N:2177" class="id"><a name="N:2177" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span>) (<span id="mN:2178" class="id"><a name="mN:2178" class="">mN</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#N:2177">N</a></span>) (<span id="f:2179" class="id"><a name="f:2179" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="oneCN:2180" class="id"><a name="oneCN:2180" class="">oneCN</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R}</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mN:2178">mN</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="oneN:2181" class="id"><a name="oneN:2181" class="">oneN</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R}</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mN:2178">mN]</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2179">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:2182" class="id"><a name="x:2182" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2179">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2182">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#oneCN:2180">oneCN</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2182">x</a></span>)%<span class="id">:E</span>) <span class="id">\+</span> (<span class="gallina-kwd">fun</span> <span id="x:2183" class="id"><a name="x:2183" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2179">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2183">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#oneN:2181">oneN</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2183">x</a></span>)%<span class="id">:E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof247')">Proof.</span></div>
<div class="proofscript" id="proof247">
<span class="id">move=&gt;</span> <span class="id">oneCN</span> <span class="id">oneN;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x</span>.<br/>
<span class="id">rewrite</span> <span class="id">/oneCN</span> <span class="id">/oneN/=</span> <span class="id">/mindic</span> <span class="id">!indicE</span>.<br/>
<span class="id">have</span> <span class="id">[xN|xN]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">N</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setC">in_setC</a></span> <span class="id">xN</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setC">in_setC</a></span> <span class="id">xN</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="negligible_integrable" class="id"><a name="negligible_integrable" class="">negligible_integrable</a></span> (<span id="D:2184" class="id"><a name="D:2184" class="">D</a></span> <span id="N:2185" class="id"><a name="N:2185" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span>) (<span id="f:2186" class="id"><a name="f:2186" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#N:2185">N</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2184">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2184">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2186">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#N:2185">N</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2184">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2186">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>.<span class="id">-integrable</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2184">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#N:2185">N</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2186">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof248')">Proof.</span></div>
<div class="proofscript" id="proof248">
<span class="id">move=&gt;</span> <span class="id">mN</span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">muN0</span>.<br/>
<span class="id">pose</span> <span class="id">mCN</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span> <span class="id">mN</span>.<br/>
<span class="id">pose</span> <span class="id">oneCN</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R}</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R}</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span> <span class="id">mCN]</span>.<br/>
<span class="id">pose</span> <span class="id">oneN</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R}</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R}</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span> <span class="id">mN]</span>.<br/>
<span class="id">have</span> <span class="id">/integrableP</span> <span class="id">intone</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id">D</span> (<span class="gallina-kwd">fun</span> <span id="x:2187" class="id"><a name="x:2187" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2187">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id">oneN</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2187">x</a></span>)%<span class="id">:E</span>).<br/>
&nbsp;&nbsp;<span class="id">apply/integrableP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM=&gt;</a></span> <span class="id">//;</span> <span class="id">apply/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (<span class="gallina-kwd">fun</span> <span id="x:2190" class="id"><span id="x:2189" class="id"><span id="x:2188" class="id"><a name="x:2190" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2188">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_N</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2188">x</a></span>)%<span class="id">:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseM">abseM</a></span> (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_N</a></span> <span class="id">t</span>)%<span class="id">:E</span>) <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-integral_setI_indic//</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_abs_eq0">integral_abs_eq0</a></span> <span class="id">D</span>)<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#subset_measure0">subset_measure0</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">muN0</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">have</span> <span class="id">h1</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id">D</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id">D</span> (<span class="gallina-kwd">fun</span> <span id="x:2191" class="id"><a name="x:2191" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2191">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id">oneCN</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2191">x</a></span>)%<span class="id">:E</span>).<br/>
&nbsp;&nbsp;<span class="id">split=&gt;</span> <span class="id">[/integrableP</span> <span class="id">intf</span> <span class="id">|</span> <span class="id">/integrableP</span> <span class="id">intCf]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/integrableP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM=&gt;</a></span> <span class="id">//;</span> <span class="id">apply/EFin_measurable_fun</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (<span class="gallina-kwd">fun</span> <span id="x:2194" class="id"><span id="x:2193" class="id"><span id="x:2192" class="id"><a name="x:2194" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2192">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id">N</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2192">x</a></span>)%<span class="id">:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseM">abseM</a></span> (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id">N</span>) <span class="id">t</span>)%<span class="id">:E</span>) <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-integral_setI_indic//;</span> <span class="id">case:</span> <span class="id">intf</span> <span class="id">=&gt;</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral">subset_integral</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:measurableI|exact:measurableT_comp]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/integrableP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#funID">funID</a></span> <span class="id">mN</span> <span class="id">f</span>) <span class="id">-/oneCN</span> <span class="id">-/oneN</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="gallina-kwd">fun</span> <span id="x:2195" class="id"><a name="x:2195" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> <span class="id">=&gt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2195">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id">oneCN</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2195">x</a></span>)%<span class="id">:E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM=&gt;</a></span> <span class="id">//;</span> <span class="id">exact/EFin_measurable_fun/measurable_funTS</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="gallina-kwd">fun</span> <span id="x:2196" class="id"><a name="x:2196" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> <span class="id">=&gt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2196">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id">oneN</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2196">x</a></span>)%<span class="id">:E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/EFin_measurable_fun/measurable_funTS</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2198" class="id"><span id="x:2197" class="id"><a name="x:2198" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id">D</span>) (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2197">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id">oneCN</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2197">x</a></span>)%<span class="id">:E|</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2197">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id">oneN</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2197">x</a></span>)%<span class="id">:E|</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs_add">lee_abs_add</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD//;</a></span> <span class="id">[|exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp|exact:</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp]</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty;</a></span> <span class="id">[case:</span> <span class="id">intCf|case:</span> <span class="id">intone]</span>.<br/>
<span class="id">have</span> <span class="id">h2</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>.<span class="id">-integrable</span> (<span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id">N</span>) <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id">D</span> (<span class="gallina-kwd">fun</span> <span id="x:2199" class="id"><a name="x:2199" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2199">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id">oneCN</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2199">x</a></span>)%<span class="id">:E</span>).<br/>
&nbsp;&nbsp;<span class="id">split=&gt;</span> <span class="id">[/integrableP</span> <span class="id">intCf</span> <span class="id">|</span> <span class="id">/integrableP</span> <span class="id">intCf];</span> <span class="id">apply/integrableP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM=&gt;</a></span> <span class="id">//;</span> <span class="id">apply/EFin_measurable_fun</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (<span class="gallina-kwd">fun</span> <span id="x:2202" class="id"><span id="x:2201" class="id"><span id="x:2200" class="id"><a name="x:2202" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2200">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id">N</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2200">x</a></span>)%<span class="id">:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseM">abseM</a></span> (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id">N</span>) <span class="id">t</span>)%<span class="id">:E</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-integral_setI_indic</span> <span class="id">//;</span> <span class="id">case:</span> <span class="id">intCf</span> <span class="id">=&gt;</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral">subset_integral</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI|exact:</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD|]</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mf</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">?</span> <span class="id">[]</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">mDN</span> <span class="id">A</span> <span class="id">mA;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDE">setDE</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#setIC">setIC</a></span> <span class="id">D</span>) <span class="id">-setIA;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id">mf</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setI_indic">integral_setI_indic//</a></span>.<br/>
&nbsp;&nbsp;<span class="id">case:</span> <span class="id">intCf</span> <span class="id">=&gt;</span> <span class="id">_;</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (<span class="gallina-kwd">fun</span> <span id="x:2205" class="id"><span id="x:2204" class="id"><span id="x:2203" class="id"><a name="x:2205" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2203">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id">N</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2203">x</a></span>)%<span class="id">:E</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseM">abseM</a></span> (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id">N</span>) <span class="id">t</span>)%<span class="id">:E</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#iff_trans">iff_trans</a></span> <span class="id">h1</span>)<span class="id">;</span> <span class="id">exact:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#iff_sym">iff_sym</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ge0_negligible_integral" class="id"><a name="ge0_negligible_integral" class="">ge0_negligible_integral</a></span> (<span id="D:2206" class="id"><a name="D:2206" class="">D</a></span> <span id="N:2207" class="id"><a name="N:2207" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span>) (<span id="f:2208" class="id"><a name="f:2208" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#N:2207">N</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2206">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2206">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2208">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:2209" class="id"><a name="x:2209" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2206">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2209">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2208">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2209">x</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#N:2207">N</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2210" class="id"><a name="x:2210" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2206">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2208">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2210">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2211" class="id"><a name="x:2211" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2206">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#N:2207">N</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2208">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2211">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof249')">Proof.</span></div>
<div class="proofscript" id="proof249">
<span class="id">move=&gt;</span> <span class="id">mN</span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">f0</span> <span class="id">muN0</span>.<br/>
<span class="id">rewrite</span> <span class="id">{1}</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#funID">funID</a></span> <span class="id">mN</span> <span class="id">f</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD//;</a></span> <span class="id">last</span> <span class="id">4</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id">f0|rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin]</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM=&gt;</a></span> <span class="id">//;</span> <span class="id">apply/EFin_measurable_fun=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id">f0|rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin]</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM=&gt;</a></span> <span class="id">//;</span> <span class="id">apply/EFin_measurable_fun=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-integral_setI_indic//;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-integral_setI_indic//</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2212">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">_]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>) <span class="id">?adde0//</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">f</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id">=&gt;</span> <span class="id">/andP[xD</span> <span class="id">xN]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id">f0//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="gallina-kwd">in</span> <span class="id">xD</span>.<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_abs_eq0">integral_abs_eq0</a></span> <span class="id">D</span>)<span class="id">//;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#subset_measure0">subset_measure0</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">muN0</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ge0_ae_eq_integral" class="id"><a name="ge0_ae_eq_integral" class="">ge0_ae_eq_integral</a></span> (<span id="D:2213" class="id"><a name="D:2213" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span>) (<span id="f:2214" class="id"><a name="f:2214" class="">f</a></span> <span id="g:2215" class="id"><a name="g:2215" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2213">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2213">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2214">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2213">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2215">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:2216" class="id"><a name="x:2216" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2213">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2216">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2214">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2216">x</a></span>) <span class="id">-&gt;</span> (<span class="gallina-kwd">forall</span> <span id="x:2217" class="id"><a name="x:2217" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2213">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2217">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2215">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2217">x</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2213">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2214">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2215">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2218" class="id"><a name="x:2218" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2213">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2214">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2218">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2219" class="id"><a name="x:2219" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2213">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2215">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2219">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof250')">Proof.</span></div>
<div class="proofscript" id="proof250">
<span class="id">move=&gt;</span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">mg</span> <span class="id">f0</span> <span class="id">g0</span> <span class="id">[N</span> <span class="id">[mN</span> <span class="id">N0</span> <span class="id">subN]]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralEindic">integralEindic//</a></span> <span class="id">[RHS]integralEindic//</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_negligible_integral">ge0_negligible_integral</a></span> <span class="id">mN</span>)<span class="id">//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id">f0|rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin]</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">[RHS]</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_negligible_integral">ge0_negligible_integral</a></span> <span class="id">mN</span>)<span class="id">//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id">g0|rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin]</a></span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">x;rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setD">in_setD</a></span> <span class="id">=&gt;</span> <span class="id">/andP[_</span> <span class="id">xN]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#contrapT">contrapT;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE;</a></span> <span class="id">have</span> <span class="id">[|?]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">D</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">Dx;</span> <span class="id">rewrite</span> <span class="id">!mule1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">xN;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set;</a></span> <span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_not">contra_not</a></span> <span class="id">=&gt;</span> <span class="id">fxgx;</span> <span class="id">apply:</span> <span class="id">subN</span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/not_implyP</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!mule0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ae_eq_integral" class="id"><a name="ae_eq_integral" class="">ae_eq_integral</a></span> (<span id="D:2220" class="id"><a name="D:2220" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span>) (<span id="g:2221" class="id"><a name="g:2221" class="">g</a></span> <span id="f:2222" class="id"><a name="f:2222" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2220">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2220">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2222">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2220">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2221">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2220">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2222">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2221">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2220">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2222">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2220">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2221">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof251')">Proof.</span></div>
<div class="proofscript" id="proof251">
<span class="id">move=&gt;</span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">mg</span> <span class="id">/ae_eq_funeposneg[Dfgp</span> <span class="id">Dfgn]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE//</a></span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]integralE//;</a></span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_ae_eq_integral">ge0_ae_eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos|</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos]</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_ae_eq_integral">ge0_ae_eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg|</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral">ae_eq_integral</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral">ae_eq_integral</a></span> <span class="id">{d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">mu</span> <span class="id">D}</span> <span class="id">g</span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_cst" class="id"><a name="integral_cst" class="">integral_cst</a></span> <span id="d:2223" class="id"><a name="d:2223" class="">d</a></span> (<span id="T:2224" class="id"><a name="T:2224" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2223">d</a></span>) (<span id="R:2225" class="id"><a name="R:2225" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="mu:2226" class="id"><a name="mu:2226" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2224">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:2225">R}</a></span>) (<span id="D:2227" class="id"><a name="D:2227" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2224">T</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2223">d</a></span>.<span class="id">-measurable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2227">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="r:2228" class="id"><a name="r:2228" class="">r,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2229" class="id"><a name="x:2229" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2227">D</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:2228">r</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2229">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:2228">r</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu:2226">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2227">D</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof252')">Proof.</span></div>
<div class="proofscript" id="proof252">
<span class="id">move=&gt;</span> <span class="id">mD;</span> <span class="id">have</span> <span class="id">[D0</span> <span class="id">r|D0</span> <span class="id">[r|</span> <span class="id">|]]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> (<span class="id">mu</span> <span class="id">D</span>) <span class="id">0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral">ae_eq_integral</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span>))<span class="id">//</span> <span class="id">?integral0</span> <span class="id">?D0</span> <span class="id">?mule0//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#ae_eq0">ae_eq0</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cstr">integral_cstr</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_csty">integral_csty//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gt0_mulye">gt0_mulye//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt0e">lt0e</a></span> <span class="id">D0/=</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cstNy">integral_cstNy//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gt0_mulNye">gt0_mulNye//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt0e">lt0e</a></span> <span class="id">D0/=</span>.<br/>
Qed.</div>
<span class="id">Add</span> <span class="id">Search</span> <span class="id">Blacklist</span> <span class="id">&quot;integral_cstr&quot; &quot;integral_csty&quot; &quot;integral_cstNy&quot;</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="le_integral_comp_abse" class="id"><a name="le_integral_comp_abse" class="">le_integral_comp_abse</a></span> <span id="d:2230" class="id"><a name="d:2230" class="">d</a></span> (<span id="T:2231" class="id"><a name="T:2231" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2230">d</a></span>) (<span id="R:2232" class="id"><a name="R:2232" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="mu:2233" class="id"><a name="mu:2233" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2231">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:2232">R}</a></span>)  (<span id="D:2234" class="id"><a name="D:2234" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2231">T</a></span>) (<span id="mD:2235" class="id"><a name="mD:2235" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2234">D</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="g:2236" class="id"><a name="g:2236" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2231">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:2232">R</a></span>) <span id="a:2237" class="id"><a name="a:2237" class="">a</a></span> (<span id="f:2238" class="id"><a name="f:2238" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:2232">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:2232">R</a></span>) (<span id="mf:2239" class="id"><a name="mf:2239" class="">mf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2238">f</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f0:2241" class="id"><a name="f0:2241" class="">f0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="r:2240" class="id"><a name="r:2240" class="">r,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:2240">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2238">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:2240">r</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f_nd:2246" class="id"><a name="f_nd:2246" class="">f_nd</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3">{in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#15b7e1a0c6e4df0db66b48da271129e4">`[0,</a></span> <span class="id">+oo[</span>%<span class="id">classic</span> &amp;<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#a5aeb8c3f096bffee5d65fb0b6810e02">{homo</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2238">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#a5aeb8c3f096bffee5d65fb0b6810e02">:</a></span> <span id="x:2244" class="id"><span id="x:2242" class="id"><a name="x:2244" class="">x</a></span></span> <span id="y:2245" class="id"><span id="y:2243" class="id"><a name="y:2245" class="">y</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#a5aeb8c3f096bffee5d65fb0b6810e02">/</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2242">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2243">y}}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2234">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2236">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a:2237">a</a></span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2238">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a:2237">a</a></span>%<span class="id">:E</span>) <span class="id">*</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu:2233">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2234">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:2247" class="id"><a name="x:2247" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2247">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#92160d99f87da4bf2648609e0f89da8e">&gt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a:2237">a</a></span>%<span class="id">:E</span>)%<span class="id">E]</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2248" class="id"><a name="x:2248" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2234">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2238">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2248">x|</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof253')">Proof.</span></div>
<div class="proofscript" id="proof253">
<span class="id">move=&gt;</span> <span class="id">mg</span> <span class="id">a0;</span> <span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:2249" class="id"><a name="x:2249" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> (<span class="id">a</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2249">x|</a></span>)%<span class="id">E]</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_c_infty">emeasurable_fun_c_infty</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="id">apply:</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2253" class="id"><span id="x:2251" class="id"><a name="x:2253" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:2252" class="id"><span id="x:2250" class="id"><a name="x:2252" class="">x</a></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2250">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#92160d99f87da4bf2648609e0f89da8e">&gt;=</a></span> <span class="id">a</span>%<span class="id">:E]</span>) <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2251">x|</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-integral_cst//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">f0</span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">f0</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mg</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">[Dx];</span> <span class="id">apply:</span> <span class="id">f_nd;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral">subset_integral</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">f0</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Close</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ae_measurable_fun" class="id"><a name="ae_measurable_fun" class="">ae_measurable_fun</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:2254" class="id"><a name="d:2254" class="">d</a></span> (<span id="T:2255" class="id"><a name="T:2255" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2254">d</a></span>) (<span id="R:2256" class="id"><a name="R:2256" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="mu:2257" class="id"><a name="mu:2257" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2255">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:2256">R}</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="ae_measurable_fun.cmu" class="id"><a name="ae_measurable_fun.cmu" class="">cmu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_is_complete">measure_is_complete</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.mu">mu</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="ae_measurable_fun.D" class="id"><a name="ae_measurable_fun.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.T">T</a></span>) (<span id="ae_measurable_fun.f" class="id"><a name="ae_measurable_fun.f" class="">f</a></span> <span id="ae_measurable_fun.g" class="id"><a name="ae_measurable_fun.g" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="ae_measurable_fun" class="id"><a name="ae_measurable_fun" class="">ae_measurable_fun</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#ae_eq">ae_eq</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.g">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.g">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof254')">Proof.</span></div>
<div class="proofscript" id="proof254">
<span class="id">move=&gt;</span> <span class="id">[N</span> <span class="id">[mN</span> <span class="id">N0</span> <span class="id">subN]]</span> <span class="id">mf</span> <span class="id">B</span> <span class="id">mB</span> <span class="id">mD</span>.<br/>
<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurability">measurability</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenOInfty.measurableE">ErealGenOInfty.measurableE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.R">R</a></span>)) <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">_</span> <span class="id">[_</span> <span class="id">[x</span> <span class="id">-&gt;]</span> <span class="id">&lt;-]</span>.<br/>
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2262">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.D">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id">N</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.f">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eca7c03119ea7bbb2c5bd6c3655e6974">`]x</a></span>%<span class="id">:E,</span> <span class="id">+oo[</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">`|`</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.D">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">N</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.g">g</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eca7c03119ea7bbb2c5bd6c3655e6974">`]x</a></span>%<span class="id">:E,</span> <span class="id">+oo[</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">[y</span> <span class="id">/=</span> <span class="id">[Dy</span> <span class="id">gyxoo]|y</span> <span class="id">/=</span> <span class="id">[[[Dy</span> <span class="id">Ny]</span> <span class="id">fyxoo]|]]</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">have</span> <span class="id">[-&gt;|fgy]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.f">f</a></span> <span class="id">y</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.g">g</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[yN|yN]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">N</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">right;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="gallina-kwd">in</span> <span class="id">yN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">left;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span> <span class="gallina-kwd">in</span> <span class="id">yN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">right;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id">subN</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">Dy</span>)<span class="id">;</span> <span class="id">exact/eqP</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">have</span> <span class="id">[&lt;-//|fgy]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.f">f</a></span> <span class="id">y</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.g">g</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">exfalso;</span> <span class="id">apply/Ny/subN</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">Dy</span>)<span class="id">;</span> <span class="id">exact/eqP</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[[]]</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIAC">setIAC;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI;</a></span> <span class="id">last</span> <span class="id">exact/measurableC</span>.<br/>
&nbsp;&nbsp;<span class="id">exact/mf/emeasurable_itv</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.cmu">cmu;</a></span> <span class="gallina-kwd">exists</span> <span class="id">N;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIAC">setIAC;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subIset">subIset;</a></span> <span class="id">right</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun">ae_measurable_fun</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="integralD" class="id"><a name="integralD" class="">integralD</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:2263" class="id"><a name="d:2263" class="">d</a></span> (<span id="T:2264" class="id"><a name="T:2264" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2263">d</a></span>) (<span id="R:2265" class="id"><a name="R:2265" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="integralD.mu" class="id"><a name="integralD.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.R">R}</a></span>) (<span id="integralD.D" class="id"><a name="integralD.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.T">T</a></span>) (<span id="integralD.mD" class="id"><a name="integralD.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2267">D</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="integralD.f1" class="id"><a name="integralD.f1" class="">f1</a></span> <span id="integralD.f2" class="id"><a name="integralD.f2" class="">f2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.R">R</a></span>).<br/>
<span class="vernacular">Hypotheses</span> (<span id="integralD.if1" class="id"><a name="integralD.if1" class="">if1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f1">f1</a></span>) (<span id="integralD.if2" class="id"><a name="integralD.if2" class="">if2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f2">f2</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="integralD.mf1" class="id"><a name="integralD.mf1" class="">mf1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f1">f1</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof255')">Proof.</span></div>
<div class="proofscript" id="proof255">
 <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.if1">if1</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="integralD.mf2" class="id"><a name="integralD.mf2" class="">mf2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f2">f2</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof256')">Proof.</span></div>
<div class="proofscript" id="proof256">
 <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.if2">if2</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integralD" class="id"><a name="integralD" class="">integralD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2273" class="id"><a name="x:2273" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f1">f1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2273">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f2">f2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2273">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2274" class="id"><a name="x:2274" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f1">f1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2274">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2275" class="id"><a name="x:2275" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f2">f2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2275">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof257')">Proof.</span></div>
<div class="proofscript" id="proof257">
<span class="id">pose</span> <span class="id">A</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:2276" class="id"><a name="x:2276" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f1">f1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2276">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num]</a></span>.<br/>
<span class="id">pose</span> <span class="id">B</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:2277" class="id"><a name="x:2277" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f2">f2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2277">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num]</a></span>.<br/>
<span class="id">have</span> <span class="id">mA</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fin_num">emeasurable_fin_num</a></span>.<br/>
<span class="id">have</span> <span class="id">mB</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">B</span> <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fin_num">emeasurable_fin_num</a></span>.<br/>
<span class="id">have</span> <span class="id">mAB</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">A</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">B</span>) <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">pose</span> <span class="id">g1</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f1">f1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> (<span class="id">A</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">B</span>))%<span class="id">R</span>.<br/>
<span class="id">pose</span> <span class="id">g2</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f2">f2</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> (<span class="id">A</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">B</span>))%<span class="id">R</span>.<br/>
<span class="id">have</span> <span class="id">ig1</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">g1</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f1">f1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> (<span class="id">A</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">B</span>)) <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>)<span class="id">=&gt;//;</span> <span class="id">apply/</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_mkcond">integrable_mkcond</a></span> <span class="id">_</span> <span class="id">_</span>).<span class="id">1</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.if1">if1=&gt;//;</a></span> <span class="id">rewrite</span> <span class="id">-setIAC</span> <span class="id">-setIA;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subIset">subIset;</a></span> <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/g1</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id">!/restrict;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">2!in_setI</span> <span class="id">=&gt;</span> <span class="id">/andP[/andP[xA</span> <span class="id">f1xfin]</span> <span class="id">_]</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="gallina-kwd">in</span> <span class="id">f1xfin</span>.<br/>
<span class="id">have</span> <span class="id">mg1</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id">ig1</span>.<br/>
<span class="id">have</span> <span class="id">ig2</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">g2</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f2">f2</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> (<span class="id">A</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">B</span>)) <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>)<span class="id">=&gt;//;</span> <span class="id">apply/</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_mkcond">integrable_mkcond</a></span> <span class="id">_</span> <span class="id">_</span>).<span class="id">1</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.if2">if2=&gt;//;</a></span> <span class="id">rewrite</span> <span class="id">-setIAC</span> <span class="id">-setIA;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subIset">subIset;</a></span> <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/g2</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id">!/restrict;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id">=&gt;</span> <span class="id">/andP[_];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id">=&gt;</span> <span class="id">/andP[xB</span> <span class="id">f2xfin]</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="gallina-kwd">in</span> <span class="id">f2xfin</span>.<br/>
<span class="id">have</span> <span class="id">mg2</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id">ig2</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2279" class="id"><span id="x:2278" class="id"><a name="x:2279" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> (<span class="id">g1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#d85e5ec1adc01afcee458717bbaea5e5">\+</a></span> <span class="id">g2</span>)%<span class="id">R</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2278">x</a></span>).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral">ae_eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">g1</span>) <span class="id">\+</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">g2</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.topology.html#filterS2">filterS2</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae">integrable_ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mD">mD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.if1">if1</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae">integrable_ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mD">mD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.if2">if2</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">+</span> <span class="id">+</span> <span class="id">Dx</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">Dx</span>) <span class="id">f1fin</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">Dx</span>) <span class="id">f2fin</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id">/g1</span> <span class="id">/g2</span> <span class="id">/restrict</span> <span class="id">/=;</span> <span class="id">have</span> <span class="id">[|]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id">=&gt;</span> <span class="id">/andP[xA</span> <span class="id">xB]</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">!fineK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">=&gt;</span> <span class="id">/orP[|];</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">/=</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">Dx</span>)<span class="id">/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set/=</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">g1</span>) <span class="id">\+</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">g2</span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD_EFin">integralD_EFin//</a></span>.<br/>
&nbsp;&nbsp;<span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral">ae_eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.topology.html#filterS2">filterS2</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae">integrable_ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mD">mD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.if1">if1</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae">integrable_ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mD">mD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.if2">if2</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">+</span> <span class="id">+</span> <span class="id">Dx</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">Dx</span>) <span class="id">f1fin</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">Dx</span>) <span class="id">f2fin</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">/g1</span> <span class="id">/restrict</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[/=|]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">B</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">=&gt;</span> <span class="id">/orP[|];</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">/=</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">Dx</span>) <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set/=</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.topology.html#filterS2">filterS2</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae">integrable_ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mD">mD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.if1">if1</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae">integrable_ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mD">mD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.if2">if2</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">+</span> <span class="id">+</span> <span class="id">Dx</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">Dx</span>) <span class="id">f1fin</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">Dx</span>) <span class="id">f2fin</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">/g2</span> <span class="id">/restrict</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[/=|]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">B</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">=&gt;</span> <span class="id">/orP[|];</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">/=</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">Dx</span>) <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD">integralD</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="integralB" class="id"><a name="integralB" class="">integralB</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:2280" class="id"><a name="d:2280" class="">d</a></span> (<span id="T:2281" class="id"><a name="T:2281" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2280">d</a></span>) (<span id="R:2282" class="id"><a name="R:2282" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="integralB.mu" class="id"><a name="integralB.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.R">R}</a></span>) (<span id="integralB.D" class="id"><a name="integralB.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.T">T</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="integralB.mD" class="id"><a name="integralB.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.D">D</a></span>) (<span id="integralB.f1" class="id"><a name="integralB.f1" class="">f1</a></span> <span id="integralB.f2" class="id"><a name="integralB.f2" class="">f2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.R">R</a></span>).<br/>
<span class="vernacular">Hypotheses</span> (<span id="integralB.if1" class="id"><a name="integralB.if1" class="">if1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.f1">f1</a></span>) (<span id="integralB.if2" class="id"><a name="integralB.if2" class="">if2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.f2">f2</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integralB" class="id"><a name="integralB" class="">integralB</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2290" class="id"><a name="x:2290" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.f1">f1</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#413a754bf74f3e306cb2b48b8fe944d4">\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.f2">f2</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2290">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2291" class="id"><a name="x:2291" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.f1">f1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2291">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2292" class="id"><a name="x:2292" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.f2">f2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2292">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof258')">Proof.</span></div>
<div class="proofscript" id="proof258">
<span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN">integralN</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.f2">f2</a></span>)<span class="id">;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_add_def">integrable_add_def</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]integralD//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableN">integrableN</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB">integralB</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="negligible_integral" class="id"><a name="negligible_integral" class="">negligible_integral</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:2293" class="id"><a name="d:2293" class="">d</a></span> (<span id="T:2294" class="id"><a name="T:2294" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2293">d</a></span>) (<span id="R:2295" class="id"><a name="R:2295" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="mu:2296" class="id"><a name="mu:2296" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2294">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:2295">R}</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="negligible_integral" class="id"><a name="negligible_integral" class="">negligible_integral</a></span> (<span id="D:2297" class="id"><a name="D:2297" class="">D</a></span> <span id="N:2298" class="id"><a name="N:2298" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#negligible_integral.T">T</a></span>) (<span id="f:2299" class="id"><a name="f:2299" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#negligible_integral.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#negligible_integral.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#N:2298">N</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2297">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#negligible_integral.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2297">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2299">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#negligible_integral.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#N:2298">N</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2300" class="id"><a name="x:2300" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2297">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2299">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2300">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2301" class="id"><a name="x:2301" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2297">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#N:2298">N</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2299">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2301">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof259')">Proof.</span></div>
<div class="proofscript" id="proof259">
<span class="id">move=&gt;</span> <span class="id">mN</span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">muN0;</span> <span class="id">rewrite</span> <span class="id">[f]funeposneg</span> <span class="id">?integralB</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">last</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funeneg">integrable_funeneg</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">mD</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funeneg">integrable_funeneg</a></span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">mD</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
<span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_negligible_integral">ge0_negligible_integral</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span> <span class="id">mD</span> <span class="id">mf</span>).<br/>
<span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funeneg">integrable_funeneg</a></span> <span class="id">mD</span> <span class="id">mf</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#negligible_integral">negligible_integral</a></span>.<br/>
<span class="id">Add</span> <span class="id">Search</span> <span class="id">Blacklist</span> <span class="id">&quot;ge0_negligible_integral&quot;</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="integrable_fune" class="id"><a name="integrable_fune" class="">integrable_fune</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:2302" class="id"><a name="d:2302" class="">d</a></span> (<span id="T:2303" class="id"><a name="T:2303" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2302">d</a></span>) (<span id="R:2304" class="id"><a name="R:2304" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="integrable_fune.mu" class="id"><a name="integrable_fune.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.R">R}</a></span>) (<span id="integrable_fune.D" class="id"><a name="integrable_fune.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.T">T</a></span>) (<span id="integrable_fune.mD" class="id"><a name="integrable_fune.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2306">D</a></span>).<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_fune_lt_pinfty" class="id"><a name="integral_fune_lt_pinfty" class="">integral_fune_lt_pinfty</a></span> (<span id="f:2308" class="id"><a name="f:2308" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2308">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2309" class="id"><a name="x:2309" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2308">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2309">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof260')">Proof.</span></div>
<div class="proofscript" id="proof260">
<span class="id">move=&gt;</span> <span class="id">intf;</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#funeposneg">funeposneg</a></span> <span class="id">f</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB">integralB//;</a></span><br/>
&nbsp;&nbsp;<span class="id">[|exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos|exact:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funeneg">integrable_funeneg]</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty</a></span> <span class="id">?integral_funepos_lt_pinfty//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lteNl">lteNl</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNye_eq">ltNye_eq</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_neg_fin_num">integrable_neg_fin_num</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_fune_fin_num" class="id"><a name="integral_fune_fin_num" class="">integral_fune_fin_num</a></span> (<span id="f:2310" class="id"><a name="f:2310" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2310">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2311" class="id"><a name="x:2311" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2310">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2311">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof261')">Proof.</span></div>
<div class="proofscript" id="proof261">
<span class="id">move=&gt;</span> <span class="id">h;</span> <span class="id">apply/fin_numPlt;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_lt_pinfty">integral_fune_lt_pinfty//</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbC">andbC/=</a></span> <span class="id">-/</span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lteNl">lteNl</a></span> <span class="id">-integralN;</span> <span class="id">first</span> <span class="id">exact/integral_fune_lt_pinfty/integrableN</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_adde_defl">fin_num_adde_defl//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numN">fin_numN</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_neg_fin_num">integrable_neg_fin_num</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune">integrable_fune</a></span>.<br/>
<br/>
<br/>
<span class="vernacular">Section</span> <span id="integral_counting" class="id"><a name="integral_counting" class="">integral_counting</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Variable</span> <span id="integral_counting.R" class="id"><a name="integral_counting.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="counting_dirac" class="id"><a name="counting_dirac" class="">counting_dirac</a></span> (<span id="A:2313" class="id"><a name="A:2313" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#counting">counting</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2313">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:2316" class="id"><span id="n:2315" class="id"><span id="n:2314" class="id"><a name="n:2316" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.measure.html#beb404b4c6e52afbdfec2979598a2318">\d_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2314">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2313">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_counting.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof262')">Proof.</span></div>
<div class="proofscript" id="proof262">
<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:2319" class="id"><span id="n:2318" class="id"><span id="n:2317" class="id"><a name="n:2319" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.measure.html#beb404b4c6e52afbdfec2979598a2318">\d_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2317">n</a></span> <span class="id">A</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:2320" class="id"><a name="i:2320" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id">A</span>) <span class="id"><a href="mathcomp.analysis.measure.html#beb404b4c6e52afbdfec2979598a2318">\d_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:2320">i</a></span> <span class="id">A</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_counting.R">R</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum//</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">_]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)<span class="id">;</span> <span class="id">last</span> <span class="id">exact/seteqP</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]</a></span>(<span class="id"><a href="mathcomp.analysis.esum.html#esumID">esumID</a></span> <span class="id">A</span>)<span class="id">//</span> <span class="id">!setTI</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2321">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>) <span class="id">?adde0//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum1">esum1</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Ai;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">/dirac</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/counting/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">/asboolP</span> <span class="id">finA</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-finite_card_dirac</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#infinite_card_dirac">infinite_card_dirac</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summable_integral_dirac" class="id"><a name="summable_integral_dirac" class="">summable_integral_dirac</a></span> (<span id="a:2322" class="id"><a name="a:2322" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_counting.R">R</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a:2322">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:2325" class="id"><span id="n:2324" class="id"><span id="n:2323" class="id"><a name="n:2325" class="">n</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|\int[\d_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2323">n]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a:2322">a</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2326">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof263')">Proof.</span></div>
<div class="proofscript" id="proof263">
<span class="id">move=&gt;</span> <span class="id">sa</span>.<br/>
<span class="id">apply:</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="i:2332" class="id"><span id="i:2331" class="id"><span id="i:2330" class="id"><span id="i:2329" class="id"><span id="i:2328" class="id"><span id="i:2327" class="id"><a name="i:2332" class="">i</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|fine</a></span> (<span class="id">a</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:2327">i</a></span>)<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">|</a></span>%<span class="id">:E</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#lee_nneseries">lee_nneseries</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac">integral_dirac//</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move:</span> (@<span class="id"><a href="mathcomp.analysis.esum.html#summable_pinfty">summable_pinfty</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">sa</span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">a</span> <span class="id">n</span>) <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">r</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE/=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mul1r">mul1r</a></span>.<br/>
<span class="id">move:</span> (<span class="id">sa</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">/summable</span> <span class="id">-fun_true</span> <span class="id">-nneseries_esum//;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.sequences.html#lee_nneseries">lee_nneseries</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n</span> <span class="id">_</span> <span class="id">/=;</span> <span class="id">case:</span> (<span class="id">a</span> <span class="id">n</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_count" class="id"><a name="integral_count" class="">integral_count</a></span> (<span id="a:2333" class="id"><a name="a:2333" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_counting.R">R</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a:2333">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[counting]_t</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a:2333">a</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:2334">t</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="k:2337" class="id"><span id="k:2336" class="id"><span id="k:2335" class="id"><a name="k:2337" class="">k</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a:2333">a</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:2335">k</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof264')">Proof.</span></div>
<div class="proofscript" id="proof264">
<span class="id">move=&gt;</span> <span class="id">sa</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mseries</a></span> (<span class="gallina-kwd">fun</span> <span id="n:2340" class="id"><span id="n:2338" class="id"><a name="n:2340" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#beb404b4c6e52afbdfec2979598a2318">\d_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2338">n]</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O]_t</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:2339">t</a></span>).<br/>
&nbsp;&nbsp;<span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)<span class="id">;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#counting_dirac">counting_dirac</a></span>.<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series">integral_measure_series</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_counting.R">R</a></span> (<span class="gallina-kwd">fun</span> <span id="n:2344" class="id"><span id="n:2343" class="id"><span id="n:2342" class="id"><a name="n:2344" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#beb404b4c6e52afbdfec2979598a2318">\d_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2342">n]</a></span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)<span class="id">//=</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr=&gt;</a></span> <span class="id">i</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac">integral_dirac//=</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#diracT">diracT</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">apply/integrableP;</span> <span class="id">split=&gt;</span> <span class="id">[//|]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac">integral_dirac//=</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#diracT">diracT</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#summable_pinfty">summable_pinfty</a></span> <span class="id">sa</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#summable_integral_dirac">summable_integral_dirac</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_funeneg">summable_funeneg</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#summable_integral_dirac">summable_integral_dirac</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_funepos">summable_funepos</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ge0_integral_count" class="id"><a name="ge0_integral_count" class="">ge0_integral_count</a></span> (<span id="a:2345" class="id"><a name="a:2345" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_counting.R">R</a></span>) <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="k:2346" class="id"><a name="k:2346" class="">k,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a:2345">a</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:2346">k</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[counting]_t</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a:2345">a</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:2347">t</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="k:2350" class="id"><span id="k:2349" class="id"><span id="k:2348" class="id"><a name="k:2350" class="">k</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a:2345">a</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:2348">k</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof265')">Proof.</span></div>
<div class="proofscript" id="proof265">
<span class="id">move=&gt;</span> <span class="id">sa</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mseries</a></span> (<span class="gallina-kwd">fun</span> <span id="n:2353" class="id"><span id="n:2351" class="id"><a name="n:2353" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#beb404b4c6e52afbdfec2979598a2318">\d_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2351">n]</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O]_t</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#t:2352">t</a></span>).<br/>
&nbsp;&nbsp;<span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)<span class="id">;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#counting_dirac">counting_dirac</a></span>.<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_counting.R">R</a></span> (<span class="gallina-kwd">fun</span> <span id="n:2357" class="id"><span id="n:2356" class="id"><span id="n:2355" class="id"><a name="n:2357" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#beb404b4c6e52afbdfec2979598a2318">\d_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2355">n]</a></span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)<span class="id">//=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr=&gt;</a></span> <span class="id">i</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac">integral_dirac//=</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#diracT">diracT</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_counting">integral_counting</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="subadditive_countable" class="id"><a name="subadditive_countable" class="">subadditive_countable</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:2358" class="id"><a name="d:2358" class="">d</a></span> (<span id="T:2359" class="id"><a name="T:2359" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2358">d</a></span>) (<span id="R:2360" class="id"><a name="R:2360" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> (<span id="subadditive_countable.mu" class="id"><a name="subadditive_countable.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.R">R}</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integrable_abse" class="id"><a name="integrable_abse" class="">integrable_abse</a></span> (<span id="D:2362" class="id"><a name="D:2362" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.T">T</a></span>) (<span id="f:2363" class="id"><a name="f:2363" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2362">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2363">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2362">D</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2363">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof266')">Proof.</span></div>
<div class="proofscript" id="proof266">
<span class="id">move=&gt;</span> <span class="id">/integrableP[mf</span> <span class="id">foo];</span> <span class="id">apply/integrableP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_id">abse_id</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integrable_summable" class="id"><a name="integrable_summable" class="">integrable_summable</a></span> (<span id="F:2364" class="id"><a name="F:2364" class="">F</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.T">T</a></span>)<span class="id">^nat</span>) (<span id="g:2365" class="id"><a name="g:2365" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.R">R</a></span>)<span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:2364">F</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="gallina-kwd">forall</span> <span id="k:2366" class="id"><a name="k:2366" class="">k,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:2364">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:2366">k</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.mu">mu</a></span>.<span class="id">-integrable</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#4652af423267d4923a164c1104e1273f">\bigcup_k</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:2364">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:2367">k</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2365">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span> (<span class="gallina-kwd">fun</span> <span id="i:2368" class="id"><a name="i:2368" class="">i</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2369" class="id"><a name="x:2369" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:2364">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:2368">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2365">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2369">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof267')">Proof.</span></div>
<div class="proofscript" id="proof267">
<span class="id">move=&gt;</span> <span class="id">tF</span> <span class="id">mF</span> <span class="id">fi</span>.<br/>
<span class="id">rewrite</span> <span class="id">/summable</span> <span class="id">-</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)<span class="id">;</span> <span class="id">last</span> <span class="id">exact/seteqP</span>.<br/>
<span class="id">rewrite</span> <span class="id">-nneseries_esum//</span>.<br/>
<span class="id">case:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">fi</span>) <span class="id">=&gt;</span> <span class="id">_</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_bigcup">ge0_integral_bigcup//;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_abse">integrable_abse</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lee_lim">lee_lim</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_ereal_nneg_natsum_cond">is_cvg_ereal_nneg_natsum_cond</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_ereal_nneg_natsum_cond">is_cvg_ereal_nneg_natsum_cond</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">_</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_sum">lee_sum</a></span> <span class="id">=&gt;</span> <span class="id">m</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id">fi</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable|]</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_sup">bigcup_sup</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_bigcup" class="id"><a name="integral_bigcup" class="">integral_bigcup</a></span> (<span id="F:2370" class="id"><a name="F:2370" class="">F</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">_</span>)<span class="id">^nat</span>) (<span id="g:2371" class="id"><a name="g:2371" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:2370">F</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="gallina-kwd">forall</span> <span id="k:2372" class="id"><a name="k:2372" class="">k,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:2370">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:2372">k</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.mu">mu</a></span>.<span class="id">-integrable</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#4652af423267d4923a164c1104e1273f">\bigcup_k</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:2370">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:2373">k</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2371">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2375" class="id"><a name="x:2375" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#4652af423267d4923a164c1104e1273f">\bigcup_i</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:2370">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:2374">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2371">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2375">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="i:2378" class="id"><span id="i:2377" class="id"><span id="i:2376" class="id"><a name="i:2378" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2379" class="id"><a name="x:2379" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#F:2370">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:2376">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2371">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2379">x</a></span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof268')">Proof.</span></div>
<div class="proofscript" id="proof268">
<span class="id">move=&gt;</span> <span class="id">tF</span> <span class="id">mF</span> <span class="id">fi</span>.<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2381" class="id"><a name="x:2381" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#4652af423267d4923a164c1104e1273f">\bigcup_i</a></span> <span class="id">F</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:2380">i</a></span>) <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2381">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numElt">fin_numElt</a></span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_absl">lte_absl</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">fi</span>).<span class="id">2;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id">fi</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2387" class="id"><span id="x:2383" class="id"><a name="x:2387" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#4652af423267d4923a164c1104e1273f">\bigcup_i</a></span> <span class="id">F</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:2382">i</a></span>) <span class="id">g^\+</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2383">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2389" class="id"><span id="x:2385" class="id"><a name="x:2389" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#4652af423267d4923a164c1104e1273f">\bigcup_i</a></span> <span class="id">F</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:2384">i</a></span>) <span class="id">g^\-</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2385">x</a></span>)%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-integralB;</span> <span class="id">last</span> <span class="id">3</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funeneg">integrable_funeneg</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">Ft;</span> <span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]</a></span>(<span class="id"><a href="mathcomp.analysis.numfun.html#funeposneg">funeposneg</a></span> <span class="id">g</span>).<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="i:2397" class="id"><span id="i:2396" class="id"><span id="i:2395" class="id"><span id="i:2392" class="id"><span id="i:2391" class="id"><span id="i:2390" class="id"><a name="i:2397" class="">i</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2398" class="id"><span id="x:2393" class="id"><a name="x:2398" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id">F</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:2390">i</a></span>) <span class="id">g^\+</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2393">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2399" class="id"><span id="x:2394" class="id"><a name="x:2399" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id">F</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:2390">i</a></span>) <span class="id">g^\-</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2394">x</a></span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id">[RHS]integralE</span>.<br/>
<span class="id">transitivity</span> ((<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="i:2410" class="id"><span id="i:2409" class="id"><span id="i:2408" class="id"><span id="i:2402" class="id"><span id="i:2401" class="id"><span id="i:2400" class="id"><a name="i:2410" class="">i</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2411" class="id"><span id="x:2403" class="id"><a name="x:2411" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id">F</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:2400">i</a></span>) <span class="id">g^\+</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2403">x</a></span>) <span class="id">-</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="i:2414" class="id"><span id="i:2413" class="id"><span id="i:2412" class="id"><span id="i:2406" class="id"><span id="i:2405" class="id"><span id="i:2404" class="id"><a name="i:2414" class="">i</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2415" class="id"><span id="x:2407" class="id"><a name="x:2415" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id">F</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:2404">i</a></span>) <span class="id">g^\-</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2407">x</a></span>))%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_bigcup">ge0_integral_bigcup//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_bigcup">ge0_integral_bigcup//;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span> <span class="id">=&gt;</span> <span class="id">//;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable|exact:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableN">integrableN]</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2416">X</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">_]nneseries_esum;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2417">X]nneseries_esum;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_true">set_true</a></span> <span class="id">-esumB//=;</span> <span class="id">last</span> <span class="id">4</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_summable">integrable_summable</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_summable">integrable_summable</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableN">integrableN</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_eseries">summable_eseries;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">under</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2418">X]eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">-integralE</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fun_true">fun_true;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_summable">integrable_summable</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">_</span>)%<span class="id">E;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_true">set_true</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable">subadditive_countable</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="dominated_convergence_lemma" class="id"><a name="dominated_convergence_lemma" class="">dominated_convergence_lemma</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:2419" class="id"><a name="d:2419" class="">d</a></span> (<span id="T:2420" class="id"><a name="T:2420" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2419">d</a></span>) (<span id="R:2421" class="id"><a name="R:2421" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="dominated_convergence_lemma.mu" class="id"><a name="dominated_convergence_lemma.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.R">R}</a></span>) (<span id="dominated_convergence_lemma.D" class="id"><a name="dominated_convergence_lemma.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.T">T</a></span>) (<span id="dominated_convergence_lemma.mD" class="id"><a name="dominated_convergence_lemma.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2423">D</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="dominated_convergence_lemma.f_" class="id"><a name="dominated_convergence_lemma.f_" class="">f_</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.R">R</a></span>)<span class="id">^nat</span>) (<span id="dominated_convergence_lemma.f" class="id"><a name="dominated_convergence_lemma.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.R">R</a></span>) (<span id="dominated_convergence_lemma.g" class="id"><a name="dominated_convergence_lemma.g" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.R">R</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="dominated_convergence_lemma.mf_" class="id"><a name="dominated_convergence_lemma.mf_" class="">mf_</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="n:2428" class="id"><a name="n:2428" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_">f_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2428">n</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="dominated_convergence_lemma.f_f" class="id"><a name="dominated_convergence_lemma.f_f" class="">f_f</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:2430" class="id"><a name="x:2430" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2430">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_">f_</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2430">x</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2430">x</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="dominated_convergence_lemma.fing" class="id"><a name="dominated_convergence_lemma.fing" class="">fing</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:2432" class="id"><a name="x:2432" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2432">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2432">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="dominated_convergence_lemma.ig" class="id"><a name="dominated_convergence_lemma.ig" class="">ig</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="dominated_convergence_lemma.absfg" class="id"><a name="dominated_convergence_lemma.absfg" class="">absfg</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="n:2435" class="id"><a name="n:2435" class="">n</a></span> <span id="x:2436" class="id"><a name="x:2436" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2436">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2435">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2436">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2436">x</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="dominated_convergence_lemma.g0" class="id"><a name="dominated_convergence_lemma.g0" class="">g0</a></span> <span id="x:2438" class="id"><a name="x:2438" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2438">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2438">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof269')">Proof.</span></div>
<div class="proofscript" id="proof269">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">Dx;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.absfg">absfg</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span> <span class="id">_</span> <span class="id">Dx</span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="dominated_convergence_lemma.mf" class="id"><a name="dominated_convergence_lemma.mf" class="">mf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof270')">Proof.</span></div>
<div class="proofscript" id="proof270">
 <span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_cvg">emeasurable_fun_cvg</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mf_">mf_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_f">f_f</a></span>). Qed.</div>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Lemma</span> <span id="dominated_integrable" class="id"><a name="dominated_integrable" class="">dominated_integrable</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof271')">Proof.</span></div>
<div class="proofscript" id="proof271">
<span class="id">apply/integrableP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">have</span> <span class="id">Dfg</span> <span class="id">x</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2439">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2439">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2439">x</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">Dx;</span> <span class="id">have</span> <span class="id">/</span>(@<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> <span class="id">_</span>) <span class="id">&lt;-</span> <span class="id">//</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2440">n</a></span> <span class="id">x|</span> @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id">x|</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_abse">cvg_abse</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_f">f_f</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_le">lime_le</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#is_cvg_abse">is_cvg_abse;</a></span> <span class="id">apply/cvg_ex;</span> <span class="id">eexists;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_f">f_f</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.absfg">absfg</a></span>.<br/>
<span class="id">move:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.ig">ig</a></span> <span class="id">=&gt;</span> <span class="id">/integrableP[mg];</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx</span> <span class="id">/=;</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g0">g0</a></span> <span class="id">Dx</span>))<span class="id">;</span> <span class="id">exact:</span> <span class="id">Dfg</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="dominated_convergence_lemma.g_" class="id"><a name="dominated_convergence_lemma.g_" class="">g_</a></span> <span id="n:2441" class="id"><a name="n:2441" class="">n</a></span> <span id="x:2442" class="id"><a name="x:2442" class="">x</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2441">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2442">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2442">x|</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="dominated_convergence_lemma.cvg_g_" class="id"><a name="dominated_convergence_lemma.cvg_g_" class="">cvg_g_</a></span> <span id="x:2443" class="id"><a name="x:2443" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2443">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2443">x</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof272')">Proof.</span></div>
<div class="proofscript" id="proof272">
<span class="id">move=&gt;</span> <span class="id">Dx;</span> <span class="id">rewrite</span> <span class="id">-abse0;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_abse">cvg_abse</a></span>.<br/>
<span class="id">move:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_f">f_f</a></span> <span class="id">Dx</span>)<span class="id">;</span> <span class="id">case:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span> <span class="id">x</span>) <span class="id">=&gt;</span> <span class="id">[r|/=|/=]</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">f_r;</span> <span class="id">apply/cvge_sub0</span>.<br/>
<span class="id">-</span> <span class="id">move/cvgeyPge/</span>(<span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">1</span>)%<span class="id">R</span>) <span class="id">=&gt;</span> <span class="id">[n</span> <span class="id">_]/</span>(<span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#leqnn">leqnn</a></span> <span class="id">n</span>))<span class="id">/=</span> <span class="id">h</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">1</span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">h</span>)<span class="id">//</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.absfg">absfg</a></span> <span class="id">n</span> <span class="id">Dx</span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs">lee_abs</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.fing">fing</a></span> <span class="id">Dx</span>) <span class="id">=&gt;</span> <span class="id">[r</span> <span class="id">_|</span> <span class="id">|]//;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.leNgt">leNgt</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lteDl">lteDl</a></span> <span class="id">?lte01</span>.<br/>
<span class="id">-</span> <span class="id">move/cvgeNyPle/</span>(<span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">1</span>))%<span class="id">R</span>) <span class="id">=&gt;</span> <span class="id">[n</span> <span class="id">_]/</span>(<span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#leqnn">leqnn</a></span> <span class="id">n</span>)) <span class="id">h</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">1</span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">h;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeNr">leeNr</a></span> <span class="id">=&gt;</span> <span class="id">/le_trans</span> <span class="id">-&gt;//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.absfg">absfg</a></span> <span class="id">n</span> <span class="id">Dx</span>))<span class="id">//</span> <span class="id">-abseN</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs">lee_abs</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.fing">fing</a></span> <span class="id">Dx</span>) <span class="id">=&gt;</span> <span class="id">[r</span> <span class="id">_|</span> <span class="id">|]//;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.leNgt">leNgt</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lteDl">lteDl</a></span> <span class="id">?lte01</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="dominated_convergence_lemma.gg_" class="id"><a name="dominated_convergence_lemma.gg_" class="">gg_</a></span> <span id="n:2444" class="id"><a name="n:2444" class="">n</a></span> <span id="x:2445" class="id"><a name="x:2445" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2445">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">2</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2445">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2444">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2445">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof273')">Proof.</span></div>
<div class="proofscript" id="proof273">
<span class="id">move=&gt;</span> <span class="id">Dx;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subre_ge0">subre_ge0;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numM">fin_numM//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.fing">fing</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.fing">fing</a></span> <span class="id">Dx</span>)) <span class="id">-EFinM</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr_natl">mulr_natl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr2n">mulr2n</a></span> <span class="id">/g_</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs_sub">lee_abs_sub</a></span> <span class="id">_</span> <span class="id">_</span>))<span class="id">//</span> <span class="id">[in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS]EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeD">leeD//</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">?fing//</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.absfg">absfg</a></span>.<br/>
<span class="id">have</span> <span class="id">f_fx</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_">f_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2446">n</a></span> <span class="id">x</span>)<span class="id">|</span> @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id">x|</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_abse">cvg_abse;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_f">f_f</a></span>.<br/>
<span class="id">move/cvg_lim</span> <span class="id">:</span> (<span class="id">f_fx</span>) <span class="id">=&gt;</span> <span class="id">&lt;-//</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_le">lime_le;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">apply/cvg_ex;</span> <span class="id">eexists;</span> <span class="id">exact:</span> <span class="id">f_fx</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> <span class="id">=&gt;</span> <span class="id">k;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">?fing//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.absfg">absfg</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="dominated_convergence_lemma.mgg" class="id"><a name="dominated_convergence_lemma.mgg" class="">mgg</a></span> <span id="n:2447" class="id"><a name="n:2447" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> (<span class="gallina-kwd">fun</span> <span id="x:2448" class="id"><a name="x:2448" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">2</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2448">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2447">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2448">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof274')">Proof.</span></div>
<div class="proofscript" id="proof274">
<span class="id">apply/emeasurable_funB</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[by</span> <span class="id">apply/measurable_funeM/</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.ig">ig</a></span>)<span class="id">|]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/measurableT_comp</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="dominated_convergence_lemma.gg_ge0" class="id"><a name="dominated_convergence_lemma.gg_ge0" class="">gg_ge0</a></span> <span id="n:2449" class="id"><a name="n:2449" class="">n</a></span> <span id="x:2450" class="id"><a name="x:2450" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2450">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">2</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2450">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2449">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2450">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof275')">Proof.</span></div>
<div class="proofscript" id="proof275">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">Dx;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.gg_">gg_</a></span>. Qed.</div>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Lemma</span> <span id="dominated_cvg0" class="id"><a name="dominated_cvg0" class="">dominated_cvg0</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#2c0dce88808fbe490e9af47ca46d6b65">[sequence</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2452" class="id"><a name="x:2452" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2451">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2452">x]_n</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof276')">Proof.</span></div>
<div class="proofscript" id="proof276">
<span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou">fatou</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mD">mD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mgg">mgg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.gg_ge0">gg_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2455">X</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2456" class="id"><span id="x:2454" class="id"><span id="x:2453" class="id"><a name="x:2456" class="">x</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) (<span class="id">2</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2453">x</a></span>) )<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">t;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">Dt</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#limn_einf_shift">limn_einf_shift//;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numM">fin_numM//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.fing">fing</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_limn_einfE">is_cvg_limn_einfE//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#is_cvgeN">is_cvgeN;</a></span> <span class="id">apply/cvg_ex;</span> <span class="id">eexists;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.cvg_g_">cvg_g_</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2457">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>) <span class="id">?adde0//;</span> <span class="id">apply/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeN">cvgeN;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.cvg_g_">cvg_g_</a></span>.<br/>
<span class="id">have</span> <span class="id">i2g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2458" class="id"><a name="x:2458" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) (<span class="id">2</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2458">x</a></span>)  <span class="id">&lt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl">integralZl//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_mul_pinfty">lte_mul_pinfty//</a></span> <span class="id">?lee_fin//;</span> <span class="id">case:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.ig">ig</a></span>) <span class="id">=&gt;</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans;</a></span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt;</a></span> <span class="id">apply/orP;</span> <span class="id">left;</span> <span class="id">apply/eqP</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">Dt;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g0">g0//;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="gallina-kwd">in</span> <span class="id">Dt</span>.<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2459" class="id"><a name="x:2459" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) (<span class="id">2</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2459">x</a></span>)  <span class="id">\is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0//</a></span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span> <span class="id">?lee_fin</span> <span class="id">?g0</span>.<br/>
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2466">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2467" class="id"><span id="x:2463" class="id"><span id="x:2460" class="id"><a name="x:2467" class="">x</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) (<span class="id">2</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2460">x</a></span>)  <span class="id">+</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#limn_esup">limn_esup</a></span> (<span class="gallina-kwd">fun</span> <span id="n:2468" class="id"><span id="n:2464" class="id"><span id="n:2461" class="id"><a name="n:2468" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2469" class="id"><span id="x:2465" class="id"><span id="x:2462" class="id"><a name="x:2469" class="">x</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2461">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2462">x</a></span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="n:2476" class="id"><span id="n:2473" class="id"><span id="n:2470" class="id"><a name="n:2476" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2477" class="id"><span id="x:2474" class="id"><span id="x:2471" class="id"><a name="x:2477" class="">x</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) (<span class="id">2</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2471">x</a></span>)  <span class="id">+</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2478" class="id"><span id="x:2475" class="id"><span id="x:2472" class="id"><a name="x:2478" class="">x</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2470">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2472">x</a></span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB">integralB//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-integral_ge0N//</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">Dx//;</span> <span class="id">rewrite</span> <span class="id">/g_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableZl">integrableZl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">have</span> <span class="id">integrable_normfn</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_">f_</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_integrable">le_integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.ig">ig</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_id">abse_id</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.absfg">absfg</a></span> <span class="id">_</span> <span class="id">Dx</span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs">lee_abs</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">suff:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> (<span class="gallina-kwd">fun</span> <span id="x:2479" class="id"><a name="x:2479" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f_</a></span> <span class="id">n</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2479">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2479">x|</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_integrable">le_integrable</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/g_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_id">abse_id</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs_sub">lee_abs_sub</a></span> <span class="id">_</span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs">lee_abs</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableD">integrableD;</a></span> <span class="id">[by</span> <span class="id">[]|</span> <span class="gallina-kwd">by</span> <span class="id">[]|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_integrable">le_integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_integrable">dominated_integrable</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_id">abse_id</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#limn_einf_shift">limn_einf_shift</a></span> <span class="id">//</span> <span class="id">-limn_einfN;</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#limn_einf">limn_einf</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">-integral_ge0N//</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">rewrite</span> <span class="id">/g_</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> <span class="id">-lee_subl_addr//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subee">subee//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeNr">leeNr</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> <span class="id">=&gt;</span> <span class="id">lim_ge0</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/limn_esup_le_cvg</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0//</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">/g_</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Lemma</span> <span id="dominated_cvg" class="id"><a name="dominated_cvg" class="">dominated_cvg</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2481" class="id"><a name="x:2481" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_">f_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2480">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2481">x</a></span> @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#96ebe1e290228c2bd5904c3ec35d6f07">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2482" class="id"><a name="x:2482" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2482">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof277')">Proof.</span></div>
<div class="proofscript" id="proof277">
<span class="id">have</span> <span class="id">h</span> <span class="id">n</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2484" class="id"><a name="x:2484" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_">f_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2483">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2484">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2485" class="id"><a name="x:2485" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2485">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">|</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2486" class="id"><a name="x:2486" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2483">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2486">x</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB">integralB</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_integrable">dominated_integrable</a></span>)<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_integrable">le_integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.ig">ig</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">Dx</span> <span class="id">/=;</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g0">g0</a></span> <span class="id">Dx</span>)) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.absfg">absfg</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
<span class="id">suff:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2488" class="id"><a name="x:2488" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_">f_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2487">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2488">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2489" class="id"><a name="x:2489" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2489">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">|</a></span> @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#96ebe1e290228c2bd5904c3ec35d6f07">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">0</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">move/cvg_abse0P/cvge_sub0;</span> <span class="id">apply</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numElt">fin_numElt</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>)<span class="id">//</span> <span class="id">-lte_absl</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_integrable">dominated_integrable</a></span> <span class="id">=&gt;</span> <span class="id">/integrableP[?];</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mD">mD</a></span> <span class="id">_</span>)).<br/>
<span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.normedtype.html#squeeze_cvge">squeeze_cvge</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span>) <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="n:2492" class="id"><span id="n:2490" class="id"><a name="n:2492" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2493" class="id"><span id="x:2491" class="id"><a name="x:2493" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2490">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2491">x</a></span>)).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_ge0">abse_ge0//=;</a></span> <span class="id">exact:</span> <span class="id">h</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_cvg0">dominated_cvg0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma">dominated_convergence_lemma</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_integrable">dominated_integrable</a></span> <span class="id">{d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">mu</span> <span class="id">D}</span> <span class="id">_</span> <span class="id">f_</span> <span class="id">f</span> <span class="id">g</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="dominated_convergence_theorem" class="id"><a name="dominated_convergence_theorem" class="">dominated_convergence_theorem</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:2494" class="id"><a name="d:2494" class="">d</a></span> (<span id="T:2495" class="id"><a name="T:2495" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2494">d</a></span>) (<span id="R:2496" class="id"><a name="R:2496" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="dominated_convergence_theorem.mu" class="id"><a name="dominated_convergence_theorem.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.R">R}</a></span>) (<span id="dominated_convergence_theorem.D" class="id"><a name="dominated_convergence_theorem.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.T">T</a></span>) (<span id="dominated_convergence_theorem.mD" class="id"><a name="dominated_convergence_theorem.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2498">D</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="dominated_convergence_theorem.f_" class="id"><a name="dominated_convergence_theorem.f_" class="">f_</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.R">R</a></span>)<span class="id">^nat</span>) (<span id="dominated_convergence_theorem.f" class="id"><a name="dominated_convergence_theorem.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.R">R</a></span>) (<span id="dominated_convergence_theorem.g" class="id"><a name="dominated_convergence_theorem.g" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.R">R</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="dominated_convergence_theorem.mf_" class="id"><a name="dominated_convergence_theorem.mf_" class="">mf_</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="n:2503" class="id"><a name="n:2503" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f_">f_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2503">n</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="dominated_convergence_theorem.mf" class="id"><a name="dominated_convergence_theorem.mf" class="">mf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f">f</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="dominated_convergence_theorem.f_f" class="id"><a name="dominated_convergence_theorem.f_f" class="">f_f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bc9b2ba76d94ad575afd74542172654c">{ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mu">mu,</a></span> <span class="gallina-kwd">forall</span> <span id="x:2506" class="id"><a name="x:2506" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2506">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f_">f_</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2506">x</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2506">x}</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="dominated_convergence_theorem.ig" class="id"><a name="dominated_convergence_theorem.ig" class="">ig</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.g">g</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="dominated_convergence_theorem.f_g" class="id"><a name="dominated_convergence_theorem.f_g" class="">f_g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bc9b2ba76d94ad575afd74542172654c">{ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mu">mu,</a></span> <span class="gallina-kwd">forall</span> <span id="x:2509" class="id"><a name="x:2509" class="">x</a></span> <span id="n:2510" class="id"><a name="n:2510" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2509">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2510">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2509">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.g">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2509">x}</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="dominated_convergence_theorem.g_" class="id"><a name="dominated_convergence_theorem.g_" class="">g_</a></span> <span id="n:2512" class="id"><a name="n:2512" class="">n</a></span> <span id="x:2513" class="id"><a name="x:2513" class="">x</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2512">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2513">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2513">x|</a></span>.<br/>
<br/>
<span class="vernacular">Theorem</span> <span id="dominated_convergence" class="id"><a name="dominated_convergence" class="">dominated_convergence</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">[/\</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f">f,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#2c0dce88808fbe490e9af47ca46d6b65">[sequence</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2515" class="id"><a name="x:2515" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.g_">g_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2514">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2515">x</a></span>)<span class="id"><a href="mathcomp.analysis.sequences.html#2c0dce88808fbe490e9af47ca46d6b65">]_n</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">0</span> &amp;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#2c0dce88808fbe490e9af47ca46d6b65">[sequence</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2517" class="id"><a name="x:2517" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f_">f_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2516">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2517">x</a></span>)<span class="id"><a href="mathcomp.analysis.sequences.html#2c0dce88808fbe490e9af47ca46d6b65">]_n</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2518" class="id"><a name="x:2518" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2518">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof278')">Proof.</span></div>
<div class="proofscript" id="proof278">
<span class="id">have</span> <span class="id">[N1</span> <span class="id">[mN1</span> <span class="id">N10</span> <span class="id">subN1]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f_f">f_f</a></span>.<br/>
<span class="id">have</span> <span class="id">[N2</span> <span class="id">[mN2</span> <span class="id">N20</span> <span class="id">subN2]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f_g">f_g</a></span>.<br/>
<span class="id">have</span> <span class="id">[N3</span> <span class="id">[mN3</span> <span class="id">N30</span> <span class="id">subN3]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae">integrable_ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mD">mD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.ig">ig</a></span>.<br/>
<span class="id">pose</span> <span class="id">N</span> <span class="id">:=</span> <span class="id">N1</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#f0f4f4a06533e5eeff19ee265a896441">`|`</a></span> <span class="id">N2</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#f0f4f4a06533e5eeff19ee265a896441">`|`</a></span> <span class="id">N3</span>.<br/>
<span class="id">have</span> <span class="id">mN</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">N</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
<span class="id">have</span> <span class="id">N0</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mu">mu</a></span> <span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#null_set_setU">null_set_setU//</a></span> <span class="id">?null_set_setU//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
<span class="id">pose</span> <span class="id">f'</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id">N</span>)<span class="id">;</span> <span class="id">pose</span> <span class="id">g'</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.g">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id">N</span>).<br/>
<span class="id">pose</span> <span class="id">f_'</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="n:2519" class="id"><a name="n:2519" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f_">f_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2519">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id">N</span>).<br/>
<span class="id">have</span> <span class="id">f_f'</span> <span class="id">x</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2520">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">f_'</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2520">x</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">f'</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2520">x</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">Dx;</span> <span class="id">rewrite</span> <span class="id">/f_'</span> <span class="id">/f'</span> <span class="id">/restrict</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setD">in_setD</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//=</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[/=</span> <span class="id">xN|/=</span> <span class="id">xN]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">N</span>)<span class="id">;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#contraPP">contraPP</a></span> (<span class="id">xN</span>) <span class="id">=&gt;</span> <span class="id">h;</span> <span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbK">negbK</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE;</a></span> <span class="id">left;</span> <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">subN1</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">Dx</span>)<span class="id">;</span> <span class="id">exact:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_not">contra_not</a></span> <span class="id">h</span>.<br/>
<span class="id">have</span> <span class="id">f_g'</span> <span class="id">n</span> <span class="id">x</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2522">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f_'</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2521">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2522">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">g'</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2522">x</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">Dx;</span> <span class="id">rewrite</span> <span class="id">/f_'</span> <span class="id">/g'</span> <span class="id">/restrict</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setD">in_setD</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//=</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[/=|/=</span> <span class="id">xN]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">N</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.normr0">normr0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#contrapT">contrapT</a></span> <span class="id">=&gt;</span> <span class="id">fg;</span> <span class="id">move:</span> <span class="id">xN;</span> <span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbK">negbK</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE;</a></span> <span class="id">left;</span> <span class="id">right</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">subN2</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">n</span> <span class="id">Dx</span>).<br/>
<span class="id">have</span> <span class="id">mu_</span> <span class="id">n</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> (<span class="id">f_'</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2523">n</a></span>).<br/>
&nbsp;&nbsp;<span class="id">apply/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f_">f_</a></span> <span class="id">n</span>) (<span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mD">mD</a></span> <span class="id">mN</span>) <span class="id">_</span> <span class="id">_</span>).<span class="id">1</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mf_">mf_</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">[]</span>.<br/>
<span class="id">have</span> <span class="id">ig'</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id">g'</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_mkcond">integrable_mkcond</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.g">g</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mD">mD</a></span> <span class="id">mN</span>)).<span class="id">1</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.ig">ig</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
<span class="id">have</span> <span class="id">finv</span> <span class="id">x</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2524">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">g'</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2524">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">Dx;</span> <span class="id">rewrite</span> <span class="id">/g'</span> <span class="id">/restrict</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setD">in_setD//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//=</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[//|xN</span> <span class="id">/=]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">N</span>).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#contrapT">contrapT</a></span> <span class="id">=&gt;</span> <span class="id">fing;</span> <span class="id">move:</span> <span class="id">xN;</span> <span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbK">negbK</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE;</a></span> <span class="id">right</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">subN3</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">Dx</span>).<br/>
<span class="id">split</span>.<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">/integrableP</span> <span class="id">if'</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id">f'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_integrable">dominated_integrable</a></span> <span class="id">_</span> <span class="id">f_'</span> <span class="id">_</span> <span class="id">g'</span>).<br/>
&nbsp;&nbsp;<span class="id">apply/integrableP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">move:</span> <span class="id">if'</span> <span class="id">=&gt;</span> <span class="id">[?];</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt;</a></span> <span class="id">apply/orP;</span> <span class="id">left;</span> <span class="id">apply/eqP/ae_eq_integral</span> <span class="id">=&gt;</span> <span class="id">//;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp|exact:</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp|]</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">N;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#setCK">setCK</a></span> <span class="id">N</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetC">subsetC</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">Nx</span> <span class="id">Dx</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/f'</span> <span class="id">/restrict</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_cvg0">dominated_cvg0</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mD">mD</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">mu_</span> <span class="id">f_f'</span> <span class="id">finv</span> <span class="id">ig'</span> <span class="id">f_g'</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> <span class="id">X</span> <span class="id">:=</span> (<span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2525">X</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2526">X</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">X</span>) <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral">ae_eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">_</span> <span class="id">_</span>).<span class="id">1</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mD">mD</a></span>) <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">[]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/g_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">exists</span> <span class="id">N;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#setCK">setCK</a></span> <span class="id">N</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetC">subsetC</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">Nx</span> <span class="id">Dx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/f_'</span> <span class="id">/f'</span> <span class="id">/restrict</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_cvg">dominated_cvg</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mD">mD</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">mu_</span> <span class="id">f_f'</span> <span class="id">finv</span> <span class="id">ig'</span> <span class="id">f_g'</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> <span class="id">X</span> <span class="id">:=</span> (<span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2527">X</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2528">X</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">X</span>) <span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral">ae_eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">N;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#setCK">setCK</a></span> <span class="id">N</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetC">subsetC</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">Nx</span> <span class="id">Dx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/f_'</span> <span class="id">/restrict</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> <span class="id">Y</span> <span class="id">:=</span> (<span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2529">X</a></span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2530">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">Y</span>) <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral">ae_eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">_</span> <span class="id">_</span>).<span class="id">1</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mD">mD</a></span>) <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">[]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">N;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#setCK">setCK</a></span> <span class="id">N</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetC">subsetC</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">Nx</span> <span class="id">Dx</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/f'</span> <span class="id">/restrict</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem">dominated_convergence_theorem</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ae_ge0_le_integral" class="id"><a name="ae_ge0_le_integral" class="">ae_ge0_le_integral</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:2531" class="id"><a name="d:2531" class="">d</a></span> (<span id="T:2532" class="id"><a name="T:2532" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2531">d</a></span>) (<span id="R:2533" class="id"><a name="R:2533" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="ae_ge0_le_integral.mu" class="id"><a name="ae_ge0_le_integral.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.R">R}</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="ae_ge0_le_integral.D" class="id"><a name="ae_ge0_le_integral.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.T">T</a></span>) (<span id="ae_ge0_le_integral.mD" class="id"><a name="ae_ge0_le_integral.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2535">D</a></span>) (<span id="ae_ge0_le_integral.f1" class="id"><a name="ae_ge0_le_integral.f1" class="">f1</a></span> <span id="ae_ge0_le_integral.f2" class="id"><a name="ae_ge0_le_integral.f2" class="">f2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.R">R</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="ae_ge0_le_integral.f10" class="id"><a name="ae_ge0_le_integral.f10" class="">f10</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:2539" class="id"><a name="x:2539" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2539">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.f1">f1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2539">x</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="ae_ge0_le_integral.mf1" class="id"><a name="ae_ge0_le_integral.mf1" class="">mf1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.f1">f1</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="ae_ge0_le_integral.f20" class="id"><a name="ae_ge0_le_integral.f20" class="">f20</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:2542" class="id"><a name="x:2542" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2542">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.f2">f2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2542">x</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="ae_ge0_le_integral.mf2" class="id"><a name="ae_ge0_le_integral.mf2" class="">mf2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.f2">f2</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="ae_ge0_le_integral" class="id"><a name="ae_ge0_le_integral" class="">ae_ge0_le_integral</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bc9b2ba76d94ad575afd74542172654c">{ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.mu">mu,</a></span> <span class="gallina-kwd">forall</span> <span id="x:2545" class="id"><a name="x:2545" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2545">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.f1">f1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2545">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.f2">f2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2545">x}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2546" class="id"><a name="x:2546" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.f1">f1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2546">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2547" class="id"><a name="x:2547" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.f2">f2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2547">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof279')">Proof.</span></div>
<div class="proofscript" id="proof279">
<span class="id">move=&gt;</span> <span class="id">[N</span> <span class="id">[mN</span> <span class="id">muN</span> <span class="id">f1f2N]];</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_negligible_integral">ge0_negligible_integral</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">muN</span>)<span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id">[leRHS]</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_negligible_integral">ge0_negligible_integral</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">muN</span>)<span class="id">//</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral;</a></span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">[Dt</span> <span class="id">_];</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.f10">f10</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.mf1">mf1</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">[Dt</span> <span class="id">_];</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.f20">f20</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.mf2">mf2</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">[Dt</span> <span class="id">Nt];</span> <span class="id">move/subsetCl</span> <span class="id">:</span> <span class="id">f1f2N;</span> <span class="id">apply</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral">ae_ge0_le_integral</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="integral_bounded" class="id"><a name="integral_bounded" class="">integral_bounded</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:2548" class="id"><a name="d:2548" class="">d</a></span> <span class="id">{T</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2548">d}</a></span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="integral_bounded.mu" class="id"><a name="integral_bounded.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_bounded.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_bounded.R">R}</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_le_bound" class="id"><a name="integral_le_bound" class="">integral_le_bound</a></span> (<span id="D:2552" class="id"><a name="D:2552" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_bounded.T">T</a></span>) (<span id="f:2553" class="id"><a name="f:2553" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_bounded.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_bounded.R">R</a></span>) (<span id="M:2554" class="id"><a name="M:2554" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_bounded.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2552">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2552">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2553">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#M:2554">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#bc9b2ba76d94ad575afd74542172654c">{ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_bounded.mu">mu,</a></span> <span class="gallina-kwd">forall</span> <span id="x:2555" class="id"><a name="x:2555" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2552">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2555">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2555">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#M:2554">M}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2556" class="id"><a name="x:2556" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2552">D</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2556">x|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#M:2554">M</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_bounded.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2552">D</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof280')">Proof.</span></div>
<div class="proofscript" id="proof280">
<span class="id">move=&gt;</span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">M0</span> <span class="id">dfx;</span> <span class="id">rewrite</span> <span class="id">-integral_cst</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral">ae_ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_bounded">integral_bounded</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_le_bound">integral_le_bound</a></span> <span class="id">{d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">mu</span> <span class="id">D</span> <span class="id">f}</span> <span class="id">M</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="integral_ae_eq" class="id"><a name="integral_ae_eq" class="">integral_ae_eq</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:2557" class="id"><a name="d:2557" class="">d</a></span> (<span id="T:2558" class="id"><a name="T:2558" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2557">d</a></span>) (<span id="R:2559" class="id"><a name="R:2559" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="mu:2560" class="id"><a name="mu:2560" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T:2558">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#R:2559">R}</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="integral_ae_eq.integral_measure_lt" class="id"><a name="integral_ae_eq.integral_measure_lt" class="">integral_measure_lt</a></span> (<span id="D:2561" class="id"><a name="D:2561" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.T">T</a></span>) (<span id="mD:2562" class="id"><a name="mD:2562" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2561">D</a></span>) (<span id="g:2563" class="id"><a name="g:2563" class="">g</a></span> <span id="f:2564" class="id"><a name="f:2564" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2561">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2564">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2561">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2563">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="E:2565" class="id"><a name="E:2565" class="">E,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:2565">E</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2561">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:2565">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2566" class="id"><a name="x:2566" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:2565">E</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2564">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2566">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2567" class="id"><a name="x:2567" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:2565">E</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2563">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2567">x</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2561">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:2568" class="id"><a name="x:2568" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2563">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2568">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2564">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2568">x]</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof281')">Proof.</span></div>
<div class="proofscript" id="proof281">
<span class="id">move=&gt;</span> <span class="id">itf</span> <span class="id">itg</span> <span class="id">fg;</span> <span class="id">pose</span> <span class="id">E</span> <span id="j:2569" class="id"><a name="j:2569" class="">j</a></span> <span class="id">:=</span> <span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:2570" class="id"><a name="x:2570" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2570">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2570">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#92160d99f87da4bf2648609e0f89da8e">&gt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#j:2569">j</a></span>.<span class="id">+1</span>%<span class="id">:R^-1</span>%<span class="id">:E]</span>.<br/>
<span class="id">have</span> <span class="id">msf</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id">itf</span>.<br/>
<span class="id">have</span> <span class="id">msg</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id">itg</span>.<br/>
<span class="id">have</span> <span class="id">mE</span> <span class="id">j</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">E</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#j:2571">j</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/E;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_le">emeasurable_fun_le</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span> <span class="id">msf</span>)<span class="id">/measurableT_comp</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">case:</span> <span class="id">mg</span>.<br/>
<span class="id">have</span> <span class="id">muE</span> <span class="id">j</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span> (<span class="id">E</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#j:2572">j</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id">-measure_le0</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">fg0</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2573" class="id"><a name="x:2573" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id">E</span> <span class="id">j</span>) (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#413a754bf74f3e306cb2b48b8fe944d4">\-</a></span> <span class="id">g</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2573">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB">integralB//;</a></span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">itf</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subIsetl">subIsetl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">itg</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subIsetl">subIsetl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">fg//;</span> <span class="id">last</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subIsetl">subIsetl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subee">subee//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">msg</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subIsetl">subIsetl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">itg</span>).<span class="id">2;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral">subset_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subIsetl">subIsetl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span> (<span class="id">E</span> <span class="id">j</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">j</span>.<span class="id">+1</span>%<span class="id">:R</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2574" class="id"><a name="x:2574" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id">E</span> <span class="id">j</span>) (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#413a754bf74f3e306cb2b48b8fe944d4">\-</a></span> <span class="id">g</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2574">x</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">fg0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">j</span>.<span class="id">+1</span>%<span class="id">:R</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2576" class="id"><span id="x:2575" class="id"><a name="x:2576" class="">x</a></span></span> <span class="gallina-kwd">in</span> <span class="id">E</span> <span class="id">j</span>) <span class="id">j</span>.<span class="id">+1</span>%<span class="id">:R^-1</span>%<span class="id">:E</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst">integral_cst//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleA">muleA</a></span> <span class="id">-EFinM</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.divrr">divrr</a></span> <span class="id">?unitfE//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_pmul">lee_pmul//;</a></span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[|</span> <span class="id">|by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">[]]</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">[_/=];</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">msf</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subIsetl">subIsetl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">msg</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subIsetl">subIsetl</a></span>.<br/>
<span class="id">have</span> <span class="id">nd_E</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">{homo</a></span> <span class="id">E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">:</a></span> <span id="n0:2579" class="id"><span id="n0:2577" class="id"><a name="n0:2579" class="">n0</a></span></span> <span id="m:2580" class="id"><span id="m:2578" class="id"><a name="m:2580" class="">m</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">/</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n0:2577">n0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m:2578">m</a></span>)%<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#7f2550512fc22f98c0de9a527bb1f752">&gt;-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n0:2579">n0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#6267442e1f81ed96252446fa7b1c579b">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m:2580">m</a></span>)%<span class="id">O}</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">i</span> <span class="id">j</span> <span class="id">ij;</span> <span class="id">apply/subsetPset</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">[Dx</span> <span class="id">/=</span> <span class="id">ifg];</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">ifg;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lef_pV2">lef_pV2//</a></span> <span class="id">?posrE//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.real_interval.html#set_lte_bigcup">set_lte_bigcup</a></span>.<br/>
<span class="id">have</span> <span class="id">/cvg_lim</span> <span class="id">h1</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">E</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2581">x</a></span> @<span class="id">[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]--&gt;</a></span> <span class="id">0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_near_cst">cvg_near_cst;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span>.<br/>
<span class="id">have</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.measure.html#nondecreasing_cvg_mu">nondecreasing_cvg_mu</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span> <span class="id">E</span> <span class="id">mE</span> (<span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span> <span class="id">E</span> <span class="id">mE</span>) <span class="id">nd_E</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">h2;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setI_bigcupr">setI_bigcupr</a></span> <span class="id">-h2//</span> <span class="id">h1</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_ae_eq" class="id"><a name="integral_ae_eq" class="">integral_ae_eq</a></span> (<span id="D:2582" class="id"><a name="D:2582" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.T">T</a></span>) (<span id="mD:2583" class="id"><a name="mD:2583" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2582">D</a></span>) (<span id="g:2584" class="id"><a name="g:2584" class="">g</a></span> <span id="f:2585" class="id"><a name="f:2585" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2582">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2585">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2582">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2584">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="E:2586" class="id"><a name="E:2586" class="">E,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:2586">E</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2582">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:2586">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2587" class="id"><a name="x:2587" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:2586">E</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2585">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2587">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:2588" class="id"><a name="x:2588" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:2586">E</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2584">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2588">x</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#ae_eq">ae_eq</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2582">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2585">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2584">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof282')">Proof.</span></div>
<div class="proofscript" id="proof282">
<span class="id">move=&gt;</span> <span class="id">fi</span> <span class="id">mg</span> <span class="id">fg;</span> <span class="id">have</span> <span class="id">mf</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id">fi;</span> <span class="id">have</span> <span class="id">gi</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id">D</span> <span class="id">g</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/integrableP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/abse_integralP</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">-fg//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/abse_integralP</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">case/integrableP</span> <span class="id">:</span> <span class="id">fi</span>.<br/>
<span class="id">have</span> <span class="id">mugf</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span> (<span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:2589" class="id"><a name="x:2589" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2589">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2589">x]</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.integral_measure_lt">integral_measure_lt</a></span>.<br/>
<span class="id">have</span> <span class="id">mufg</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span> (<span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:2590" class="id"><a name="x:2590" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2590">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2590">x]</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.integral_measure_lt">integral_measure_lt</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">E</span> <span class="id">ED</span> <span class="id">mE;</span> <span class="id">rewrite</span> <span class="id">fg</span>.<br/>
<span class="id">have</span> <span class="id">h</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:2591" class="id"><a name="x:2591" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">D</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2591">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2591">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2591">x]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:2592" class="id"><a name="x:2592" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2592">x</a></span> <span class="id">!=</span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2592">x]</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[x/=</span> <span class="id">/not_implyP[?</span> <span class="id">/eqP]//|x/=</span> <span class="id">[Dx</span> <span class="id">fgx]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/not_implyP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/eqP</span>.<br/>
<span class="id">apply/negligibleP</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">h;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_neq">emeasurable_fun_neq</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">h</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_neq_lt">set_neq_lt</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUr">setIUr</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measureU">measureU//</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2593">X</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id">_]mufg</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span> <span class="id">[LHS]mugf</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_lt">emeasurable_fun_lt</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_lt">emeasurable_fun_lt</a></span>.<br/>
<span class="id">-</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[x</span> <span class="id">[[Dx/=</span> <span class="id">+</span> <span class="id">[_]]]|//]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/lt_trans</span> <span class="id">=&gt;</span> <span class="id">/[apply];</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltxx">ltxx</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq">integral_ae_eq</a></span>.<br/>
<br/>
<div class="doc">Product measure </div>
<br/>
<span class="vernacular">Section</span> <span id="measurable_section" class="id"><a name="measurable_section" class="">measurable_section</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d1:2594" class="id"><a name="d1:2594" class="">d1</a></span> <span id="d2:2595" class="id"><a name="d2:2595" class="">d2</a></span> (<span id="T1:2596" class="id"><a name="T1:2596" class="">T1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d1:2594">d1</a></span>) (<span id="T2:2597" class="id"><a name="T2:2597" class="">T2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d2:2595">d2</a></span>) (<span id="R:2598" class="id"><a name="R:2598" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_section.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_section.T2">T2</a></span>)).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_xsection" class="id"><a name="measurable_xsection" class="">measurable_xsection</a></span> <span id="A:2599" class="id"><a name="A:2599" class="">A</a></span> <span id="x:2600" class="id"><a name="x:2600" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2599">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2599">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2600">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof283')">Proof.</span></div>
<div class="proofscript" id="proof283">
<span class="id">move=&gt;</span> <span class="id">mA;</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#xsection_indic">xsection_indic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_section.R">R</a></span>) <span class="id">-</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> (<span class="id">_</span> @<span class="id">^-1`</span> <span class="id">_</span>)).<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_ysection" class="id"><a name="measurable_ysection" class="">measurable_ysection</a></span> <span id="A:2601" class="id"><a name="A:2601" class="">A</a></span> <span id="y:2602" class="id"><a name="y:2602" class="">y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2601">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2601">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2602">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof284')">Proof.</span></div>
<div class="proofscript" id="proof284">
<span class="id">move=&gt;</span> <span class="id">mA;</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#ysection_indic">ysection_indic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_section.R">R</a></span>) <span class="id">-</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> (<span class="id">_</span> @<span class="id">^-1`</span> <span class="id">_</span>)).<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_section">measurable_section</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ndseq_closed_B" class="id"><a name="ndseq_closed_B" class="">ndseq_closed_B</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d1:2603" class="id"><a name="d1:2603" class="">d1</a></span> <span id="d2:2604" class="id"><a name="d2:2604" class="">d2</a></span> (<span id="T1:2605" class="id"><a name="T1:2605" class="">T1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d1:2603">d1</a></span>) (<span id="T2:2606" class="id"><a name="T2:2606" class="">T2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d2:2604">d2</a></span>) (<span id="R:2607" class="id"><a name="R:2607" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.T2">T2</a></span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="ndseq_closed_B.xsection" class="id"><a name="ndseq_closed_B.xsection" class="">xsection</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="ndseq_closed_B.xsection.pt2" class="id"><a name="ndseq_closed_B.xsection.pt2" class="">pt2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.T2">T2</a></span>) (<span id="ndseq_closed_B.xsection.m2" class="id"><a name="ndseq_closed_B.xsection.m2" class="">m2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.T2">T2</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.R">R}</a></span>).<br/>
<span class="vernacular">Let</span> <span id="ndseq_closed_B.xsection.phi" class="id"><a name="ndseq_closed_B.xsection.phi" class="">phi</a></span> <span id="A:2610" class="id"><a name="A:2610" class="">A</a></span> <span id="x:2611" class="id"><a name="x:2611" class="">x</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.xsection.m2">m2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2611">x</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2610">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2611">x</a></span>).<br/>
<span class="vernacular">Let</span> <span id="ndseq_closed_B.xsection.B" class="id"><a name="ndseq_closed_B.xsection.B" class="">B</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="A:2612" class="id"><a name="A:2612" class="">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2612">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.xsection.phi">phi</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2612">A</a></span>)<span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="xsection_ndseq_closed" class="id"><a name="xsection_ndseq_closed" class="">xsection_ndseq_closed</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#ndseq_closed">ndseq_closed</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.xsection.B">B</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof285')">Proof.</span></div>
<div class="proofscript" id="proof285">
<span class="id">move=&gt;</span> <span class="id">F</span> <span class="id">ndF;</span> <span class="id">rewrite</span> <span class="id">/B</span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">BF;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id">BF</span> <span class="id">n</span>.<br/>
<span class="id">have</span> <span class="id">phiF</span> <span class="id">x</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.xsection.phi">phi</a></span> (<span class="id">F</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:2614">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2613">x</a></span> @<span class="id">[i</span> <span class="id"><a href="mathcomp.analysis.topology.html#96ebe1e290228c2bd5904c3ec35d6f07">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.xsection.phi">phi</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#4652af423267d4923a164c1104e1273f">\bigcup_i</a></span> <span class="id">F</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:2615">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2613">x</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/phi</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection_bigcup">xsection_bigcup;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#nondecreasing_cvg_mu">nondecreasing_cvg_mu</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection;</a></span> <span class="id">case:</span> (<span class="id">BF</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span> <span class="id">=&gt;</span> <span class="id">i;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection;</a></span> <span class="id">case:</span> (<span class="id">BF</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">exact/subsetPset/le_xsection/subsetPset/ndF</span>.<br/>
<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_cvg">emeasurable_fun_cvg</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.xsection.phi">phi</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">F</span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">i;</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id">BF</span> <span class="id">i</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id">phiF</span>.<br/>
Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.xsection">xsection</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ndseq_closed_B.ysection" class="id"><a name="ndseq_closed_B.ysection" class="">ysection</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ndseq_closed_B.ysection.m1" class="id"><a name="ndseq_closed_B.ysection.m1" class="">m1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.T1">T1</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.R">R}</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ndseq_closed_B.ysection.psi" class="id"><a name="ndseq_closed_B.ysection.psi" class="">psi</a></span> <span id="A:2617" class="id"><a name="A:2617" class="">A</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.ysection.m1">m1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2617">A</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ndseq_closed_B.ysection.B" class="id"><a name="ndseq_closed_B.ysection.B" class="">B</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="A:2618" class="id"><a name="A:2618" class="">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2618">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.ysection.psi">psi</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2618">A</a></span>)<span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="ysection_ndseq_closed" class="id"><a name="ysection_ndseq_closed" class="">ysection_ndseq_closed</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#ndseq_closed">ndseq_closed</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.ysection.B">B</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof286')">Proof.</span></div>
<div class="proofscript" id="proof286">
<span class="id">move=&gt;</span> <span class="id">F</span> <span class="id">ndF;</span> <span class="id">rewrite</span> <span class="id">/B</span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">BF;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id">BF</span> <span class="id">n</span>.<br/>
<span class="id">have</span> <span class="id">psiF</span> <span class="id">x</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.ysection.psi">psi</a></span> (<span class="id">F</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:2620">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2619">x</a></span> @<span class="id">[i</span> <span class="id"><a href="mathcomp.analysis.topology.html#96ebe1e290228c2bd5904c3ec35d6f07">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.ysection.psi">psi</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#4652af423267d4923a164c1104e1273f">\bigcup_i</a></span> <span class="id">F</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:2621">i</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2619">x</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/psi</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection_bigcup">ysection_bigcup;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#nondecreasing_cvg_mu">nondecreasing_cvg_mu</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_ysection">measurable_ysection;</a></span> <span class="id">case:</span> (<span class="id">BF</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span> <span class="id">=&gt;</span> <span class="id">i;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_ysection">measurable_ysection;</a></span> <span class="id">case:</span> (<span class="id">BF</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">exact/subsetPset/le_ysection/subsetPset/ndF</span>.<br/>
<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_cvg">emeasurable_fun_cvg</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.ysection.psi">psi</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">F</span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">i;</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id">BF</span> <span class="id">i</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id">psiF</span>.<br/>
Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.ysection">ysection</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B">ndseq_closed_B</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="measurable_prod_subset" class="id"><a name="measurable_prod_subset" class="">measurable_prod_subset</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d1:2622" class="id"><a name="d1:2622" class="">d1</a></span> <span id="d2:2623" class="id"><a name="d2:2623" class="">d2</a></span> (<span id="T1:2624" class="id"><a name="T1:2624" class="">T1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d1:2622">d1</a></span>) (<span id="T2:2625" class="id"><a name="T2:2625" class="">T2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d2:2623">d2</a></span>) (<span id="R:2626" class="id"><a name="R:2626" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.T2">T2</a></span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="measurable_prod_subset.xsection" class="id"><a name="measurable_prod_subset.xsection" class="">xsection</a></span>.<br/>
<span class="vernacular">Variable</span> (<span id="measurable_prod_subset.xsection.m2" class="id"><a name="measurable_prod_subset.xsection.m2" class="">m2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.T2">T2</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.R">R}</a></span>) (<span id="measurable_prod_subset.xsection.D" class="id"><a name="measurable_prod_subset.xsection.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.T2">T2</a></span>) (<span id="measurable_prod_subset.xsection.mD" class="id"><a name="measurable_prod_subset.xsection.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2628">D</a></span>).<br/>
<span class="vernacular">Let</span> <span id="measurable_prod_subset.xsection.m2D" class="id"><a name="measurable_prod_subset.xsection.m2D" class="">m2D</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#mrestr">mrestr</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.m2">m2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.mD">mD</a></span>.<br/>
<span id="lebesgue_integral_m2D__canonical__measure_Measure" class="id"><span id="HB_unnamed_mixin_228" class="id"><span id="lebesgue_integral_m2D__canonical__measure_Content" class="id"><span id="HB_unnamed_mixin_227" class="id"><span id="measure_Measure__to__measure_Content_isMeasure" class="id"><span id="measure_Measure__to__measure_isContent" class="id"><span id="HB_unnamed_factory_224" class="id"><a name="lebesgue_integral_m2D__canonical__measure_Measure" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.on">Measure.on</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.m2D">m2D</a></span>.<br/>
<span class="vernacular">Let</span> <span id="measurable_prod_subset.xsection.phi" class="id"><a name="measurable_prod_subset.xsection.phi" class="">phi</a></span> <span id="A:2630" class="id"><a name="A:2630" class="">A</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.m2D">m2D</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2630">A</a></span>.<br/>
<span class="vernacular">Let</span> <span id="measurable_prod_subset.xsection.B" class="id"><a name="measurable_prod_subset.xsection.B" class="">B</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="A:2631" class="id"><a name="A:2631" class="">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2631">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.phi">phi</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2631">A</a></span>)<span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_prod_subset_xsection" class="id"><a name="measurable_prod_subset_xsection" class="">measurable_prod_subset_xsection</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="m2D_bounded:2634" class="id"><a name="m2D_bounded:2634" class="">m2D_bounded</a></span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="M:2632" class="id"><a name="M:2632" class="">M,</a></span> <span class="gallina-kwd">forall</span> <span id="X:2633" class="id"><a name="X:2633" class="">X,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2633">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.m2D">m2D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2633">X</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#M:2632">M</a></span>%<span class="id">:E</span>)%<span class="id">E</span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.B">B</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof287')">Proof.</span></div>
<div class="proofscript" id="proof287">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_prod_measurableType">measurable_prod_measurableType</a></span>.<br/>
<span class="id">set</span> <span class="id">C</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#6163cf1e40717c42afb9c2a42ba754ab">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A1:2635">A1</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A2:2636">A2</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#6163cf1e40717c42afb9c2a42ba754ab">|</a></span> <span id="A1:2639" class="id"><span id="A1:2637" class="id"><span id="A1:2635" class="id"><a name="A1:2639" class="">A1</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> &amp; <span id="A2:2640" class="id"><span id="A2:2638" class="id"><span id="A2:2636" class="id"><a name="A2:2640" class="">A2</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable]</a></span>.<br/>
<span class="id">have</span> <span class="id">CI</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#setI_closed">setI_closed</a></span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">X</span> <span class="id">Y</span> <span class="id">[X1</span> <span class="id">mX1</span> <span class="id">[X2</span> <span class="id">mX2</span> <span class="id">&lt;-{X}]]</span> <span class="id">[Y1</span> <span class="id">mY1</span> <span class="id">[Y2</span> <span class="id">mY2</span> <span class="id">&lt;-{Y}]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">X1</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">Y1</span>)<span class="id">;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">X2</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">Y2</span>)<span class="id">;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI|rewrite</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setMI">setMI]</a></span>.<br/>
<span class="id">have</span> <span class="id">CT</span> <span class="id">:</span> <span class="id">C</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setMTT">setMTT</a></span>.<br/>
<span class="id">have</span> <span class="id">CB</span> <span class="id">:</span> <span class="id">C</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.B">B</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">X</span> <span class="id">[X1</span> <span class="id">mX1</span> <span class="id">[X2</span> <span class="id">mX2</span> <span class="id">&lt;-{X}]];</span> <span class="id">split;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableM">measurableM</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.phi">phi</a></span> (<span class="id">X1</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id">X2</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:2641" class="id"><a name="x:2641" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.m2D">m2D</a></span> <span class="id">X2</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_X1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2641">x</a></span>)%<span class="id">:E</span>)%<span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id">/phi</span> <span class="id">/m2/=</span> <span class="id">/mrestr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[xX1|xX1]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">X1</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_xsectionM">in_xsectionM</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_xsectionM">notin_xsectionM//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0I">set0I</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact/measurable_funeM/EFin_measurable_fun</span>.<br/>
<span class="id">suff</span> <span class="id">monoB</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#monotone_class">monotone_class</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.B">B</a></span> <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#monotone_class_subset">monotone_class_subset</a></span>.<br/>
<span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id">CB|</span> <span class="id">|exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#xsection_ndseq_closed">xsection_ndseq_closed]</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">X</span> <span class="id">Y</span> <span class="id">XY</span> <span class="id">[mX</span> <span class="id">mphiX]</span> <span class="id">[mY</span> <span class="id">mphiY];</span> <span class="id">split;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.phi">phi</a></span> (<span class="id">X</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id">Y</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:2642" class="id"><a name="x:2642" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.phi">phi</a></span> <span class="id">X</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2642">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.phi">phi</a></span> <span class="id">Y</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2642">x</a></span>)%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/phi/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsectionD">xsectionD//</a></span> <span class="id">/m2D</span> <span class="id"><a href="mathcomp.analysis.measure.html#measureD">measureD</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIidr">setIidr//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#le_xsection">le_xsection</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move:</span> <span class="id">m2D_bounded</span> <span class="id">=&gt;</span> <span class="id">[M</span> <span class="id">m2M]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> (<span class="id">m2M</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">X</span> <span class="id">x</span>) <span class="id">_</span>))<span class="id">//</span> <span class="id">?leey//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection">xsection</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="measurable_prod_subset.ysection" class="id"><a name="measurable_prod_subset.ysection" class="">ysection</a></span>.<br/>
<span class="vernacular">Variable</span> (<span id="measurable_prod_subset.ysection.m1" class="id"><a name="measurable_prod_subset.ysection.m1" class="">m1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.T1">T1</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.R">R}</a></span>) (<span id="measurable_prod_subset.ysection.D" class="id"><a name="measurable_prod_subset.ysection.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.T1">T1</a></span>) (<span id="measurable_prod_subset.ysection.mD" class="id"><a name="measurable_prod_subset.ysection.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:2644">D</a></span>).<br/>
<span class="vernacular">Let</span> <span id="measurable_prod_subset.ysection.m1D" class="id"><a name="measurable_prod_subset.ysection.m1D" class="">m1D</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#mrestr">mrestr</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.mD">mD</a></span>.<br/>
<span id="lebesgue_integral_m1D__canonical__measure_Measure" class="id"><span id="HB_unnamed_mixin_235" class="id"><span id="lebesgue_integral_m1D__canonical__measure_Content" class="id"><span id="HB_unnamed_mixin_234" class="id"><span id="measure_Measure__to__measure_Content_isMeasure__233" class="id"><span id="measure_Measure__to__measure_isContent__231" class="id"><span id="HB_unnamed_factory_229" class="id"><a name="lebesgue_integral_m1D__canonical__measure_Measure" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.on">Measure.on</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.m1D">m1D</a></span>.<br/>
<span class="vernacular">Let</span> <span id="measurable_prod_subset.ysection.psi" class="id"><a name="measurable_prod_subset.ysection.psi" class="">psi</a></span> <span id="A:2646" class="id"><a name="A:2646" class="">A</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.m1D">m1D</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2646">A</a></span>.<br/>
<span class="vernacular">Let</span> <span id="measurable_prod_subset.ysection.B" class="id"><a name="measurable_prod_subset.ysection.B" class="">B</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="A:2647" class="id"><a name="A:2647" class="">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2647">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.psi">psi</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2647">A</a></span>)<span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_prod_subset_ysection" class="id"><a name="measurable_prod_subset_ysection" class="">measurable_prod_subset_ysection</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="m1_bounded:2650" class="id"><a name="m1_bounded:2650" class="">m1_bounded</a></span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="M:2648" class="id"><a name="M:2648" class="">M,</a></span> <span class="gallina-kwd">forall</span> <span id="X:2649" class="id"><a name="X:2649" class="">X,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2649">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.m1D">m1D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2649">X</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#M:2648">M</a></span>%<span class="id">:E</span>)%<span class="id">E</span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.B">B</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof288')">Proof.</span></div>
<div class="proofscript" id="proof288">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_prod_measurableType">measurable_prod_measurableType</a></span>.<br/>
<span class="id">set</span> <span class="id">C</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#6163cf1e40717c42afb9c2a42ba754ab">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A1:2651">A1</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A2:2652">A2</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#6163cf1e40717c42afb9c2a42ba754ab">|</a></span> <span id="A1:2655" class="id"><span id="A1:2653" class="id"><span id="A1:2651" class="id"><a name="A1:2655" class="">A1</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> &amp; <span id="A2:2656" class="id"><span id="A2:2654" class="id"><span id="A2:2652" class="id"><a name="A2:2656" class="">A2</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable]</a></span>.<br/>
<span class="id">have</span> <span class="id">CI</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#setI_closed">setI_closed</a></span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">X</span> <span class="id">Y</span> <span class="id">[X1</span> <span class="id">mX1</span> <span class="id">[X2</span> <span class="id">mX2</span> <span class="id">&lt;-{X}]]</span> <span class="id">[Y1</span> <span class="id">mY1</span> <span class="id">[Y2</span> <span class="id">mY2</span> <span class="id">&lt;-{Y}]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">X1</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">Y1</span>)<span class="id">;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">X2</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">Y2</span>)<span class="id">;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI|rewrite</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setMI">setMI]</a></span>.<br/>
<span class="id">have</span> <span class="id">CT</span> <span class="id">:</span> <span class="id">C</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setMTT">setMTT</a></span>.<br/>
<span class="id">have</span> <span class="id">CB</span> <span class="id">:</span> <span class="id">C</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.B">B</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">X</span> <span class="id">[X1</span> <span class="id">mX1</span> <span class="id">[X2</span> <span class="id">mX2</span> <span class="id">&lt;-{X}]];</span> <span class="id">split;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableM">measurableM</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.psi">psi</a></span> (<span class="id">X1</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id">X2</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:2657" class="id"><a name="x:2657" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.m1D">m1D</a></span> <span class="id">X1</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_X2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2657">x</a></span>)%<span class="id">:E</span>)%<span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id">/psi</span> <span class="id">/m1/=</span> <span class="id">/mrestr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[yX2|yX2]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">X2</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_ysectionM">in_ysectionM</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_ysectionM">notin_ysectionM//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0I">set0I</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact/measurable_funeM/EFin_measurable_fun</span>.<br/>
<span class="id">suff</span> <span class="id">monoB</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#monotone_class">monotone_class</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.B">B</a></span> <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#monotone_class_subset">monotone_class_subset</a></span>.<br/>
<span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id">CB|</span> <span class="id">|exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ysection_ndseq_closed">ysection_ndseq_closed]</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">X</span> <span class="id">Y</span> <span class="id">XY</span> <span class="id">[mX</span> <span class="id">mphiX]</span> <span class="id">[mY</span> <span class="id">mphiY];</span> <span class="id">split;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.psi">psi</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.psi">psi</a></span> <span class="id">X</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#413a754bf74f3e306cb2b48b8fe944d4">\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.psi">psi</a></span> <span class="id">Y</span>)%<span class="id">E</span>)<span class="id">;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id">/psi/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysectionD">ysectionD//</a></span> <span class="id">/m1D</span> <span class="id"><a href="mathcomp.analysis.measure.html#measureD">measureD</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIidr">setIidr//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#le_ysection">le_ysection</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_ysection">measurable_ysection</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_ysection">measurable_ysection</a></span>.<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">[M</span> <span class="id">m1M]</span> <span class="id">:=</span> <span class="id">m1_bounded</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> (<span class="id">m1M</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id">X</span> <span class="id">y</span>) <span class="id">_</span>))<span class="id">//</span> <span class="id">?leey//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_ysection">measurable_ysection</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection">ysection</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset">measurable_prod_subset</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="measurable_fun_xsection" class="id"><a name="measurable_fun_xsection" class="">measurable_fun_xsection</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d1:2658" class="id"><a name="d1:2658" class="">d1</a></span> <span id="d2:2659" class="id"><a name="d2:2659" class="">d2</a></span> (<span id="T1:2660" class="id"><a name="T1:2660" class="">T1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d1:2658">d1</a></span>) (<span id="T2:2661" class="id"><a name="T2:2661" class="">T2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d2:2659">d2</a></span>) (<span id="R:2662" class="id"><a name="R:2662" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="measurable_fun_xsection.m2" class="id"><a name="measurable_fun_xsection.m2" class="">m2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">{sigma_finite_measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.T2">T2</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.R">R}</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.T2">T2</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_xsection.phi" class="id"><a name="measurable_fun_xsection.phi" class="">phi</a></span> <span id="A:2664" class="id"><a name="A:2664" class="">A</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.m2">m2</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2664">A</a></span>.<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_xsection.B" class="id"><a name="measurable_fun_xsection.B" class="">B</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="A:2665" class="id"><a name="A:2665" class="">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2665">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.phi">phi</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2665">A</a></span>)<span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_xsection" class="id"><a name="measurable_fun_xsection" class="">measurable_fun_xsection</a></span> <span id="A:2666" class="id"><a name="A:2666" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2666">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.phi">phi</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2666">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof289')">Proof.</span></div>
<div class="proofscript" id="proof289">
<span class="id">move:</span> <span class="id">A;</span> <span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.B">B</a></span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">+</span> <span class="id">A</span> <span class="id">=&gt;</span> <span class="id">/[apply]</span> <span class="id">-[]</span>.<br/>
<span class="id">have</span> <span class="id">/sigma_finiteP</span> <span class="id">[F</span> <span class="id">[F_T</span> <span class="id">F_nd</span> <span class="id">F_oo]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#sigma_finiteT">sigma_finiteT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.m2">m2</a></span> <span class="id">=&gt;</span> <span class="id">X</span> <span class="id">mX</span>.<br/>
<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">X</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#4652af423267d4923a164c1104e1273f">\bigcup_n</a></span> (<span class="id">X</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id">F</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2667">n</a></span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-setI_bigcupr</span> <span class="id">-setM_bigcupr</span> <span class="id">-F_T</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setMTT">setMTT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#xsection_ndseq_closed">xsection_ndseq_closed</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">apply/subsetPset;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIS">setIS;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setSM">setSM</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact/subsetPset/F_nd</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id">-/B;</span> <span class="id">have</span> <span class="id">[?</span> <span class="id">?]</span> <span class="id">:=</span> <span class="id">F_oo</span> <span class="id">n</span>.<br/>
<span class="id">pose</span> <span class="id">m2Fn</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#mrestr">mrestr</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.m2">m2</a></span> (<span class="id">F_oo</span> <span class="id">n</span>).<span class="id">1</span>.<br/>
<span class="id">have</span> <span class="id">m2Fn_bounded</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="M:2668" class="id"><a name="M:2668" class="">M,</a></span> <span class="gallina-kwd">forall</span> <span id="X:2669" class="id"><a name="X:2669" class="">X,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2669">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">m2Fn</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2669">X</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#M:2668">M</a></span>%<span class="id">:E</span>)%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">m2Fn</span> (<span class="id">F</span> <span class="id">n</span>)) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">1</span>) <span class="id">=&gt;</span> <span class="id">Y</span> <span class="id">mY</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#ltRHS">ltRHS]EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_spadder">lte_spadder//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span> <span class="id">?measure_ge0//=</span> <span class="id">/m2Fn</span> <span class="id">/mrestr</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/m2Fn</span> <span class="id">/mrestr/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">pose</span> <span class="id">phi'</span> <span id="A:2670" class="id"><a name="A:2670" class="">A</a></span> <span class="id">:=</span> <span class="id">m2Fn</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2670">A</a></span>.<br/>
<span class="id">pose</span> <span class="id">B'</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="A:2671" class="id"><a name="A:2671" class="">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2671">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id">phi'</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2671">A</a></span>)<span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">]</a></span>.<br/>
<span class="id">have</span> <span class="id">subset_B'</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id">B'</span> <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset_xsection">measurable_prod_subset_xsection</a></span>.<br/>
<span class="id">split=&gt;</span> <span class="id">[|_</span> <span class="id">Y</span> <span class="id">mY];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableM">measurableM</a></span>.<br/>
<span class="id">have</span> <span class="id">[_</span> <span class="id">/</span>(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">Y</span> <span class="id">mY</span>)<span class="id">]</span> <span class="id">:=</span> <span class="id">subset_B'</span> <span class="id">X</span> <span class="id">mX</span>.<br/>
<span class="id">have</span> <span class="id">-&gt;//</span> <span class="id">:</span> <span class="id">phi'</span> <span class="id">X</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.m2">m2</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> (<span class="id">X</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id">F</span> <span class="id">n</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x/=;</span> <span class="id">rewrite</span> <span class="id">/phi'</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTM">setTM</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsectionI">xsectionI</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection_preimage_snd">xsection_preimage_snd</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection">measurable_fun_xsection</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="measurable_fun_ysection" class="id"><a name="measurable_fun_ysection" class="">measurable_fun_ysection</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d1:2672" class="id"><a name="d1:2672" class="">d1</a></span> <span id="d2:2673" class="id"><a name="d2:2673" class="">d2</a></span> (<span id="T1:2674" class="id"><a name="T1:2674" class="">T1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d1:2672">d1</a></span>) (<span id="T2:2675" class="id"><a name="T2:2675" class="">T2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d2:2673">d2</a></span>) (<span id="R:2676" class="id"><a name="R:2676" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="measurable_fun_ysection.m1" class="id"><a name="measurable_fun_ysection.m1" class="">m1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">{sigma_finite_measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.T1">T1</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.R">R}</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.T2">T2</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_ysection.phi" class="id"><a name="measurable_fun_ysection.phi" class="">phi</a></span> <span id="A:2678" class="id"><a name="A:2678" class="">A</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.m1">m1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2678">A</a></span>.<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_ysection.B" class="id"><a name="measurable_fun_ysection.B" class="">B</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="A:2679" class="id"><a name="A:2679" class="">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2679">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.phi">phi</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2679">A</a></span>)<span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_ysection" class="id"><a name="measurable_fun_ysection" class="">measurable_fun_ysection</a></span> <span id="A:2680" class="id"><a name="A:2680" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2680">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.phi">phi</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2680">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof290')">Proof.</span></div>
<div class="proofscript" id="proof290">
<span class="id">move:</span> <span class="id">A;</span> <span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.B">B</a></span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">+</span> <span class="id">A</span> <span class="id">=&gt;</span> <span class="id">/[apply]</span> <span class="id">-[]</span>.<br/>
<span class="id">have</span> <span class="id">/sigma_finiteP[F</span> <span class="id">[F_T</span> <span class="id">F_nd</span> <span class="id">F_oo]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#sigma_finiteT">sigma_finiteT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.m1">m1</a></span> <span class="id">=&gt;</span> <span class="id">X</span> <span class="id">mX</span>.<br/>
<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">X</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#4652af423267d4923a164c1104e1273f">\bigcup_n</a></span> (<span class="id">X</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> (<span class="id">F</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2681">n</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-setI_bigcupr</span> <span class="id">-setM_bigcupl</span> <span class="id">-F_T</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setMTT">setMTT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ysection_ndseq_closed">ysection_ndseq_closed</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">apply/subsetPset;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIS">setIS;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setSM">setSM</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact/subsetPset/F_nd</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">have</span> <span class="id">[?</span> <span class="id">?]</span> <span class="id">:=</span> <span class="id">F_oo</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id">-/B</span>.<br/>
<span class="id">pose</span> <span class="id">m1Fn</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#mrestr">mrestr</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.m1">m1</a></span> (<span class="id">F_oo</span> <span class="id">n</span>).<span class="id">1</span>.<br/>
<span class="id">have</span> <span class="id">m1Fn_bounded</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="M:2682" class="id"><a name="M:2682" class="">M,</a></span> <span class="gallina-kwd">forall</span> <span id="X:2683" class="id"><a name="X:2683" class="">X,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2683">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">m1Fn</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2683">X</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#M:2682">M</a></span>%<span class="id">:E</span>)%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">m1Fn</span> (<span class="id">F</span> <span class="id">n</span>)) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">1</span>) <span class="id">=&gt;</span> <span class="id">Y</span> <span class="id">mY</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#ltRHS">ltRHS]EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_spadder">lte_spadder//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span> <span class="id">?measure_ge0//</span> <span class="id">/m1Fn/=</span> <span class="id">/mrestr</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/m1Fn/=</span> <span class="id">/mrestr</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE//=;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">pose</span> <span class="id">psi'</span> <span id="A:2684" class="id"><a name="A:2684" class="">A</a></span> <span class="id">:=</span> <span class="id">m1Fn</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2684">A</a></span>.<br/>
<span class="id">pose</span> <span class="id">B'</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="A:2685" class="id"><a name="A:2685" class="">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2685">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id">psi'</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2685">A</a></span>)<span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">]</a></span>.<br/>
<span class="id">have</span> <span class="id">subset_B'</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id">B'</span> <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset_ysection">measurable_prod_subset_ysection</a></span>.<br/>
<span class="id">split=&gt;</span> <span class="id">[|_</span> <span class="id">Y</span> <span class="id">mY];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableM">measurableM</a></span>.<br/>
<span class="id">have</span> <span class="id">[_</span> <span class="id">/</span>(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">Y</span> <span class="id">mY</span>)<span class="id">]</span> <span class="id">:=</span> <span class="id">subset_B'</span> <span class="id">X</span> <span class="id">mX</span>.<br/>
<span class="id">have</span> <span class="id">-&gt;//</span> <span class="id">:</span> <span class="id">psi'</span> <span class="id">X</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.m1">m1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> (<span class="id">X</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">F</span> <span class="id">n</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)).<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">y/=;</span> <span class="id">rewrite</span> <span class="id">/psi'</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setMT">setMT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysectionI">ysectionI//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection_preimage_fst">ysection_preimage_fst</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection">measurable_fun_ysection</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="product_measures" class="id"><a name="product_measures" class="">product_measures</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d1:2686" class="id"><a name="d1:2686" class="">d1</a></span> <span id="d2:2687" class="id"><a name="d2:2687" class="">d2</a></span> (<span id="T1:2688" class="id"><a name="T1:2688" class="">T1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d1:2686">d1</a></span>) (<span id="T2:2689" class="id"><a name="T2:2689" class="">T2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d2:2687">d2</a></span>) (<span id="R:2690" class="id"><a name="R:2690" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Context</span> (<span id="m1:2691" class="id"><a name="m1:2691" class="">m1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measures.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measures.R">R</a></span>) (<span id="m2:2692" class="id"><a name="m2:2692" class="">m2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measures.T2">T2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measures.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="product_measure1" class="id"><a name="product_measure1" class="">product_measure1</a></span> <span class="id">:=</span> (<span class="gallina-kwd">fun</span> <span id="A:2693" class="id"><a name="A:2693" class="">A</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measures.m2">m2</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2693">A</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2694">x</a></span>)%<span class="id">E</span>.<br/>
<span class="vernacular">Definition</span> <span id="product_measure2" class="id"><a name="product_measure2" class="">product_measure2</a></span> <span class="id">:=</span> (<span class="gallina-kwd">fun</span> <span id="A:2695" class="id"><a name="A:2695" class="">A</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_x</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measures.m1">m1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2695">A</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2696">x</a></span>)%<span class="id">E</span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measures">product_measures</a></span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="37aac744f0a0814c91565a3ffc98a3d1" class="id"><a name="37aac744f0a0814c91565a3ffc98a3d1" class="">&quot;m1 '\x' m2&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1">product_measure1</a></span> <span class="id">m1</span> <span class="id">m2</span>) <span class="id">:</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="13a2d64eae251995abae34978f38d124" class="id"><a name="13a2d64eae251995abae34978f38d124" class="">&quot;m1 '\x^' m2&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2">product_measure2</a></span> <span class="id">m1</span> <span class="id">m2</span>) <span class="id">:</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="product_measure1" class="id"><a name="product_measure1" class="">product_measure1</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d1:2697" class="id"><a name="d1:2697" class="">d1</a></span> <span id="d2:2698" class="id"><a name="d2:2698" class="">d2</a></span> (<span id="T1:2699" class="id"><a name="T1:2699" class="">T1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d1:2697">d1</a></span>) (<span id="T2:2700" class="id"><a name="T2:2700" class="">T2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d2:2698">d2</a></span>) (<span id="R:2701" class="id"><a name="R:2701" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="product_measure1.m1" class="id"><a name="product_measure1.m1" class="">m1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.T1">T1</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.R">R}</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="product_measure1.m2" class="id"><a name="product_measure1.m2" class="">m2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">{sigma_finite_measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.T2">T2</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.R">R}</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.T2">T2</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="product_measure1.pm10" class="id"><a name="product_measure1.pm10" class="">pm10</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.m2">m2</a></span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof291')">Proof.</span></div>
<div class="proofscript" id="proof291">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">[LHS]integral0_eq//</span> <span class="id">=&gt;</span> <span class="id">x/=</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection0">xsection0</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="product_measure1.pm1_ge0" class="id"><a name="product_measure1.pm1_ge0" class="">pm1_ge0</a></span> <span id="A:2704" class="id"><a name="A:2704" class="">A</a></span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.m2">m2</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2704">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof292')">Proof.</span></div>
<div class="proofscript" id="proof292">
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">*;</span> <span class="id">exact/measure_ge0/measurable_xsection</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="product_measure1.pm1_sigma_additive" class="id"><a name="product_measure1.pm1_sigma_additive" class="">pm1_sigma_additive</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#semi_sigma_additive">semi_sigma_additive</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.m2">m2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof293')">Proof.</span></div>
<div class="proofscript" id="proof293">
<span class="id">move=&gt;</span> <span class="id">F</span> <span class="id">mF</span> <span class="id">tF</span> <span class="id">mUF</span>.<br/>
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2711">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:2714" class="id"><span id="n:2713" class="id"><span id="n:2712" class="id"><span id="n:2710" class="id"><span id="n:2709" class="id"><span id="n:2708" class="id"><span id="n:2707" class="id"><span id="n:2706" class="id"><span id="n:2705" class="id"><a name="n:2714" class="">n</a></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.m2">m2</a></span>) (<span class="id">F</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2705">n</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">apply/cvg_closeP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#closeE">closeE</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_nneseries">is_cvg_nneseries</a></span> <span class="id">=&gt;</span> <span class="id">*;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-integral_nneseries//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection">measurable_fun_xsection</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection_bigcup">xsection_bigcup</a></span>.<br/>
<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measure_sigma_additive">measure_sigma_additive</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset_xsection">trivIset_xsection</a></span> <span class="id">tF</span>)) <span class="id">=&gt;</span> <span class="id">?</span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
Qed.</div>
<br/>
<span id="lebesgue_integral_product_measure1__canonical__measure_Measure" class="id"><span id="HB_unnamed_mixin_240" class="id"><span id="lebesgue_integral_product_measure1__canonical__measure_Content" class="id"><span id="HB_unnamed_mixin_239" class="id"><span id="measure_isMeasure__to__measure_isContent" class="id"><span id="measure_isMeasure__to__measure_Content_isMeasure" class="id"><span id="HB_unnamed_factory_236" class="id"><a name="lebesgue_integral_product_measure1__canonical__measure_Measure" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#isMeasure.Build">isMeasure.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.m2">m2</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.pm10">pm10</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.pm1_ge0">pm1_ge0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.pm1_sigma_additive">pm1_sigma_additive</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1">product_measure1</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="product_measure1E" class="id"><a name="product_measure1E" class="">product_measure1E</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d1:2715" class="id"><a name="d1:2715" class="">d1</a></span> <span id="d2:2716" class="id"><a name="d2:2716" class="">d2</a></span> (<span id="T1:2717" class="id"><a name="T1:2717" class="">T1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d1:2715">d1</a></span>) (<span id="T2:2718" class="id"><a name="T2:2718" class="">T2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d2:2716">d2</a></span>) (<span id="R:2719" class="id"><a name="R:2719" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="product_measure1E.m1" class="id"><a name="product_measure1E.m1" class="">m1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.T1">T1</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.R">R}</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="product_measure1E.m2" class="id"><a name="product_measure1E.m2" class="">m2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">{sigma_finite_measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.T2">T2</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.R">R}</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.T2">T2</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="product_measure1E" class="id"><a name="product_measure1E" class="">product_measure1E</a></span> (<span id="A1:2722" class="id"><a name="A1:2722" class="">A1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.T1">T1</a></span>) (<span id="A2:2723" class="id"><a name="A2:2723" class="">A2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.T2">T2</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A1:2722">A1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A2:2723">A2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.m2">m2</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A1:2722">A1</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A2:2723">A2</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A1:2722">A1</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.m2">m2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A2:2723">A2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof294')">Proof.</span></div>
<div class="proofscript" id="proof294">
<span class="id">move=&gt;</span> <span class="id">mA1</span> <span class="id">mA2</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">/product_measure1</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (<span class="gallina-kwd">fun</span> <span id="x:2726" class="id"><span id="x:2725" class="id"><span id="x:2724" class="id"><a name="x:2726" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.m2">m2</a></span> <span class="id">A2</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_A1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2724">x</a></span>)%<span class="id">:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE;</a></span> <span class="id">have</span> <span class="id">[xA1|xA1]</span> <span class="id">/=</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">A1</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_xsectionM">in_xsectionM//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1|rewrite</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_xsectionM">notin_xsectionM]</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl//;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">muleC</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E">product_measure1E</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="product_measure_unique" class="id"><a name="product_measure_unique" class="">product_measure_unique</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d1:2727" class="id"><a name="d1:2727" class="">d1</a></span> <span id="d2:2728" class="id"><a name="d2:2728" class="">d2</a></span> (<span id="T1:2729" class="id"><a name="T1:2729" class="">T1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d1:2727">d1</a></span>) (<span id="T2:2730" class="id"><a name="T2:2730" class="">T2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d2:2728">d2</a></span>) (<span id="R:2731" class="id"><a name="R:2731" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="product_measure_unique.m1" class="id"><a name="product_measure_unique.m1" class="">m1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">{sigma_finite_measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.T1">T1</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.R">R}</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="product_measure_unique.m2" class="id"><a name="product_measure_unique.m2" class="">m2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">{sigma_finite_measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.T2">T2</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.R">R}</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="product_measure_unique.product_measure_sigma_finite" class="id"><a name="product_measure_unique.product_measure_sigma_finite" class="">product_measure_sigma_finite</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#sigma_finite">sigma_finite</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.m2">m2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof295')">Proof.</span></div>
<div class="proofscript" id="proof295">
<span class="id">have</span> <span class="id">/sigma_finiteP[F</span> <span class="id">[TF</span> <span class="id">ndF</span> <span class="id">Foo]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#sigma_finiteT">sigma_finiteT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.m1">m1</a></span>.<br/>
<span class="id">have</span> <span class="id">/sigma_finiteP[G</span> <span class="id">[TG</span> <span class="id">ndG</span> <span class="id">Goo]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#sigma_finiteT">sigma_finiteT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.m2">m2</a></span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span id="n:2735" class="id"><span id="n:2734" class="id"><a name="n:2735" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id">F</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2734">n</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id">G</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2734">n</a></span>).<br/>
&nbsp;<span class="id">rewrite</span> <span class="id">-setMTT</span> <span class="id">TF</span> <span class="id">TG</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">-[x</span> <span class="id">y];</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">[/=</span> <span class="id">[n</span> <span class="id">_</span> <span class="id">Fnx]</span> <span class="id">[k</span> <span class="id">_</span> <span class="id">Gky]];</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#maxn">maxn</a></span> <span class="id">n</span> <span class="id">k</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">x</span> <span class="id">Fnx;</span> <span class="id">exact/subsetPset/ndF/leq_maxl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">y</span> <span class="id">Gky;</span> <span class="id">exact/subsetPset/ndG/leq_maxr</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[n</span> <span class="id">_</span> <span class="id">[]/=</span> <span class="id">?</span> <span class="id">?];</span> <span class="id">split;</span> <span class="gallina-kwd">exists</span> <span class="id">n</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">k;</span> <span class="id">have</span> <span class="id">[?</span> <span class="id">?]</span> <span class="id">:=</span> <span class="id">Foo</span> <span class="id">k;</span> <span class="id">have</span> <span class="id">[?</span> <span class="id">?]</span> <span class="id">:=</span> <span class="id">Goo</span> <span class="id">k</span>.<br/>
<span class="id">split;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableM">measurableM</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E">product_measure1E//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_mul_pinfty">lte_mul_pinfty//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>.<br/>
Qed.</div>
<br/>
<span id="lebesgue_integral_product_measure1__canonical__measure_SigmaFiniteMeasure" class="id"><span id="lebesgue_integral_product_measure1__canonical__measure_SFiniteMeasure" class="id"><span id="HB_unnamed_mixin_245" class="id"><span id="lebesgue_integral_product_measure1__canonical__measure_SigmaFiniteContent" class="id"><span id="HB_unnamed_mixin_244" class="id"><span id="measure_Measure_isSigmaFinite__to__measure_Measure_isSFinite_subdef" class="id"><span id="measure_Measure_isSigmaFinite__to__measure_isSigmaFinite" class="id"><span id="HB_unnamed_factory_241" class="id"><a name="lebesgue_integral_product_measure1__canonical__measure_SigmaFiniteMeasure" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure_isSigmaFinite.Build">Measure_isSigmaFinite.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.m2">m2</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.product_measure_sigma_finite">product_measure_sigma_finite</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="product_measure_unique" class="id"><a name="product_measure_unique" class="">product_measure_unique</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="m':2736" class="id"><a name="m':2736" class="">m'</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#SemiRingOfSets.Exports.semiRingOfSetsType">semiRingOfSetsType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.T2">T2]</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.R">R}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="A1:2737" class="id"><a name="A1:2737" class="">A1</a></span> <span id="A2:2738" class="id"><a name="A2:2738" class="">A2,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A1:2737">A1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A2:2738">A2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m':2736">m'</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A1:2737">A1</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A2:2738">A2</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A1:2737">A1</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.m2">m2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A2:2738">A2</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="X:2739" class="id"><a name="X:2739" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.T2">T2</a></span>)<span class="id">,</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2739">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.m2">m2</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2739">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m':2736">m'</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2739">X</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof296')">Proof.</span></div>
<div class="proofscript" id="proof296">
<span class="id">move=&gt;</span> <span class="id">m'E</span>.<br/>
<span class="id">have</span> <span class="id">/sigma_finiteP[F</span> <span class="id">[TF</span> <span class="id">ndF</span> <span class="id">Foo]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#sigma_finiteT">sigma_finiteT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.m1">m1</a></span>.<br/>
<span class="id">have</span> <span class="id">/sigma_finiteP[G</span> <span class="id">[TG</span> <span class="id">ndG</span> <span class="id">Goo]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#sigma_finiteT">sigma_finiteT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.m2">m2</a></span>.<br/>
<span class="id">have</span> <span class="id">UFGT</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#4652af423267d4923a164c1104e1273f">\bigcup_k</a></span> (<span class="id">F</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:2740">k</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id">G</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:2740">k</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-setMTT</span> <span class="id">TF</span> <span class="id">TG</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">-[x</span> <span class="id">y];</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[n</span> <span class="id">_</span> <span class="id">[]/=</span> <span class="id">?</span> <span class="id">?];</span> <span class="id">split;</span> <span class="gallina-kwd">exists</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">[/=</span> <span class="id">[n</span> <span class="id">_</span> <span class="id">Fnx]</span> <span class="id">[k</span> <span class="id">_</span> <span class="id">Gky]];</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#maxn">maxn</a></span> <span class="id">n</span> <span class="id">k</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">x</span> <span class="id">Fnx;</span> <span class="id">exact/subsetPset/ndF/leq_maxl</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">y</span> <span class="id">Gky;</span> <span class="id">exact/subsetPset/ndG/leq_maxr</span>.<br/>
<span class="id">pose</span> <span class="id">C</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.T2">T2</a></span>)) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="C:2741" class="id"><a name="C:2741" class="">C</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="gallina-kwd">exists</span> <span id="A:2742" class="id"><a name="A:2742" class="">A,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2742">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="gallina-kwd">exists</span> <span id="B:2743" class="id"><a name="B:2743" class="">B,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#B:2743">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#C:2741">C</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2742">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#B:2743">B]</a></span>.<br/>
<span class="id">have</span> <span class="id">CI</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#setI_closed">setI_closed</a></span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">_</span> <span class="id">[X1</span> <span class="id">[mX1</span> <span class="id">[X2</span> <span class="id">[mX2</span> <span class="id">-&gt;]]]]</span> <span class="id">[Y1</span> <span class="id">[mY1</span> <span class="id">[Y2</span> <span class="id">[mY2</span> <span class="id">-&gt;]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-setMI;</span> <span class="gallina-kwd">exists</span> (<span class="id">X1</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">Y1</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">X2</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">Y2</span>)<span class="id">;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">X</span> <span class="id">mX;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measure_unique">measure_unique</a></span> <span class="id">C</span> (<span class="gallina-kwd">fun</span> <span id="n:2745" class="id"><span id="n:2744" class="id"><a name="n:2745" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id">F</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2744">n</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id">G</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2744">n</a></span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_prod_measurableType">measurable_prod_measurableType</a></span> <span class="id">//;</span> <span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.measure.html#::classical_set_scope:'&lt;&lt;s'_x_'&gt;&gt;'">&lt;&lt;s</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#::classical_set_scope:'&lt;&lt;s'_x_'&gt;&gt;'">&gt;&gt;</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE;</a></span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[[A</span> <span class="id">mA</span> <span class="id">[B</span> <span class="id">mB</span> <span class="id">&lt;-]]|[A</span> <span class="id">[mA</span> <span class="id">[B</span> <span class="id">[mB</span> <span class="id">-&gt;]]]]]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">A;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">A</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id">B</span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id">/C</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id">F</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id">Foo</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">G</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id">Goo</span> <span class="id">n</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">[A1</span> <span class="id">[mA1</span> <span class="id">[A2</span> <span class="id">[mA2</span> <span class="id">-&gt;]]]];</span> <span class="id">rewrite</span> <span class="id">m'E//=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E">product_measure1E</a></span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">k;</span> <span class="id">have</span> <span class="id">[?</span> <span class="id">?]</span> <span class="id">:=</span> <span class="id">Foo</span> <span class="id">k;</span> <span class="id">have</span> <span class="id">[?</span> <span class="id">?]</span> <span class="id">:=</span> <span class="id">Goo</span> <span class="id">k</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E">product_measure1E//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_mul_pinfty">lte_mul_pinfty//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique">product_measure_unique</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="product_measure2" class="id"><a name="product_measure2" class="">product_measure2</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d1:2746" class="id"><a name="d1:2746" class="">d1</a></span> <span id="d2:2747" class="id"><a name="d2:2747" class="">d2</a></span> (<span id="T1:2748" class="id"><a name="T1:2748" class="">T1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d1:2746">d1</a></span>) (<span id="T2:2749" class="id"><a name="T2:2749" class="">T2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d2:2747">d2</a></span>) (<span id="R:2750" class="id"><a name="R:2750" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="product_measure2.m1" class="id"><a name="product_measure2.m1" class="">m1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">{sigma_finite_measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.T1">T1</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.R">R}</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="product_measure2.m2" class="id"><a name="product_measure2.m2" class="">m2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.T2">T2</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.R">R}</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.T2">T2</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="product_measure2.pm20" class="id"><a name="product_measure2.pm20" class="">pm20</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#13a2d64eae251995abae34978f38d124">\x^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.m2">m2</a></span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof297')">Proof.</span></div>
<div class="proofscript" id="proof297">
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/</span>(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#13a2d64eae251995abae34978f38d124">\x^</a></span> <span class="id">_</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq//</a></span> <span class="id">=&gt;</span> <span class="id">y/=</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection0">ysection0</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="product_measure2.pm2_ge0" class="id"><a name="product_measure2.pm2_ge0" class="">pm2_ge0</a></span> <span id="A:2753" class="id"><a name="A:2753" class="">A</a></span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#13a2d64eae251995abae34978f38d124">\x^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.m2">m2</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2753">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof298')">Proof.</span></div>
<div class="proofscript" id="proof298">
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">*;</span> <span class="id">exact/measure_ge0/measurable_ysection</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="product_measure2.pm2_sigma_additive" class="id"><a name="product_measure2.pm2_sigma_additive" class="">pm2_sigma_additive</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#semi_sigma_additive">semi_sigma_additive</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#13a2d64eae251995abae34978f38d124">\x^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.m2">m2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof299')">Proof.</span></div>
<div class="proofscript" id="proof299">
<span class="id">move=&gt;</span> <span class="id">F</span> <span class="id">mF</span> <span class="id">tF</span> <span class="id">mUF</span>.<br/>
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2760">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:2763" class="id"><span id="n:2762" class="id"><span id="n:2761" class="id"><span id="n:2759" class="id"><span id="n:2758" class="id"><span id="n:2757" class="id"><span id="n:2756" class="id"><span id="n:2755" class="id"><span id="n:2754" class="id"><a name="n:2763" class="">n</a></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#13a2d64eae251995abae34978f38d124">\x^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.m2">m2</a></span>) (<span class="id">F</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2754">n</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">apply/cvg_closeP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#closeE">closeE</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_nneseries">is_cvg_nneseries</a></span> <span class="id">=&gt;</span> <span class="id">*;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-integral_nneseries//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection">measurable_fun_ysection</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection_bigcup">ysection_bigcup</a></span>.<br/>
<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measure_sigma_additive">measure_sigma_additive</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset_ysection">trivIset_ysection</a></span> <span class="id">tF</span>)) <span class="id">=&gt;</span> <span class="id">?</span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_ysection">measurable_ysection</a></span>.<br/>
Qed.</div>
<br/>
<span id="lebesgue_integral_product_measure2__canonical__measure_Measure" class="id"><span id="HB_unnamed_mixin_252" class="id"><span id="lebesgue_integral_product_measure2__canonical__measure_Content" class="id"><span id="HB_unnamed_mixin_251" class="id"><span id="measure_isMeasure__to__measure_isContent__250" class="id"><span id="measure_isMeasure__to__measure_Content_isMeasure__248" class="id"><span id="HB_unnamed_factory_246" class="id"><a name="lebesgue_integral_product_measure2__canonical__measure_Measure" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#isMeasure.Build">isMeasure.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#13a2d64eae251995abae34978f38d124">\x^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.m2">m2</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.pm20">pm20</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.pm2_ge0">pm2_ge0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.pm2_sigma_additive">pm2_sigma_additive</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2">product_measure2</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="product_measure2E" class="id"><a name="product_measure2E" class="">product_measure2E</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d1:2764" class="id"><a name="d1:2764" class="">d1</a></span> <span id="d2:2765" class="id"><a name="d2:2765" class="">d2</a></span> (<span id="T1:2766" class="id"><a name="T1:2766" class="">T1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d1:2764">d1</a></span>) (<span id="T2:2767" class="id"><a name="T2:2767" class="">T2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d2:2765">d2</a></span>) (<span id="R:2768" class="id"><a name="R:2768" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="product_measure2E.m1" class="id"><a name="product_measure2E.m1" class="">m1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">{sigma_finite_measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.T1">T1</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.R">R}</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="product_measure2E.m2" class="id"><a name="product_measure2E.m2" class="">m2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.T2">T2</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.R">R}</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="product_measure2E" class="id"><a name="product_measure2E" class="">product_measure2E</a></span> (<span id="A1:2771" class="id"><a name="A1:2771" class="">A1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.T1">T1</a></span>) (<span id="A2:2772" class="id"><a name="A2:2772" class="">A2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.T2">T2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="mA1:2773" class="id"><a name="mA1:2773" class="">mA1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A1:2771">A1</a></span>) (<span id="mA2:2774" class="id"><a name="mA2:2774" class="">mA2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A2:2772">A2</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#13a2d64eae251995abae34978f38d124">\x^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.m2">m2</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A1:2771">A1</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A2:2772">A2</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A1:2771">A1</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.m2">m2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A2:2772">A2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof300')">Proof.</span></div>
<div class="proofscript" id="proof300">
<span class="id">have</span> <span class="id">mA1A2</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">A1</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id">A2</span>) <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableM">measurableM</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.m1">m1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> (<span class="id">A1</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id">A2</span>)) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2775">y</a></span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">fun</span> <span id="y:2779" class="id"><span id="y:2778" class="id"><span id="y:2777" class="id"><a name="y:2779" class="">y</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.m1">m1</a></span> <span class="id">A1</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_A2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2777">y</a></span>)%<span class="id">:E</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl//;</a></span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span> <span class="id">?setIT</span> <span class="id">?mul1e</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
<span class="id">have</span> <span class="id">[yA2|yA2]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">A2</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span> <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_ysectionM">in_ysectionM</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_ysectionM">notin_ysectionM</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E">product_measure2E</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="simple_density_L1" class="id"><a name="simple_density_L1" class="">simple_density_L1</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:2780" class="id"><a name="d:2780" class="">d</a></span> (<span id="T:2781" class="id"><a name="T:2781" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:2780">d</a></span>) (<span id="R:2782" class="id"><a name="R:2782" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="simple_density_L1.mu" class="id"><a name="simple_density_L1.mu" class="">mu</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.T">T</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.R">R}</a></span>) (<span id="simple_density_L1.E" class="id"><a name="simple_density_L1.E" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.T">T</a></span>) (<span id="simple_density_L1.mE" class="id"><a name="simple_density_L1.mE" class="">mE</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:2784">E</a></span>).<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_bounded_integrable" class="id"><a name="measurable_bounded_integrable" class="">measurable_bounded_integrable</a></span> (<span id="f:2786" class="id"><a name="f:2786" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.R">R^o</a></span>)  <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2786">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.normedtype.html#3b53ecfe5d6484e989351fa3676e962b">[bounded</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2786">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2787">x</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#3b53ecfe5d6484e989351fa3676e962b">|</a></span> <span id="x:2787" class="id"><a name="x:2787" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2786">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof301')">Proof.</span></div>
<div class="proofscript" id="proof301">
<span class="id">move=&gt;</span> <span class="id">Afin</span> <span class="id">mfA</span> <span class="id">bdA;</span> <span class="id">apply/integrableP;</span> <span class="id">split;</span> <span class="id">first</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
<span class="id">have</span> <span class="id">[M</span> <span class="id">[_</span> <span class="id">mrt]]</span> <span class="id">:=</span> <span class="id">bdA;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_le_bound">integral_le_bound</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|M|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">1</span>)%<span class="id">:E</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#aeW">aeW</a></span> <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">Az;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">mrt//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pwDr">ltr_pwDr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norm">ler_norm</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_mul_pinfty">lte_mul_pinfty</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="simple_density_L1.sfun_dense_L1_pos" class="id"><a name="simple_density_L1.sfun_dense_L1_pos" class="">sfun_dense_L1_pos</a></span> (<span id="f:2788" class="id"><a name="f:2788" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2788">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="gallina-kwd">forall</span> <span id="x:2789" class="id"><a name="x:2789" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2789">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2788">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2789">x</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="g_:2790" class="id"><a name="g_:2790" class="">g_</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.R">R}^nat,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">[/\</a></span> <span class="gallina-kwd">forall</span> <span id="n:2791" class="id"><a name="n:2791" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g_:2790">g_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2791">n</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:2792" class="id"><a name="x:2792" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2792">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g_:2790">g_^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2792">x</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2788">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2792">x</a></span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="n:2793" class="id"><a name="n:2793" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="z:2794" class="id"><a name="z:2794" class="">z</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2794">z</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g_:2790">g_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2793">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2794">z</a></span>)%<span class="id">:E|</span>) @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">0]</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof302')">Proof.</span></div>
<div class="proofscript" id="proof302">
<span class="id">move=&gt;</span> <span class="id">intf</span> <span class="id">fpos;</span> <span class="id">case/integrableP:</span> (<span class="id">intf</span>) <span class="id">=&gt;</span> <span class="id">mfE</span> <span class="id">_</span>.<br/>
<span class="id">pose</span> <span class="id">g_</span> <span id="n:2795" class="id"><a name="n:2795" class="">n</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approx">nnsfun_approx</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mE">mE</a></span> <span class="id">mfE</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2795">n</a></span>.<br/>
<span class="id">have</span> <span class="id">[]</span> <span class="id">//</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence">dominated_convergence</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mE">mE</a></span> (<span class="gallina-kwd">fun</span> <span id="n:2796" class="id"><a name="n:2796" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">g_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2796">n</a></span>) <span class="id">f</span> <span class="id">f</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">apply/EFin_measurable_fun/measurable_funTS</span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#aeW">aeW</a></span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">/g_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approxE">nnsfun_approxE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ecvg_approx">ecvg_approx</a></span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#aeW">aeW</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm</a></span> <span class="id">//</span> <span class="id">/g_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approxE">nnsfun_approxE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_approx">le_approx</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">/=</span> <span class="id">fg0</span> <span class="id">gfcvg;</span> <span class="gallina-kwd">exists</span> <span class="id">g_;</span> <span class="id">split</span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_integrable">le_integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mE">mE</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">intf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/EFin_measurable_fun/measurable_funTS</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id">/g_</span> <span class="id">!gee0_abs</span> <span class="id">?lee_fin//;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id">fpos</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approxE">nnsfun_approxE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_approx">le_approx</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cvg_nnsfun_approx">cvg_nnsfun_approx</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span> <span class="id">fg0;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">do</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">do</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id">-[_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">_]oppeK</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_oppeB">fin_num_oppeB</a></span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseN">abseN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="approximation_sfun_integrable" class="id"><a name="approximation_sfun_integrable" class="">approximation_sfun_integrable</a></span> (<span id="f:2797" class="id"><a name="f:2797" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.R">R</a></span>)<span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2797">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="g_:2798" class="id"><a name="g_:2798" class="">g_</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.R">R}^nat,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">[/\</a></span> <span class="gallina-kwd">forall</span> <span id="n:2799" class="id"><a name="n:2799" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g_:2798">g_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2799">n</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:2800" class="id"><a name="x:2800" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2800">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g_:2798">g_^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2800">x</a></span> @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2797">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2800">x</a></span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="n:2801" class="id"><a name="n:2801" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="z:2802" class="id"><a name="z:2802" class="">z</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2802">z</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g_:2798">g_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2801">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2802">z</a></span>)%<span class="id">:E|</span>) @ <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">0]</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof303')">Proof.</span></div>
<div class="proofscript" id="proof303">
<span class="id">move=&gt;</span> <span class="id">intf</span>.<br/>
<span class="id">have</span> <span class="id">[//|p_</span> <span class="id">[intp</span> <span class="id">pf</span> <span class="id">pl1]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.sfun_dense_L1_pos">sfun_dense_L1_pos</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mE">mE</a></span> <span class="id">intf</span>).<br/>
<span class="id">have</span> <span class="id">[//|n_</span> <span class="id">[intn</span> <span class="id">nf</span> <span class="id">nl1]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.sfun_dense_L1_pos">sfun_dense_L1_pos</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funeneg">integrable_funeneg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mE">mE</a></span> <span class="id">intf</span>).<br/>
<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span id="n:2804" class="id"><span id="n:2803" class="id"><a name="n:2804" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id">p_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2803">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">n_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2803">n</a></span>)%<span class="id">R;</span> <span class="id">split</span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id">/comp;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfunB">sfunB</a></span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableB">integrableB</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id">intp</span> <span class="id">|</span> <span class="id">exact:</span> <span class="id">intn]</span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id">/comp;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfunB">sfunB</a></span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[f]funeposneg;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeB">cvgeB</a></span> <span class="id">=&gt;</span> <span class="id">//;[|exact:</span> <span class="id">pf|exact:nf]</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#add_def_funeposneg">add_def_funeposneg</a></span>.<br/>
<span class="id">have</span> <span class="id">fpn</span> <span class="id">z</span> <span class="id">n</span> <span class="id">:</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2805">z</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> ((<span class="id">p_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2806">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">n_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2806">n</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2805">z</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">f^\+</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2805">z</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> (<span class="id">p_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2806">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2805">z</a></span>)%<span class="id">:E</span>) <span class="id">-</span> (<span class="id">f^\-</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2805">z</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> (<span class="id">n_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2806">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2805">z</a></span>)%<span class="id">:E</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfunB">sfunB</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_oppeB">fin_num_oppeB</a></span> <span class="id">//</span> <span class="id">{1}[f]funeposneg</span> <span class="id">-addeACA</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id">_</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_oppeB">fin_num_oppeB</a></span>.<br/>
<span class="id">case/integrableP:</span> (<span class="id">intf</span>) <span class="id">=&gt;</span> <span class="id">mf</span> <span class="id">_</span>.<br/>
<span class="id">have</span> <span class="id">mfpn</span> <span class="id">n</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> (<span class="gallina-kwd">fun</span> <span id="z:2808" class="id"><a name="z:2808" class="">z</a></span> <span class="id">=&gt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2808">z</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> ((<span class="id">p_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2807">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">n_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2807">n</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2808">z</a></span>)%<span class="id">:E</span>).<br/>
&nbsp;&nbsp;<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">fpn;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableB">integrableB</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableB">integrableB</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span> <span class="id">|</span> <span class="id">exact:</span> <span class="id">intp]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableB">integrableB</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funeneg">integrable_funeneg</a></span> <span class="id">|</span> <span class="id">exact:</span> <span class="id">intn]</span>.<br/>
<span class="id">apply/fine_cvgP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">near=&gt;</span> <span class="id">N;</span> <span class="id">case/integrableP:</span> (<span class="id">mfpn</span> <span class="id">N</span>) <span class="id">=&gt;</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">apply/cvg_ballP=&gt;</span> <span class="id">_/posnumP[eps];</span> <span class="id">have</span> <span class="id">e2p</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">eps</span>%<span class="id">:num/2</span>)%<span class="id">R</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">case/fine_cvgP:</span> <span class="id">pl1</span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">/cvg_ballP/</span>(<span class="id">_</span> <span class="id">_</span> <span class="id">e2p</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#filter_app2">filter_app2</a></span>.<br/>
<span class="id">case/fine_cvgP:</span> <span class="id">nl1</span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">/cvg_ballP/</span>(<span class="id">_</span> <span class="id">_</span> <span class="id">e2p</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#filter_app2">filter_app2</a></span>.<br/>
<span class="id">near=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id">/ball</span> <span class="id">/=;</span> <span class="id">do</span> <span class="id">3</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.subr0">subr0</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">finfn</span> <span class="id">ne2</span> <span class="id">finfp</span> <span class="id">pe2;</span> <span class="id">rewrite</span> <span class="id">[_</span>%<span class="id">:num]splitr</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltrD">ltrD</a></span> <span class="id">pe2</span> <span class="id">ne2</span>))<span class="id">//</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_normD">ler_normD</a></span> <span class="id">_</span> <span class="id">_</span>))<span class="id">//</span>.<br/>
<span class="id">under</span> <span class="id">[fun</span> <span id="z:2811" class="id"><span id="z:2810" class="id"><span id="z:2809" class="id"><a name="z:2811" class="">z</a></span></span></span> <span class="id">=&gt;</span> <span class="id">_</span> (<span class="id">f^\+</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2809">z</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id">_</span>)<span class="id">]eq_fun</span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span>.<br/>
<span class="id">under</span> <span class="id">[fun</span> <span id="z:2814" class="id"><span id="z:2813" class="id"><span id="z:2812" class="id"><a name="z:2814" class="">z</a></span></span></span> <span class="id">=&gt;</span> <span class="id">_</span> (<span class="id">f^\-</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2812">z</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id">_</span>)<span class="id">]eq_fun</span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span>.<br/>
<span class="id">have</span> <span class="id">mfp</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> (<span class="gallina-kwd">fun</span> <span id="z:2815" class="id"><a name="z:2815" class="">z</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f^\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2815">z</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> (<span class="id">p_</span> <span class="id">n</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2815">z</a></span>)%<span class="id">:E|</span>).<br/>
&nbsp;&nbsp;<span class="id">apply/integrable_abse/integrableB</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id">intp</span>.<br/>
<span class="id">have</span> <span class="id">mfn</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> (<span class="gallina-kwd">fun</span> <span id="z:2816" class="id"><a name="z:2816" class="">z</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f^\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2816">z</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> (<span class="id">n_</span> <span class="id">n</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2816">z</a></span>)%<span class="id">:E|</span>).<br/>
&nbsp;&nbsp;<span class="id">apply/integrable_abse/integrableB</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funeneg">integrable_funeneg</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id">intn</span>.<br/>
<span class="id">rewrite</span> <span class="id">-[x</span> <span class="gallina-kwd">in</span> (<span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|x|</a></span>)%<span class="id">R]fineD</span> <span class="id">//</span> <span class="id">-integralD</span> <span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id">!ger0_norm</span> <span class="id">?fine_ge0</span> <span class="id">?integral_ge0</span> <span class="id">?fine_le//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/integrable_abse/mfpn</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableD">integrableD</a></span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">case/integrableP:</span> (<span class="id">mfpn</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Ex;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD;</a></span> <span class="id">[move:</span> <span class="id">mfp</span> <span class="id">|</span> <span class="id">move:</span> <span class="id">mfn];</span> <span class="id">case/integrableP</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id">fpn;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs_sub">lee_abs_sub</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Ex;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1">simple_density_L1</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="continuous_density_L1" class="id"><a name="continuous_density_L1" class="">continuous_density_L1</a></span>.<br/>
<span class="vernacular">Context</span> (<span id="rT:2818" class="id"><a name="rT:2818" class="">rT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Let</span> <span id="continuous_density_L1.mu" class="id"><a name="continuous_density_L1.mu" class="">mu</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.rT">rT]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="continuous_density_L1.R" class="id"><a name="continuous_density_L1.R" class="">R</a></span>  <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurableTypeR">measurableTypeR</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.rT">rT]</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="compact_finite_measure" class="id"><a name="compact_finite_measure" class="">compact_finite_measure</a></span> (<span id="A:2819" class="id"><a name="A:2819" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.R">R^o</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#compact">compact</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2819">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2819">A</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof304')">Proof.</span></div>
<div class="proofscript" id="proof304">
<span class="id">move=&gt;</span> <span class="id">/[dup]/compact_measurable</span> <span class="id">=&gt;</span> <span class="id">mA</span> <span class="id">/compact_bounded[N</span> <span class="id">[_</span> <span class="id">N1x]]</span>.<br/>
<span class="id">have</span> <span class="id">AN1</span> <span class="id">:</span> (<span class="id">A</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[-</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|N|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">1</span>)<span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|N|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">1]</span>)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">Az;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itvcc">set_itvcc</a></span> <span class="id">/=</span> <span class="id">-ler_norml</span> <span class="id">N1x//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pwDr">ltr_pwDr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norm">ler_norm</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">AN1</span>)) <span class="id">?inE//=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv">lebesgue_measure_itv/=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.gtrN">gtrN//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="continuous_compact_integrable" class="id"><a name="continuous_compact_integrable" class="">continuous_compact_integrable</a></span> (<span id="f:2820" class="id"><a name="f:2820" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.R">R^o</a></span>) (<span id="A:2821" class="id"><a name="A:2821" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.R">R^o</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#compact">compact</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2821">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2821">A,</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2820">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2821">A</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2820">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof305')">Proof.</span></div>
<div class="proofscript" id="proof305">
<span class="id">move=&gt;</span> <span class="id">cptA</span> <span class="id">ctsfA;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_bounded_integrable">measurable_bounded_integrable</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#compact_measurable">compact_measurable</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#compact_finite_measure">compact_finite_measure</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#subspace_continuous_measurable_fun">subspace_continuous_measurable_fun</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#compact_measurable">compact_measurable</a></span>.<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">/compact_bounded[M</span> <span class="id">[_</span> <span class="id">mrt]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_compact">continuous_compact</a></span> <span class="id">ctsfA</span> <span class="id">cptA</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">M;</span> <span class="id">split;</span> <span class="id">rewrite</span> <span class="id">?num_real</span> <span class="id">//</span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">exact:</span> <span class="id">mrt</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="approximation_continuous_integrable" class="id"><a name="approximation_continuous_integrable" class="">approximation_continuous_integrable</a></span> (<span id="E:2822" class="id"><a name="E:2822" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.R">R</a></span>) (<span id="f:2823" class="id"><a name="f:2823" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.R">R^o</a></span>)<span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:2822">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:2822">E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:2822">E</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2823">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="g_:2824" class="id"><a name="g_:2824" class="">g_</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.rT">rT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.rT">rT</a></span>)<span class="id">^nat,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">[/\</a></span> <span class="gallina-kwd">forall</span> <span id="n:2825" class="id"><a name="n:2825" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g_:2824">g_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2825">n</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:2826" class="id"><a name="n:2826" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:2822">E</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g_:2824">g_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2826">n</a></span>) &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="z:2828" class="id"><a name="z:2828" class="">z</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#E:2822">E</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:2823">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2828">z</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g_:2824">g_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2827">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2828">z</a></span>)%<span class="id">:E|</span> @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">0]</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof306')">Proof.</span></div>
<div class="proofscript" id="proof306">
<span class="id">move=&gt;</span> <span class="id">mE</span> <span class="id">Efin</span> <span class="id">intf</span>.<br/>
<span class="id">have</span> <span class="id">mf</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">E</span> <span class="id">f</span> <span class="gallina-kwd">by</span> <span class="id">case/integrableP</span> <span class="id">:</span> <span class="id">intf</span> <span class="id">=&gt;</span> <span class="id">/EFin_measurable_fun</span>.<br/>
<span class="id">suff</span> <span class="id">apxf</span> <span class="id">eps</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="h:2830" class="id"><a name="h:2830" class="">h</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.rT">rT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.rT">rT,</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eps:2829">eps</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">0</span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">[/\</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:2830">h,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id">E</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:2830">h</a></span>) &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="z:2831" class="id"><a name="z:2831" class="">z</a></span> <span class="gallina-kwd">in</span> <span class="id">E</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span>(<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2831">z</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#h:2830">h</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2831">z</a></span>)%<span class="id">:E|</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eps:2829">eps</a></span>%<span class="id">:E]</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">g_</span> <span id="n:2832" class="id"><a name="n:2832" class="">n</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT1">projT1</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">apxf</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2832">n</a></span>.<span class="id">+1</span>%<span class="id">:R^-1</span>))<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">g_;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">apxf</span> <span class="id">n</span>.<span class="id">+1</span>%<span class="id">:R^-1</span>)).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">apxf</span> <span class="id">n</span>.<span class="id">+1</span>%<span class="id">:R^-1</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply/cvg_ballP</span> <span class="id">=&gt;</span> <span class="id">eps</span> <span class="id">epspos</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">/cvg_ballP/</span>(<span class="id">_</span> <span class="id">eps</span> <span class="id">epspos</span>)<span class="id">[N</span> <span class="id">_</span> <span class="id">Nball]</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.sequences.html#cvge_harmonic">cvge_harmonic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.rT">rT</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">N</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> <span class="id">Nball</span>) <span class="id">=&gt;</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/ball</span> <span class="id">/=</span> <span class="id">/ereal_ball</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract0">contract0</a></span> <span class="id">!sub0r</span> <span class="id">!normrN</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_trans">lt_trans</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">apply</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">?ger0_norm;</span> <span class="id">first</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-le_expandLR</span> <span class="id">//</span> <span class="id">?inE</span> <span class="id">?normr0//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expand0">expand0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-le_expandLR</span> <span class="id">//</span> <span class="id">?inE</span> <span class="id">?normr0//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expand0">expand0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">apxf</span> <span class="id">n</span>.<span class="id">+1</span>%<span class="id">:R^-1</span>)) <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">_</span> <span class="id">_</span> <span class="id">ipaxfn</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-lt_expandRL</span> <span class="id">?contractK//</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span>.<br/>
<span class="id">have</span> <span class="id">[|]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.ltP">ltP</a></span> <span class="id">0</span>%<span class="id">R</span> <span class="id">eps;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>.<br/>
<span class="id">move:</span> <span class="id">eps</span> <span class="id">=&gt;</span> <span class="id">_/posnumP[eps]</span>.<br/>
<span class="id">have</span> <span class="id">[g</span> <span class="id">[gfe2</span> <span class="id">ig]]</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="g:2833" class="id"><a name="g:2833" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">{sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.R">R</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#a31aeb01649360da8ee808c8c37b97eb">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.rT">rT},</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="z:2834" class="id"><a name="z:2834" class="">z</a></span> <span class="gallina-kwd">in</span> <span class="id">E</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span>(<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2834">z</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2833">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2834">z</a></span>)%<span class="id">:E|</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> (<span class="id">eps</span>%<span class="id">:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">2</span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id">E</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2833">g</a></span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[g_</span> <span class="id">[intG</span> <span class="id">?]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun_integrable">approximation_sfun_integrable</a></span> <span class="id">mE</span> <span class="id">intf</span>.<br/>
&nbsp;&nbsp;<span class="id">move/fine_fcvg/cvg_ballP/</span>(<span class="id">_</span> (<span class="id">eps</span>%<span class="id">:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">2</span>)) <span class="id">=&gt;</span> <span class="id">-[]</span> <span class="id">//</span> <span class="id">n</span> <span class="id">_</span> <span class="id">Nb;</span> <span class="gallina-kwd">exists</span> (<span class="id">g_</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">fg_fin_num</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="z:2835" class="id"><a name="z:2835" class="">z</a></span> <span class="gallina-kwd">in</span> <span class="id">E</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span>(<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2835">z</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">g_</span> <span class="id">n</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2835">z</a></span>)%<span class="id">:E|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_abse">integrable_abse//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableB">integrableB</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">intG</span>.<br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id">intG</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">/=</span> <span class="id">:=</span> <span class="id">Nb</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#leqnn">leqnn</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">/ball/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.sub0r">sub0r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.normrN">normrN</a></span> <span class="id">-fine_abse//</span> <span class="id">-lte_fin</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">?abse_fin_num//</span> <span class="id">=&gt;</span> <span class="id">/le_lt_trans;</span> <span class="id">apply;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs">lee_abs</a></span>.<br/>
<span class="id">have</span> <span class="id">mg</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">E</span> <span class="id">g</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_funP">measurable_funP</a></span>.<br/>
<span class="id">have</span> <span class="id">[M</span> <span class="id">Mpos</span> <span class="id">Mbd]</span> <span class="id">:</span> (<span class="gallina-kwd">exists2</span> <span id="M:2837" class="id"><span id="M:2836" class="id"><a name="M:2837" class="">M,</a></span></span> <span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#M:2836">M</a></span> &amp; <span class="gallina-kwd">forall</span> <span id="x:2838" class="id"><a name="x:2838" class="">x,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2838">x|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#M:2837">M</a></span>)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[M</span> <span class="id">[_</span> <span class="id">/=</span> <span class="id">bdM]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_bounded">simple_bounded</a></span> <span class="id">g</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|M|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">1</span>)%<span class="id">R;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pwDr">ltr_pwDr</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">bdM//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pwDr">ltr_pwDr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norm">ler_norm</a></span>.<br/>
<span class="id">have</span> <span class="id">[]</span> <span class="id">//</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_almost_continuous">measurable_almost_continuous</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">mE</span> <span class="id">_</span> <span class="id">g</span> (<span class="id">eps</span>%<span class="id">:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> (<span class="id">M</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#e9001f602764f7896bb1eb34bf606a23">*+</a></span> <span class="id">2</span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.divr_gt0">divr_gt0//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.mulrn_wgt0">mulrn_wgt0</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">[cptA</span> <span class="id">AE</span> <span class="id">/=</span> <span class="id">muAE</span> <span class="id">ctsAF]</span>.<br/>
<span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.numfun.html#continuous_bounded_extension">continuous_bounded_extension</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Mpos</span> <span class="id">ctsAF</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#pseudometric_normal">pseudometric_normal</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#compact_closed">compact_closed</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#Rhausdorff">Rhausdorff</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">exact:</span> <span class="id">Mbd</span>.<br/>
<span class="id">have</span> <span class="id">mA</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#compact_measurable">compact_measurable</a></span> <span class="id">cptA</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">h</span> <span class="id">[gh</span> <span class="id">ctsh</span> <span class="id">hbdM];</span> <span class="id">have</span> <span class="id">mh</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">E</span> <span class="id">h</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#subspace_continuous_measurable_fun">subspace_continuous_measurable_fun=&gt;</a></span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceT">continuous_subspaceT</a></span>.<br/>
<span class="id">have</span> <span class="id">intg</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id">E</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">h</span>).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_bounded_integrable">measurable_bounded_integrable</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">M;</span> <span class="id">split;</span> <span class="id">rewrite</span> <span class="id">?num_real</span> <span class="id">//</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">Mx</span> <span class="id">y</span> <span class="id">_</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">Mx</span>)).<br/>
<span class="gallina-kwd">exists</span> <span class="id">h;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">[eps</span>%<span class="id">:num]splitr;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">fgh</span> <span id="x:2839" class="id"><a name="x:2839" class="">x</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span>(<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2839">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2839">x</a></span>)%<span class="id">:E|</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span>(<span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2839">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">h</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2839">x</a></span>)%<span class="id">:E|</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span> <span class="id">_</span> <span class="id">mE</span> <span class="id">_</span> <span class="id">fgh</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mE</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">do</span> <span class="id">2</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funB">measurable_funB</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funD">measurable_funD</a></span> <span class="id">=&gt;</span> <span class="id">//;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mE</span>) <span class="id">=&gt;</span> <span class="id">//;</span> (<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funB">measurable_funB</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.subrK">subrK</a></span> (<span class="id">g</span> <span class="id">x</span>) (<span class="id">f</span> <span class="id">x</span>)) <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addrA">addrA</a></span> (<span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">_</span>)%<span class="id">R</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_normD">ler_normD</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD">integralD//;</a></span> <span class="id">first</span> <span class="id">last</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_abse">integrable_abse;</a></span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableB">integrableB</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_abse">integrable_abse;</a></span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableB">integrableB</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lteD">lteD//</a></span> <span class="id">-</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#setDKU">setDKU</a></span> <span class="id">AE</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setU">integral_setU</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">last</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/disj_set</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDKI">setDKI</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDKU">setDKU</a></span> <span class="id">//;</span> <span class="id">do</span> <span class="id">2</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funB">measurable_funB</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral">ae_eq_integral</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span> <span class="id">A</span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span>)) <span class="id">//;</span> <span class="id">first</span> <span class="id">last</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#aeW">aeW</a></span> <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">Az;</span> <span class="id">rewrite</span> (<span class="id">gh</span> <span class="id">z</span>) <span class="id">?inE//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse0">abse0</a></span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mE</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">do</span> <span class="id">2</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funB">measurable_funB</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0">integral0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>.<br/>
<span class="id">apply:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_le_bound">integral_le_bound</a></span> (<span class="id">M</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#e9001f602764f7896bb1eb34bf606a23">*+</a></span> <span class="id">2</span>)%<span class="id">:E</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mE</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funB">measurable_funB</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.mulrn_wge0">mulrn_wge0//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#aeW">aeW</a></span> <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">[Ez</span> <span class="id">_];</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulr2n">mulr2n</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_normB">ler_normB</a></span> <span class="id">_</span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lerD">lerD</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-lte_pdivl_mull</span> <span class="id">?mulrn_wgt0//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">muleC</a></span> <span class="id">-EFinM</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1">continuous_density_L1</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="fubini_functions" class="id"><a name="fubini_functions" class="">fubini_functions</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d1:2840" class="id"><a name="d1:2840" class="">d1</a></span> <span id="d2:2841" class="id"><a name="d2:2841" class="">d2</a></span> (<span id="T1:2842" class="id"><a name="T1:2842" class="">T1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d1:2840">d1</a></span>) (<span id="T2:2843" class="id"><a name="T2:2843" class="">T2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d2:2841">d2</a></span>) (<span id="R:2844" class="id"><a name="R:2844" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="fubini_functions.m1" class="id"><a name="fubini_functions.m1" class="">m1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions.T1">T1</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions.R">R}</a></span>) (<span id="fubini_functions.m2" class="id"><a name="fubini_functions.m2" class="">m2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions.T2">T2</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions.R">R}</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="fubini_functions.f" class="id"><a name="fubini_functions.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions.T2">T2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions.R">R</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="fubini_F" class="id"><a name="fubini_F" class="">fubini_F</a></span> <span id="x:2848" class="id"><a name="x:2848" class="">x</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2848">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2849">y</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="fubini_G" class="id"><a name="fubini_G" class="">fubini_G</a></span> <span id="y:2850" class="id"><a name="y:2850" class="">y</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2851">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2850">y</a></span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions">fubini_functions</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="fubini_tonelli" class="id"><a name="fubini_tonelli" class="">fubini_tonelli</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d1:2852" class="id"><a name="d1:2852" class="">d1</a></span> <span id="d2:2853" class="id"><a name="d2:2853" class="">d2</a></span> (<span id="T1:2854" class="id"><a name="T1:2854" class="">T1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d1:2852">d1</a></span>) (<span id="T2:2855" class="id"><a name="T2:2855" class="">T2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d2:2853">d2</a></span>) (<span id="R:2856" class="id"><a name="R:2856" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="fubini_tonelli.m1" class="id"><a name="fubini_tonelli.m1" class="">m1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">{sigma_finite_measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T1">T1</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.R">R}</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="fubini_tonelli.m2" class="id"><a name="fubini_tonelli.m2" class="">m2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">{sigma_finite_measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T2">T2</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.R">R}</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="fubini_tonelli.indic_fubini_tonelli" class="id"><a name="fubini_tonelli.indic_fubini_tonelli" class="">indic_fubini_tonelli</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="fubini_tonelli.indic_fubini_tonelli.A" class="id"><a name="fubini_tonelli.indic_fubini_tonelli.A" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T2">T2</a></span>)) (<span id="fubini_tonelli.indic_fubini_tonelli.mA" class="id"><a name="fubini_tonelli.indic_fubini_tonelli.mA" class="">mA</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:2859">A</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T2">T2</a></span>).<br/>
<span class="vernacular">Let</span> <span id="fubini_tonelli.indic_fubini_tonelli.f" class="id"><a name="fubini_tonelli.indic_fubini_tonelli.f" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T2">T2</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.R">R</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_A</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="fubini_tonelli.indic_fubini_tonelli.F" class="id"><a name="fubini_tonelli.indic_fubini_tonelli.F" class="">F</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_F">fubini_F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.f">f</a></span>).<br/>
<span class="vernacular">Let</span> <span id="fubini_tonelli.indic_fubini_tonelli.G" class="id"><a name="fubini_tonelli.indic_fubini_tonelli.G" class="">G</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_G">fubini_G</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.f">f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="indic_fubini_tonelli_F_ge0" class="id"><a name="indic_fubini_tonelli_F_ge0" class="">indic_fubini_tonelli_F_ge0</a></span> <span id="x:2861" class="id"><a name="x:2861" class="">x</a></span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.F">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2861">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof307')">Proof.</span></div>
<div class="proofscript" id="proof307">
 <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="indic_fubini_tonelli_G_ge0" class="id"><a name="indic_fubini_tonelli_G_ge0" class="">indic_fubini_tonelli_G_ge0</a></span> <span id="x:2862" class="id"><a name="x:2862" class="">x</a></span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.G">G</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2862">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof308')">Proof.</span></div>
<div class="proofscript" id="proof308">
 <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="indic_fubini_tonelli_FE" class="id"><a name="indic_fubini_tonelli_FE" class="">indic_fubini_tonelli_FE</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.F">F</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.A">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof309')">Proof.</span></div>
<div class="proofscript" id="proof309">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> <span class="id">-integral_indic//;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/F</span> <span class="id">/fubini_F</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setI_indic">integral_setI_indic;</a></span> <span class="id">[|exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection|by</a></span> <span class="id">[]]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicT">indicT</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span> <span class="id">/f</span> <span class="id">!indicE</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_xsection">mem_xsection</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="indic_fubini_tonelli_GE" class="id"><a name="indic_fubini_tonelli_GE" class="">indic_fubini_tonelli_GE</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.G">G</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.A">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof310')">Proof.</span></div>
<div class="proofscript" id="proof310">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> <span class="id">-integral_indic//;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_ysection">measurable_ysection</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/F</span> <span class="id">/fubini_F</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setI_indic">integral_setI_indic;</a></span> <span class="id">[|exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_ysection">measurable_ysection|by</a></span> <span class="id">[]]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicT">indicT</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span> <span class="id">/f</span> <span class="id">2!indicE</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_ysection">mem_ysection</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="indic_measurable_fun_fubini_tonelli_F" class="id"><a name="indic_measurable_fun_fubini_tonelli_F" class="">indic_measurable_fun_fubini_tonelli_F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.F">F</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof311')">Proof.</span></div>
<div class="proofscript" id="proof311">
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_FE">indic_fubini_tonelli_FE//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection">measurable_fun_xsection</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="indic_measurable_fun_fubini_tonelli_G" class="id"><a name="indic_measurable_fun_fubini_tonelli_G" class="">indic_measurable_fun_fubini_tonelli_G</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.G">G</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof312')">Proof.</span></div>
<div class="proofscript" id="proof312">
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_GE">indic_fubini_tonelli_GE//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection">measurable_fun_ysection</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="indic_fubini_tonelli1" class="id"><a name="indic_fubini_tonelli1" class="">indic_fubini_tonelli1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2]_z</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2863">z</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.F">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2864">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof313')">Proof.</span></div>
<div class="proofscript" id="proof313">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_FE">indic_fubini_tonelli_FE</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="indic_fubini_tonelli2" class="id"><a name="indic_fubini_tonelli2" class="">indic_fubini_tonelli2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#13a2d64eae251995abae34978f38d124">\x^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2]_z</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2865">z</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.G">G</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2866">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof314')">Proof.</span></div>
<div class="proofscript" id="proof314">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_GE">indic_fubini_tonelli_GE</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="indic_fubini_tonelli" class="id"><a name="indic_fubini_tonelli" class="">indic_fubini_tonelli</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.F">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2867">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.G">G</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2868">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof315')">Proof.</span></div>
<div class="proofscript" id="proof315">
<span class="id">rewrite</span> <span class="id">-indic_fubini_tonelli1//</span> <span class="id">-indic_fubini_tonelli2//</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//=</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//=</a></span> <span class="id">!setIT</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique">product_measure_unique</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E">product_measure2E</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli">indic_fubini_tonelli</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="fubini_tonelli.sfun_fubini_tonelli" class="id"><a name="fubini_tonelli.sfun_fubini_tonelli" class="">sfun_fubini_tonelli</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="fubini_tonelli.sfun_fubini_tonelli.f" class="id"><a name="fubini_tonelli.sfun_fubini_tonelli.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T2">T2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_'Type'">:</a></span> <span class="id">Type]</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.R">R}</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="fubini_tonelli.sfun_fubini_tonelli.F" class="id"><a name="fubini_tonelli.sfun_fubini_tonelli.F" class="">F</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_F">fubini_F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span>).<br/>
<span class="vernacular">Let</span> <span id="fubini_tonelli.sfun_fubini_tonelli.G" class="id"><a name="fubini_tonelli.sfun_fubini_tonelli.G" class="">G</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_G">fubini_G</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sfun_fubini_tonelli_FE" class="id"><a name="sfun_fubini_tonelli_FE" class="">sfun_fubini_tonelli_FE</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.F">F</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">fun</span> <span id="x:2870" class="id"><a name="x:2870" class="">x</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="k:2874" class="id"><span id="k:2873" class="id"><span id="k:2872" class="id"><span id="k:2871" class="id"><a name="k:2874" class="">k</a></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:2871">k</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:2871">k]</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2870">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof316')">Proof.</span></div>
<div class="proofscript" id="proof316">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/F</span> <span class="id">/fubini_F</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]/=</a></span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfunE">fimfunE</a></span> <span class="id">-fsumEFin//</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum</a></span> <span class="id">//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">i;</span> <span class="id">apply/EFin_measurable_fun/measurableT_comp</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">-[/=</span> <span class="id">t</span> <span class="id">_</span> <span class="id">&lt;-{i}]</span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl//;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-/</span>((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">_</span>) <span class="id">x</span>) <span class="id">-indic_fubini_tonelli_FE</span>.<br/>
<span class="id">-</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sfun_measurable_fun_fubini_tonelli_F" class="id"><a name="sfun_measurable_fun_fubini_tonelli_F" class="">sfun_measurable_fun_fubini_tonelli_F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.F">F</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof317')">Proof.</span></div>
<div class="proofscript" id="proof317">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_fubini_tonelli_FE">sfun_fubini_tonelli_FE//;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_fsum">emeasurable_fun_fsum</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">r</span>.<br/>
<span class="id">exact/measurable_funeM/measurable_fun_xsection</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sfun_fubini_tonelli_GE" class="id"><a name="sfun_fubini_tonelli_GE" class="">sfun_fubini_tonelli_GE</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.G">G</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">fun</span> <span id="y:2875" class="id"><a name="y:2875" class="">y</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="k:2879" class="id"><span id="k:2878" class="id"><span id="k:2877" class="id"><span id="k:2876" class="id"><a name="k:2879" class="">k</a></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:2876">k</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:2876">k]</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2875">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof318')">Proof.</span></div>
<div class="proofscript" id="proof318">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id">/G</span> <span class="id">/fubini_G</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]/=</a></span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfunE">fimfunE</a></span> <span class="id">-fsumEFin//</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum</a></span> <span class="id">//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">i;</span> <span class="id">apply/EFin_measurable_fun/measurableT_comp</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">-[/=</span> <span class="id">t</span> <span class="id">_</span> <span class="id">&lt;-{i}]</span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl//;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-/</span>((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id">_</span>) <span class="id">y</span>) <span class="id">-indic_fubini_tonelli_GE</span>.<br/>
<span class="id">-</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sfun_measurable_fun_fubini_tonelli_G" class="id"><a name="sfun_measurable_fun_fubini_tonelli_G" class="">sfun_measurable_fun_fubini_tonelli_G</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.G">G</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof319')">Proof.</span></div>
<div class="proofscript" id="proof319">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_fubini_tonelli_GE">sfun_fubini_tonelli_GE//;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_fsum">emeasurable_fun_fsum</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">r</span>.<br/>
<span class="id">exact/measurable_funeM/measurable_fun_ysection</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="fubini_tonelli.sfun_fubini_tonelli.EFinf" class="id"><a name="fubini_tonelli.sfun_fubini_tonelli.EFinf" class="">EFinf</a></span> <span id="x:2880" class="id"><a name="x:2880" class="">x</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2880">x</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="k:2884" class="id"><span id="k:2883" class="id"><span id="k:2882" class="id"><span id="k:2881" class="id"><a name="k:2884" class="">k</a></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:2881">k</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:2881">k]</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2880">x</a></span>)%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof320')">Proof.</span></div>
<div class="proofscript" id="proof320">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#fsumEFin">fsumEFin</a></span> <span class="id">//=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfunE">fimfunE</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sfun_fubini_tonelli1" class="id"><a name="sfun_fubini_tonelli1" class="">sfun_fubini_tonelli1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2]_z</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2885">z</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.F">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2886">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof321')">Proof.</span></div>
<div class="proofscript" id="proof321">
<span class="id">under</span> <span class="id">[LHS]eq_integral</span><br/>
&nbsp;&nbsp;<span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.EFinf">EFinf;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum</a></span> <span class="id">//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/EFin_measurable_fun/measurableT_comp</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">/=</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="k:2897" class="id"><span id="k:2896" class="id"><span id="k:2895" class="id"><span id="k:2893" class="id"><span id="k:2891" class="id"><span id="k:2890" class="id"><span id="k:2889" class="id"><span id="k:2887" class="id"><a name="k:2897" class="">k</a></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:2887">k</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_F">fubini_F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:2887">k]</a></span>)) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2888">x</a></span>))).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">-[z</span> <span class="id">_</span> <span class="id">&lt;-{i}]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl//;</a></span> <span class="id">last</span> <span class="id">3</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli1">indic_fubini_tonelli1//</a></span> <span class="id">-ge0_integralZl//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_measurable_fun_fubini_tonelli_F">indic_measurable_fun_fubini_tonelli_F</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_F_ge0">indic_fubini_tonelli_F_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-ge0_integral_fsum</span> <span class="id">//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r;</span> <span class="id">apply/measurable_funeM/indic_measurable_fun_fubini_tonelli_F</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">/fubini_F</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[r0|r0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0</span>%<span class="id">R</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_F_ge0">indic_fubini_tonelli_F_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq</a></span> <span class="id">?mule0//</span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0//=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_set0">in_set0</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_fubini_tonelli_FE">sfun_fubini_tonelli_FE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_FE">indic_fubini_tonelli_FE//</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sfun_fubini_tonelli2" class="id"><a name="sfun_fubini_tonelli2" class="">sfun_fubini_tonelli2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#13a2d64eae251995abae34978f38d124">\x^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2]_z</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2899">z</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.G">G</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2900">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof322')">Proof.</span></div>
<div class="proofscript" id="proof322">
<span class="id">under</span> <span class="id">[LHS]eq_integral</span><br/>
&nbsp;&nbsp;<span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.EFinf">EFinf;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum</a></span> <span class="id">//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/EFin_measurable_fun/measurableT_comp</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">/=</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="k:2911" class="id"><span id="k:2910" class="id"><span id="k:2909" class="id"><span id="k:2907" class="id"><span id="k:2905" class="id"><span id="k:2904" class="id"><span id="k:2903" class="id"><span id="k:2901" class="id"><a name="k:2911" class="">k</a></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_x</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:2901">k</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_G">fubini_G</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#k:2901">k]</a></span>)) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2902">x</a></span>))).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">-[z</span> <span class="id">_</span> <span class="id">&lt;-{i}]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl//;</a></span> <span class="id">last</span> <span class="id">3</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli2">indic_fubini_tonelli2//</a></span> <span class="id">-ge0_integralZl//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_measurable_fun_fubini_tonelli_G">indic_measurable_fun_fubini_tonelli_G</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_G_ge0">indic_fubini_tonelli_G_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-ge0_integral_fsum</span> <span class="id">//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r;</span> <span class="id">apply/measurable_funeM/indic_measurable_fun_fubini_tonelli_G</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">/fubini_G</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[r0|r0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0</span>%<span class="id">R</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_G_ge0">indic_fubini_tonelli_G_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq</a></span> <span class="id">?mule0//</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0//=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_set0">in_set0</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_fubini_tonelli_GE">sfun_fubini_tonelli_GE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_GE">indic_fubini_tonelli_GE//</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sfun_fubini_tonelli" class="id"><a name="sfun_fubini_tonelli" class="">sfun_fubini_tonelli</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2]_z</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2913">z</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#13a2d64eae251995abae34978f38d124">\x^</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2]_z</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2914">z</a></span>)%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof323')">Proof.</span></div>
<div class="proofscript" id="proof323">
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral">eq_measure_integral</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">A</span> <span class="id">Ameasurable</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique">product_measure_unique</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">*;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E">product_measure2E</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli">sfun_fubini_tonelli</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="fubini_tonelli.fubini_tonelli" class="id"><a name="fubini_tonelli.fubini_tonelli" class="">fubini_tonelli</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="fubini_tonelli.fubini_tonelli.f" class="id"><a name="fubini_tonelli.fubini_tonelli.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T2">T2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.R">R</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="fubini_tonelli.fubini_tonelli.mf" class="id"><a name="fubini_tonelli.fubini_tonelli.mf" class="">mf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f">f</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="fubini_tonelli.fubini_tonelli.f0" class="id"><a name="fubini_tonelli.fubini_tonelli.f0" class="">f0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:2917" class="id"><a name="x:2917" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2917">x</a></span>.<br/>
<span class="vernacular">Let</span> <span id="fubini_tonelli.fubini_tonelli.T" class="id"><a name="fubini_tonelli.fubini_tonelli.T" class="">T</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T2">T2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_'Type'">:</a></span> <span class="id">Type]</span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="fubini_tonelli.fubini_tonelli.F" class="id"><a name="fubini_tonelli.fubini_tonelli.F" class="">F</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_F">fubini_F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f">f</a></span>.<br/>
<span class="vernacular">Let</span> <span id="fubini_tonelli.fubini_tonelli.G" class="id"><a name="fubini_tonelli.fubini_tonelli.G" class="">G</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_G">fubini_G</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f">f</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="fubini_tonelli.fubini_tonelli.F_" class="id"><a name="fubini_tonelli.fubini_tonelli.F_" class="">F_</a></span> (<span id="g:2919" class="id"><a name="g:2919" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.R">R}^nat</a></span>) <span id="n:2920" class="id"><a name="n:2920" class="">n</a></span> <span id="x:2921" class="id"><a name="x:2921" class="">x</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2919">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2920">n</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2921">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2922">y</a></span>))%<span class="id">:E</span>.<br/>
<span class="vernacular">Let</span> <span id="fubini_tonelli.fubini_tonelli.G_" class="id"><a name="fubini_tonelli.fubini_tonelli.G_" class="">G_</a></span> (<span id="g:2923" class="id"><a name="g:2923" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.R">R}^nat</a></span>) <span id="n:2924" class="id"><a name="n:2924" class="">n</a></span> <span id="y:2925" class="id"><a name="y:2925" class="">y</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:2923">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2924">n</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2926">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2925">y</a></span>))%<span class="id">:E</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_fubini_tonelli_F" class="id"><a name="measurable_fun_fubini_tonelli_F" class="">measurable_fun_fubini_tonelli_F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.F">F</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof324')">Proof.</span></div>
<div class="proofscript" id="proof324">
<span class="id">have</span> <span class="id">[g</span> <span class="id">[g_nd</span> <span class="id">/=</span> <span class="id">g_f]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.mf">mf</a></span> (<span class="gallina-kwd">fun</span> <span id="x:2927" class="id"><a name="x:2927" class="">x</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f0">f0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2927">x</a></span>).<br/>
<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_cvg">emeasurable_fun_cvg</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.F_">F_</a></span> <span class="id">g</span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_measurable_fun_fubini_tonelli_F">sfun_measurable_fun_fubini_tonelli_F</a></span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/F_</span> <span class="id">/F</span> <span class="id">/fubini_F</span> <span class="id">[in</span> <span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2930">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="y:2931" class="id"><span id="y:2929" class="id"><span id="y:2928" class="id"><a name="y:2931" class="">y</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">g</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> (<span class="id">x,</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2928">y</a></span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">y;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">g_f</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cvg_monotone_convergence">cvg_monotone_convergence</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">apply/EFin_measurable_fun</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/measurableT_comp</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fun_ge0">fun_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact/lefP/g_nd</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_fubini_tonelli_G" class="id"><a name="measurable_fun_fubini_tonelli_G" class="">measurable_fun_fubini_tonelli_G</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.G">G</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof325')">Proof.</span></div>
<div class="proofscript" id="proof325">
<span class="id">have</span> <span class="id">[g</span> <span class="id">[g_nd</span> <span class="id">/=</span> <span class="id">g_f]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.mf">mf</a></span> (<span class="gallina-kwd">fun</span> <span id="x:2932" class="id"><a name="x:2932" class="">x</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f0">f0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2932">x</a></span>).<br/>
<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_cvg">emeasurable_fun_cvg</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.G_">G_</a></span> <span class="id">g</span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_measurable_fun_fubini_tonelli_G">sfun_measurable_fun_fubini_tonelli_G</a></span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">/G_</span> <span class="id">/G</span> <span class="id">/fubini_G</span> <span class="id">[in</span> <span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:2935">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="x:2936" class="id"><span id="x:2934" class="id"><span id="x:2933" class="id"><a name="x:2936" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">g</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2933">x,</a></span> <span class="id">y</span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">g_f</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cvg_monotone_convergence">cvg_monotone_convergence</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">apply/EFin_measurable_fun</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/measurableT_comp</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fun_ge0">fun_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact/lefP/g_nd</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="fubini_tonelli1" class="id"><a name="fubini_tonelli1" class="">fubini_tonelli1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2]_z</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2937">z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.F">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2938">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof326')">Proof.</span></div>
<div class="proofscript" id="proof326">
<span class="id">have</span> <span class="id">[g</span> <span class="id">[g_nd</span> <span class="id">/=</span> <span class="id">g_f]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.mf">mf</a></span> (<span class="gallina-kwd">fun</span> <span id="x:2939" class="id"><a name="x:2939" class="">x</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f0">f0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2939">x</a></span>).<br/>
<span class="id">have</span> <span class="id">F_F</span> <span class="id">x</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.F">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2940">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.F_">F_</a></span> <span class="id">g</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2940">x</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[RHS]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="gallina-kwd">fun</span> <span id="n:2945" class="id"><span id="n:2943" class="id"><span id="n:2941" class="id"><a name="n:2945" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2941">n</a></span>) (<span class="id">x,</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2942">y</a></span>)))<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-monotone_convergence//;</span> <span class="id">last</span> <span class="id">3</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">/=</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fun_ge0">fun_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">=&gt;</span> <span class="id">/g_nd/lefP;</span> <span class="id">exact</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">g_f</span>.<br/>
<span class="id">rewrite</span> <span class="id">[RHS]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="gallina-kwd">fun</span> <span id="n:2951" class="id"><span id="n:2949" class="id"><span id="n:2947" class="id"><a name="n:2951" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2]_z</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2947">n</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2948">z</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-monotone_convergence</span> <span class="id">//;</span> <span class="id">last</span> <span class="id">3</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">/=</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fun_ge0">fun_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">=&gt;</span> <span class="id">/g_nd/lefP;</span> <span class="id">exact</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">g_f</span>.<br/>
<span class="id">rewrite</span> <span class="id">[LHS]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="gallina-kwd">fun</span> <span id="n:2959" class="id"><span id="n:2956" class="id"><span id="n:2953" class="id"><a name="n:2959" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2953">n</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2954">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2955">y</a></span>)))).<br/>
&nbsp;&nbsp;<span class="id">set</span> <span class="id">r</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_;</span> <span class="id">set</span> <span class="id">l</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_;</span> <span class="id">have</span> <span class="id">-&gt;</span> <span class="id">//</span> <span class="id">:</span> <span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span>  <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id">/l</span> <span class="id">/r</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_fubini_tonelli1">sfun_fubini_tonelli1</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">[RHS]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="gallina-kwd">fun</span> <span id="n:2966" class="id"><span id="n:2964" class="id"><span id="n:2962" class="id"><a name="n:2966" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.F_">F_</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2962">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2963">x</a></span>))<span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id">-monotone_convergence</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_measurable_fun_fubini_tonelli_F">sfun_measurable_fun_fubini_tonelli_F</a></span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">y</span> <span class="id">_</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fun_ge0">fun_ge0</a></span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fun_ge0">fun_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fun_ge0">fun_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">move/g_nd</span> <span class="id">:</span> <span class="id">ab</span> <span class="id">=&gt;</span> <span class="id">/lefP;</span> <span class="id">exact</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="fubini_tonelli2" class="id"><a name="fubini_tonelli2" class="">fubini_tonelli2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2]_z</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2968">z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.G">G</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2969">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof327')">Proof.</span></div>
<div class="proofscript" id="proof327">
<span class="id">have</span> <span class="id">[g</span> <span class="id">[g_nd</span> <span class="id">/=</span> <span class="id">g_f]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.mf">mf</a></span> (<span class="gallina-kwd">fun</span> <span id="x:2970" class="id"><a name="x:2970" class="">x</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f0">f0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2970">x</a></span>).<br/>
<span class="id">have</span> <span class="id">G_G</span> <span class="id">y</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.G">G</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2971">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.G_">G_</a></span> <span class="id">g</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#3dce462f8124648b906d1e347a73bb9f">^~</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2971">y</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/G</span> <span class="id">/fubini_G</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[RHS]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="gallina-kwd">fun</span> <span id="n:2976" class="id"><span id="n:2974" class="id"><span id="n:2972" class="id"><a name="n:2976" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2972">n</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2973">x,</a></span> <span class="id">y</span>)))<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-monotone_convergence//;</span> <span class="id">last</span> <span class="id">3</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">/=</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fun_ge0">fun_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">=&gt;</span> <span class="id">/g_nd/lefP;</span> <span class="id">exact</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">g_f</span>.<br/>
<span class="id">rewrite</span> <span class="id">[RHS]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="gallina-kwd">fun</span> <span id="n:2982" class="id"><span id="n:2980" class="id"><span id="n:2978" class="id"><a name="n:2982" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2]_z</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2978">n</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:2979">z</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-monotone_convergence</span> <span class="id">//;</span> <span class="id">last</span> <span class="id">3</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">/=</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fun_ge0">fun_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">=&gt;</span> <span class="id">/g_nd/lefP;</span> <span class="id">exact</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">g_f</span>.<br/>
<span class="id">rewrite</span> <span class="id">[LHS]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="n:2990" class="id"><span id="n:2987" class="id"><span id="n:2984" class="id"><a name="n:2990" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2984">n</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2986">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2985">y</a></span>)))).<br/>
&nbsp;&nbsp;<span class="id">set</span> <span class="id">r</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_;</span> <span class="id">set</span> <span class="id">l</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_;</span> <span class="id">have</span> <span class="id">-&gt;</span> <span class="id">//</span> <span class="id">:</span> <span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id">/l</span> <span class="id">/r</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_fubini_tonelli">sfun_fubini_tonelli</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_fubini_tonelli2">sfun_fubini_tonelli2</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">[RHS]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#limn">limn</a></span> (<span class="gallina-kwd">fun</span> <span id="n:2997" class="id"><span id="n:2995" class="id"><span id="n:2993" class="id"><a name="n:2997" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.G_">G_</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:2993">n</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:2994">y</a></span>))<span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id">-monotone_convergence</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_measurable_fun_fubini_tonelli_G">sfun_measurable_fun_fubini_tonelli_G</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">_</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fun_ge0">fun_ge0</a></span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fun_ge0">fun_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fun_ge0">fun_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">move/g_nd</span> <span class="id">:</span> <span class="id">ab</span> <span class="id">=&gt;</span> <span class="id">/lefP;</span> <span class="id">exact</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="fubini_tonelli" class="id"><a name="fubini_tonelli" class="">fubini_tonelli</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:2999">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3000">y</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3002">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3001">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof328')">Proof.</span></div>
<div class="proofscript" id="proof328">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-fubini_tonelli1//</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli2">fubini_tonelli2</a></span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli">fubini_tonelli</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli">fubini_tonelli</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli1">fubini_tonelli1</a></span> <span class="id">{d1</span> <span class="id">d2</span> <span class="id">T1</span> <span class="id">T2</span> <span class="id">R</span> <span class="id">m1</span> <span class="id">m2}</span> <span class="id">f</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli2">fubini_tonelli2</a></span> <span class="id">{d1</span> <span class="id">d2</span> <span class="id">T1</span> <span class="id">T2</span> <span class="id">R</span> <span class="id">m1</span> <span class="id">m2}</span> <span class="id">f</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli">fubini_tonelli</a></span> <span class="id">{d1</span> <span class="id">d2</span> <span class="id">T1</span> <span class="id">T2</span> <span class="id">R</span> <span class="id">m1</span> <span class="id">m2}</span> <span class="id">f</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_F">measurable_fun_fubini_tonelli_F</a></span> <span class="id">{d1</span> <span class="id">d2</span> <span class="id">T1</span> <span class="id">T2</span> <span class="id">R</span> <span class="id">m2}</span> <span class="id">f</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_G">measurable_fun_fubini_tonelli_G</a></span> <span class="id">{d1</span> <span class="id">d2</span> <span class="id">T1</span> <span class="id">T2</span> <span class="id">R</span> <span class="id">m1}</span> <span class="id">f</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="fubini" class="id"><a name="fubini" class="">fubini</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d1:3003" class="id"><a name="d1:3003" class="">d1</a></span> <span id="d2:3004" class="id"><a name="d2:3004" class="">d2</a></span> (<span id="T1:3005" class="id"><a name="T1:3005" class="">T1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d1:3003">d1</a></span>) (<span id="T2:3006" class="id"><a name="T2:3006" class="">T2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d2:3004">d2</a></span>) (<span id="R:3007" class="id"><a name="R:3007" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="fubini.m1" class="id"><a name="fubini.m1" class="">m1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">{sigma_finite_measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.T1">T1</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.R">R}</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="fubini.m2" class="id"><a name="fubini.m2" class="">m2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">{sigma_finite_measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.T2">T2</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#4b24647a3d36cd9e5f99a1b70534858d">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.R">R}</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="fubini.f" class="id"><a name="fubini.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.T1">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.T2">T2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.R">R</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="fubini.imf" class="id"><a name="fubini.imf" class="">imf</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>).<span class="id">-integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>.<br/>
<span class="vernacular">Let</span> <span id="fubini.mf" class="id"><a name="fubini.mf" class="">mf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof329')">Proof.</span></div>
<div class="proofscript" id="proof329">
 <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.imf">imf</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="fubini1a" class="id"><a name="fubini1a" class="">fubini1a</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>).<span class="id">-integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">`|f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3012">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3013">y</a></span>)<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof330')">Proof.</span></div>
<div class="proofscript" id="proof330">
<span class="id">split=&gt;</span> <span class="id">[/integrableP[_]|]</span> <span class="id">ioo;</span> <span class="id">[|apply/integrableP;</span> <span class="id">split=&gt;</span> <span class="id">[//|]]</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli1">fubini_tonelli1</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>))<span class="id">//=;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli1">fubini_tonelli1//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="fubini1b" class="id"><a name="fubini1b" class="">fubini1b</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>).<span class="id">-integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">`|f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3015">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3014">y</a></span>)<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof331')">Proof.</span></div>
<div class="proofscript" id="proof331">
<span class="id">split=&gt;</span> <span class="id">[/integrableP[_]|]</span> <span class="id">ioo;</span> <span class="id">[|apply/integrableP;</span> <span class="id">split=&gt;</span> <span class="id">[//|]]</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli2">fubini_tonelli2</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>))<span class="id">//=;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli2">fubini_tonelli2//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="fubini.measurable_fun1" class="id"><a name="fubini.measurable_fun1" class="">measurable_fun1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="gallina-kwd">fun</span> <span id="x:3016" class="id"><a name="x:3016" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">`|f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3016">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3017">y</a></span>)<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">|</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof332')">Proof.</span></div>
<div class="proofscript" id="proof332">
<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_F">measurable_fun_fubini_tonelli_F</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>)) <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="fubini.measurable_fun2" class="id"><a name="fubini.measurable_fun2" class="">measurable_fun2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="gallina-kwd">fun</span> <span id="y:3018" class="id"><a name="y:3018" class="">y</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">`|f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3019">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3018">y</a></span>)<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">|</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof333')">Proof.</span></div>
<div class="proofscript" id="proof333">
<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_G">measurable_fun_fubini_tonelli_G</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>)) <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ae_integrable1" class="id"><a name="ae_integrable1" class="">ae_integrable1</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#bc9b2ba76d94ad575afd74542172654c">{ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1,</a></span> <span class="gallina-kwd">forall</span> <span id="x:3020" class="id"><a name="x:3020" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="gallina-kwd">fun</span> <span id="y:3021" class="id"><a name="y:3021" class="">y</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3020">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3021">y</a></span>))<span class="id"><a href="mathcomp.analysis.measure.html#bc9b2ba76d94ad575afd74542172654c">}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof334')">Proof.</span></div>
<div class="proofscript" id="proof334">
<span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="gallina-kwd">fun</span> <span id="x:3022" class="id"><a name="x:3022" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">`|f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3022">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3023">y</a></span>)<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">|</a></span>).<br/>
&nbsp;&nbsp;<span class="id">apply/integrableP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span>  (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini1a">fubini1a</a></span>.<span class="id">1</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.imf">imf</a></span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">move/integrable_ae</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#filterS">filterS</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">/</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) <span class="id">im2f</span>.<br/>
<span class="id">apply/integrableP;</span> <span class="id">split;</span> <span class="id">first</span> <span class="id">exact/measurableT_comp</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move/fin_numPlt</span> <span class="id">:</span> <span class="id">im2f</span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ae_integrable2" class="id"><a name="ae_integrable2" class="">ae_integrable2</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#bc9b2ba76d94ad575afd74542172654c">{ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2,</a></span> <span class="gallina-kwd">forall</span> <span id="y:3024" class="id"><a name="y:3024" class="">y,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="gallina-kwd">fun</span> <span id="x:3025" class="id"><a name="x:3025" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3025">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3024">y</a></span>))<span class="id"><a href="mathcomp.analysis.measure.html#bc9b2ba76d94ad575afd74542172654c">}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof335')">Proof.</span></div>
<div class="proofscript" id="proof335">
<span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="gallina-kwd">fun</span> <span id="y:3026" class="id"><a name="y:3026" class="">y</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">`|f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3027">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3026">y</a></span>)<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">|</a></span>).<br/>
&nbsp;&nbsp;<span class="id">apply/integrableP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini1b">fubini1b</a></span>.<span class="id">1</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.imf">imf</a></span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">move/integrable_ae</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#filterS">filterS</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">/</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) <span class="id">im2f</span>.<br/>
<span class="id">apply/integrableP;</span> <span class="id">split;</span> <span class="id">first</span> <span class="id">exact/measurableT_comp</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move/fin_numPlt</span> <span class="id">:</span> <span class="id">im2f</span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="fubini.F" class="id"><a name="fubini.F" class="">F</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_F">fubini_F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="fubini.Fplus" class="id"><a name="fubini.Fplus" class="">Fplus</a></span> <span id="x:3028" class="id"><a name="x:3028" class="">x</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f^\+</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3028">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3029">y</a></span>).<br/>
<span class="vernacular">Let</span> <span id="fubini.Fminus" class="id"><a name="fubini.Fminus" class="">Fminus</a></span> <span id="x:3030" class="id"><a name="x:3030" class="">x</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f^\-</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3030">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3031">y</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="fubini.FE" class="id"><a name="fubini.FE" class="">FE</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.F">F</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Fplus">Fplus</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#413a754bf74f3e306cb2b48b8fe944d4">\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Fminus">Fminus</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof336')">Proof.</span></div>
<div class="proofscript" id="proof336">
 <span class="id">apply/funext=&gt;</span> <span class="id">x;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="fubini.measurable_Fplus" class="id"><a name="fubini.measurable_Fplus" class="">measurable_Fplus</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Fplus">Fplus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof337')">Proof.</span></div>
<div class="proofscript" id="proof337">
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_F">measurable_fun_fubini_tonelli_F</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="fubini.measurable_Fminus" class="id"><a name="fubini.measurable_Fminus" class="">measurable_Fminus</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Fminus">Fminus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof338')">Proof.</span></div>
<div class="proofscript" id="proof338">
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_F">measurable_fun_fubini_tonelli_F</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fubini_F" class="id"><a name="measurable_fubini_F" class="">measurable_fubini_F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.F">F</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof339')">Proof.</span></div>
<div class="proofscript" id="proof339">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.FE">FE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB;</a></span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.measurable_Fplus">measurable_Fplus|exact:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.measurable_Fminus">measurable_Fminus]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="fubini.integrable_Fplus" class="id"><a name="fubini.integrable_Fplus" class="">integrable_Fplus</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Fplus">Fplus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof340')">Proof.</span></div>
<div class="proofscript" id="proof340">
<span class="id">apply/integrableP;</span> <span class="id">split=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini1a">fubini1a</a></span>.<span class="id">1</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.imf">imf</a></span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/measurableT_comp</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id">-/</span>((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>) (<span class="id">x,</span> <span class="id">y</span>)) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeDl">leeDl</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="fubini.integrable_Fminus" class="id"><a name="fubini.integrable_Fminus" class="">integrable_Fminus</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Fminus">Fminus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof341')">Proof.</span></div>
<div class="proofscript" id="proof341">
<span class="id">apply/integrableP;</span> <span class="id">split=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini1a">fubini1a</a></span>.<span class="id">1</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.imf">imf</a></span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id">-/</span>((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>) (<span class="id">x,</span> <span class="id">y</span>)) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeDr">leeDr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integrable_fubini_F" class="id"><a name="integrable_fubini_F" class="">integrable_fubini_F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.F">F</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof342')">Proof.</span></div>
<div class="proofscript" id="proof342">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.FE">FE;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableB">integrableB</a></span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="fubini.G" class="id"><a name="fubini.G" class="">G</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_G">fubini_G</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="fubini.Gplus" class="id"><a name="fubini.Gplus" class="">Gplus</a></span> <span id="y:3032" class="id"><a name="y:3032" class="">y</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f^\+</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3033">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3032">y</a></span>).<br/>
<span class="vernacular">Let</span> <span id="fubini.Gminus" class="id"><a name="fubini.Gminus" class="">Gminus</a></span> <span id="y:3034" class="id"><a name="y:3034" class="">y</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f^\-</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3035">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3034">y</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="fubini.GE" class="id"><a name="fubini.GE" class="">GE</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.G">G</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Gplus">Gplus</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#413a754bf74f3e306cb2b48b8fe944d4">\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Gminus">Gminus</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof343')">Proof.</span></div>
<div class="proofscript" id="proof343">
 <span class="id">apply/funext=&gt;</span> <span class="id">x;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="fubini.measurable_Gplus" class="id"><a name="fubini.measurable_Gplus" class="">measurable_Gplus</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Gplus">Gplus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof344')">Proof.</span></div>
<div class="proofscript" id="proof344">
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_G">measurable_fun_fubini_tonelli_G</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="fubini.measurable_Gminus" class="id"><a name="fubini.measurable_Gminus" class="">measurable_Gminus</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Gminus">Gminus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof345')">Proof.</span></div>
<div class="proofscript" id="proof345">
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_G">measurable_fun_fubini_tonelli_G</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fubini_G" class="id"><a name="measurable_fubini_G" class="">measurable_fubini_G</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.G">G</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof346')">Proof.</span></div>
<div class="proofscript" id="proof346">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.GE">GE;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="fubini.integrable_Gplus" class="id"><a name="fubini.integrable_Gplus" class="">integrable_Gplus</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Gplus">Gplus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof347')">Proof.</span></div>
<div class="proofscript" id="proof347">
<span class="id">apply/integrableP;</span> <span class="id">split=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini1b">fubini1b</a></span>.<span class="id">1</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.imf">imf</a></span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id">-/</span>((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>) (<span class="id">x,</span> <span class="id">y</span>)) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeDl">leeDl</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="fubini.integrable_Gminus" class="id"><a name="fubini.integrable_Gminus" class="">integrable_Gminus</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Gminus">Gminus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof348')">Proof.</span></div>
<div class="proofscript" id="proof348">
<span class="id">apply/integrableP;</span> <span class="id">split=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini1b">fubini1b</a></span>.<span class="id">1</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.imf">imf</a></span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id">-/</span>((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>) (<span class="id">x,</span> <span class="id">y</span>)) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeDr">leeDr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="fubini1" class="id"><a name="fubini1" class="">fubini1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.F">F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3036">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2]_z</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:3037">z</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof349')">Proof.</span></div>
<div class="proofscript" id="proof349">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.FE">FE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB">integralB;</a></span> <span class="id">[|by[]|exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.integrable_Fplus">integrable_Fplus|exact:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.integrable_Fminus">integrable_Fminus]</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]integralE</a></span> <span class="id">?fubini_tonelli1//;</span><br/>
&nbsp;&nbsp;<span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg|exact:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="fubini2" class="id"><a name="fubini2" class="">fubini2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.G">G</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3038">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#37aac744f0a0814c91565a3ffc98a3d1">\x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2]_z</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:3039">z</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof350')">Proof.</span></div>
<div class="proofscript" id="proof350">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.GE">GE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB">integralB;</a></span> <span class="id">[|by[]|exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.integrable_Gplus">integrable_Gplus|exact:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.integrable_Gminus">integrable_Gminus]</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]integralE</a></span> <span class="id">?fubini_tonelli2//;</span><br/>
&nbsp;&nbsp;<span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg|exact:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Fubini" class="id"><a name="Fubini" class="">Fubini</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3040">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3041">y</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3043">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3042">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof351')">Proof.</span></div>
<div class="proofscript" id="proof351">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini1">fubini1</a></span> <span class="id">-fubini2</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini">fubini</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="sfinite_fubini" class="id"><a name="sfinite_fubini" class="">sfinite_fubini</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Context</span> <span id="d:3044" class="id"><a name="d:3044" class="">d</a></span> <span id="d':3045" class="id"><a name="d':3045" class="">d'</a></span> (<span id="X:3046" class="id"><a name="X:3046" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d:3044">d</a></span>) (<span id="Y:3047" class="id"><a name="Y:3047" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#d':3045">d'</a></span>) (<span id="R:3048" class="id"><a name="R:3048" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="sfinite_fubini.m1" class="id"><a name="sfinite_fubini.m1" class="">m1</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#5b941dafe74314d26d0725bbc13ee344">{sfinite_measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.X">X</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#5b941dafe74314d26d0725bbc13ee344">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.R">R}</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="sfinite_fubini.m2" class="id"><a name="sfinite_fubini.m2" class="">m2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#5b941dafe74314d26d0725bbc13ee344">{sfinite_measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#5b941dafe74314d26d0725bbc13ee344">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.R">R}</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="sfinite_fubini.f" class="id"><a name="sfinite_fubini.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.Y">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.R">R</a></span>) (<span id="sfinite_fubini.f0" class="id"><a name="sfinite_fubini.f0" class="">f0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="xy:3052" class="id"><a name="xy:3052" class="">xy,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3051">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#xy:3052">xy</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="sfinite_fubini.mf" class="id"><a name="sfinite_fubini.mf" class="">mf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sfinite_Fubini" class="id"><a name="sfinite_Fubini" class="">sfinite_Fubini</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3055">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3056">y</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m1]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3058">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3057">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof352')">Proof.</span></div>
<div class="proofscript" id="proof352">
<span class="id">pose</span> <span class="id">s1</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#sfinite_measure_seq">sfinite_measure_seq</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.m1">m1</a></span>.<br/>
<span class="id">pose</span> <span class="id">s2</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#sfinite_measure_seq">sfinite_measure_seq</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.m2">m2</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">[LHS]</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral">eq_measure_integral</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> <span class="id">s1</span> <span class="id">0]</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">mA</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">/=;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#sfinite_measure_seqP">sfinite_measure_seqP</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mseries</a></span> <span class="id">s1</span> <span class="id">0]_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mseries</a></span> <span class="id">s2</span> <span class="id">0]_y</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3059">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3060">y</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral">eq_measure_integral</a></span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">?</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#sfinite_measure_seqP">sfinite_measure_seqP</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:3073" class="id"><span id="n:3072" class="id"><span id="n:3071" class="id"><span id="n:3065" class="id"><span id="n:3064" class="id"><span id="n:3063" class="id"><a name="n:3073" class="">n</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[s1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:3063">n]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\sum_</a></span>(<span id="m:3077" class="id"><span id="m:3076" class="id"><span id="m:3075" class="id"><span id="m:3069" class="id"><span id="m:3068" class="id"><span id="m:3067" class="id"><a name="m:3077" class="">m</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[s2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m:3067">m]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3066">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3070">y</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series;</a></span> <span class="id">[|by</span> <span class="id">[]|</span> <span class="id">|];</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.X">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="x:3090" class="id"><span id="x:3084" class="id"><span id="x:3079" class="id"><a name="x:3090" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:3093" class="id"><span id="n:3092" class="id"><span id="n:3091" class="id"><span id="n:3087" class="id"><span id="n:3086" class="id"><span id="n:3085" class="id"><span id="n:3082" class="id"><span id="n:3081" class="id"><span id="n:3080" class="id"><a name="n:3093" class="">n</a></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[s2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:3080">n]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3079">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3083">y</a></span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series//;</a></span> <span class="id">exact/measurableT_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_emeasurable_fun_sum">ge0_emeasurable_fun_sum;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">k</span> <span class="id">x;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">k;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_F">measurable_fun_fubini_tonelli_F</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series//;</a></span> <span class="id">exact/measurableT_comp</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:3105" class="id"><span id="n:3104" class="id"><span id="n:3103" class="id"><span id="n:3097" class="id"><span id="n:3096" class="id"><span id="n:3095" class="id"><a name="n:3105" class="">n</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="m:3108" class="id"><span id="m:3107" class="id"><span id="m:3106" class="id"><span id="m:3100" class="id"><span id="m:3099" class="id"><span id="m:3098" class="id"><a name="m:3108" class="">m</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[s1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:3095">n]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[s2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m:3098">m]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3101">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3102">y</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries">integral_nneseries//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">m;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_F">measurable_fun_fubini_tonelli_F</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:3121" class="id"><span id="n:3120" class="id"><span id="n:3119" class="id"><span id="n:3113" class="id"><span id="n:3112" class="id"><span id="n:3111" class="id"><a name="n:3121" class="">n</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="m:3124" class="id"><span id="m:3123" class="id"><span id="m:3122" class="id"><span id="m:3116" class="id"><span id="m:3115" class="id"><span id="m:3114" class="id"><a name="m:3124" class="">m</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[s2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#m:3114">m]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[s1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:3111">n]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3118">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3117">y</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">=&gt;</span> <span class="id">m</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli">fubini_tonelli//;</a></span> <span class="id">exact:</span> <span class="id">finite_measure_sigma_finite</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:3134" class="id"><span id="n:3133" class="id"><span id="n:3132" class="id"><span id="n:3129" class="id"><span id="n:3128" class="id"><span id="n:3127" class="id"><a name="n:3134" class="">n</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mseries</a></span> <span class="id">s2</span> <span class="id">0]_y</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[s1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:3127">n]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3131">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3130">y</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_G">measurable_fun_fubini_tonelli_G</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mseries</a></span> <span class="id">s2</span> <span class="id">0]_y</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\sum_</a></span>(<span id="n:3145" class="id"><span id="n:3144" class="id"><span id="n:3143" class="id"><span id="n:3140" class="id"><span id="n:3139" class="id"><span id="n:3138" class="id"><a name="n:3145" class="">n</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[s1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#n:3138">n]_x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3141">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3137">y</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries">integral_nneseries//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_G">measurable_fun_fubini_tonelli_G</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mseries</a></span> <span class="id">s2</span> <span class="id">0]_y</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mseries</a></span> <span class="id">s1</span> <span class="id">0]_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3148">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3147">y</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series//;</a></span> <span class="id">exact/measurableT_comp</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[m2]_y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[mseries</a></span> <span class="id">s1</span> <span class="id">0]_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3152">x,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3151">y</a></span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral">eq_measure_integral</a></span> <span class="id">=&gt;</span> <span class="id">A</span> <span class="id">mA</span> <span class="id">_</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#sfinite_measure_seqP">sfinite_measure_seqP</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral">eq_measure_integral</a></span> <span class="id">=&gt;</span> <span class="id">A</span> <span class="id">mA</span> <span class="id">_</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#sfinite_measure_seqP">sfinite_measure_seqP</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini">sfinite_fubini</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_Fubini">sfinite_Fubini</a></span> <span class="id">{d</span> <span class="id">d'</span> <span class="id">X</span> <span class="id">Y</span> <span class="id">R}</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">f</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="lebesgue_differentiation_continuous" class="id"><a name="lebesgue_differentiation_continuous" class="">lebesgue_differentiation_continuous</a></span>.<br/>
<span class="vernacular">Context</span> (<span id="rT:3155" class="id"><a name="rT:3155" class="">rT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Let</span> <span id="lebesgue_differentiation_continuous.mu" class="id"><a name="lebesgue_differentiation_continuous.mu" class="">mu</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.rT">rT]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="lebesgue_differentiation_continuous.R" class="id"><a name="lebesgue_differentiation_continuous.R" class="">R</a></span>  <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurableTypeR">measurableTypeR</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.rT">rT]</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="lebesgue_differentiation_continuous.ballE" class="id"><a name="lebesgue_differentiation_continuous.ballE" class="">ballE</a></span> (<span id="x:3156" class="id"><a name="x:3156" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.R">R</a></span>) (<span id="r:3157" class="id"><a name="r:3157" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#dbe4e9c6d047a7b9bacd3b6dee92ccb8">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.rT">rT}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3156">x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3157">r</a></span>%<span class="id">:num</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#d9e9ffb4ad57ed1d8357ed0c1824cf0c">`]</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3156">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3157">r</a></span>%<span class="id">:num</span>)<span class="id">,</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3156">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3157">r</a></span>%<span class="id">:num</span>)<span class="id">[</span>%<span class="id">classic</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.rT">rT</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof353')">Proof.</span></div>
<div class="proofscript" id="proof353">
<span class="id">rewrite</span> <span class="id">-ball_normE</span> <span class="id">/ball_</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itvoo">set_itvoo</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eq_set">eq_set</a></span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_distlC">ltr_distlC</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lebesgue_differentiation_continuous" class="id"><a name="lebesgue_differentiation_continuous" class="">lebesgue_differentiation_continuous</a></span> (<span id="f:3158" class="id"><a name="f:3158" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.rT">rT^o</a></span>) (<span id="A:3159" class="id"><a name="A:3159" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.R">R</a></span>) (<span id="x:3160" class="id"><a name="x:3160" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#open">open</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:3159">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:3159">A</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3158">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#7c80fbc9405d98c9b96117793e1b9981">{for</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3160">x,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3158">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:3159">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3160">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="r:3161" class="id"><a name="r:3161" class="">r</a></span> <span class="id">=&gt;</span> <span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3161">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#e9001f602764f7896bb1eb34bf606a23">*+</a></span> <span class="id">2</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#00afd7077fe8d4381a047ef487700a85">\int[mu]_</a></span>(<span id="z:3162" class="id"><a name="z:3162" class="">z</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3160">x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3161">r</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3158">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:3162">z</a></span>) @ <span class="id">0^'+</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3158">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3160">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.R">R^o</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof354')">Proof.</span></div>
<div class="proofscript" id="proof354">
<span class="id">have</span> <span class="id">ball_itvr</span> <span class="id">r</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3163">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3163">r,</a></span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3163">r]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3163">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#5a7092a84ffebb249d94ea1f3b2cd778">[set</a></span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3163">r;</a></span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3163">r]</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move:</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">_/posnumP[r]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-setU1itv</span> <span class="id">?bnd_simp</span> <span class="id">?lerBlDr</span> <span class="id">-?addrA</span> <span class="id">?ler_wpDr//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-setUitv1</span> <span class="id">?bnd_simp</span> <span class="id">?ltrBlDr</span> <span class="id">-?addrA</span> <span class="id">?ltr_pwDr//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setUA">setUA</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setUC">setUC</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setUA">setUA</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDUl">setDUl</a></span> <span class="id">!ballE</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDv">setDv</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setU0">setU0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDidl">setDidl//</a></span> <span class="id">-subset0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">/=</span> <span class="id">[[]]</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltxx">ltxx//</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbF">andbF</a></span>.<br/>
<span class="id">have</span> <span class="id">ball_itv2</span> <span class="id">r</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3164">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3164">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3164">r,</a></span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3164">r]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#5a7092a84ffebb249d94ea1f3b2cd778">[set</a></span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3164">r;</a></span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3164">r]</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move:</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">_/posnumP[r]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-ball_itvr</span> <span class="id">//</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDD">setDD</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIC">setIC;</a></span> <span class="id">apply/esym/setIidPl</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.ballE">ballE</a></span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itvcc">set_itvcc</a></span> <span class="id">=&gt;</span> <span class="id">?/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">=&gt;</span> <span class="id">/andP</span> <span class="id">[/ltW</span> <span class="id">-&gt;</span> <span class="id">/ltW</span> <span class="id">-&gt;]</span>.<br/>
<span class="id">have</span> <span class="id">ritv</span> <span class="id">r</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3165">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.mu">mu</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3165">r,</a></span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3165">r]</a></span>%<span class="id">classic</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3165">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#e9001f602764f7896bb1eb34bf606a23">*+</a></span> <span class="id">2</span>)%<span class="id">:E</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/gt0_cp</span> <span class="id">rE;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv">lebesgue_measure_itv/=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_ltD">ler_ltD</a></span> <span class="id">//</span> <span class="id">?rE</span> <span class="id">//</span> <span class="id">-EFinD;</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addrAC">addrAC</a></span> <span class="id">[_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">_]addrC</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addrA">addrA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.add0r">add0r</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">oA</span> <span class="id">intf</span> <span class="id">ctsfx</span> <span class="id">Ax</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_zero">cvg_zero</a></span>.<br/>
<span class="id">apply/cvgrPdist_le</span> <span class="id">=&gt;</span> <span class="id">eps</span> <span class="id">epos;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span> (@<span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.rT">rT</a></span> <span class="id">0</span>).<br/>
<span class="id">move/cvgrPdist_le/</span>(<span class="id">_</span> <span class="id">eps</span> <span class="id">epos</span>)<span class="id">/at_right_in_segment</span> <span class="id">:</span> <span class="id">ctsfx;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#open_itvcc_subset">open_itvcc_subset</a></span> <span class="id">oA</span> <span class="id">Ax</span>).<br/>
<span class="id">have</span> <span class="id">mA</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_measurable">open_measurable</a></span> <span class="id">oA</span>.<br/>
<span class="id">near=&gt;</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">xrA;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#addrfctE">addrfctE</a></span> <span class="id"><a href="mathcomp.classical.functions.html#opprfctE">opprfctE</a></span> <span class="id">=&gt;</span> <span class="id">feps</span> <span class="id">rp</span>.<br/>
<span class="id">have</span> <span class="id">cptxr</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#compact">compact</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">r,</span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">r]</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.normedtype.html#segment_compact">segment_compact</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.subr0">subr0</a></span>.<br/>
<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#00afd7077fe8d4381a047ef487700a85">\int[mu]_</a></span>(<span id="z:3166" class="id"><a name="z:3166" class="">z</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> <span class="id">r</span>) <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:3166">z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#00afd7077fe8d4381a047ef487700a85">\int[mu]_</a></span>(<span id="z:3167" class="id"><a name="z:3167" class="">z</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">r,</span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">r]</span>) <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:3167">z</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ball_itv2</span> <span class="id">//;</span> <span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">-negligible_integral</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply/measurableU;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_set1">measurable_set1</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">mA</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measureU0">measureU0//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_set1">lebesgue_measure_set1</a></span>.<br/>
<span class="id">have</span> <span class="id">r20</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> (<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#e9001f602764f7896bb1eb34bf606a23">*+</a></span> <span class="id">2</span>) <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">?divr_ge0</span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.mulrn_wge0">mulrn_wge0</a></span>.<br/>
<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">f</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> (<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#e9001f602764f7896bb1eb34bf606a23">*+</a></span> <span class="id">2</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#00afd7077fe8d4381a047ef487700a85">\int[mu]_</a></span>(<span id="z:3168" class="id"><a name="z:3168" class="">z</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">r,</span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">r]</span>) <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">f</span> <span class="id">x</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:3168">z</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/Rintegral</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst">integral_cst</a></span> <span class="id">/=</span> <span class="id">?ritv</span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulrC">mulrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mul1r">mul1r</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-mulrA</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.divff">divff</a></span> <span class="id">?mulr1//;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lt0r_neq0">lt0r_neq0;</a></span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.mulrn_wgt0">mulrn_wgt0</a></span>.<br/>
<span class="id">have</span> <span class="id">intRf</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">r,</span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">r]</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">f</span>).<br/>
&nbsp;&nbsp;<span class="id">exact:</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.mu">mu</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">xrA</span> <span class="id">intf</span>).<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">-mulrBr</span> <span class="id">-fineB;</span> <span class="id">first</span> <span class="id">last</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_compact_integrable">continuous_compact_integrable//</a></span> <span class="id">=&gt;</span> <span class="id">?</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-integralB_EFin</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_compact_integrable">continuous_compact_integrable</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">?;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
<span class="id">under</span> <span class="id">[fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">_</span> <span class="id">]eq_fun</span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">-EFinD</span>.<br/>
<span class="id">have</span> <span class="id">int_fx</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">r,</span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">r]</span> (<span class="gallina-kwd">fun</span> <span id="z:3169" class="id"><a name="z:3169" class="">z</a></span> <span class="id">=&gt;</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:3169">z</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">f</span> <span class="id">x</span>)%<span class="id">:E</span>).<br/>
&nbsp;&nbsp;<span class="id">under</span> <span class="id">[fun</span> <span id="z:3172" class="id"><span id="z:3171" class="id"><span id="z:3170" class="id"><a name="z:3172" class="">z</a></span></span></span> <span class="id">=&gt;</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:3170">z</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">_</span>)%<span class="id">:E]eq_fun</span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableB">integrableB//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_compact_integrable">continuous_compact_integrable//</a></span> <span class="id">=&gt;</span> <span class="id">?</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.normrM">normrM</a></span> <span class="id">[</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|_/_|</a></span> <span class="id">]ger0_norm</span> <span class="id">//</span> <span class="id">-fine_abse</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span>.<br/>
<span class="id">suff</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="z:3173" class="id"><a name="z:3173" class="">z</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[</a></span>(<span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">r</span>)%<span class="id">R,</span> (<span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">r</span>)%<span class="id">R]</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:3173">z</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">f</span> <span class="id">x|</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#e9001f602764f7896bb1eb34bf606a23">*+</a></span> <span class="id">2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">eps</span>)%<span class="id">:E</span>)%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">intfeps;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pM">ler_pM</a></span> <span class="id">r20</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_refl">le_refl</a></span> <span class="id">_</span>))<span class="id">;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_ge0">fine_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le;</a></span> <span class="id">last</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_fin_num">abse_fin_num</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_abse">integrable_abse</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">case/integrableP</span> <span class="id">:</span> <span class="id">int_fx</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.div1r">div1r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pdivrMl">ler_pdivrMl</a></span> <span class="id">?mulrn_wgt0</span> <span class="id">//</span> <span class="id">-[_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">_]/</span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">_</span>%<span class="id">:E</span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_abse">integrable_abse</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_le_bound">integral_le_bound</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="z:3175" class="id"><span id="z:3174" class="id"><a name="z:3175" class="">z</a></span></span> <span class="id">=&gt;</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:3174">z</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">f</span> <span class="id">x</span>)%<span class="id">:E</span>) <span class="id">eps</span>%<span class="id">:E</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">case/integrableP:</span> <span class="id">int_fx</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#aeW">aeW</a></span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC</a></span> <span class="id">feps</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">ritv</span> <span class="id">//=</span> <span class="id">-EFinM</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.mulrC">mulrC</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous">lebesgue_differentiation_continuous</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="locally_integrable" class="id"><a name="locally_integrable" class="">locally_integrable</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">D</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable.R">R</a></span>) (<span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable.R">R</a></span>).<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="mu" class="id"><a name="mu" class="">mu</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="locally_integrable" class="id"><a name="locally_integrable" class="">locally_integrable</a></span> <span id="D:3177" class="id"><a name="D:3177" class="">D</a></span> <span id="f:3178" class="id"><a name="f:3178" class="">f</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">[/\</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:3177">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3178">f,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#open">open</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:3177">D</a></span> &amp;<br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="K:3179" class="id"><a name="K:3179" class="">K,</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:3179">K</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:3177">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#compact">compact</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:3179">K</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:3180" class="id"><a name="x:3180" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#K:3179">K</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3180">x|</a></span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integrable_locally" class="id"><a name="integrable_locally" class="">integrable_locally</a></span> <span id="D:3181" class="id"><a name="D:3181" class="">D</a></span> <span id="f:3182" class="id"><a name="f:3182" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#open">open</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:3181">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:3181">D</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3182">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable">locally_integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:3181">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3182">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof355')">Proof.</span></div>
<div class="proofscript" id="proof355">
<span class="id">move=&gt;</span> <span class="id">oD</span> <span class="id">/integrableP[mf</span> <span class="id">foo];</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">K</span> <span class="id">KD</span> <span class="id">cK;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">foo</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral">subset_integral//=</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#compact_measurable">compact_measurable</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_measurable">open_measurable</a></span>.<br/>
<span class="id">-</span> <span class="id">apply/EFin_measurable_fun;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact/EFin_measurable_fun</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="locally_integrableN" class="id"><a name="locally_integrableN" class="">locally_integrableN</a></span> <span id="D:3183" class="id"><a name="D:3183" class="">D</a></span> <span id="f:3184" class="id"><a name="f:3184" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable">locally_integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:3183">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3184">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable">locally_integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:3183">D</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#565ca4aa0f5062a899cb0ce9091bd2da">\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3184">f</a></span>)%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof356')">Proof.</span></div>
<div class="proofscript" id="proof356">
<span class="id">move=&gt;</span> <span class="id">[mf</span> <span class="id">oD</span> <span class="id">foo];</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">K</span> <span class="id">KD</span> <span class="id">cK;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.normrN">normrN;</a></span> <span class="id">exact:</span> <span class="id">foo</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="locally_integrableD" class="id"><a name="locally_integrableD" class="">locally_integrableD</a></span> <span id="D:3185" class="id"><a name="D:3185" class="">D</a></span> <span id="f:3186" class="id"><a name="f:3186" class="">f</a></span> <span id="g:3187" class="id"><a name="g:3187" class="">g</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable">locally_integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:3185">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3186">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable">locally_integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:3185">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:3187">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable">locally_integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:3185">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3186">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#d85e5ec1adc01afcee458717bbaea5e5">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:3187">g</a></span>)%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof357')">Proof.</span></div>
<div class="proofscript" id="proof357">
<span class="id">move=&gt;</span> <span class="id">[mf</span> <span class="id">oD</span> <span class="id">foo]</span> <span class="id">[mg</span> <span class="id">_</span> <span class="id">goo];</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funD">measurable_funD</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">K</span> <span class="id">KD</span> <span class="id">cK</span>.<br/>
<span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span>.<span class="id">-integrable</span> <span class="id">K</span> ((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">f</span>) <span class="id">\+</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#687e14754dadb7c0b04f27d8f71d2638">\o</a></span> <span class="id">g</span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case/integrableP</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableD">integrableD</a></span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#compact_measurable">compact_measurable</a></span>.<br/>
<span class="id">-</span> <span class="id">apply/integrableP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id">foo</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/EFin_measurable_fun;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mf</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_measurable">open_measurable</a></span>.<br/>
<span class="id">-</span> <span class="id">apply/integrableP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id">goo</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/EFin_measurable_fun;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mg</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_measurable">open_measurable</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="locally_integrableB" class="id"><a name="locally_integrableB" class="">locally_integrableB</a></span> <span id="D:3188" class="id"><a name="D:3188" class="">D</a></span> <span id="f:3189" class="id"><a name="f:3189" class="">f</a></span> <span id="g:3190" class="id"><a name="g:3190" class="">g</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable">locally_integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:3188">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3189">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable">locally_integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:3188">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:3190">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable">locally_integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:3188">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3189">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#0bb5d11fe8761db1e6494d75cb45a3cb">\-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:3190">g</a></span>)%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof358')">Proof.</span></div>
<div class="proofscript" id="proof358">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">lf</span> <span class="id">lg;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrableD">locally_integrableD</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrableN">locally_integrableN</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable">locally_integrable</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="iavg" class="id"><a name="iavg" class="">iavg</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">D</span> <span class="id">A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#iavg.R">R</a></span>) (<span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#iavg.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#iavg.R">R</a></span>).<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="mu" class="id"><a name="mu" class="">mu</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="iavg" class="id"><a name="iavg" class="">iavg</a></span> <span id="f:3192" class="id"><a name="f:3192" class="">f</a></span> <span id="A:3193" class="id"><a name="A:3193" class="">A</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:3193">A</a></span>))<span class="id">^-1</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="y:3194" class="id"><a name="y:3194" class="">y</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:3193">A</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3192">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3194">y</a></span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">|</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="iavg0" class="id"><a name="iavg0" class="">iavg0</a></span> <span id="f:3195" class="id"><a name="f:3195" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#iavg">iavg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3195">f</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof359')">Proof.</span></div>
<div class="proofscript" id="proof359">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/iavg</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_set0">integral_set0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="iavg_ge0" class="id"><a name="iavg_ge0" class="">iavg_ge0</a></span> <span id="f:3196" class="id"><a name="f:3196" class="">f</a></span> <span id="A:3197" class="id"><a name="A:3197" class="">A</a></span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#iavg">iavg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3196">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:3197">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof360')">Proof.</span></div>
<div class="proofscript" id="proof360">
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/iavg</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span> <span class="id">?integral_ge0//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.invr_ge0">invr_ge0//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_ge0">fine_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="iavg_restrict" class="id"><a name="iavg_restrict" class="">iavg_restrict</a></span> <span id="f:3198" class="id"><a name="f:3198" class="">f</a></span> <span id="D:3199" class="id"><a name="D:3199" class="">D</a></span> <span id="A:3200" class="id"><a name="A:3200" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:3199">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:3200">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#iavg">iavg</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3198">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:3199">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:3200">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> ((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:3200">A</a></span>))<span class="id">^-1</span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="y:3201" class="id"><a name="y:3201" class="">y</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:3199">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:3200">A</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3201">y|</a></span>%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof361')">Proof.</span></div>
<div class="proofscript" id="proof361">
<span class="id">move=&gt;</span> <span class="id">mD</span> <span class="id">mA;</span> <span class="id">rewrite</span> <span class="id">/iavg</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIC">setIC</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setI_indic">integral_setI_indic//=;</a></span> <span class="id">congr</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#76b5f4c325a4d0716da4bce1239a53f4">*</a></span>%<span class="id">E</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">y</span> <span class="id">yx1</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#patch_indic">patch_indic/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.normrM">normrM</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_D</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">_</a></span>)).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="iavgD" class="id"><a name="iavgD" class="">iavgD</a></span> <span id="f:3202" class="id"><a name="f:3202" class="">f</a></span> <span id="g:3203" class="id"><a name="g:3203" class="">g</a></span> <span id="A:3204" class="id"><a name="A:3204" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:3204">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:3204">A</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:3204">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3202">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:3204">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:3203">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#iavg">iavg</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3202">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#d85e5ec1adc01afcee458717bbaea5e5">\+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:3203">g</a></span>)%<span class="id">R</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:3204">A</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#iavg">iavg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3202">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:3204">A</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#iavg">iavg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g:3203">g</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#A:3204">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof362')">Proof.</span></div>
<div class="proofscript" id="proof362">
<span class="id">move=&gt;</span> <span class="id">mA</span> <span class="id">Aoo</span> <span class="id">mf</span> <span class="id">mg;</span> <span class="id">have</span> <span class="id">[r0|r0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu">mu</a></span> <span class="id">A</span>) <span class="id">0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/iavg</span> <span class="id">r0/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.invr0">invr0</a></span> <span class="id">!mul0e</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-muleDr//=;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_adde_def">ge0_adde_def//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_pmul2l">lee_pmul2l//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.invr_gt0">invr_gt0//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_gt0">fine_gt0//</a></span> <span class="id">Aoo</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbC">andbC/=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt0e">lt0e</a></span> <span class="id">r0/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">-ge0_integralD//=;</span> <span class="id">[|by</span> <span class="id">do</span> <span class="id">2</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>..<span class="id">]</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">do</span> <span class="id">2</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funD">measurable_funD</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funD">measurable_funD</a></span> <span class="id">=&gt;</span> <span class="id">//;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_normD">ler_normD</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#iavg">iavg</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="hardy_littlewood" class="id"><a name="hardy_littlewood" class="">hardy_littlewood</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="mu" class="id"><a name="mu" class="">mu</a></span> <span class="id">:=</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#hardy_littlewood.R">R</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">D</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#hardy_littlewood.R">R</a></span>) (<span class="id">f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#hardy_littlewood.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#hardy_littlewood.R">R</a></span>).<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="HL_maximal" class="id"><a name="HL_maximal" class="">HL_maximal</a></span> <span id="f:3206" class="id"><a name="f:3206" class="">f</a></span> (<span id="x:3207" class="id"><a name="x:3207" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#hardy_littlewood.R">R</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#hardy_littlewood.R">R</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#iavg">iavg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3206">f</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3207">x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3208">r</a></span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="r:3208" class="id"><a name="r:3208" class="">r</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eca7c03119ea7bbb2c5bd6c3655e6974">`]0,</a></span> <span class="id">+oo[</span>%<span class="id">classic</span>%<span class="id">R]</span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="HL" class="id"><a name="HL" class="">HL</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#HL_maximal">HL_maximal</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="HL_maximal_ge0" class="id"><a name="HL_maximal_ge0" class="">HL_maximal_ge0</a></span> <span id="f:3209" class="id"><a name="f:3209" class="">f</a></span> <span id="D:3210" class="id"><a name="D:3210" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable">locally_integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:3210">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3209">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:3211" class="id"><a name="x:3211" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#HL">HL</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3209">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#2eecca447d655b6f816ae395946692f2">\_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:3210">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3211">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof363')">Proof.</span></div>
<div class="proofscript" id="proof363">
<span class="id">move=&gt;</span> <span class="id">Df</span> <span class="id">x;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_le">ereal_sup_le</a></span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
<span class="id">pose</span> <span class="id">k</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="x:3212" class="id"><a name="x:3212" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id">D</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> <span class="id">1</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3212">x|</a></span>%<span class="id">:E</span>.<br/>
<span class="gallina-kwd">exists</span> ((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> <span class="id">1</span>)))<span class="id">^-1</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id">k</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0//;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.invr_ge0">invr_ge0//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_ge0">fine_ge0</a></span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id">1</span>%<span class="id">R;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltr01">ltr01</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#iavg_restrict">iavg_restrict//;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_ball">measurable_ball</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">Df</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">/open_measurable</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="HL_maximalT_ge0" class="id"><a name="HL_maximalT_ge0" class="">HL_maximalT_ge0</a></span> <span id="f:3213" class="id"><a name="f:3213" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable">locally_integrable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3213">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">forall</span> <span id="x:3214" class="id"><a name="x:3214" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#HL">HL</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3213">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3214">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof364')">Proof.</span></div>
<div class="proofscript" id="proof364">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">+</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">/HL_maximal_ge0</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">x</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#patch_setT">patch_setT</a></span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="hardy_littlewood.locally_integrable_ltbally" class="id"><a name="hardy_littlewood.locally_integrable_ltbally" class="">locally_integrable_ltbally</a></span> (<span id="f:3215" class="id"><a name="f:3215" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#hardy_littlewood.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#hardy_littlewood.R">R</a></span>) (<span id="x:3216" class="id"><a name="x:3216" class="">x</a></span> <span id="r:3217" class="id"><a name="r:3217" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#hardy_littlewood.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable">locally_integrable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3215">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="y:3218" class="id"><a name="y:3218" class="">y</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3216">x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3217">r</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3215">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3218">y</a></span>)%<span class="id">:E|</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof365')">Proof.</span></div>
<div class="proofscript" id="proof365">
<span class="id">move=&gt;</span> <span class="id">[mf</span> <span class="id">_</span> <span class="id">locf];</span> <span class="id">have</span> <span class="id">[r0|r0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">r</span> <span class="id">0</span>%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#ball0">ball0</a></span> <span class="id">_</span> <span class="id">_</span>).<span class="id">2//</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_set0">integral_set0</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> (<span class="id">locf</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#closed_ball">closed_ball</a></span> <span class="id">x</span> <span class="id">r</span>) <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#closed_ballR_compact">closed_ballR_compact</a></span> <span class="id">_</span>)))<span class="id">//</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral">subset_integral</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_ball">measurable_ball</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_closed_ball">measurable_closed_ball;</a></span> <span class="id">exact/ltW</span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS;</a></span> <span class="id">apply/measurableT_comp</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#subset_closed_ball">subset_closed_ball</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lower_semicontinuous_HL_maximal" class="id"><a name="lower_semicontinuous_HL_maximal" class="">lower_semicontinuous_HL_maximal</a></span> <span id="f:3219" class="id"><a name="f:3219" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable">locally_integrable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3219">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#lower_semicontinuous">lower_semicontinuous</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#HL">HL</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3219">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof366')">Proof.</span></div>
<div class="proofscript" id="proof366">
<span class="id">move=&gt;</span> <span class="id">[mf</span> <span class="id">?</span> <span class="id">locf];</span> <span class="id">apply/lower_semicontinuousP</span> <span class="id">=&gt;</span> <span class="id">a</span>.<br/>
<span class="id">have</span> <span class="id">[a0|a0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.lerP">lerP</a></span> <span class="id">0</span> <span class="id">a;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.topology.html#open">open</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:3220">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)<span class="id">;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#openT">openT</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">exact:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#HL_maximalT_ge0">HL_maximalT_ge0</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#openE">openE</a></span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">/ereal_sup_gt[_</span> <span class="id">[r</span> <span class="id">r0]</span> <span class="id">&lt;-]</span> <span class="id">afxr</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="gallina-kwd">in</span> <span class="id">r0</span>.<br/>
<span class="id">rewrite</span> <span class="id">/iavg</span> <span class="gallina-kwd">in</span> <span class="id">afxr;</span> <span class="id">set</span> <span class="id">k</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[_]_</a></span>(<span class="id">_</span> <span class="gallina-kwd">in</span> <span class="id">_</span>) <span class="id">_</span> <span class="gallina-kwd">in</span> <span class="id">afxr</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs_singleton">nbhs_singleton;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs_interior">nbhs_interior;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhsE">nbhsE</a></span> <span class="id">/=</span>.<br/>
<span class="id">have</span> <span class="id">k_gt0</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">k</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt0e">lt0e</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0//</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT;</a></span> <span class="id">apply/negP</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">k0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">afxr;</span> <span class="id">rewrite</span> <span class="id">k0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.ltNge">ltNge</a></span> <span class="id">a0</span>.<br/>
<span class="id">move:</span> <span class="id">a0;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[a0|a0]</span>.<br/>
&nbsp;&nbsp;<span class="id">move:</span> <span class="id">afxr;</span> <span class="id">rewrite</span> <span class="id">-{a}a0</span> <span class="id">=&gt;</span> <span class="id">xrk</span>.<br/>
&nbsp;&nbsp;<span class="id">near</span> (<span class="id">0</span>%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#hardy_littlewood.R">R</a></span>)<span class="id">^'+</span> <span class="id">=&gt;</span> <span class="id">d</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">xrdk</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> (<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">d</span>))))<span class="id">^-1</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_gt0">mule_gt0//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.invr_gt0">invr_gt0//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_gt0">fine_gt0//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_ball">lebesgue_measure_ball;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.addr_ge0">addr_ge0//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.pmulrn_lgt0">pmulrn_lgt0//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.addr_gt0">addr_gt0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> <span class="id">d</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#ball_open">ball_open|exact:</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#ballxx">ballxx]</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id">/ball/=</span> <span class="id">=&gt;</span> <span class="id">xyd</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> <span class="id">r</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">y</span> (<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">d</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">z;</span> <span class="id">rewrite</span> <span class="id">/ball/=</span> <span class="id">=&gt;</span> <span class="id">xzr;</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.subrK">subrK</a></span> <span class="id">x</span> <span class="id">y</span>) <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addrA">addrA</a></span> (<span class="id">y</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">x</span>)%<span class="id">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_normD">ler_normD</a></span> <span class="id">_</span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltrD">ltrD//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id">k</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="y:3221" class="id"><a name="y:3221" class="">y</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">y</span> (<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">d</span>)) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span>(<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3221">y</a></span>)%<span class="id">:E|</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral">subset_integral</a></span> <span class="id">=&gt;//;</span> <span class="id">[exact:measurable_ball|exact:measurable_ball|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/measurableT_comp</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">case:</span> <span class="id">locf</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#iavg">iavg</a></span> <span class="id">f</span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">y</span> (<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">d</span>)) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#HL">HL</a></span> <span class="id">f</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">d</span>)%<span class="id">R</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.addr_gt0">addr_gt0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply/lt_le_trans/</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">xrdk</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">/iavg</span>.<br/>
&nbsp;&nbsp;<span class="id">do</span> <span class="id">2</span> (<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_ball">lebesgue_measure_ball;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.addr_ge0">addr_ge0//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_wpmul2l">lee_wpmul2l//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.invr_ge0">invr_ge0//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_ge0">fine_ge0//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.pmulrn_rge0">pmulrn_rge0//</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.addr_gt0">addr_gt0</a></span>.<br/>
<span class="id">have</span> <span class="id">ka_pos</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">k</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">a</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#c94c2df86ca03f22f8f8b739cd7e1e88">\is</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.pos">Num.pos</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.posrE">posrE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.divr_gt0">divr_gt0//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_gt0">fine_gt0</a></span> <span class="id">//</span> <span class="id">k_gt0/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#hardy_littlewood.locally_integrable_ltbally">locally_integrable_ltbally</a></span>.<br/>
<span class="id">have</span> <span class="id">k_fin_num</span> <span class="id">:</span> <span class="id">k</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span> <span class="id">?locally_integrable_ltbally//</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">have</span> <span class="id">kar</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">2^-1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">k</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id">a</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">r</span>)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">move:</span> <span class="id">afxr;</span> <span class="id">rewrite</span> <span class="id">-{1}</span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">k_fin_num</span>) <span class="id">-lte_pdivr_mulr;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_gt0">fine_gt0//</a></span> <span class="id">k_gt0/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltey_eq">ltey_eq</a></span> <span class="id">k_fin_num</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_ball">lebesgue_measure_ball</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">r0</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-!EFinM</span> <span class="id">!lte_fin</span> <span class="id">-invf_div</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltf_pV2">ltf_pV2</a></span> <span class="id">?posrE</span> <span class="id">?pmulrn_lgt0//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">-[in</span> <span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:3222">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_]mulr_natl</span> <span class="id">-ltr_pdivlMl//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-[in</span> <span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:3223">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_]subr_gt0</span>.<br/>
<span class="id">near</span> (<span class="id">0</span>%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#hardy_littlewood.R">R</a></span>)<span class="id">^'+</span> <span class="id">=&gt;</span> <span class="id">d</span>.<br/>
<span class="id">have</span> <span class="id">axrdk</span> <span class="id">:</span> <span class="id">a</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> (<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">d</span>))))<span class="id">^-1</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id">k</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_ball">lebesgue_measure_ball//;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.addr_ge0">addr_ge0//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">k_fin_num</span>) <span class="id">-lte_pdivr_mulr;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_gt0">fine_gt0//</a></span> <span class="id">k_gt0/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#hardy_littlewood.locally_integrable_ltbally">locally_integrable_ltbally</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-!EFinM</span> <span class="id">!lte_fin</span> <span class="id">-invf_div</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltf_pV2">ltf_pV2//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.posrE">posrE</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_gt0">fine_gt0//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.pmulrn_lgt0">pmulrn_lgt0//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.addr_gt0">addr_gt0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-mulr_natl</span> <span class="id">-ltr_pdivlMl//</span> <span class="id">-ltrBrDl</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">d;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_lt">nbhs_right_lt</a></span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> <span class="id">d</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#ball_open">ball_open|exact:</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#ballxx">ballxx]</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id">/ball/=</span> <span class="id">=&gt;</span> <span class="id">xyd</span>.<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> <span class="id">r</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">y</span> (<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">d</span>).<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">z;</span> <span class="id">rewrite</span> <span class="id">/ball/=</span> <span class="id">=&gt;</span> <span class="id">xzr;</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.subrK">subrK</a></span> <span class="id">x</span> <span class="id">y</span>) <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addrA">addrA</a></span> (<span class="id">y</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">x</span>)%<span class="id">R</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ler_normD">ler_normD</a></span> <span class="id">_</span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.ltrD">ltrD//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC</a></span>.<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id">k</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="z:3224" class="id"><a name="z:3224" class="">z</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">y</span> (<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">d</span>)) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span>(<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:3224">z</a></span>)%<span class="id">:E|</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral">subset_integral</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_ball">measurable_ball|exact:</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_ball">measurable_ball|]</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS;</a></span> <span class="id">do</span> <span class="id">2</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">have</span> <span class="id">afxrdi</span> <span class="id">:</span> <span class="id">a</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> (<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">d</span>))))<span class="id">^-1</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="z:3225" class="id"><a name="z:3225" class="">z</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">y</span> (<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">d</span>)) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span>(<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#z:3225">z</a></span>)%<span class="id">:E|</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">axrdk</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_wpmul2l">lee_wpmul2l//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.invr_ge0">invr_ge0//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_ge0">fine_ge0</a></span>.<br/>
<span class="id">have</span> <span class="id">/lt_le_trans</span> <span class="id">:</span> <span class="id">a</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#iavg">iavg</a></span> <span class="id">f</span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">y</span> (<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">d</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">afxrdi</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">/iavg</span>.<br/>
&nbsp;&nbsp;<span class="id">do</span> <span class="id">2</span> (<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_ball">lebesgue_measure_ball;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.addr_ge0">addr_ge0//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_wpmul2l">lee_wpmul2l//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.invr_ge0">invr_ge0//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_ge0">fine_ge0//=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.pmulrn_rge0">pmulrn_rge0//</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.addr_gt0">addr_gt0</a></span>.<br/>
<span class="id">apply;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">d</span>)%<span class="id">R</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.addr_gt0">addr_gt0</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_HL_maximal" class="id"><a name="measurable_HL_maximal" class="">measurable_HL_maximal</a></span> <span id="f:3226" class="id"><a name="f:3226" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable">locally_integrable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3226">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#HL">HL</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3226">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof367')">Proof.</span></div>
<div class="proofscript" id="proof367">
<span class="id">move=&gt;</span> <span class="id">lf;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lower_semicontinuous_measurable">lower_semicontinuous_measurable</a></span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lower_semicontinuous_HL_maximal">lower_semicontinuous_HL_maximal</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="hardy_littlewood.norm1" class="id"><a name="hardy_littlewood.norm1" class="">norm1</a></span> <span id="D:3227" class="id"><a name="D:3227" class="">D</a></span> <span id="f:3228" class="id"><a name="f:3228" class="">f</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="y:3229" class="id"><a name="y:3229" class="">y</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#D:3227">D</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3228">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3229">y</a></span>)%<span class="id">:E|</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="maximal_inequality" class="id"><a name="maximal_inequality" class="">maximal_inequality</a></span> <span id="f:3230" class="id"><a name="f:3230" class="">f</a></span> <span id="c:3231" class="id"><a name="c:3231" class="">c</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable">locally_integrable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3230">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#c:3231">c</a></span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu">mu</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:3232" class="id"><a name="x:3232" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#HL">HL</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3230">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3232">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&gt;'_x">&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#c:3231">c</a></span>%<span class="id">:E]</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> (<span class="id">3</span>%<span class="id">:R</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#c:3231">c</a></span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#hardy_littlewood.norm1">norm1</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#f:3230">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof368')">Proof.</span></div>
<div class="proofscript" id="proof368">
<span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">locf</span> <span class="id">c0</span>.<br/>
<span class="id">have</span> <span class="id">r_proof</span> <span class="id">x</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#HL">HL</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3233">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">c</span>%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#c0bbd202248f4def7aaf0c316cf2c29e">{r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#c0bbd202248f4def7aaf0c316cf2c29e">|</a></span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3234">r</a></span>)%<span class="id">R</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="y:3236" class="id"><a name="y:3236" class="">y</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3233">x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3235">r</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span>(<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3236">y</a></span>)%<span class="id">:E|</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">c</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3233">x</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3235">r</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#c0bbd202248f4def7aaf0c316cf2c29e">}</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/ereal_sup_gt/cid2[y</span> <span class="id">/=</span> <span class="id">/cid2[r]]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">=&gt;</span> <span class="id">rg0</span> <span class="id">&lt;-{y}</span> <span class="id">Hc;</span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> <span class="id">r</span>))) <span class="id">?ge0_fin_numE//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_ball">lebesgue_measure_ball</a></span> <span class="id">?ltry//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-lte_pdivl_mulr//</span> <span class="id">1?muleC//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_gt0">fine_gt0//</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_ball">lebesgue_measure_ball</a></span> <span class="id">1?ltW//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.mulrn_wgt0">mulrn_wgt0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity_inner_sup">lebesgue_regularity_inner_sup//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#X:3237">X]setTI;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_o_infty">emeasurable_fun_o_infty</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_HL_maximal">measurable_HL_maximal</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">[K</span> <span class="id">[cK</span> <span class="id">Kcmf</span> <span class="id">&lt;-{x}]]</span>.<br/>
<span class="id">pose</span> <span class="id">r_</span> <span id="x:3238" class="id"><a name="x:3238" class="">x</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#HL">HL</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3238">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">c</span>%<span class="id">:E</span>) <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#left">left</a></span> <span class="id">H</span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#s2val">s2val</a></span> (<span class="id">r_proof</span> <span class="id">_</span> <span class="id">H</span>) <span class="gallina-kwd">else</span> <span class="id">1</span>%<span class="id">R</span>.<br/>
<span class="id">have</span> <span class="id">r_pos</span> (<span id="x:3239" class="id"><a name="x:3239" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#hardy_littlewood.R">R</a></span>) <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">r_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3239">x</a></span>)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/r_;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">cMfx;</span> <span class="id">case:</span> (<span class="id">r_proof</span> <span class="id">_</span> <span class="id">cMfx</span>).<br/>
<span class="id">have</span> <span class="id">cMfx_int</span> <span class="id">x</span> <span class="id">:</span> <span class="id">c</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#HL">HL</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3240">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="y:3241" class="id"><a name="y:3241" class="">y</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3240">x</a></span> (<span class="id">r_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3240">x</a></span>)) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|</a></span>(<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3241">y</a></span>)<span class="id">|</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">c</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3240">x</a></span> (<span class="id">r_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#x:3240">x</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">cMfx;</span> <span class="id">rewrite</span> <span class="id">/r_;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">=&gt;</span> <span class="id">{}cMfx</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">r_proof</span> <span class="id">_</span> <span class="id">cMfx</span>).<br/>
<span class="id">set</span> <span class="id">B</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="r:3244" class="id"><span id="r:3243" class="id"><span id="r:3242" class="id"><a name="r:3244" class="">r</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3242">r</a></span> (<span class="id">r_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#r:3242">r</a></span>).<br/>
<span class="id">have</span> <span class="id">{}Kcmf</span> <span class="id">:</span> <span class="id">K</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cover">cover</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="i:3246" class="id"><a name="i:3246" class="">i</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#HL">HL</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:3246">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">c</span>%<span class="id">:E]</span> (<span class="gallina-kwd">fun</span> <span id="i:3245" class="id"><a name="i:3245" class="">i</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:3245">i</a></span> (<span class="id">r_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:3245">i</a></span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">/Kcmf</span> <span class="id">/=</span> <span class="id">cMfr;</span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#ballxx">ballxx</a></span>.<br/>
<span class="id">have</span> <span class="id">{Kcmf}[D</span> <span class="id">Dsub</span> <span class="id">Kcover]</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#finite_subset_cover">finite_subset_cover</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="i:3248" class="id"><a name="i:3248" class="">i</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">c</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#HL">HL</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:3248">i]</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="i:3247" class="id"><a name="i:3247" class="">i</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:3247">i</a></span> (<span class="id">r_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:3247">i</a></span>)) <span class="id">K</span>.<br/>
&nbsp;&nbsp;<span class="id">move:</span> <span class="id">cK;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#compact_cover">compact_cover</a></span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Kcmf</span>)<span class="id">;</span> <span class="id">apply</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">x</span> <span class="id">cMfx;</span> <span class="id">exact/ball_open/r_pos</span>.<br/>
<span class="id">have</span> <span class="id">KDB</span> <span class="id">:</span> <span class="id">K</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cover">cover</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id">D]</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> <span class="id">Kcover</span>) <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x</span> <span class="id">[r</span> <span class="id">Dr]</span> <span class="id">rx;</span> <span class="gallina-kwd">exists</span> <span class="id">r</span>.<br/>
<span class="id">have</span> <span class="id">is_ballB</span> <span class="id">i</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#is_ball">is_ball</a></span> (<span class="id">B</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:3249">i</a></span>) <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#is_ball_ball">is_ball_ball</a></span>.<br/>
<span class="id">have</span> <span class="id">Bset0</span> <span class="id">i</span> <span class="id">:</span> <span class="id">B</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:3250">i</a></span> <span class="id">!=set0</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">i;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#ballxx">ballxx</a></span>.<br/>
<span class="id">have</span> <span class="id">[E</span> <span class="id">[uE</span> <span class="id">ED</span> <span class="id">tEB</span> <span class="id">DE]]</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.normedtype.html#vitali_lemma_finite_cover">vitali_lemma_finite_cover</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">B</span> <span class="id">is_ballB</span> <span class="id">Bset0</span> <span class="id">D</span>.<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">3</span>%<span class="id">:R</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#2ed228b16343d82e9e410c7fc103f88a">\sum_</a></span>(<span id="i:3259" class="id"><span id="i:3258" class="id"><span id="i:3257" class="id"><span id="i:3256" class="id"><span id="i:3255" class="id"><span id="i:3254" class="id"><span id="i:3253" class="id"><span id="i:3252" class="id"><span id="i:3251" class="id"><a name="i:3259" class="">i</a></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#2ed228b16343d82e9e410c7fc103f88a">&lt;-</a></span> <span class="id">E</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu">mu</a></span> (<span class="id">B</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:3251">i</a></span>)))<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">{}DE</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> <span class="id">KDB</span> <span class="id">DE</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (@<span class="id"><a href="mathcomp.analysis.measure.html#content_sub_additive">content_sub_additive</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu">mu]</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">K</span> (<span class="gallina-kwd">fun</span> <span id="i:3261" class="id"><span id="i:3260" class="id"><a name="i:3261" class="">i</a></span></span> <span class="id">=&gt;</span> <span class="id">3</span>%<span class="id">:R</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#1e4e85f1fc6f19c4fad1878bba951c16">*`</a></span> <span class="id">B</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#nth">nth</a></span> <span class="id">0</span>%<span class="id">R</span> <span class="id">E</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:3260">i</a></span>)) (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id">E</span>) <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">k</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#scale_ballE">scale_ballE//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_ball">measurable_ball</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#closed_measurable">closed_measurable;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#compact_closed">compact_closed</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#Rhausdorff">Rhausdorff</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> <span class="id">DE</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">/cover</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_seq">bigcup_seq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_nth">big_nth</a></span> <span class="id">0</span>%<span class="id">R</span>)<span class="id">//=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_mkord">big_mkord</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_sume_distrr">ge0_sume_distrr//=</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_nth">big_nth</a></span> <span class="id">0</span>%<span class="id">R</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_mkord">big_mkord;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_sum">lee_sum</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#scale_ballE">scale_ballE//</a></span> <span class="id">!lebesgue_measure_ball</span> <span class="id">?mulr_ge0</span> <span class="id">?</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> (<span class="id">r_pos</span> <span class="id">_</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-mulrnAr</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">!EFinM</span> <span class="id">-muleA</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_wpmul2l">lee_wpmul2l//=</a></span>.<br/>
<span class="id">apply:</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#2ed228b16343d82e9e410c7fc103f88a">\sum_</a></span>(<span id="i:3268" class="id"><span id="i:3267" class="id"><span id="i:3266" class="id"><span id="i:3264" class="id"><span id="i:3263" class="id"><span id="i:3262" class="id"><a name="i:3268" class="">i</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#2ed228b16343d82e9e410c7fc103f88a">&lt;-</a></span> <span class="id">E</span>) <span class="id">c^-1</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="y:3269" class="id"><span id="y:3265" class="id"><a name="y:3269" class="">y</a></span></span> <span class="gallina-kwd">in</span> <span class="id">B</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#i:3262">i</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|</a></span>(<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#y:3265">y</a></span>)<span class="id">|</span>%<span class="id">:E</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leLHS">leLHS]big_seq</a></span> <span class="id">[in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS]big_seq;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_sum">lee_sum</a></span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">/ED</span> <span class="id">/Dsub</span> <span class="id">/[!inE]</span> <span class="id">rD</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-lee_pdivr_mull</span> <span class="id">?invr_gt0//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory.invrK">invrK</a></span> <span class="id">/B/=;</span> <span class="id">exact/ltW/cMfx_int</span>.<br/>
<span class="id">rewrite</span> <span class="id">-ge0_sume_distrr//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_wpmul2l">lee_wpmul2l//;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory.invr_ge0">invr_ge0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-ge0_integral_bigsetU//=</span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral">subset_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#bigsetU_measurable">bigsetU_measurable</a></span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_ball">measurable_ball</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">case:</span> <span class="id">locf</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_ball">measurable_ball</a></span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">case:</span> <span class="id">locf</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#hardy_littlewood">hardy_littlewood</a></span>.<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
