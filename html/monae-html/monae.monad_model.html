
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module monae.monad_model</title>
<meta name="description" content="Documentation of Coq module monae.monad_model" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="monae"><summary>monae</summary>
          <ul>
          <li><a href="monae.altprob_model.html">altprob_model</a></li>
<li><a href="monae.array_lib.html">array_lib</a></li>
<li><a href="monae.category.html">category</a></li>
<li><a href="monae.category_ext.html">category_ext</a></li>
<li><a href="monae.example_iquicksort.html">example_iquicksort</a></li>
<li><a href="monae.example_monty.html">example_monty</a></li>
<li><a href="monae.example_nqueens.html">example_nqueens</a></li>
<li><a href="monae.example_quicksort.html">example_quicksort</a></li>
<li><a href="monae.example_relabeling.html">example_relabeling</a></li>
<li><a href="monae.example_spark.html">example_spark</a></li>
<li><a href="monae.example_transformer.html">example_transformer</a></li>
<li><a href="monae.example_typed_store.html">example_typed_store</a></li>
<li><a href="monae.fail_lib.html">fail_lib</a></li>
<li><a href="monae.gcm_model.html">gcm_model</a></li>
<li><a href="monae.hierarchy.html">hierarchy</a></li>
<li><a href="monae.monad_composition.html">monad_composition</a></li>
<li><a href="monae.monad_lib.html">monad_lib</a></li>
<li><a href="monae.monad_model.html">monad_model</a></li>
<li><a href="monae.monad_transformer.html">monad_transformer</a></li>
<li><a href="monae.monae_lib.html">monae_lib</a></li>
<li><a href="monae.proba_lib.html">proba_lib</a></li>
<li><a href="monae.proba_monad_model.html">proba_monad_model</a></li>
<li><a href="monae.smallstep.html">smallstep</a></li>
<li><a href="monae.state_lib.html">state_lib</a></li>
<li><a href="monae.trace_lib.html">trace_lib</a></li>
<li><a href="monae.typed_store_lib.html">typed_store_lib</a></li>
<li><a href="monae.typed_store_model.html">typed_store_model</a></li>
          </ul>
          </details>
          </li>
<li><details id="monaeImpredicativeSet"><summary>monaeImpredicativeSet</summary>
          <ul>
          <li><a href="monaeImpredicativeSet.ifail_lib.html">ifail_lib</a></li>
<li><a href="monaeImpredicativeSet.ihierarchy.html">ihierarchy</a></li>
<li><a href="monaeImpredicativeSet.imonad_composition.html">imonad_composition</a></li>
<li><a href="monaeImpredicativeSet.imonad_lib.html">imonad_lib</a></li>
<li><a href="monaeImpredicativeSet.imonae_lib.html">imonae_lib</a></li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module monae.monad_model</h1>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Logic.JMeq.html">JMeq</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.all_ssreflect.html">all_ssreflect</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap">finmap</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp">boolp</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets">classical_sets</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">infotheo</span> <span class="vernacular">Require</span> <span class="id"><a href="NOTFOUND the module url for infotheo.probability.convex">convex</a></span> <span class="id"><a href="NOTFOUND the module url for infotheo.lib.classical_sets_ext">classical_sets_ext</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="monae.monae_lib.html">monae_lib</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">HB</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="NOTFOUND the module url for HB.structures">structures</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="monae.hierarchy.html">hierarchy</a></span> <span class="id"><a href="monae.monad_lib.html">monad_lib</a></span> <span class="id"><a href="monae.fail_lib.html">fail_lib</a></span> <span class="id"><a href="monae.state_lib.html">state_lib</a></span> <span class="id"><a href="monae.trace_lib.html">trace_lib</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="monae.monad_transformer.html">monad_transformer</a></span>.<br/>
<br/>
<pre class="ssrdoc">
                      Models for various monads                            
                                                                           
Sample models for monads in hierarchy.v (see also other *_model.v files).  
As for naming, we tend to use the identifier acto for the actions on       
objects and actm for the actions on morphisms.                             
                                                                           
Instances of monads (Modules):                                             
IdentityMonad      == identity monad idfun                                 
ListMonad          == list monad seq                                       
SetMonad           == set monads using classical_sets                      
ExceptMonad        == exception monad E + A                                
option_monad       == alias for ExceptMonad.acto unit                      
OutputMonad        == output monad X * seq L                               
EnvironmentMonad   == environment monad E -&gt; A                             
StateMonad         == state monad S -&gt; A * S                               
ContMonad          == continuation monad (A -&gt; r) -&gt; r                     
                                                                           
Sigma-operations (with algebraicity proofs):                               
empty_op                == empty operation                                 
append_op               == append operation                                
flush_op                == flush operation                                 
output_op               == output operation                                
ask_op                  == ask operation                                   
local_op                == local operation                                 
throw_op                == throw operation                                 
handle_op               == handle operation                                
get_op                  == get operation                                   
put_op                  == put operation                                   
abort_op                == abort operation                                 
acallcc_op              == algebraic callcc operation                      
                                                                           
Models of interfaces:                                                      
Module Fail             == failMonad for option_monad, ListMonad.acto, set 
Module Except           == exceptMonad for ExcetMonad.acto unit            
Module State            == stateMonad for StateMonad.acto S                
Module Alt              == altMonad for ListMonad.acto, set                
Module AltCI            == altCIMonad for ListMonad.acto, set              
Module Nondet           == nondetMonad for ListMonad.acto, set             
Module ModelStateTrace  == stateTraceMonad for StateMonad.acto (S * seq T) 
Module ModelCont        == contMonad for ContMonad.acto r                  
Module ModelShiftReset  == shiftResetMonad for ContMonad.acto r            
Module ModelReify       == reifyModel for StateMonad.acto (S * seq T)      
Module ModelStateTraceReify == stateTraceReify monad for                   
                               StateMonad.acto (S * seq T)                 
Module ModelBacktrackableState == from the ground up using fsets, i.e.,    
                                  redefinition of monads state-fail-alt-   
                                  nondet-failR0-preplusmonad-nondetstate   
                                  for S -&gt; {fset (A * S)}                  
Module ModelArray       == array monad                                     
Module ModelPlusArray   == plus array monad                                
Module ModelMonadStateRun       == stateRunMonad for MS                    
Module ModelMonadExceptStateRun == exceptStateRunMonad                     
                                                                           
Module ModelTypedStore == model for typed store                            
                                                                           
references:                                                                
- Wadler, P. Monads and composable continuations. LISP and Symbolic        
  Computation 7, 39â€“55 (1994)                                              
</pre>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Implicit</span> <span class="vernacular">Arguments</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Strict</span> <span class="vernacular">Implicit</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Printing</span> <span class="vernacular">Implicit</span> <span class="vernacular">Defensive</span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">monae_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="PR_to_fset" class="id"><a name="PR_to_fset" class="">PR_to_fset</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">fset_scope</span>.<br/>
<span class="vernacular">Variables</span> (<span id="PR_to_fset.K" class="id"><a name="PR_to_fset.K" class="">K</a></span> <span id="PR_to_fset.V" class="id"><a name="PR_to_fset.V" class="">V</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span id="PR_to_fset.f" class="id"><a name="PR_to_fset.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#K:2">K</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#V:1">V</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="imfset_set1" class="id"><a name="imfset_set1" class="">imfset_set1</a></span> <span id="x:4" class="id"><a name="x:4" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#PR_to_fset.f">f</a></span> @<span class="id">`</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#45faaf8544caccf9f9d40224448c1ef6">[fset</a></span> <span class="id"><a href="monae.monad_model.html#x:4">x]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#45faaf8544caccf9f9d40224448c1ef6">[fset</a></span> <span class="id"><a href="monae.monad_model.html#PR_to_fset.f">f</a></span> <span class="id"><a href="monae.monad_model.html#x:4">x]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
<span class="id">apply/fsetP</span> <span class="id">=&gt;</span> <span class="id">y</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/imfsetP/fset1P=&gt;</span> <span class="id">[[x'</span> <span class="id">/fset1P-&gt;</span> <span class="id">//]|</span> <span class="id">-&gt;];</span> <span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">?fset11</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Variables</span> (<span id="PR_to_fset.T" class="id"><a name="PR_to_fset.T" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span id="PR_to_fset.I" class="id"><a name="PR_to_fset.I" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType">eqType</a></span>) (<span id="PR_to_fset.r" class="id"><a name="PR_to_fset.r" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.monad_model.html#I:6">I</a></span>).<br/>
<span class="vernacular">Lemma</span> <span id="bigfcupP'" class="id"><a name="bigfcupP'" class="">bigfcupP'</a></span> <span id="x:8" class="id"><a name="x:8" class="">x</a></span> (<span id="F:9" class="id"><a name="F:9" class="">F</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#PR_to_fset.I">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#56b55a79be47ef2ec896f3a7734c305c">{fset</a></span> <span class="id"><a href="monae.monad_model.html#PR_to_fset.T">T}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> (<span class="gallina-kwd">exists2</span> <span id="i:11" class="id"><span id="i:10" class="id"><a name="i:11" class="">i</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc">:</a></span> <span class="id"><a href="monae.monad_model.html#PR_to_fset.I">I,</a></span> (<span class="id"><a href="monae.monad_model.html#i:10">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="monae.monad_model.html#PR_to_fset.r">r</a></span>) &amp; <span class="id"><a href="monae.monad_model.html#x:8">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="monae.monad_model.html#F:9">F</a></span> <span class="id"><a href="monae.monad_model.html#i:11">i</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.monad_model.html#x:8">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#3a889a3dfd4a88a0a10e3c59de476d6e">\bigcup_</a></span>(<span id="i:14" class="id"><span id="i:13" class="id"><span id="i:12" class="id"><a name="i:14" class="">i</a></span></span></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#3a889a3dfd4a88a0a10e3c59de476d6e">&lt;-</a></span> <span class="id"><a href="monae.monad_model.html#PR_to_fset.r">r</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#3a889a3dfd4a88a0a10e3c59de476d6e">|</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span>) <span class="id"><a href="monae.monad_model.html#F:9">F</a></span> <span class="id"><a href="monae.monad_model.html#i:12">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
<span class="id">apply:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) <span class="id">=&gt;</span> <span class="id">[|[i</span> <span class="id">ri]];</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#fsubsetP">fsubsetP</a></span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#bigfcup_sup">bigfcup_sup</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_seq_cond">big_seq_cond;</a></span> <span class="id">elim/big_rec:</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">[|i</span> <span class="id">_</span> <span class="id">/andP[ri</span> <span class="id">Pi]</span> <span class="id">_</span> <span class="id">/fsetUP[|//]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#in_fset0">in_fset0</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id">?ri</span>.<br/>
Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#PR_to_fset">PR_to_fset</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="assoc" class="id"><a name="assoc" class="">assoc</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="assoc.I" class="id"><a name="assoc.I" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType">eqType</a></span>) (<span id="assoc.S" class="id"><a name="assoc.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="insert" class="id"><a name="insert" class="">insert</a></span> <span id="i:17" class="id"><a name="i:17" class="">i</a></span> <span id="s:18" class="id"><a name="s:18" class="">s</a></span> (<span id="a:19" class="id"><a name="a:19" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#assoc.I">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#assoc.S">S</a></span>) <span id="j:20" class="id"><a name="j:20" class="">j</a></span> <span class="id">:=</span> <span class="gallina-kwd">if</span> <span class="id"><a href="monae.monad_model.html#i:17">i</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="monae.monad_model.html#j:20">j</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.monad_model.html#s:18">s</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="monae.monad_model.html#a:19">a</a></span> <span class="id"><a href="monae.monad_model.html#j:20">j</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="insert_insert" class="id"><a name="insert_insert" class="">insert_insert</a></span> <span id="i:21" class="id"><a name="i:21" class="">i</a></span> <span id="s':22" class="id"><a name="s':22" class="">s'</a></span> <span id="s:23" class="id"><a name="s:23" class="">s</a></span> <span id="a:24" class="id"><a name="a:24" class="">a</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#insert">insert</a></span> <span class="id"><a href="monae.monad_model.html#i:21">i</a></span> <span class="id"><a href="monae.monad_model.html#s':22">s'</a></span> (<span class="id"><a href="monae.monad_model.html#insert">insert</a></span> <span class="id"><a href="monae.monad_model.html#i:21">i</a></span> <span class="id"><a href="monae.monad_model.html#s:23">s</a></span> <span class="id"><a href="monae.monad_model.html#a:24">a</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#insert">insert</a></span> <span class="id"><a href="monae.monad_model.html#i:21">i</a></span> <span class="id"><a href="monae.monad_model.html#s':22">s'</a></span> <span class="id"><a href="monae.monad_model.html#a:24">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">j;</span> <span class="id">rewrite</span> <span class="id">/insert;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/negbTE</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<span class="vernacular">Lemma</span> <span id="insert_same" class="id"><a name="insert_same" class="">insert_same</a></span> <span id="i:25" class="id"><a name="i:25" class="">i</a></span> <span id="a:26" class="id"><a name="a:26" class="">a</a></span> <span id="s:27" class="id"><a name="s:27" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#insert">insert</a></span> <span class="id"><a href="monae.monad_model.html#i:25">i</a></span> <span class="id"><a href="monae.monad_model.html#s:27">s</a></span> <span class="id"><a href="monae.monad_model.html#a:26">a</a></span> <span class="id"><a href="monae.monad_model.html#i:25">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#s:27">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/insert</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="insert_same2" class="id"><a name="insert_same2" class="">insert_same2</a></span> <span id="i:28" class="id"><a name="i:28" class="">i</a></span> <span id="a:29" class="id"><a name="a:29" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#insert">insert</a></span> <span class="id"><a href="monae.monad_model.html#i:28">i</a></span> (<span class="id"><a href="monae.monad_model.html#a:29">a</a></span> <span class="id"><a href="monae.monad_model.html#i:28">i</a></span>) <span class="id"><a href="monae.monad_model.html#a:29">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#a:29">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">j;</span> <span class="id">rewrite</span> <span class="id">/insert;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/eqP</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<span class="vernacular">Lemma</span> <span id="insertC" class="id"><a name="insertC" class="">insertC</a></span> <span id="j:30" class="id"><a name="j:30" class="">j</a></span> <span id="i:31" class="id"><a name="i:31" class="">i</a></span> <span id="v:32" class="id"><a name="v:32" class="">v</a></span> <span id="u:33" class="id"><a name="u:33" class="">u</a></span> <span id="a:34" class="id"><a name="a:34" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#i:31">i</a></span> <span class="id">!=</span> <span class="id"><a href="monae.monad_model.html#j:30">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#insert">insert</a></span> <span class="id"><a href="monae.monad_model.html#j:30">j</a></span> <span class="id"><a href="monae.monad_model.html#v:32">v</a></span> (<span class="id"><a href="monae.monad_model.html#insert">insert</a></span> <span class="id"><a href="monae.monad_model.html#i:31">i</a></span> <span class="id"><a href="monae.monad_model.html#u:33">u</a></span> <span class="id"><a href="monae.monad_model.html#a:34">a</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#insert">insert</a></span> <span class="id"><a href="monae.monad_model.html#i:31">i</a></span> <span class="id"><a href="monae.monad_model.html#u:33">u</a></span> (<span class="id"><a href="monae.monad_model.html#insert">insert</a></span> <span class="id"><a href="monae.monad_model.html#j:30">j</a></span> <span class="id"><a href="monae.monad_model.html#v:32">v</a></span> <span class="id"><a href="monae.monad_model.html#a:34">a</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="id">move=&gt;</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">k;</span> <span class="id">rewrite</span> <span class="id">/insert;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/eqP</span> <span class="id">&lt;-{k}</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">h</span>).<br/>
Qed.</div>
<span class="vernacular">Lemma</span> <span id="insertC2" class="id"><a name="insertC2" class="">insertC2</a></span> <span id="j:35" class="id"><a name="j:35" class="">j</a></span> <span id="i:36" class="id"><a name="i:36" class="">i</a></span> <span id="v:37" class="id"><a name="v:37" class="">v</a></span> <span id="a:38" class="id"><a name="a:38" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#insert">insert</a></span> <span class="id"><a href="monae.monad_model.html#j:35">j</a></span> <span class="id"><a href="monae.monad_model.html#v:37">v</a></span> (<span class="id"><a href="monae.monad_model.html#insert">insert</a></span> <span class="id"><a href="monae.monad_model.html#i:36">i</a></span> <span class="id"><a href="monae.monad_model.html#v:37">v</a></span> <span class="id"><a href="monae.monad_model.html#a:38">a</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#insert">insert</a></span> <span class="id"><a href="monae.monad_model.html#i:36">i</a></span> <span class="id"><a href="monae.monad_model.html#v:37">v</a></span> (<span class="id"><a href="monae.monad_model.html#insert">insert</a></span> <span class="id"><a href="monae.monad_model.html#j:35">j</a></span> <span class="id"><a href="monae.monad_model.html#v:37">v</a></span> <span class="id"><a href="monae.monad_model.html#a:38">a</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
<span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">k;</span> <span class="id">rewrite</span> <span class="id">/insert;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/eqP</span> <span class="id">&lt;-{k}</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#if_same">if_same</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#assoc">assoc</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="IdentityMonad" class="id"><a name="IdentityMonad" class="">IdentityMonad</a></span>.<br/>
<span class="vernacular">Section</span> <span id="IdentityMonad.identitymonad" class="id"><a name="IdentityMonad.identitymonad" class="">identitymonad</a></span>.<br/>
<span class="vernacular">Let</span> <span id="IdentityMonad.identitymonad.bind" class="id"><a name="IdentityMonad.identitymonad.bind" class="">bind</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:39" class="id"><a name="A:39" class="">A</a></span> <span id="B:40" class="id"><a name="B:40" class="">B</a></span> (<span id="a:41" class="id"><a name="a:41" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:39">A</a></span>) (<span id="f:42" class="id"><a name="f:42" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:39">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#B:40">B</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:42">f</a></span> <span class="id"><a href="monae.monad_model.html#a:41">a</a></span>.<br/>
<span class="vernacular">Let</span> <span id="IdentityMonad.identitymonad.left_neutral" class="id"><a name="IdentityMonad.identitymonad.left_neutral" class="">left_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monae.monad_model.html#IdentityMonad.identitymonad.bind">bind</a></span> (<span class="id"><a href="monae.monad_lib.html#NId">NId</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="IdentityMonad.identitymonad.right_neutral" class="id"><a name="IdentityMonad.identitymonad.right_neutral" class="">right_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monae.monad_model.html#IdentityMonad.identitymonad.bind">bind</a></span> (<span class="id"><a href="monae.monad_lib.html#NId">NId</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="IdentityMonad.identitymonad.associative" class="id"><a name="IdentityMonad.identitymonad.associative" class="">associative</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monae.monad_model.html#IdentityMonad.identitymonad.bind">bind</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="IdentityMonad.identitymonad.acto" class="id"><a name="IdentityMonad.identitymonad.acto" class="">acto</a></span> <span class="id">:=</span> (@<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>).<br/>
<span id="IdentityMonad.IdentityMonad_acto__canonical__hierarchy_Monad" class="id"><span id="IdentityMonad.HB_unnamed_mixin_5" class="id"><span id="IdentityMonad.IdentityMonad_acto__canonical__hierarchy_Functor" class="id"><span id="IdentityMonad.HB_unnamed_mixin_4" class="id"><span id="IdentityMonad.hierarchy_isMonad_ret_bind__to__hierarchy_isFunctor" class="id"><span id="IdentityMonad.hierarchy_isMonad_ret_bind__to__hierarchy_isMonad" class="id"><span id="IdentityMonad.HB_unnamed_factory_1" class="id"><a name="IdentityMonad.IdentityMonad_acto__canonical__hierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#IdentityMonad.identitymonad.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#IdentityMonad.identitymonad.left_neutral">left_neutral</a></span> <span class="id"><a href="monae.monad_model.html#IdentityMonad.identitymonad.right_neutral">right_neutral</a></span> <span class="id"><a href="monae.monad_model.html#IdentityMonad.identitymonad.associative">associative</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#IdentityMonad.identitymonad">identitymonad</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#IdentityMonad">IdentityMonad</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">IdentityMonad</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ListMonad" class="id"><a name="ListMonad" class="">ListMonad</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ListMonad.listmonad" class="id"><a name="ListMonad.listmonad" class="">listmonad</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ListMonad.acto" class="id"><a name="ListMonad.acto" class="">acto</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:43" class="id"><a name="A:43" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.monad_model.html#A:43">A</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="ListMonad.M" class="id"><a name="ListMonad.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ListMonad.acto">acto</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ListMonad.listmonad.ret" class="id"><a name="ListMonad.listmonad.ret" class="">ret</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ListMonad.M">M</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> (<span id="A:44" class="id"><a name="A:44" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span id="x:45" class="id"><a name="x:45" class="">x</a></span> <span class="id">=&gt;</span> (@<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#cons">cons</a></span> <span class="id"><a href="monae.monad_model.html#A:44">A</a></span>) <span class="id"><a href="monae.monad_model.html#x:45">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626">[::]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ListMonad.listmonad.bind" class="id"><a name="ListMonad.listmonad.bind" class="">bind</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:46" class="id"><a name="A:46" class="">A</a></span> <span id="B:47" class="id"><a name="B:47" class="">B</a></span> (<span id="m:48" class="id"><a name="m:48" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ListMonad.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:46">A</a></span>) (<span id="f:49" class="id"><a name="f:49" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:46">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ListMonad.M">M</a></span> <span class="id"><a href="monae.monad_model.html#B:47">B</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#flatten">flatten</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#map">map</a></span> <span class="id"><a href="monae.monad_model.html#f:49">f</a></span> <span class="id"><a href="monae.monad_model.html#m:48">m</a></span>).<br/>
<span class="vernacular">Let</span> <span id="ListMonad.listmonad.left_neutral" class="id"><a name="ListMonad.listmonad.left_neutral" class="">left_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monae.monad_model.html#ListMonad.listmonad.bind">bind</a></span> <span class="id"><a href="monae.monad_model.html#ListMonad.listmonad.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">m</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id">/bind</span> <span class="id">/ret</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ListMonad.listmonad.right_neutral" class="id"><a name="ListMonad.listmonad.right_neutral" class="">right_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monae.monad_model.html#ListMonad.listmonad.bind">bind</a></span> <span class="id"><a href="monae.monad_model.html#ListMonad.listmonad.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">m;</span> <span class="id">rewrite</span> <span class="id">/bind</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#flatten_seq1">flatten_seq1</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ListMonad.listmonad.associative" class="id"><a name="ListMonad.listmonad.associative" class="">associative</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monae.monad_model.html#ListMonad.listmonad.bind">bind</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C;</span> <span class="id">elim</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">h</span> <span class="id">t;</span> <span class="id">rewrite</span> <span class="id">/bind</span> <span class="id">=&gt;</span> <span class="id">ih</span> <span class="id">f</span> <span class="id">g</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#map_cat">map_cat</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#flatten_cat">flatten_cat</a></span> <span class="id">/=</span> <span class="id">ih</span>.<br/>
Qed.</div>
<span id="ListMonad.ListMonad_acto__canonical__hierarchy_Monad" class="id"><span id="ListMonad.HB_unnamed_mixin_10" class="id"><span id="ListMonad.ListMonad_acto__canonical__hierarchy_Functor" class="id"><span id="ListMonad.HB_unnamed_mixin_9" class="id"><span id="ListMonad.hierarchy_isMonad_ret_bind__to__hierarchy_isFunctor" class="id"><span id="ListMonad.hierarchy_isMonad_ret_bind__to__hierarchy_isMonad" class="id"><span id="ListMonad.HB_unnamed_factory_6" class="id"><a name="ListMonad.ListMonad_acto__canonical__hierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span> <span class="id"><a href="monae.monad_model.html#ListMonad.M">M</a></span> <span class="id"><a href="monae.monad_model.html#ListMonad.listmonad.left_neutral">left_neutral</a></span> <span class="id"><a href="monae.monad_model.html#ListMonad.listmonad.right_neutral">right_neutral</a></span> <span class="id"><a href="monae.monad_model.html#ListMonad.listmonad.associative">associative</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ListMonad.listmonad">listmonad</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ListMonad">ListMonad</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ListMonad</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="list_bindE" class="id"><a name="list_bindE" class="">list_bindE</a></span> (<span id="A:50" class="id"><a name="A:50" class="">A</a></span> <span id="B:51" class="id"><a name="B:51" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="M:52" class="id"><a name="M:52" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#acto">ListMonad.acto</a></span>) (<span id="m:53" class="id"><a name="m:53" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#M:52">M</a></span> <span class="id"><a href="monae.monad_model.html#A:50">A</a></span>) (<span id="f:54" class="id"><a name="f:54" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:50">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M:52">M</a></span> <span class="id"><a href="monae.monad_model.html#B:51">B</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#m:53">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#f:54">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#flatten">flatten</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#map">map</a></span> <span class="id"><a href="monae.monad_model.html#f:54">f</a></span> <span class="id"><a href="monae.monad_model.html#m:53">m</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Module</span> <span id="SetMonad" class="id"><a name="SetMonad" class="">SetMonad</a></span>.<br/>
<span class="vernacular">Section</span> <span id="SetMonad.setmonad" class="id"><a name="SetMonad.setmonad" class="">setmonad</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="vernacular">Definition</span> <span id="SetMonad.acto" class="id"><a name="SetMonad.acto" class="">acto</a></span> <span class="id">:=</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set">set</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="SetMonad.M" class="id"><a name="SetMonad.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#SetMonad.acto">acto</a></span>.<br/>
<span class="vernacular">Let</span> <span id="SetMonad.setmonad.ret" class="id"><a name="SetMonad.setmonad.ret" class="">ret</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_model.html#SetMonad.M">M</a></span> <span class="id">:=</span> @<span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set1">set1</a></span>.<br/>
<span class="vernacular">Let</span> <span id="SetMonad.setmonad.bind" class="id"><a name="SetMonad.setmonad.bind" class="">bind</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:55" class="id"><a name="A:55" class="">A</a></span> <span id="B:56" class="id"><a name="B:56" class="">B</a></span> <span class="id">=&gt;</span> @<span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#bigcup">bigcup</a></span> <span class="id"><a href="monae.monad_model.html#B:56">B</a></span> <span class="id"><a href="monae.monad_model.html#A:55">A</a></span>.<br/>
<span class="vernacular">Let</span> <span id="SetMonad.setmonad.left_neutral" class="id"><a name="SetMonad.setmonad.left_neutral" class="">left_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monae.monad_model.html#SetMonad.setmonad.bind">bind</a></span> <span class="id"><a href="monae.monad_model.html#SetMonad.setmonad.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
 <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">exact:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#bigcup_set1">bigcup_set1</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="SetMonad.setmonad.right_neutral" class="id"><a name="SetMonad.setmonad.right_neutral" class="">right_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monae.monad_model.html#SetMonad.setmonad.bind">bind</a></span> <span class="id"><a href="monae.monad_model.html#SetMonad.setmonad.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id">/bind</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#bigcup_imset1">bigcup_imset1</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#image_id">image_id</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="SetMonad.setmonad.associative" class="id"><a name="SetMonad.setmonad.associative" class="">associative</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monae.monad_model.html#SetMonad.setmonad.bind">bind</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
 <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">exact:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#bigcup_bigcup">bigcup_bigcup</a></span>. Qed.</div>
<span id="SetMonad.classical_sets_set__canonical__hierarchy_Monad" class="id"><span id="SetMonad.HB_unnamed_mixin_15" class="id"><span id="SetMonad.classical_sets_set__canonical__hierarchy_Functor" class="id"><span id="SetMonad.HB_unnamed_mixin_14" class="id"><span id="SetMonad.hierarchy_isMonad_ret_bind__to__hierarchy_isFunctor" class="id"><span id="SetMonad.hierarchy_isMonad_ret_bind__to__hierarchy_isMonad" class="id"><span id="SetMonad.HB_unnamed_factory_11" class="id"><a name="SetMonad.classical_sets_set__canonical__hierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set">set</a></span> <span class="id"><a href="monae.monad_model.html#SetMonad.setmonad.left_neutral">left_neutral</a></span> <span class="id"><a href="monae.monad_model.html#SetMonad.setmonad.right_neutral">right_neutral</a></span> <span class="id"><a href="monae.monad_model.html#SetMonad.setmonad.associative">associative</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#SetMonad.setmonad">setmonad</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#SetMonad">SetMonad</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">SetMonad</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="set_bindE" class="id"><a name="set_bindE" class="">set_bindE</a></span> (<span id="A:57" class="id"><a name="A:57" class="">A</a></span> <span id="B:58" class="id"><a name="B:58" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="M:59" class="id"><a name="M:59" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set">set]</a></span>) (<span id="m:60" class="id"><a name="m:60" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#M:59">M</a></span> <span class="id"><a href="monae.monad_model.html#A:57">A</a></span>) (<span id="f:61" class="id"><a name="f:61" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:57">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M:59">M</a></span> <span class="id"><a href="monae.monad_model.html#B:58">B</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#m:60">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#f:61">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#bigcup">bigcup</a></span> <span class="id"><a href="monae.monad_model.html#m:60">m</a></span> <span class="id"><a href="monae.monad_model.html#f:61">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Module</span> <span id="ExceptMonad" class="id"><a name="ExceptMonad" class="">ExceptMonad</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ExceptMonad.exceptmonad" class="id"><a name="ExceptMonad.exceptmonad" class="">exceptmonad</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ExceptMonad.exceptmonad.E" class="id"><a name="ExceptMonad.exceptmonad.E" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ExceptMonad.acto" class="id"><a name="ExceptMonad.acto" class="">acto</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:63" class="id"><a name="A:63" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monae.monad_model.html#ExceptMonad.exceptmonad.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92">+</a></span> <span class="id"><a href="monae.monad_model.html#A:63">A</a></span>)%<span class="id">type</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="ExceptMonad.M" class="id"><a name="ExceptMonad.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ExceptMonad.acto">acto</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ExceptMonad.exceptmonad.ret" class="id"><a name="ExceptMonad.exceptmonad.ret" class="">ret</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ExceptMonad.M">M</a></span> <span class="id">:=</span> @<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id"><a href="monae.monad_model.html#ExceptMonad.exceptmonad.E">E</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ExceptMonad.exceptmonad.bind" class="id"><a name="ExceptMonad.exceptmonad.bind" class="">bind</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:64" class="id"><a name="A:64" class="">A</a></span> <span id="B:65" class="id"><a name="B:65" class="">B</a></span> (<span id="m:66" class="id"><a name="m:66" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ExceptMonad.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:64">A</a></span>) (<span id="f:67" class="id"><a name="f:67" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:64">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ExceptMonad.M">M</a></span> <span class="id"><a href="monae.monad_model.html#B:65">B</a></span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="monae.monad_model.html#m:66">m</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id">z</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id">z</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id">b</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:67">f</a></span> <span class="id">b</span> <span class="gallina-kwd">end</span>.<br/>
<span class="vernacular">Let</span> <span id="ExceptMonad.exceptmonad.left_neutral" class="id"><a name="ExceptMonad.exceptmonad.left_neutral" class="">left_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monae.monad_model.html#ExceptMonad.exceptmonad.bind">bind</a></span> <span class="id"><a href="monae.monad_model.html#ExceptMonad.exceptmonad.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ExceptMonad.exceptmonad.right_neutral" class="id"><a name="ExceptMonad.exceptmonad.right_neutral" class="">right_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monae.monad_model.html#ExceptMonad.exceptmonad.bind">bind</a></span> <span class="id"><a href="monae.monad_model.html#ExceptMonad.exceptmonad.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ExceptMonad.exceptmonad.associative" class="id"><a name="ExceptMonad.exceptmonad.associative" class="">associative</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monae.monad_model.html#ExceptMonad.exceptmonad.bind">bind</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?</span> <span class="id">[]</span>. Qed.</div>
<span id="ExceptMonad.ExceptMonad_acto__canonical__hierarchy_Monad" class="id"><span id="ExceptMonad.HB_unnamed_mixin_20" class="id"><span id="ExceptMonad.ExceptMonad_acto__canonical__hierarchy_Functor" class="id"><span id="ExceptMonad.HB_unnamed_mixin_19" class="id"><span id="ExceptMonad.hierarchy_isMonad_ret_bind__to__hierarchy_isFunctor" class="id"><span id="ExceptMonad.hierarchy_isMonad_ret_bind__to__hierarchy_isMonad" class="id"><span id="ExceptMonad.HB_unnamed_factory_16" class="id"><a name="ExceptMonad.ExceptMonad_acto__canonical__hierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span> <span class="id"><a href="monae.monad_model.html#ExceptMonad.M">M</a></span> <span class="id"><a href="monae.monad_model.html#ExceptMonad.exceptmonad.left_neutral">left_neutral</a></span> <span class="id"><a href="monae.monad_model.html#ExceptMonad.exceptmonad.right_neutral">right_neutral</a></span> <span class="id"><a href="monae.monad_model.html#ExceptMonad.exceptmonad.associative">associative</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ExceptMonad.exceptmonad">exceptmonad</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ExceptMonad">ExceptMonad</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ExceptMonad</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="except_bindE" class="id"><a name="except_bindE" class="">except_bindE</a></span> (<span id="E:69" class="id"><a name="E:69" class="">E</a></span> <span id="A:70" class="id"><a name="A:70" class="">A</a></span> <span id="B:71" class="id"><a name="B:71" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="M:72" class="id"><a name="M:72" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#acto">ExceptMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#E:69">E</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="m:73" class="id"><a name="m:73" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#M:72">M</a></span> <span class="id"><a href="monae.monad_model.html#A:70">A</a></span>) (<span id="f:74" class="id"><a name="f:74" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:70">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M:72">M</a></span> <span class="id"><a href="monae.monad_model.html#B:71">B</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#m:73">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#f:74">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">match</span> <span class="id"><a href="monae.monad_model.html#m:73">m</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id">z</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id">z</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id">b</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:74">f</a></span> <span class="id">b</span> <span class="gallina-kwd">end</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="option_monad" class="id"><a name="option_monad" class="">option_monad</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#acto">ExceptMonad.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span>.<br/>
<span id="monad_model_option_monad__canonical__hierarchy_Monad" class="id"><span id="HB_unnamed_mixin_25" class="id"><span id="monad_model_option_monad__canonical__hierarchy_Functor" class="id"><span id="HB_unnamed_mixin_24" class="id"><span id="hierarchy_Monad__to__hierarchy_isMonad" class="id"><span id="hierarchy_Monad__to__hierarchy_isFunctor" class="id"><span id="HB_unnamed_factory_21" class="id"><a name="monad_model_option_monad__canonical__hierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#Monad.on">Monad.on</a></span> <span class="id"><a href="monae.monad_model.html#option_monad">option_monad</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="OutputMonad" class="id"><a name="OutputMonad" class="">OutputMonad</a></span>.<br/>
<span class="vernacular">Section</span> <span id="OutputMonad.output" class="id"><a name="OutputMonad.output" class="">output</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="OutputMonad.output.L" class="id"><a name="OutputMonad.output.L" class="">L</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="OutputMonad.acto" class="id"><a name="OutputMonad.acto" class="">acto</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="X:77" class="id"><a name="X:77" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monae.monad_model.html#X:77">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.monad_model.html#OutputMonad.output.L">L</a></span>)%<span class="id">type</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="OutputMonad.M" class="id"><a name="OutputMonad.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#OutputMonad.acto">acto</a></span>.<br/>
<span class="vernacular">Let</span> <span id="OutputMonad.output.ret" class="id"><a name="OutputMonad.output.ret" class="">ret</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_model.html#OutputMonad.M">M</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:78" class="id"><a name="A:78" class="">A</a></span> <span id="a:79" class="id"><a name="a:79" class="">a</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monae.monad_model.html#a:79">a,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626">[::]</a></span>).<br/>
<span class="vernacular">Let</span> <span id="OutputMonad.output.bind" class="id"><a name="OutputMonad.output.bind" class="">bind</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> (<span id="A:80" class="id"><a name="A:80" class="">A</a></span> <span id="B:81" class="id"><a name="B:81" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:82" class="id"><a name="m:82" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#OutputMonad.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:80">A</a></span>) (<span id="f:83" class="id"><a name="f:83" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:80">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#OutputMonad.M">M</a></span> <span class="id"><a href="monae.monad_model.html#B:81">B</a></span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;<span class="id">let:</span> (<span class="id">x,</span> <span class="id">w</span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#m:82">m</a></span> <span class="gallina-kwd">in</span> <span class="id">let:</span> (<span class="id">x',</span> <span class="id">w'</span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#f:83">f</a></span> <span class="id">x</span> <span class="gallina-kwd">in</span> (<span class="id">x',</span> <span class="id">w</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">w'</span>).<br/>
<span class="vernacular">Let</span> <span id="OutputMonad.output.left_neutral" class="id"><a name="OutputMonad.output.left_neutral" class="">left_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monae.monad_model.html#OutputMonad.output.bind">bind</a></span> <span class="id"><a href="monae.monad_model.html#OutputMonad.output.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">a</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id">/bind</span> <span class="id">/=;</span> <span class="id">case:</span> <span class="id">f</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="OutputMonad.output.right_neutral" class="id"><a name="OutputMonad.output.right_neutral" class="">right_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monae.monad_model.html#OutputMonad.output.bind">bind</a></span> <span class="id"><a href="monae.monad_model.html#OutputMonad.output.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">m;</span> <span class="id">rewrite</span> <span class="id">/bind</span> <span class="id">/=;</span> <span class="id">case:</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">w;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="OutputMonad.output.associative" class="id"><a name="OutputMonad.output.associative" class="">associative</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monae.monad_model.html#OutputMonad.output.bind">bind</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">m</span> <span class="id">f</span> <span class="id">g;</span> <span class="id">rewrite</span> <span class="id">/bind;</span> <span class="id">case:</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">w;</span> <span class="id">case:</span> <span class="id">f</span> <span class="id">=&gt;</span> <span class="id">x'</span> <span class="id">w'</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">g</span> <span class="id">=&gt;</span> <span class="id">x''</span> <span class="id">w'';</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#catA">catA</a></span>.<br/>
Qed.</div>
<span id="OutputMonad.OutputMonad_acto__canonical__hierarchy_Monad" class="id"><span id="OutputMonad.HB_unnamed_mixin_30" class="id"><span id="OutputMonad.OutputMonad_acto__canonical__hierarchy_Functor" class="id"><span id="OutputMonad.HB_unnamed_mixin_29" class="id"><span id="OutputMonad.hierarchy_isMonad_ret_bind__to__hierarchy_isFunctor" class="id"><span id="OutputMonad.hierarchy_isMonad_ret_bind__to__hierarchy_isMonad" class="id"><span id="OutputMonad.HB_unnamed_factory_26" class="id"><a name="OutputMonad.OutputMonad_acto__canonical__hierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span> <span class="id"><a href="monae.monad_model.html#OutputMonad.M">M</a></span> <span class="id"><a href="monae.monad_model.html#OutputMonad.output.left_neutral">left_neutral</a></span> <span class="id"><a href="monae.monad_model.html#OutputMonad.output.right_neutral">right_neutral</a></span> <span class="id"><a href="monae.monad_model.html#OutputMonad.output.associative">associative</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#OutputMonad.output">output</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#OutputMonad">OutputMonad</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">OutputMonad</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="output_bindE" class="id"><a name="output_bindE" class="">output_bindE</a></span> (<span id="L:85" class="id"><a name="L:85" class="">L</a></span> <span id="A:86" class="id"><a name="A:86" class="">A</a></span> <span id="B:87" class="id"><a name="B:87" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="M:88" class="id"><a name="M:88" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#acto">OutputMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#L:85">L</a></span>)<br/>
&nbsp;&nbsp;&nbsp;(<span id="m:89" class="id"><a name="m:89" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#M:88">M</a></span> <span class="id"><a href="monae.monad_model.html#A:86">A</a></span>) (<span id="f:90" class="id"><a name="f:90" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:86">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M:88">M</a></span> <span class="id"><a href="monae.monad_model.html#B:87">B</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#m:89">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#f:90">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">let:</span> (<span class="id">x,</span> <span class="id">w</span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#m:89">m</a></span> <span class="gallina-kwd">in</span> <span class="id">let:</span> (<span class="id">x',</span> <span class="id">w'</span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#f:90">f</a></span> <span class="id">x</span> <span class="gallina-kwd">in</span> (<span class="id">x',</span> <span class="id">w</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">w'</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Module</span> <span id="EnvironmentMonad" class="id"><a name="EnvironmentMonad" class="">EnvironmentMonad</a></span>.<br/>
<span class="vernacular">Section</span> <span id="EnvironmentMonad.environment" class="id"><a name="EnvironmentMonad.environment" class="">environment</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="EnvironmentMonad.environment.E" class="id"><a name="EnvironmentMonad.environment.E" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="EnvironmentMonad.acto" class="id"><a name="EnvironmentMonad.acto" class="">acto</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:93" class="id"><a name="A:93" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#EnvironmentMonad.environment.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#A:93">A</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="EnvironmentMonad.M" class="id"><a name="EnvironmentMonad.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#EnvironmentMonad.acto">acto</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="EnvironmentMonad.ret" class="id"><a name="EnvironmentMonad.ret" class="">ret</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_model.html#EnvironmentMonad.M">M</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:94" class="id"><a name="A:94" class="">A</a></span> <span id="x:95" class="id"><a name="x:95" class="">x</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">fun</span> <span id="e:96" class="id"><a name="e:96" class="">e</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#x:95">x</a></span>.<br/>
<span class="vernacular">Let</span> <span id="EnvironmentMonad.environment.bind" class="id"><a name="EnvironmentMonad.environment.bind" class="">bind</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> (<span id="A:97" class="id"><a name="A:97" class="">A</a></span> <span id="B:98" class="id"><a name="B:98" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:99" class="id"><a name="m:99" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#EnvironmentMonad.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:97">A</a></span>) (<span id="f:100" class="id"><a name="f:100" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:97">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#EnvironmentMonad.M">M</a></span> <span class="id"><a href="monae.monad_model.html#B:98">B</a></span>) <span class="id">=&gt;</span> <span class="gallina-kwd">fun</span> <span id="e:101" class="id"><a name="e:101" class="">e</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:100">f</a></span> (<span class="id"><a href="monae.monad_model.html#m:99">m</a></span> <span class="id"><a href="monae.monad_model.html#e:101">e</a></span>) <span class="id"><a href="monae.monad_model.html#e:101">e</a></span>.<br/>
<span class="vernacular">Let</span> <span id="EnvironmentMonad.environment.left_neutral" class="id"><a name="EnvironmentMonad.environment.left_neutral" class="">left_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monae.monad_model.html#EnvironmentMonad.environment.bind">bind</a></span> <span class="id"><a href="monae.monad_model.html#EnvironmentMonad.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="EnvironmentMonad.environment.right_neutral" class="id"><a name="EnvironmentMonad.environment.right_neutral" class="">right_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monae.monad_model.html#EnvironmentMonad.environment.bind">bind</a></span> <span class="id"><a href="monae.monad_model.html#EnvironmentMonad.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="EnvironmentMonad.environment.associative" class="id"><a name="EnvironmentMonad.environment.associative" class="">associative</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monae.monad_model.html#EnvironmentMonad.environment.bind">bind</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="EnvironmentMonad.EnvironmentMonad_acto__canonical__hierarchy_Monad" class="id"><span id="EnvironmentMonad.HB_unnamed_mixin_35" class="id"><span id="EnvironmentMonad.EnvironmentMonad_acto__canonical__hierarchy_Functor" class="id"><span id="EnvironmentMonad.HB_unnamed_mixin_34" class="id"><span id="EnvironmentMonad.hierarchy_isMonad_ret_bind__to__hierarchy_isFunctor" class="id"><span id="EnvironmentMonad.hierarchy_isMonad_ret_bind__to__hierarchy_isMonad" class="id"><span id="EnvironmentMonad.HB_unnamed_factory_31" class="id"><a name="EnvironmentMonad.EnvironmentMonad_acto__canonical__hierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span> <span class="id"><a href="monae.monad_model.html#EnvironmentMonad.M">M</a></span> <span class="id"><a href="monae.monad_model.html#EnvironmentMonad.environment.left_neutral">left_neutral</a></span> <span class="id"><a href="monae.monad_model.html#EnvironmentMonad.environment.right_neutral">right_neutral</a></span> <span class="id"><a href="monae.monad_model.html#EnvironmentMonad.environment.associative">associative</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#EnvironmentMonad.environment">environment</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#EnvironmentMonad">EnvironmentMonad</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">EnvironmentMonad</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="environment_bindE" class="id"><a name="environment_bindE" class="">environment_bindE</a></span> (<span id="E:102" class="id"><a name="E:102" class="">E</a></span> <span id="A:103" class="id"><a name="A:103" class="">A</a></span> <span id="B:104" class="id"><a name="B:104" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="M:105" class="id"><a name="M:105" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#acto">EnvironmentMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#E:102">E</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="m:106" class="id"><a name="m:106" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#M:105">M</a></span> <span class="id"><a href="monae.monad_model.html#A:103">A</a></span>) (<span id="f:107" class="id"><a name="f:107" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:103">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M:105">M</a></span> <span class="id"><a href="monae.monad_model.html#B:104">B</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#m:106">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#f:107">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">fun</span> <span id="e:108" class="id"><a name="e:108" class="">e</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:107">f</a></span> (<span class="id"><a href="monae.monad_model.html#m:106">m</a></span> <span class="id"><a href="monae.monad_model.html#e:108">e</a></span>) <span class="id"><a href="monae.monad_model.html#e:108">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Module</span> <span id="StateMonad" class="id"><a name="StateMonad" class="">StateMonad</a></span>.<br/>
<span class="vernacular">Section</span> <span id="StateMonad.state" class="id"><a name="StateMonad.state" class="">state</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="StateMonad.state.S" class="id"><a name="StateMonad.state.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>. <br/>
<span class="vernacular">Definition</span> <span id="StateMonad.acto" class="id"><a name="StateMonad.acto" class="">acto</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:110" class="id"><a name="A:110" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#StateMonad.state.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#A:110">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.monad_model.html#StateMonad.state.S">S</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="StateMonad.M" class="id"><a name="StateMonad.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#StateMonad.acto">acto</a></span>.<br/>
<span class="vernacular">Let</span> <span id="StateMonad.state.ret" class="id"><a name="StateMonad.state.ret" class="">ret</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_model.html#StateMonad.M">M</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:111" class="id"><a name="A:111" class="">A</a></span> <span id="a:112" class="id"><a name="a:112" class="">a</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">fun</span> <span id="s:113" class="id"><a name="s:113" class="">s</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monae.monad_model.html#a:112">a,</a></span> <span class="id"><a href="monae.monad_model.html#s:113">s</a></span>).<br/>
<span class="vernacular">Let</span> <span id="StateMonad.state.bind" class="id"><a name="StateMonad.state.bind" class="">bind</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> (<span id="A:114" class="id"><a name="A:114" class="">A</a></span> <span id="B:115" class="id"><a name="B:115" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:116" class="id"><a name="m:116" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#StateMonad.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:114">A</a></span>) (<span id="f:117" class="id"><a name="f:117" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:114">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#StateMonad.M">M</a></span> <span class="id"><a href="monae.monad_model.html#B:115">B</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> <span class="id"><a href="monae.monad_model.html#f:117">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#m:116">m</a></span>.<br/>
<span class="vernacular">Let</span> <span id="StateMonad.state.left_neutral" class="id"><a name="StateMonad.state.left_neutral" class="">left_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monae.monad_model.html#StateMonad.state.bind">bind</a></span> <span class="id"><a href="monae.monad_model.html#StateMonad.state.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">a</span> <span class="id">f;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="StateMonad.state.right_neutral" class="id"><a name="StateMonad.state.right_neutral" class="">right_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monae.monad_model.html#StateMonad.state.bind">bind</a></span> <span class="id"><a href="monae.monad_model.html#StateMonad.state.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">f;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s;</span> <span class="id">rewrite</span> <span class="id">/bind</span> <span class="id">/=;</span> <span class="id">case:</span> (<span class="id">f</span> <span class="id">s</span>).<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="StateMonad.state.associative" class="id"><a name="StateMonad.state.associative" class="">associative</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monae.monad_model.html#StateMonad.state.bind">bind</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c;</span> <span class="id">rewrite</span> <span class="id">/bind</span> <span class="id"><a href="monae.monae_lib.html#compA">compA;</a></span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">_</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>.<br/>
Qed.</div>
<span id="StateMonad.StateMonad_acto__canonical__hierarchy_Monad" class="id"><span id="StateMonad.HB_unnamed_mixin_40" class="id"><span id="StateMonad.StateMonad_acto__canonical__hierarchy_Functor" class="id"><span id="StateMonad.HB_unnamed_mixin_39" class="id"><span id="StateMonad.hierarchy_isMonad_ret_bind__to__hierarchy_isFunctor" class="id"><span id="StateMonad.hierarchy_isMonad_ret_bind__to__hierarchy_isMonad" class="id"><span id="StateMonad.HB_unnamed_factory_36" class="id"><a name="StateMonad.StateMonad_acto__canonical__hierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span> <span class="id"><a href="monae.monad_model.html#StateMonad.M">M</a></span> <span class="id"><a href="monae.monad_model.html#StateMonad.state.left_neutral">left_neutral</a></span> <span class="id"><a href="monae.monad_model.html#StateMonad.state.right_neutral">right_neutral</a></span> <span class="id"><a href="monae.monad_model.html#StateMonad.state.associative">associative</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#StateMonad.state">state</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#StateMonad">StateMonad</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">StateMonad</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="state_bindE" class="id"><a name="state_bindE" class="">state_bindE</a></span> (<span id="S:118" class="id"><a name="S:118" class="">S</a></span> <span id="A:119" class="id"><a name="A:119" class="">A</a></span> <span id="B:120" class="id"><a name="B:120" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="M:121" class="id"><a name="M:121" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#acto">StateMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#S:118">S</a></span>)<br/>
&nbsp;&nbsp;(<span id="m:122" class="id"><a name="m:122" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#M:121">M</a></span> <span class="id"><a href="monae.monad_model.html#A:119">A</a></span>) (<span id="f:123" class="id"><a name="f:123" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:119">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M:121">M</a></span> <span class="id"><a href="monae.monad_model.html#B:120">B</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#m:122">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#f:123">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> <span class="id"><a href="monae.monad_model.html#f:123">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#m:122">m</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Module</span> <span id="ContMonad" class="id"><a name="ContMonad" class="">ContMonad</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ContMonad.cont" class="id"><a name="ContMonad.cont" class="">cont</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ContMonad.cont.r" class="id"><a name="ContMonad.cont.r" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>. <br/>
<span class="vernacular">Definition</span> <span id="ContMonad.acto" class="id"><a name="ContMonad.acto" class="">acto</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:125" class="id"><a name="A:125" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monae.monad_model.html#A:125">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ContMonad.cont.r">r</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.monad_model.html#ContMonad.cont.r">r</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="ContMonad.M" class="id"><a name="ContMonad.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ContMonad.acto">acto</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ContMonad.cont.ret" class="id"><a name="ContMonad.cont.ret" class="">ret</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ContMonad.M">M</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:126" class="id"><a name="A:126" class="">A</a></span> <span id="a:127" class="id"><a name="a:127" class="">a</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">fun</span> <span id="k:128" class="id"><a name="k:128" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:128">k</a></span> <span class="id"><a href="monae.monad_model.html#a:127">a</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ContMonad.cont.bind" class="id"><a name="ContMonad.cont.bind" class="">bind</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> (<span id="A:129" class="id"><a name="A:129" class="">A</a></span> <span id="B:130" class="id"><a name="B:130" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:131" class="id"><a name="m:131" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ContMonad.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:129">A</a></span>) (<span id="f:132" class="id"><a name="f:132" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:129">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ContMonad.M">M</a></span> <span class="id"><a href="monae.monad_model.html#B:130">B</a></span>) <span class="id">=&gt;</span> <span class="gallina-kwd">fun</span> <span id="k:133" class="id"><a name="k:133" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#m:131">m</a></span> (<span class="gallina-kwd">fun</span> <span id="a:134" class="id"><a name="a:134" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:132">f</a></span> <span class="id"><a href="monae.monad_model.html#a:134">a</a></span> <span class="id"><a href="monae.monad_model.html#k:133">k</a></span>).<br/>
<span class="vernacular">Let</span> <span id="ContMonad.cont.left_neutral" class="id"><a name="ContMonad.cont.left_neutral" class="">left_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monae.monad_model.html#ContMonad.cont.bind">bind</a></span> <span class="id"><a href="monae.monad_model.html#ContMonad.cont.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">a</span> <span class="id">f;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">Br</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ContMonad.cont.right_neutral" class="id"><a name="ContMonad.cont.right_neutral" class="">right_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monae.monad_model.html#ContMonad.cont.bind">bind</a></span> <span class="id"><a href="monae.monad_model.html#ContMonad.cont.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ContMonad.cont.associative" class="id"><a name="ContMonad.cont.associative" class="">associative</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monae.monad_model.html#ContMonad.cont.bind">bind</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="ContMonad.ContMonad_acto__canonical__hierarchy_Monad" class="id"><span id="ContMonad.HB_unnamed_mixin_45" class="id"><span id="ContMonad.ContMonad_acto__canonical__hierarchy_Functor" class="id"><span id="ContMonad.HB_unnamed_mixin_44" class="id"><span id="ContMonad.hierarchy_isMonad_ret_bind__to__hierarchy_isFunctor" class="id"><span id="ContMonad.hierarchy_isMonad_ret_bind__to__hierarchy_isMonad" class="id"><span id="ContMonad.HB_unnamed_factory_41" class="id"><a name="ContMonad.ContMonad_acto__canonical__hierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span> <span class="id"><a href="monae.monad_model.html#ContMonad.M">M</a></span> <span class="id"><a href="monae.monad_model.html#ContMonad.cont.left_neutral">left_neutral</a></span> <span class="id"><a href="monae.monad_model.html#ContMonad.cont.right_neutral">right_neutral</a></span> <span class="id"><a href="monae.monad_model.html#ContMonad.cont.associative">associative</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ContMonad.cont">cont</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ContMonad">ContMonad</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ContMonad</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="cont_bindE" class="id"><a name="cont_bindE" class="">cont_bindE</a></span> (<span id="r:135" class="id"><a name="r:135" class="">r</a></span> <span id="A:136" class="id"><a name="A:136" class="">A</a></span> <span id="B:137" class="id"><a name="B:137" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="M:138" class="id"><a name="M:138" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#acto">ContMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#r:135">r</a></span>) (<span id="m:139" class="id"><a name="m:139" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#M:138">M</a></span> <span class="id"><a href="monae.monad_model.html#A:136">A</a></span>) (<span id="f:140" class="id"><a name="f:140" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:136">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M:138">M</a></span> <span class="id"><a href="monae.monad_model.html#B:137">B</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#m:139">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#f:140">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">fun</span> <span id="k:141" class="id"><a name="k:141" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#m:139">m</a></span> (<span class="gallina-kwd">fun</span> <span id="a:142" class="id"><a name="a:142" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:140">f</a></span> <span class="id"><a href="monae.monad_model.html#a:142">a</a></span> <span class="id"><a href="monae.monad_model.html#k:141">k</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Module</span> <span id="Empty" class="id"><a name="Empty" class="">Empty</a></span>.<br/>
<span class="vernacular">Section</span> <span id="Empty.empty" class="id"><a name="Empty.empty" class="">empty</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Empty.acto" class="id"><a name="Empty.acto" class="">acto</a></span> (<span id="X:143" class="id"><a name="X:143" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Empty.empty.actm" class="id"><a name="Empty.empty.actm" class="">actm</a></span> (<span id="X:144" class="id"><a name="X:144" class="">X</a></span> <span id="Y:145" class="id"><a name="Y:145" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:146" class="id"><a name="f:146" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#X:144">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#Y:145">Y</a></span>) (<span id="t:147" class="id"><a name="t:147" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Empty.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#X:144">X</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Empty.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#Y:145">Y</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Empty.empty.func_id" class="id"><a name="Empty.empty.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monae.monad_model.html#Empty.empty.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Empty.empty.func_comp" class="id"><a name="Empty.empty.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monae.monad_model.html#Empty.empty.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">f</span> <span class="id">g;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span id="Empty.Empty_acto__canonical__hierarchy_Functor" class="id"><span id="Empty.HB_unnamed_factory_46" class="id"><a name="Empty.Empty_acto__canonical__hierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monae.monad_model.html#Empty.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#Empty.empty.func_id">func_id</a></span> <span class="id"><a href="monae.monad_model.html#Empty.empty.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Empty.empty">empty</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Empty">Empty</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">Empty</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Append" class="id"><a name="Append" class="">Append</a></span>.<br/>
<span class="vernacular">Section</span> <span id="Append.append" class="id"><a name="Append.append" class="">append</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Append.acto" class="id"><a name="Append.acto" class="">acto</a></span> (<span id="X:148" class="id"><a name="X:148" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> (<span class="id"><a href="monae.monad_model.html#X:148">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.monad_model.html#X:148">X</a></span>)%<span class="id">type</span>.<br/>
<span class="vernacular">Let</span> <span id="Append.append.actm" class="id"><a name="Append.append.actm" class="">actm</a></span> (<span id="X:149" class="id"><a name="X:149" class="">X</a></span> <span id="Y:150" class="id"><a name="Y:150" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:151" class="id"><a name="f:151" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#X:149">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#Y:150">Y</a></span>) (<span id="t:152" class="id"><a name="t:152" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Append.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#X:149">X</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Append.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#Y:150">Y</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">let:</span> (<span class="id">x1,</span> <span class="id">x2</span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#t:152">t</a></span> <span class="gallina-kwd">in</span> (<span class="id"><a href="monae.monad_model.html#f:151">f</a></span> <span class="id">x1,</span> <span class="id"><a href="monae.monad_model.html#f:151">f</a></span> <span class="id">x2</span>).<br/>
<span class="vernacular">Let</span> <span id="Append.append.func_id" class="id"><a name="Append.append.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monae.monad_model.html#Append.append.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Append.append.func_comp" class="id"><a name="Append.append.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monae.monad_model.html#Append.append.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">f</span> <span class="id">g;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span id="Append.Append_acto__canonical__hierarchy_Functor" class="id"><span id="Append.HB_unnamed_factory_48" class="id"><a name="Append.Append_acto__canonical__hierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monae.monad_model.html#Append.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#Append.append.func_id">func_id</a></span> <span class="id"><a href="monae.monad_model.html#Append.append.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Append.append">append</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Append">Append</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">Append</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="appendop" class="id"><a name="appendop" class="">appendop</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="M" class="id"><a name="M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">ListMonad.acto</a></span><span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="empty" class="id"><a name="empty" class="">empty</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Empty.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:154" class="id"><a name="A:154" class="">A</a></span> <span class="id">_</span> <span class="id">=&gt;</span> @<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="monae.monad_model.html#A:154">A</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="naturality_empty" class="id"><a name="naturality_empty" class="">naturality_empty</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Empty.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id"><a href="monae.monad_model.html#empty">empty</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span>. Qed.</div>
<br/>
<span id="monad_model_empty__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_50" class="id"><a name="monad_model_empty__canonical__hierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isNatural.Build">isNatural.Build</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Empty.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id"><a href="monae.monad_model.html#empty">empty</a></span> <span class="id"><a href="monae.monad_model.html#naturality_empty">naturality_empty</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="empty_op" class="id"><a name="empty_op" class="">empty_op</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Empty.acto</a></span><span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>.<span class="id">-operation</span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#empty">empty]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_empty" class="id"><a name="algebraic_empty" class="">algebraic_empty</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monae.monad_model.html#empty_op">empty_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="append" class="id"><a name="append" class="">append</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Append.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="A:155" class="id"><a name="A:155" class="">A</a></span> <span id="x:156" class="id"><a name="x:156" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">let:</span> (<span class="id">s1,</span> <span class="id">s2</span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#x:156">x</a></span> <span class="gallina-kwd">in</span> (<span class="id">s1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">s2</span>).<br/>
<span class="vernacular">Let</span> <span id="appendop.naturality_append" class="id"><a name="appendop.naturality_append" class="">naturality_append</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Append.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id"><a href="monae.monad_model.html#append">append</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[s1</span> <span class="id">s2]</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/actm</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#map_cat">map_cat</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#flatten_cat">flatten_cat</a></span>.<br/>
Qed.</div>
<span id="monad_model_append__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_52" class="id"><a name="monad_model_append__canonical__hierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isNatural.Build">isNatural.Build</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Append.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id"><a href="monae.monad_model.html#append">append</a></span> <span class="id"><a href="monae.monad_model.html#appendop.naturality_append">naturality_append</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="append_op" class="id"><a name="append_op" class="">append_op</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Append.acto</a></span><span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>.<span class="id">-operation</span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#append">append]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_append" class="id"><a name="algebraic_append" class="">algebraic_append</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monae.monad_model.html#append_op">append_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> <span class="id">[t1</span> <span class="id">t2]</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">3!list_bindE</span> <span class="id">-flatten_cat</span> <span class="id">-map_cat</span>.<br/>
Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#appendop">appendop</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Output" class="id"><a name="Output" class="">Output</a></span>.<br/>
<span class="vernacular">Section</span> <span id="Output.output" class="id"><a name="Output.output" class="">output</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="Output.output.L" class="id"><a name="Output.output.L" class="">L</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Output.acto" class="id"><a name="Output.acto" class="">acto</a></span> (<span id="X:159" class="id"><a name="X:159" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.monad_model.html#Output.output.L">L</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.monad_model.html#X:159">X</a></span>)%<span class="id">type</span>.<br/>
<span class="vernacular">Let</span> <span id="Output.output.actm" class="id"><a name="Output.output.actm" class="">actm</a></span> (<span id="X:160" class="id"><a name="X:160" class="">X</a></span> <span id="Y:161" class="id"><a name="Y:161" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:162" class="id"><a name="f:162" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#X:160">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#Y:161">Y</a></span>) (<span id="t:163" class="id"><a name="t:163" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Output.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#X:160">X</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Output.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#Y:161">Y</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">let:</span> (<span class="id">w,</span> <span class="id">x</span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#t:163">t</a></span> <span class="gallina-kwd">in</span> (<span class="id">w,</span> <span class="id"><a href="monae.monad_model.html#f:162">f</a></span> <span class="id">x</span>).<br/>
<span class="vernacular">Let</span> <span id="Output.output.func_id" class="id"><a name="Output.output.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monae.monad_model.html#Output.output.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span><span class="id">;</span> <span class="id">case</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Output.output.func_comp" class="id"><a name="Output.output.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monae.monad_model.html#Output.output.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">f</span> <span class="id">g;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span><span class="id">;</span> <span class="id">case</span>. Qed.</div>
<span id="Output.Output_acto__canonical__hierarchy_Functor" class="id"><span id="Output.HB_unnamed_factory_54" class="id"><a name="Output.Output_acto__canonical__hierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monae.monad_model.html#Output.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#Output.output.func_id">func_id</a></span> <span class="id"><a href="monae.monad_model.html#Output.output.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Output.output">output</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Output">Output</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">Output</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Flush" class="id"><a name="Flush" class="">Flush</a></span>.<br/>
<span class="vernacular">Section</span> <span id="Flush.flush" class="id"><a name="Flush.flush" class="">flush</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Flush.acto" class="id"><a name="Flush.acto" class="">acto</a></span> (<span id="X:165" class="id"><a name="X:165" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#X:165">X</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Flush.flush.actm" class="id"><a name="Flush.flush.actm" class="">actm</a></span> (<span id="X:166" class="id"><a name="X:166" class="">X</a></span> <span id="Y:167" class="id"><a name="Y:167" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:168" class="id"><a name="f:168" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#X:166">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#Y:167">Y</a></span>) (<span id="t:169" class="id"><a name="t:169" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Flush.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#X:166">X</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Flush.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#Y:167">Y</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#f:168">f</a></span> <span class="id"><a href="monae.monad_model.html#t:169">t</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Flush.flush.func_id" class="id"><a name="Flush.flush.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monae.monad_model.html#Flush.flush.actm">actm</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Flush.flush.func_comp" class="id"><a name="Flush.flush.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monae.monad_model.html#Flush.flush.actm">actm</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="Flush.Flush_acto__canonical__hierarchy_Functor" class="id"><span id="Flush.HB_unnamed_factory_56" class="id"><a name="Flush.Flush_acto__canonical__hierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monae.monad_model.html#Flush.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#Flush.flush.func_id">func_id</a></span> <span class="id"><a href="monae.monad_model.html#Flush.flush.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Flush.flush">flush</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Flush">Flush</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">Flush</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="outputops" class="id"><a name="outputops" class="">outputops</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="outputops.L" class="id"><a name="outputops.L" class="">L</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="M" class="id"><a name="M" class="">M</a></span> <span class="id">:=</span> (<span class="id"><a href="monae.monad_model.html#acto">OutputMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#outputops.L">L</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="output" class="id"><a name="output" class="">output</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Output.acto</a></span> <span class="id"><a href="monae.monad_model.html#outputops.L">L</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="A:171" class="id"><a name="A:171" class="">A</a></span> <span id="m:172" class="id"><a name="m:172" class="">m</a></span> <span class="id">=&gt;</span> <span class="id">let:</span> (<span class="id">x,</span> <span class="id">w'</span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#m:172">m</a></span>.<span class="id">2</span> <span class="gallina-kwd">in</span> (<span class="id">x,</span> <span class="id"><a href="monae.monad_model.html#m:172">m</a></span>.<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">w'</span>). <br/>
<span class="vernacular">Let</span> <span id="outputops.naturality_output" class="id"><a name="outputops.naturality_output" class="">naturality_output</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Output.acto</a></span> <span class="id"><a href="monae.monad_model.html#outputops.L">L</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#output">output</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h</span>.<br/>
<span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[w</span> <span class="id">[x</span> <span class="id">w']]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/output</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#catA">catA</a></span>.<br/>
Qed.</div>
<span id="monad_model_output__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_58" class="id"><a name="monad_model_output__canonical__hierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isNatural.Build">isNatural.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Output.acto</a></span> <span class="id"><a href="monae.monad_model.html#outputops.L">L</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#output">output</a></span> <span class="id"><a href="monae.monad_model.html#outputops.naturality_output">naturality_output</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="output_op" class="id"><a name="output_op" class="">output_op</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Output.acto</a></span> <span class="id"><a href="monae.monad_model.html#outputops.L">L]</a></span>.<span class="id">-operation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#output">output]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_output" class="id"><a name="algebraic_output" class="">algebraic_output</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monae.monad_model.html#output_op">output_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> <span class="id">[w</span> <span class="id">[x</span> <span class="id">w']]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#output_bindE">output_bindE/=</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/output</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#output_bindE">output_bindE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">f</span> <span class="id">=&gt;</span> <span class="id">x'</span> <span class="id">w'';</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#catA">catA</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="flush" class="id"><a name="flush" class="">flush</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Flush.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="A:173" class="id"><a name="A:173" class="">A</a></span> <span id="m:174" class="id"><a name="m:174" class="">m</a></span> <span class="id">=&gt;</span> <span class="id">let:</span> (<span class="id">x,</span> <span class="id">_</span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#m:174">m</a></span> <span class="gallina-kwd">in</span> (<span class="id">x,</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626">[::]</a></span>).<br/>
<span class="vernacular">Let</span> <span id="outputops.naturality_flush" class="id"><a name="outputops.naturality_flush" class="">naturality_flush</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Flush.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#flush">flush</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span id="monad_model_flush__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_60" class="id"><a name="monad_model_flush__canonical__hierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isNatural.Build">isNatural.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Flush.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#flush">flush</a></span> <span class="id"><a href="monae.monad_model.html#outputops.naturality_flush">naturality_flush</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="flush_op" class="id"><a name="flush_op" class="">flush_op</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Flush.acto</a></span><span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>.<span class="id">-operation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#flush">flush]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_flush" class="id"><a name="algebraic_flush" class="">algebraic_flush</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monae.monad_model.html#flush_op">flush_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> <span class="id">[x</span> <span class="id">w]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#output_bindE">output_bindE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/flush_op</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/flush</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/actm</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#output_bindE">output_bindE</a></span>.<br/>
<span class="id">case:</span> <span class="id">f</span> <span class="id">=&gt;</span> <span class="id">x'</span> <span class="id">w'</span>.<br/>
Abort.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#outputops">outputops</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Output'" class="id"><a name="Output'" class="">Output'</a></span>.<br/>
<span class="vernacular">Section</span> <span id="Output'.output" class="id"><a name="Output'.output" class="">output</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="Output'.output.L" class="id"><a name="Output'.output.L" class="">L</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="Output'.M" class="id"><a name="Output'.M" class="">M</a></span> <span class="id">:=</span> (<span class="id"><a href="monae.monad_model.html#OutputMonad.acto">OutputMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#Output'.output.L">L</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Output'.output" class="id"><a name="Output'.output" class="">output</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.monad_model.html#Output'.output.L">L</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#Output'.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="w:177" class="id"><a name="w:177" class="">w</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#output_op">output_op</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="monae.monad_model.html#w:177">w,</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>).<br/>
<span class="vernacular">Lemma</span> <span id="Output'.outputE" class="id"><a name="Output'.outputE" class="">outputE</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Output'.output">output</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">fun</span> <span id="w:178" class="id"><a name="w:178" class="">w</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> <span class="id"><a href="monae.monad_model.html#w:178">w</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
<span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">w</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/output</span> <span class="id">/=</span> <span class="id">/monad_model</span>.<span class="id">output</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0</a></span>.<br/>
Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Output'.output">output</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Output'">Output'</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Ask" class="id"><a name="Ask" class="">Ask</a></span>.<br/>
<span class="vernacular">Section</span> <span id="Ask.ask" class="id"><a name="Ask.ask" class="">ask</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="Ask.ask.E" class="id"><a name="Ask.ask.E" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Ask.acto" class="id"><a name="Ask.acto" class="">acto</a></span> (<span id="X:180" class="id"><a name="X:180" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#Ask.ask.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#X:180">X</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Ask.ask.actm" class="id"><a name="Ask.ask.actm" class="">actm</a></span> (<span id="X:181" class="id"><a name="X:181" class="">X</a></span> <span id="Y:182" class="id"><a name="Y:182" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:183" class="id"><a name="f:183" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#X:181">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#Y:182">Y</a></span>) (<span id="t:184" class="id"><a name="t:184" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Ask.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#X:181">X</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Ask.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#Y:182">Y</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#f:183">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#t:184">t</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Ask.ask.func_id" class="id"><a name="Ask.ask.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monae.monad_model.html#Ask.ask.actm">actm</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Ask.ask.func_comp" class="id"><a name="Ask.ask.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monae.monad_model.html#Ask.ask.actm">actm</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="Ask.Ask_acto__canonical__hierarchy_Functor" class="id"><span id="Ask.HB_unnamed_factory_62" class="id"><a name="Ask.Ask_acto__canonical__hierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monae.monad_model.html#Ask.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#Ask.ask.func_id">func_id</a></span> <span class="id"><a href="monae.monad_model.html#Ask.ask.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Ask.ask">ask</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Ask">Ask</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">Ask</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span class="vernacular">Local</span>.<br/>
<span class="vernacular">Section</span> <span id="Local.local" class="id"><a name="Local.local" class="">local</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="Local.local.E" class="id"><a name="Local.local.E" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Local.acto" class="id"><a name="Local.acto" class="">acto</a></span> (<span id="X:186" class="id"><a name="X:186" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> ((<span class="id"><a href="monae.monad_model.html#Local.local.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#Local.local.E">E</a></span>) <span class="id">*</span> <span class="id"><a href="monae.monad_model.html#X:186">X</a></span>)%<span class="id">type</span>.<br/>
<span class="vernacular">Let</span> <span id="Local.local.actm" class="id"><a name="Local.local.actm" class="">actm</a></span> (<span id="X:187" class="id"><a name="X:187" class="">X</a></span> <span id="Y:188" class="id"><a name="Y:188" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:189" class="id"><a name="f:189" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#X:187">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#Y:188">Y</a></span>) (<span id="t:190" class="id"><a name="t:190" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Local.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#X:187">X</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Local.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#Y:188">Y</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">let:</span> (<span class="id">e,</span> <span class="id">x</span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#t:190">t</a></span> <span class="gallina-kwd">in</span> (<span class="id">e,</span> <span class="id"><a href="monae.monad_model.html#f:189">f</a></span> <span class="id">x</span>).<br/>
<span class="vernacular">Let</span> <span id="Local.local.func_id" class="id"><a name="Local.local.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monae.monad_model.html#Local.local.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Local.local.func_comp" class="id"><a name="Local.local.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monae.monad_model.html#Local.local.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">g</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span id="Local.Local_acto__canonical__hierarchy_Functor" class="id"><span id="Local.HB_unnamed_factory_64" class="id"><a name="Local.Local_acto__canonical__hierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monae.monad_model.html#Local.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#Local.local.func_id">func_id</a></span> <span class="id"><a href="monae.monad_model.html#Local.local.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Local.local">local</a></span>.<br/>
<span class="vernacular">End</span> <span class="vernacular">Local</span>.<br/>
<span class="id">HB.export</span> <span class="vernacular">Local</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="environmentops" class="id"><a name="environmentops" class="">environmentops</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="environmentops.E" class="id"><a name="environmentops.E" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="M" class="id"><a name="M" class="">M</a></span> <span class="id">:=</span> (<span class="id"><a href="monae.monad_model.html#acto">EnvironmentMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#environmentops.E">E</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ask" class="id"><a name="ask" class="">ask</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Ask.acto</a></span> <span class="id"><a href="monae.monad_model.html#environmentops.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id">~~&gt;</span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="A:193" class="id"><a name="A:193" class="">A</a></span> <span id="f:194" class="id"><a name="f:194" class="">f</a></span> <span id="s:195" class="id"><a name="s:195" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:194">f</a></span> <span class="id"><a href="monae.monad_model.html#s:195">s</a></span> <span class="id"><a href="monae.monad_model.html#s:195">s</a></span>. <br/>
<span class="vernacular">Let</span> <span id="environmentops.naturality_ask" class="id"><a name="environmentops.naturality_ask" class="">naturality_ask</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Ask.acto</a></span> <span class="id"><a href="monae.monad_model.html#environmentops.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#ask">ask</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="monad_model_ask__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_66" class="id"><a name="monad_model_ask__canonical__hierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isNatural.Build">isNatural.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Ask.acto</a></span> <span class="id"><a href="monae.monad_model.html#environmentops.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#ask">ask</a></span> <span class="id"><a href="monae.monad_model.html#environmentops.naturality_ask">naturality_ask</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ask_op" class="id"><a name="ask_op" class="">ask_op</a></span> <span class="id">:</span>  <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Ask.acto</a></span> <span class="id"><a href="monae.monad_model.html#environmentops.E">E]</a></span>.<span class="id">-operation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ask">ask]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_ask" class="id"><a name="algebraic_ask" class="">algebraic_ask</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monae.monad_model.html#ask_op">ask_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="local" class="id"><a name="local" class="">local</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Local.acto</a></span> <span class="id"><a href="monae.monad_model.html#environmentops.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id">~~&gt;</span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="A:196" class="id"><a name="A:196" class="">A</a></span> <span id="x:197" class="id"><a name="x:197" class="">x</a></span> <span id="s:198" class="id"><a name="s:198" class="">s</a></span> <span class="id">=&gt;</span> <span class="id">let:</span> (<span class="id">e,</span> <span class="id">t</span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#x:197">x</a></span> <span class="gallina-kwd">in</span> <span class="id">t</span> (<span class="id">e</span> <span class="id"><a href="monae.monad_model.html#s:198">s</a></span>).<br/>
<span class="vernacular">Lemma</span> <span id="naturality_local" class="id"><a name="naturality_local" class="">naturality_local</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Local.acto</a></span> <span class="id"><a href="monae.monad_model.html#environmentops.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#local">local</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span id="monad_model_local__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_68" class="id"><a name="monad_model_local__canonical__hierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isNatural.Build">isNatural.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Local.acto</a></span> <span class="id"><a href="monae.monad_model.html#environmentops.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#local">local</a></span> <span class="id"><a href="monae.monad_model.html#naturality_local">naturality_local</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="local_op" class="id"><a name="local_op" class="">local_op</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Local.acto</a></span> <span class="id"><a href="monae.monad_model.html#environmentops.E">E]</a></span>.<span class="id">-operation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#local">local]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_local" class="id"><a name="algebraic_local" class="">algebraic_local</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monae.monad_model.html#local_op">local_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> <span class="id">t</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#environment_bindE">environment_bindE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/local_op</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/local</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/actm</span> <span class="id">/=</span>.<br/>
<span class="id">case:</span> <span class="id">t</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">ee</span> <span class="id">m</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#environment_bindE">environment_bindE</a></span>.<br/>
<span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span><span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span>.<br/>
Abort.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#environmentops">environmentops</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Environment" class="id"><a name="Environment" class="">Environment</a></span>.<br/>
<span class="vernacular">Section</span> <span id="Environment.environment" class="id"><a name="Environment.environment" class="">environment</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="Environment.environment.E" class="id"><a name="Environment.environment.E" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="Environment.M" class="id"><a name="Environment.M" class="">M</a></span> <span class="id">:=</span> (<span class="id"><a href="monae.monad_model.html#EnvironmentMonad.acto">EnvironmentMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#Environment.environment.E">E</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Environment.ask" class="id"><a name="Environment.ask" class="">ask</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Environment.M">M</a></span> <span class="id"><a href="monae.monad_model.html#Environment.environment.E">E</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ask_op">ask_op</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="Environment.askE" class="id"><a name="Environment.askE" class="">askE</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Environment.ask">ask</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">fun</span> <span id="e:201" class="id"><a name="e:201" class="">e</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#e:201">e</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Environment.environment">environment</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Environment">Environment</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Throw" class="id"><a name="Throw" class="">Throw</a></span>.<br/>
<span class="vernacular">Section</span> <span id="Throw.throw" class="id"><a name="Throw.throw" class="">throw</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="Throw.throw.Z" class="id"><a name="Throw.throw.Z" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Throw.acto" class="id"><a name="Throw.acto" class="">acto</a></span> (<span id="X:203" class="id"><a name="X:203" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#Throw.throw.Z">Z</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Throw.throw.actm" class="id"><a name="Throw.throw.actm" class="">actm</a></span> (<span id="X:204" class="id"><a name="X:204" class="">X</a></span> <span id="Y:205" class="id"><a name="Y:205" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:206" class="id"><a name="f:206" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#X:204">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#Y:205">Y</a></span>) (<span id="t:207" class="id"><a name="t:207" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Throw.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#X:204">X</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Throw.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#Y:205">Y</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#t:207">t</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Throw.throw.func_id" class="id"><a name="Throw.throw.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monae.monad_model.html#Throw.throw.actm">actm</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Throw.throw.func_comp" class="id"><a name="Throw.throw.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monae.monad_model.html#Throw.throw.actm">actm</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="Throw.Throw_acto__canonical__hierarchy_Functor" class="id"><span id="Throw.HB_unnamed_factory_70" class="id"><a name="Throw.Throw_acto__canonical__hierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monae.monad_model.html#Throw.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#Throw.throw.func_id">func_id</a></span> <span class="id"><a href="monae.monad_model.html#Throw.throw.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Throw.throw">throw</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Throw">Throw</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">Throw</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Handle" class="id"><a name="Handle" class="">Handle</a></span>.<br/>
<span class="vernacular">Section</span> <span id="Handle.handle" class="id"><a name="Handle.handle" class="">handle</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="Handle.handle.Z" class="id"><a name="Handle.handle.Z" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Handle.acto" class="id"><a name="Handle.acto" class="">acto</a></span> (<span id="X:209" class="id"><a name="X:209" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> (<span class="id"><a href="monae.monad_model.html#X:209">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> (<span class="id"><a href="monae.monad_model.html#Handle.handle.Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#X:209">X</a></span>))%<span class="id">type</span>.<br/>
<span class="vernacular">Let</span> <span id="Handle.handle.actm" class="id"><a name="Handle.handle.actm" class="">actm</a></span> (<span id="X:210" class="id"><a name="X:210" class="">X</a></span> <span id="Y:211" class="id"><a name="Y:211" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:212" class="id"><a name="f:212" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#X:210">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#Y:211">Y</a></span>) (<span id="t:213" class="id"><a name="t:213" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Handle.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#X:210">X</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Handle.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#Y:211">Y</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">let:</span> (<span class="id">x,</span> <span class="id">h</span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#t:213">t</a></span> <span class="gallina-kwd">in</span> (<span class="id"><a href="monae.monad_model.html#f:212">f</a></span> <span class="id">x,</span> <span class="gallina-kwd">fun</span> <span id="z:215" class="id"><a name="z:215" class="">z</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:212">f</a></span> (<span class="id">h</span> <span class="id"><a href="monae.monad_model.html#z:215">z</a></span>)).<br/>
<span class="vernacular">Let</span> <span id="Handle.handle.func_id" class="id"><a name="Handle.handle.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monae.monad_model.html#Handle.handle.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Handle.handle.func_comp" class="id"><a name="Handle.handle.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monae.monad_model.html#Handle.handle.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">g</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span id="Handle.Handle_acto__canonical__hierarchy_Functor" class="id"><span id="Handle.HB_unnamed_factory_72" class="id"><a name="Handle.Handle_acto__canonical__hierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monae.monad_model.html#Handle.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#Handle.handle.func_id">func_id</a></span> <span class="id"><a href="monae.monad_model.html#Handle.handle.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Handle.handle">handle</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Handle">Handle</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">Handle</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="exceptops" class="id"><a name="exceptops" class="">exceptops</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="exceptops.Z" class="id"><a name="exceptops.Z" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="M" class="id"><a name="M" class="">M</a></span> <span class="id">:=</span> (<span class="id"><a href="monae.monad_model.html#acto">ExceptMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#exceptops.Z">Z</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="throw" class="id"><a name="throw" class="">throw</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Throw.acto</a></span> <span class="id"><a href="monae.monad_model.html#exceptops.Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> (<span id="A:217" class="id"><a name="A:217" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span id="z:218" class="id"><a name="z:218" class="">z</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id"><a href="monae.monad_model.html#z:218">z</a></span>.<br/>
<span class="vernacular">Let</span> <span id="exceptops.naturality_throw" class="id"><a name="exceptops.naturality_throw" class="">naturality_throw</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Throw.acto</a></span> <span class="id"><a href="monae.monad_model.html#exceptops.Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#throw">throw</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="monad_model_throw__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_74" class="id"><a name="monad_model_throw__canonical__hierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isNatural.Build">isNatural.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Throw.acto</a></span> <span class="id"><a href="monae.monad_model.html#exceptops.Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#throw">throw</a></span> <span class="id"><a href="monae.monad_model.html#exceptops.naturality_throw">naturality_throw</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="throw_op" class="id"><a name="throw_op" class="">throw_op</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Throw.acto</a></span> <span class="id"><a href="monae.monad_model.html#exceptops.Z">Z]</a></span>.<span class="id">-operation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#throw">throw]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_throw" class="id"><a name="algebraic_throw" class="">algebraic_throw</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monae.monad_model.html#throw_op">throw_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="monad_model_throw__canonical__monad_lib_AOperation" class="id"><span id="HB_unnamed_factory_76" class="id"><a name="monad_model_throw__canonical__monad_lib_AOperation" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_lib.html#isAOperation.Build">isAOperation.Build</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#throw">throw</a></span> <span class="id"><a href="monae.monad_model.html#algebraic_throw">algebraic_throw</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="throw_aop" class="id"><a name="throw_aop" class="">throw_aop</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Throw.acto</a></span> <span class="id"><a href="monae.monad_model.html#exceptops.Z">Z]</a></span>.<span class="id">-aoperation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.monad_lib.html#aoperation">aoperation</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#throw">throw]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="handle'" class="id"><a name="handle'" class="">handle'</a></span> <span id="A:219" class="id"><a name="A:219" class="">A</a></span> (<span id="m:220" class="id"><a name="m:220" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:219">A</a></span>) (<span id="h:221" class="id"><a name="h:221" class="">h</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#exceptops.Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:219">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:219">A</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="monae.monad_model.html#m:220">m</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id">z</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#h:221">h</a></span> <span class="id">z</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id">x</span> <span class="gallina-kwd">end</span>.<br/>
<span class="vernacular">Definition</span> <span id="handle" class="id"><a name="handle" class="">handle</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Handle.acto</a></span> <span class="id"><a href="monae.monad_model.html#exceptops.Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="A:223" class="id"><a name="A:223" class="">A</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> (@<span class="id"><a href="monae.monad_model.html#handle'">handle'</a></span> <span class="id"><a href="monae.monad_model.html#A:223">A</a></span>).<br/>
<span class="vernacular">Let</span> <span id="exceptops.naturality_handle" class="id"><a name="exceptops.naturality_handle" class="">naturality_handle</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Handle.acto</a></span> <span class="id"><a href="monae.monad_model.html#exceptops.Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#handle">handle</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[[]]</span>. Qed.</div>
<span id="monad_model_handle__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_78" class="id"><a name="monad_model_handle__canonical__hierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isNatural.Build">isNatural.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Handle.acto</a></span> <span class="id"><a href="monae.monad_model.html#exceptops.Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#handle">handle</a></span> <span class="id"><a href="monae.monad_model.html#exceptops.naturality_handle">naturality_handle</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="handle_op" class="id"><a name="handle_op" class="">handle_op</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">Handle.acto</a></span> <span class="id"><a href="monae.monad_model.html#exceptops.Z">Z]</a></span>.<span class="id">-operation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#handle">handle]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_handle" class="id"><a name="algebraic_handle" class="">algebraic_handle</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monae.monad_model.html#handle_op">handle_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> <span class="id">t</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#except_bindE">except_bindE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/handle_op</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/handle</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/uncurry</span> <span class="id">/=</span>.<br/>
<span class="id">case:</span> <span class="id">t</span> <span class="id">=&gt;</span> <span class="id">-[z//|a]</span> <span class="id">g</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#except_bindE">except_bindE</a></span>.<br/>
<span class="id">case:</span> (<span class="id">f</span> <span class="id">a</span>) <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">z</span>.<br/>
<span class="id">rewrite</span> <span class="id">/handle'</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#except_bindE">except_bindE</a></span>.<br/>
<span class="id">case:</span> (<span class="id">g</span> <span class="id">z</span>) <span class="id">=&gt;</span> <span class="id">[z0|a0]</span>.<br/>
Abort.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#exceptops">exceptops</a></span>.<br/>
<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.monad_model.html#throw_op">throw_op</a></span> <span class="id">{Z}</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.monad_model.html#handle_op">handle_op</a></span> <span class="id">{Z}</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="StateOpsGet" class="id"><a name="StateOpsGet" class="">StateOpsGet</a></span>.<br/>
<span class="vernacular">Section</span> <span id="StateOpsGet.get" class="id"><a name="StateOpsGet.get" class="">get</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="StateOpsGet.get.S" class="id"><a name="StateOpsGet.get.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="StateOpsGet.acto" class="id"><a name="StateOpsGet.acto" class="">acto</a></span> (<span id="X:225" class="id"><a name="X:225" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#StateOpsGet.get.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#X:225">X</a></span>.<br/>
<span class="vernacular">Let</span> <span id="StateOpsGet.get.actm" class="id"><a name="StateOpsGet.get.actm" class="">actm</a></span> (<span id="X:226" class="id"><a name="X:226" class="">X</a></span> <span id="Y:227" class="id"><a name="Y:227" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:228" class="id"><a name="f:228" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#X:226">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#Y:227">Y</a></span>) (<span id="t:229" class="id"><a name="t:229" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#StateOpsGet.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#X:226">X</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#StateOpsGet.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#Y:227">Y</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#f:228">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#t:229">t</a></span>.<br/>
<span class="vernacular">Let</span> <span id="StateOpsGet.get.func_id" class="id"><a name="StateOpsGet.get.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monae.monad_model.html#StateOpsGet.get.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="StateOpsGet.get.func_comp" class="id"><a name="StateOpsGet.get.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monae.monad_model.html#StateOpsGet.get.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">g</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span>. Qed.</div>
<span id="StateOpsGet.StateOpsGet_acto__canonical__hierarchy_Functor" class="id"><span id="StateOpsGet.HB_unnamed_factory_80" class="id"><a name="StateOpsGet.StateOpsGet_acto__canonical__hierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monae.monad_model.html#StateOpsGet.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#StateOpsGet.get.func_id">func_id</a></span> <span class="id"><a href="monae.monad_model.html#StateOpsGet.get.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#StateOpsGet.get">get</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#StateOpsGet">StateOpsGet</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">StateOpsGet</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="StateOpsPut" class="id"><a name="StateOpsPut" class="">StateOpsPut</a></span>.<br/>
<span class="vernacular">Section</span> <span id="StateOpsPut.put" class="id"><a name="StateOpsPut.put" class="">put</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="StateOpsPut.put.S" class="id"><a name="StateOpsPut.put.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="StateOpsPut.acto" class="id"><a name="StateOpsPut.acto" class="">acto</a></span> (<span id="X:231" class="id"><a name="X:231" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> (<span class="id"><a href="monae.monad_model.html#StateOpsPut.put.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.monad_model.html#X:231">X</a></span>)%<span class="id">type</span>.<br/>
<span class="vernacular">Let</span> <span id="StateOpsPut.put.actm" class="id"><a name="StateOpsPut.put.actm" class="">actm</a></span> (<span id="X:232" class="id"><a name="X:232" class="">X</a></span> <span id="Y:233" class="id"><a name="Y:233" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:234" class="id"><a name="f:234" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#X:232">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#Y:233">Y</a></span>) (<span id="sx:235" class="id"><a name="sx:235" class="">sx</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#StateOpsPut.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#X:232">X</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#StateOpsPut.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#Y:233">Y</a></span> <span class="id">:=</span> (<span class="id"><a href="monae.monad_model.html#sx:235">sx</a></span>.<span class="id">1,</span> <span class="id"><a href="monae.monad_model.html#f:234">f</a></span> <span class="id"><a href="monae.monad_model.html#sx:235">sx</a></span>.<span class="id">2</span>).<br/>
<span class="vernacular">Let</span> <span id="StateOpsPut.put.func_id" class="id"><a name="StateOpsPut.put.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monae.monad_model.html#StateOpsPut.put.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="StateOpsPut.put.func_comp" class="id"><a name="StateOpsPut.put.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monae.monad_model.html#StateOpsPut.put.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">g</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span>. Qed.</div>
<span id="StateOpsPut.StateOpsPut_acto__canonical__hierarchy_Functor" class="id"><span id="StateOpsPut.HB_unnamed_factory_82" class="id"><a name="StateOpsPut.StateOpsPut_acto__canonical__hierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monae.monad_model.html#StateOpsPut.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#StateOpsPut.put.func_id">func_id</a></span> <span class="id"><a href="monae.monad_model.html#StateOpsPut.put.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#StateOpsPut.put">put</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#StateOpsPut">StateOpsPut</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">StateOpsPut</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="stateops" class="id"><a name="stateops" class="">stateops</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="stateops.S" class="id"><a name="stateops.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="M" class="id"><a name="M" class="">M</a></span> <span class="id">:=</span> (<span class="id"><a href="monae.monad_model.html#acto">StateMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#stateops.S">S</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="stateops.get" class="id"><a name="stateops.get" class="">get</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">StateOpsGet.acto</a></span> <span class="id"><a href="monae.monad_model.html#stateops.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:237" class="id"><a name="A:237" class="">A</a></span> <span id="k:238" class="id"><a name="k:238" class="">k</a></span> <span id="s:239" class="id"><a name="s:239" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:238">k</a></span> <span class="id"><a href="monae.monad_model.html#s:239">s</a></span> <span class="id"><a href="monae.monad_model.html#s:239">s</a></span>.<br/>
<span class="vernacular">Let</span> <span id="stateops.naturality_get" class="id"><a name="stateops.naturality_get" class="">naturality_get</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">StateOpsGet.acto</a></span> <span class="id"><a href="monae.monad_model.html#stateops.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#stateops.get">get</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">m;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#FCompE">FCompE</a></span>.<br/>
Qed.</div>
<span id="monad_model_get__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_84" class="id"><a name="monad_model_get__canonical__hierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isNatural.Build">isNatural.Build</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#stateops.get">get</a></span> <span class="id"><a href="monae.monad_model.html#stateops.naturality_get">naturality_get</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="get_op" class="id"><a name="get_op" class="">get_op</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">StateOpsGet.acto</a></span> <span class="id"><a href="monae.monad_model.html#stateops.S">S]</a></span>.<span class="id">-operation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#stateops.get">get]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_get" class="id"><a name="algebraic_get" class="">algebraic_get</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monae.monad_model.html#get_op">get_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="monad_model_get__canonical__monad_lib_AOperation" class="id"><span id="HB_unnamed_factory_86" class="id"><a name="monad_model_get__canonical__monad_lib_AOperation" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_lib.html#isAOperation.Build">isAOperation.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">StateOpsGet.acto</a></span> <span class="id"><a href="monae.monad_model.html#stateops.S">S]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#stateops.get">get</a></span> <span class="id"><a href="monae.monad_model.html#algebraic_get">algebraic_get</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="get_aop" class="id"><a name="get_aop" class="">get_aop</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">StateOpsGet.acto</a></span> <span class="id"><a href="monae.monad_model.html#stateops.S">S]</a></span>.<span class="id">-aoperation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.monad_lib.html#aoperation">aoperation</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#stateops.get">get]</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="stateops.put'" class="id"><a name="stateops.put'" class="">put'</a></span> <span id="A:240" class="id"><a name="A:240" class="">A</a></span> (<span id="s:241" class="id"><a name="s:241" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#stateops.S">S</a></span>) (<span id="m:242" class="id"><a name="m:242" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:240">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:240">A</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#m:242">m</a></span> <span class="id"><a href="monae.monad_model.html#s:241">s</a></span>.<br/>
<span class="vernacular">Let</span> <span id="stateops.put" class="id"><a name="stateops.put" class="">put</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">StateOpsPut.acto</a></span> <span class="id"><a href="monae.monad_model.html#stateops.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="A:243" class="id"><a name="A:243" class="">A</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> (<span class="id"><a href="monae.monad_model.html#stateops.put'">put'</a></span> (<span class="id">A</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#A:243">A</a></span>)).<br/>
<span class="vernacular">Let</span> <span id="stateops.naturality_put" class="id"><a name="stateops.naturality_put" class="">naturality_put</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">StateOpsPut.acto</a></span> <span class="id"><a href="monae.monad_model.html#stateops.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#stateops.put">put</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">-[s</span> <span class="id">m</span> <span class="id">/=];</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span>. Qed.</div>
<span id="monad_model_put__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_88" class="id"><a name="monad_model_put__canonical__hierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isNatural.Build">isNatural.Build</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#stateops.put">put</a></span> <span class="id"><a href="monae.monad_model.html#stateops.naturality_put">naturality_put</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="put_op" class="id"><a name="put_op" class="">put_op</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">StateOpsPut.acto</a></span> <span class="id"><a href="monae.monad_model.html#stateops.S">S]</a></span>.<span class="id">-operation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#stateops.put">put]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_put" class="id"><a name="algebraic_put" class="">algebraic_put</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monae.monad_model.html#put_op">put_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?</span> <span class="id">[]</span>. Qed.</div>
<span id="monad_model_put__canonical__monad_lib_AOperation" class="id"><span id="HB_unnamed_factory_90" class="id"><a name="monad_model_put__canonical__monad_lib_AOperation" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_lib.html#isAOperation.Build">isAOperation.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">StateOpsPut.acto</a></span> <span class="id"><a href="monae.monad_model.html#stateops.S">S]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#stateops.put">put</a></span> <span class="id"><a href="monae.monad_model.html#algebraic_put">algebraic_put</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="put_aop" class="id"><a name="put_aop" class="">put_aop</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">StateOpsPut.acto</a></span> <span class="id"><a href="monae.monad_model.html#stateops.S">S]</a></span>.<span class="id">-aoperation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.monad_lib.html#aoperation">aoperation</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#stateops.put">put]</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#stateops">stateops</a></span>.<br/>
<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.monad_model.html#get_op">get_op</a></span> <span class="id">{S}</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.monad_model.html#put_op">put_op</a></span> <span class="id">{S}</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ContOpsAbort" class="id"><a name="ContOpsAbort" class="">ContOpsAbort</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ContOpsAbort.abort" class="id"><a name="ContOpsAbort.abort" class="">abort</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ContOpsAbort.abort.r" class="id"><a name="ContOpsAbort.abort.r" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ContOpsAbort.acto" class="id"><a name="ContOpsAbort.acto" class="">acto</a></span> (<span id="X:245" class="id"><a name="X:245" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ContOpsAbort.abort.r">r</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ContOpsAbort.abort.actm" class="id"><a name="ContOpsAbort.abort.actm" class="">actm</a></span> (<span id="A:246" class="id"><a name="A:246" class="">A</a></span> <span id="B:247" class="id"><a name="B:247" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:248" class="id"><a name="f:248" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:246">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#B:247">B</a></span>) (<span id="x:249" class="id"><a name="x:249" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ContOpsAbort.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#A:246">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ContOpsAbort.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#B:247">B</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#x:249">x</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ContOpsAbort.abort.func_id" class="id"><a name="ContOpsAbort.abort.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monae.monad_model.html#ContOpsAbort.abort.actm">actm</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ContOpsAbort.abort.func_comp" class="id"><a name="ContOpsAbort.abort.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monae.monad_model.html#ContOpsAbort.abort.actm">actm</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="ContOpsAbort.ContOpsAbort_acto__canonical__hierarchy_Functor" class="id"><span id="ContOpsAbort.HB_unnamed_factory_92" class="id"><a name="ContOpsAbort.ContOpsAbort_acto__canonical__hierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monae.monad_model.html#ContOpsAbort.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ContOpsAbort.abort.func_id">func_id</a></span> <span class="id"><a href="monae.monad_model.html#ContOpsAbort.abort.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ContOpsAbort.abort">abort</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ContOpsAbort">ContOpsAbort</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ContOpsAbort</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ContOpsAcallcc" class="id"><a name="ContOpsAcallcc" class="">ContOpsAcallcc</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ContOpsAcallcc.acallcc" class="id"><a name="ContOpsAcallcc.acallcc" class="">acallcc</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ContOpsAcallcc.acallcc.r" class="id"><a name="ContOpsAcallcc.acallcc.r" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ContOpsAcallcc.acto" class="id"><a name="ContOpsAcallcc.acto" class="">acto</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:251" class="id"><a name="A:251" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monae.monad_model.html#A:251">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ContOpsAcallcc.acallcc.r">r</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.monad_model.html#A:251">A</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ContOpsAcallcc.acallcc.actm" class="id"><a name="ContOpsAcallcc.acallcc.actm" class="">actm</a></span> (<span id="X:252" class="id"><a name="X:252" class="">X</a></span> <span id="Y:253" class="id"><a name="Y:253" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:254" class="id"><a name="f:254" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#X:252">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#Y:253">Y</a></span>) (<span id="t:255" class="id"><a name="t:255" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ContOpsAcallcc.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#X:252">X</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ContOpsAcallcc.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#Y:253">Y</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> (<span id="g:256" class="id"><a name="g:256" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Y:253">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ContOpsAcallcc.acallcc.r">r</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:254">f</a></span> (<span class="id"><a href="monae.monad_model.html#t:255">t</a></span> (<span class="gallina-kwd">fun</span> <span id="x:257" class="id"><a name="x:257" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#g:256">g</a></span> (<span class="id"><a href="monae.monad_model.html#f:254">f</a></span> <span class="id"><a href="monae.monad_model.html#x:257">x</a></span>))).<br/>
<span class="vernacular">Let</span> <span id="ContOpsAcallcc.acallcc.func_id" class="id"><a name="ContOpsAcallcc.acallcc.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monae.monad_model.html#ContOpsAcallcc.acallcc.actm">actm</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ContOpsAcallcc.acallcc.func_comp" class="id"><a name="ContOpsAcallcc.acallcc.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monae.monad_model.html#ContOpsAcallcc.acallcc.actm">actm</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="ContOpsAcallcc.ContOpsAcallcc_acto__canonical__hierarchy_Functor" class="id"><span id="ContOpsAcallcc.HB_unnamed_factory_94" class="id"><a name="ContOpsAcallcc.ContOpsAcallcc_acto__canonical__hierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monae.monad_model.html#ContOpsAcallcc.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ContOpsAcallcc.acallcc.func_id">func_id</a></span> <span class="id"><a href="monae.monad_model.html#ContOpsAcallcc.acallcc.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ContOpsAcallcc.acallcc">acallcc</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ContOpsAcallcc">ContOpsAcallcc</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ContOpsAcallcc</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="contops" class="id"><a name="contops" class="">contops</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="contops.r" class="id"><a name="contops.r" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="M" class="id"><a name="M" class="">M</a></span> <span class="id">:=</span> (<span class="id"><a href="monae.monad_model.html#acto">ContMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#contops.r">r</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="abort" class="id"><a name="abort" class="">abort</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">ContOpsAbort.acto</a></span> <span class="id"><a href="monae.monad_model.html#contops.r">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> (<span id="A:259" class="id"><a name="A:259" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span id="r:260" class="id"><a name="r:260" class="">r</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#r:260">r</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="naturality_abort" class="id"><a name="naturality_abort" class="">naturality_abort</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">ContOpsAbort.acto</a></span> <span class="id"><a href="monae.monad_model.html#contops.r">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#abort">abort</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="monad_model_abort__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_96" class="id"><a name="monad_model_abort__canonical__hierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isNatural.Build">isNatural.Build</a></span><br/>
&nbsp;&nbsp;<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#abort">abort</a></span> <span class="id"><a href="monae.monad_model.html#naturality_abort">naturality_abort</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="abort_op" class="id"><a name="abort_op" class="">abort_op</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">ContOpsAbort.acto</a></span> <span class="id"><a href="monae.monad_model.html#contops.r">r]</a></span>.<span class="id">-operation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#abort">abort]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraicity_abort" class="id"><a name="algebraicity_abort" class="">algebraicity_abort</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monae.monad_model.html#abort_op">abort_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="monad_model_abort__canonical__monad_lib_AOperation" class="id"><span id="HB_unnamed_factory_98" class="id"><a name="monad_model_abort__canonical__monad_lib_AOperation" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_lib.html#isAOperation.Build">isAOperation.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">ContOpsAbort.acto</a></span> <span class="id"><a href="monae.monad_model.html#contops.r">r]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#abort">abort</a></span> <span class="id"><a href="monae.monad_model.html#algebraicity_abort">algebraicity_abort</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="abort_aop" class="id"><a name="abort_aop" class="">abort_aop</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">ContOpsAbort.acto</a></span> <span class="id"><a href="monae.monad_model.html#contops.r">r]</a></span>.<span class="id">-aoperation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.monad_lib.html#aoperation">aoperation</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#abort">abort]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="acallcc" class="id"><a name="acallcc" class="">acallcc</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">ContOpsAcallcc.acto</a></span> <span class="id"><a href="monae.monad_model.html#contops.r">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id">~~&gt;</span> <span class="id"><a href="monae.monad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="A:261" class="id"><a name="A:261" class="">A</a></span> <span id="f:262" class="id"><a name="f:262" class="">f</a></span> <span id="k:263" class="id"><a name="k:263" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:262">f</a></span> (<span class="gallina-kwd">fun</span> <span id="m:264" class="id"><a name="m:264" class="">m</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#m:264">m</a></span> <span class="id"><a href="monae.monad_model.html#k:263">k</a></span>) <span class="id"><a href="monae.monad_model.html#k:263">k</a></span>.<br/>
<span class="vernacular">Let</span> <span id="contops.naturality_acallcc" class="id"><a name="contops.naturality_acallcc" class="">naturality_acallcc</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">ContOpsAcallcc.acto</a></span> <span class="id"><a href="monae.monad_model.html#contops.r">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#acallcc">acallcc</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="monad_model_acallcc__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_100" class="id"><a name="monad_model_acallcc__canonical__hierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isNatural.Build">isNatural.Build</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id"><a href="monae.monad_model.html#acallcc">acallcc</a></span> <span class="id"><a href="monae.monad_model.html#contops.naturality_acallcc">naturality_acallcc</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="acallcc_op" class="id"><a name="acallcc_op" class="">acallcc_op</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">ContOpsAcallcc.acto</a></span> <span class="id"><a href="monae.monad_model.html#contops.r">r]</a></span>.<span class="id">-operation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acallcc">acallcc]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="contops.algebraicity_callcc" class="id"><a name="contops.algebraicity_callcc" class="">algebraicity_callcc</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monae.monad_model.html#acallcc_op">acallcc_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="monad_model_acallcc__canonical__monad_lib_AOperation" class="id"><span id="HB_unnamed_factory_102" class="id"><a name="monad_model_acallcc__canonical__monad_lib_AOperation" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_lib.html#isAOperation.Build">isAOperation.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">ContOpsAcallcc.acto</a></span> <span class="id"><a href="monae.monad_model.html#contops.r">r]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#acallcc">acallcc</a></span> <span class="id"><a href="monae.monad_model.html#contops.algebraicity_callcc">algebraicity_callcc</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="callcc_aop" class="id"><a name="callcc_aop" class="">callcc_aop</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">ContOpsAcallcc.acto</a></span> <span class="id"><a href="monae.monad_model.html#contops.r">r]</a></span>.<span class="id">-aoperation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.monad_lib.html#aoperation">aoperation</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acallcc">acallcc]</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#contops">contops</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span class="vernacular">Fail</span>.<br/>
<span class="vernacular">Section</span> <span id="Fail.fail" class="id"><a name="Fail.fail" class="">fail</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Fail.option_fail" class="id"><a name="Fail.option_fail" class="">option_fail</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:265" class="id"><a name="A:265" class="">A,</a></span> <span class="id"><a href="monae.monad_model.html#option_monad">option_monad</a></span> <span class="id"><a href="monae.monad_model.html#A:265">A</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:266" class="id"><a name="A:266" class="">A</a></span> <span class="id">=&gt;</span> @<span class="id"><a href="monae.monad_model.html#throw">throw</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="monae.monad_model.html#A:266">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Fail.fail.option_bindfailf" class="id"><a name="Fail.fail.option_bindfailf" class="">option_bindfailf</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_zero">BindLaws.left_zero</a></span> (@<span class="id"><a href="monae.hierarchy.html#bind">bind</a></span> <span class="id">_</span>) <span class="id"><a href="monae.monad_model.html#Fail.option_fail">option_fail</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof89')">Proof.</span></div>
<div class="proofscript" id="proof89">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="Fail.HB_unnamed_factory_104" class="id"><a name="Fail.HB_unnamed_factory_104" class="hierarchy-builder">HB.instance</a></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#Monad.on">Monad.on</a></span> <span class="id"><a href="monae.monad_model.html#option_monad">option_monad</a></span>.<br/>
<span id="Fail.monad_model_option_monad__canonical__hierarchy_MonadFail" class="id"><span id="Fail.HB_unnamed_factory_107" class="id"><a name="Fail.monad_model_option_monad__canonical__hierarchy_MonadFail" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> @<span class="id"><a href="monae.hierarchy.html#isMonadFail.Build">isMonadFail.Build</a></span> <span class="id"><a href="monae.monad_model.html#option_monad">option_monad</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#Fail.option_fail">option_fail</a></span> <span class="id"><a href="monae.monad_model.html#Fail.fail.option_bindfailf">option_bindfailf</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Fail.list_fail" class="id"><a name="Fail.list_fail" class="">list_fail</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:267" class="id"><a name="A:267" class="">A,</a></span> <span class="id"><a href="monae.monad_model.html#ListMonad.acto">ListMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#A:267">A</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:268" class="id"><a name="A:268" class="">A</a></span> <span class="id">=&gt;</span> @<span class="id"><a href="monae.monad_model.html#empty">empty</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Fail.fail.list_bindfailf" class="id"><a name="Fail.fail.list_bindfailf" class="">list_bindfailf</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_zero">BindLaws.left_zero</a></span> (@<span class="id"><a href="monae.hierarchy.html#bind">bind</a></span> <span class="id">_</span>) <span class="id"><a href="monae.monad_model.html#Fail.list_fail">list_fail</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof90')">Proof.</span></div>
<div class="proofscript" id="proof90">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="Fail.ListMonad_acto__canonical__hierarchy_MonadFail" class="id"><span id="Fail.HB_unnamed_factory_109" class="id"><a name="Fail.ListMonad_acto__canonical__hierarchy_MonadFail" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> @<span class="id"><a href="monae.hierarchy.html#isMonadFail.Build">isMonadFail.Build</a></span> <span class="id"><a href="monae.monad_model.html#ListMonad.acto">ListMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#Fail.list_fail">list_fail</a></span> <span class="id"><a href="monae.monad_model.html#Fail.fail.list_bindfailf">list_bindfailf</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Fail.set_fail" class="id"><a name="Fail.set_fail" class="">set_fail</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:269" class="id"><a name="A:269" class="">A,</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set">set</a></span> <span class="id"><a href="monae.monad_model.html#A:269">A</a></span> <span class="id">:=</span> @<span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set0">set0</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Fail.fail.set_bindfailf" class="id"><a name="Fail.fail.set_bindfailf" class="">set_bindfailf</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_zero">BindLaws.left_zero</a></span> (@<span class="id"><a href="monae.hierarchy.html#bind">bind</a></span> <span class="id">_</span>) <span class="id"><a href="monae.monad_model.html#Fail.set_fail">set_fail</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof91')">Proof.</span></div>
<div class="proofscript" id="proof91">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> <span class="id">/=;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">b;</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#propeqE">boolp.propeqE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">//</span> <span class="id">-[a</span> <span class="id">[]]</span>.<br/>
Qed.</div>
<span id="Fail.classical_sets_set__canonical__hierarchy_MonadFail" class="id"><span id="Fail.HB_unnamed_factory_111" class="id"><a name="Fail.classical_sets_set__canonical__hierarchy_MonadFail" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadFail.Build">isMonadFail.Build</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set">set</a></span> <span class="id"><a href="monae.monad_model.html#Fail.fail.set_bindfailf">set_bindfailf</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Fail.fail">fail</a></span>.<br/>
<span class="vernacular">End</span> <span class="vernacular">Fail</span>.<br/>
<span class="id">HB.export</span> <span class="vernacular">Fail</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Except" class="id"><a name="Except" class="">Except</a></span>.<br/>
<span class="vernacular">Section</span> <span id="Except.except" class="id"><a name="Except.except" class="">except</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Except.except.M" class="id"><a name="Except.except.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadFail.Exports.failMonad">failMonad</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#option_monad">option_monad</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Except.handle" class="id"><a name="Except.handle" class="">handle</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:270" class="id"><a name="A:270" class="">A,</a></span> <span class="id"><a href="monae.monad_model.html#Except.except.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:270">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#Except.except.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:270">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#Except.except.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:270">A</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="A:271" class="id"><a name="A:271" class="">A</a></span> <span id="m1:272" class="id"><a name="m1:272" class="">m1</a></span> <span id="m2:273" class="id"><a name="m2:273" class="">m2</a></span> <span class="id">=&gt;</span> @<span class="id"><a href="monae.monad_model.html#handle_op">handle_op</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">_</span> (<span class="id"><a href="monae.monad_model.html#m1:272">m1,</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#m2:273">m2</a></span>)).<br/>
<span class="vernacular">Lemma</span> <span id="Except.handleE" class="id"><a name="Except.handleE" class="">handleE</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#Except.handle">handle</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="A:274" class="id"><a name="A:274" class="">A</a></span> <span id="m:275" class="id"><a name="m:275" class="">m</a></span> <span id="m':276" class="id"><a name="m':276" class="">m'</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="monae.monad_model.html#m:275">m</a></span> <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id">x</span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.monad_model.html#m:275">m</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="monae.monad_model.html#m':276">m'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof92')">Proof.</span></div>
<div class="proofscript" id="proof92">
 <span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id"><a href="monae.monae_lib.html#funext_dep">funext_dep</a></span> <span class="id">=&gt;</span> <span class="id">A;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Except.except.catchmfail" class="id"><a name="Except.except.catchmfail" class="">catchmfail</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:278" class="id"><a name="A:278" class="">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#right_id">right_id</a></span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> (@<span class="id"><a href="monae.monad_model.html#Except.handle">handle</a></span> <span class="id"><a href="monae.monad_model.html#A:278">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof93')">Proof.</span></div>
<div class="proofscript" id="proof93">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">case</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Except.except.catchfailm" class="id"><a name="Except.except.catchfailm" class="">catchfailm</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:279" class="id"><a name="A:279" class="">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#left_id">left_id</a></span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> (@<span class="id"><a href="monae.monad_model.html#Except.handle">handle</a></span> <span class="id"><a href="monae.monad_model.html#A:279">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof94')">Proof.</span></div>
<div class="proofscript" id="proof94">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">case</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Except.except.catchA" class="id"><a name="Except.except.catchA" class="">catchA</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:280" class="id"><a name="A:280" class="">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#associative">ssrfun.associative</a></span> (@<span class="id"><a href="monae.monad_model.html#Except.handle">handle</a></span> <span class="id"><a href="monae.monad_model.html#A:280">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof95')">Proof.</span></div>
<div class="proofscript" id="proof95">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">case</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Except.except.catchret" class="id"><a name="Except.except.catchret" class="">catchret</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:281" class="id"><a name="A:281" class="">A</a></span> <span id="x:282" class="id"><a name="x:282" class="">x,</a></span> @<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#left_zero">left_zero</a></span> (<span class="id"><a href="monae.monad_model.html#Except.except.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:281">A</a></span>) (<span class="id"><a href="monae.monad_model.html#Except.except.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:281">A</a></span>) (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_model.html#x:282">x</a></span>) (@<span class="id"><a href="monae.monad_model.html#Except.handle">handle</a></span> <span class="id"><a href="monae.monad_model.html#A:281">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof96')">Proof.</span></div>
<div class="proofscript" id="proof96">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">x;</span> <span class="id">case</span>. Qed.</div>
<span id="Except.monad_model_option_monad__canonical__hierarchy_MonadExcept" class="id"><span id="Except.HB_unnamed_factory_113" class="id"><a name="Except.monad_model_option_monad__canonical__hierarchy_MonadExcept" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadExcept.Build">isMonadExcept.Build</a></span> <span class="id"><a href="monae.monad_model.html#option_monad">option_monad</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#Except.except.catchmfail">catchmfail</a></span> <span class="id"><a href="monae.monad_model.html#Except.except.catchfailm">catchfailm</a></span> <span class="id"><a href="monae.monad_model.html#Except.except.catchA">catchA</a></span> <span class="id"><a href="monae.monad_model.html#Except.except.catchret">catchret</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Except.except">except</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Except">Except</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">Except</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="State" class="id"><a name="State" class="">State</a></span>.<br/>
<span class="vernacular">Section</span> <span id="State.state" class="id"><a name="State.state" class="">state</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="State.state.S" class="id"><a name="State.state.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="State.M" class="id"><a name="State.M" class="">M</a></span> <span class="id">:=</span> (<span class="id"><a href="monae.monad_model.html#StateMonad.acto">StateMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#State.state.S">S</a></span>).<br/>
<span class="vernacular">Let</span> <span id="State.state.get" class="id"><a name="State.state.get" class="">get</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#State.M">M</a></span> <span class="id"><a href="monae.monad_model.html#State.state.S">S</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#get_op">get_op</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="State.getE" class="id"><a name="State.getE" class="">getE</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#State.state.get">get</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">fun</span> <span id="s:284" class="id"><a name="s:284" class="">s</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monae.monad_model.html#s:284">s,</a></span> <span class="id"><a href="monae.monad_model.html#s:284">s</a></span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof97')">Proof.</span></div>
<div class="proofscript" id="proof97">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="State.state.put" class="id"><a name="State.state.put" class="">put</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#State.state.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#State.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="s:285" class="id"><a name="s:285" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#put_op">put_op</a></span> <span class="id">_</span> (<span class="id"><a href="monae.monad_model.html#s:285">s,</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>).<br/>
<span class="vernacular">Lemma</span> <span id="State.putE" class="id"><a name="State.putE" class="">putE</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#State.state.put">put</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">fun</span> <span id="s':286" class="id"><a name="s':286" class="">s'</a></span> <span class="id">_</span> <span class="id">=&gt;</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> <span class="id"><a href="monae.monad_model.html#s':286">s'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof98')">Proof.</span></div>
<div class="proofscript" id="proof98">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="State.state.putput" class="id"><a name="State.state.putput" class="">putput</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:287" class="id"><a name="s:287" class="">s</a></span> <span id="s':288" class="id"><a name="s':288" class="">s',</a></span> <span class="id"><a href="monae.monad_model.html#State.state.put">put</a></span> <span class="id"><a href="monae.monad_model.html#s:287">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#State.state.put">put</a></span> <span class="id"><a href="monae.monad_model.html#s':288">s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#State.state.put">put</a></span> <span class="id"><a href="monae.monad_model.html#s':288">s'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof99')">Proof.</span></div>
<div class="proofscript" id="proof99">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="State.state.putget" class="id"><a name="State.state.putget" class="">putget</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:289" class="id"><a name="s:289" class="">s,</a></span> <span class="id"><a href="monae.monad_model.html#State.state.put">put</a></span> <span class="id"><a href="monae.monad_model.html#s:289">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#State.state.get">get</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#State.state.put">put</a></span> <span class="id"><a href="monae.monad_model.html#s:289">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_model.html#s:289">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof100')">Proof.</span></div>
<div class="proofscript" id="proof100">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="State.state.getputskip" class="id"><a name="State.state.getputskip" class="">getputskip</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#State.state.get">get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#State.state.put">put</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#skip">skip</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof101')">Proof.</span></div>
<div class="proofscript" id="proof101">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="State.state.getget" class="id"><a name="State.state.getget" class="">getget</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:290" class="id"><a name="A:290" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="k:291" class="id"><a name="k:291" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#State.state.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#State.state.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#State.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:290">A</a></span>)<span class="id">,</span> <span class="id"><a href="monae.monad_model.html#State.state.get">get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="s:292" class="id"><a name="s:292" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#State.state.get">get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:291">k</a></span> <span class="id"><a href="monae.monad_model.html#s:292">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#State.state.get">get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="s:293" class="id"><a name="s:293" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:291">k</a></span> <span class="id"><a href="monae.monad_model.html#s:293">s</a></span> <span class="id"><a href="monae.monad_model.html#s:293">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof102')">Proof.</span></div>
<div class="proofscript" id="proof102">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="State.StateMonad_acto__canonical__hierarchy_MonadState" class="id"><span id="State.HB_unnamed_factory_115" class="id"><a name="State.StateMonad_acto__canonical__hierarchy_MonadState" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadState.Build">isMonadState.Build</a></span> <span class="id"><a href="monae.monad_model.html#State.state.S">S</a></span> (<span class="id"><a href="monae.monad_model.html#StateMonad.acto">StateMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#State.state.S">S</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#State.state.putput">putput</a></span> <span class="id"><a href="monae.monad_model.html#State.state.putget">putget</a></span> <span class="id"><a href="monae.monad_model.html#State.state.getputskip">getputskip</a></span> <span class="id"><a href="monae.monad_model.html#State.state.getget">getget</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#State.state">state</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#State">State</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">State</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Alt" class="id"><a name="Alt" class="">Alt</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Alt.list" class="id"><a name="Alt.list" class="">list</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Alt.list.M" class="id"><a name="Alt.list.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ListMonad.acto">ListMonad.acto</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Alt.list_alt" class="id"><a name="Alt.list_alt" class="">list_alt</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="T:294" class="id"><a name="T:294" class="">T,</a></span> <span class="id"><a href="monae.monad_model.html#Alt.list.M">M</a></span> <span class="id"><a href="monae.monad_model.html#T:294">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#Alt.list.M">M</a></span> <span class="id"><a href="monae.monad_model.html#T:294">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#Alt.list.M">M</a></span> <span class="id"><a href="monae.monad_model.html#T:294">T</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:295" class="id"><a name="A:295" class="">A</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#curry">curry</a></span> (@<span class="id"><a href="monae.monad_model.html#append">append</a></span> <span class="id"><a href="monae.monad_model.html#A:295">A</a></span>).<br/>
<span class="vernacular">Let</span> <span id="Alt.list.altA" class="id"><a name="Alt.list.altA" class="">altA</a></span> (<span id="T:296" class="id"><a name="T:296" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#associative">ssrfun.associative</a></span> (@<span class="id"><a href="monae.monad_model.html#Alt.list_alt">list_alt</a></span> <span class="id"><a href="monae.monad_model.html#T:296">T</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof103')">Proof.</span></div>
<div class="proofscript" id="proof103">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c;</span> <span class="id">rewrite</span> <span class="id">/list_alt</span> <span class="id">/=</span> <span class="id">/curry</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#catA">catA</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Alt.list.alt_bindDl" class="id"><a name="Alt.list.alt_bindDl" class="">alt_bindDl</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_distributive">BindLaws.left_distributive</a></span> (@<span class="id"><a href="monae.hierarchy.html#bind">bind</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ListMonad.acto">ListMonad.acto</a></span><span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>) <span class="id"><a href="monae.monad_model.html#Alt.list_alt">list_alt</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof104')">Proof.</span></div>
<div class="proofscript" id="proof104">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">/=</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">k</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#list_bindE">list_bindE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#map_cat">map_cat</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#flatten_cat">flatten_cat</a></span>.<br/>
Qed.</div>
<span id="Alt.ListMonad_acto__canonical__hierarchy_MonadAlt" class="id"><span id="Alt.HB_unnamed_factory_117" class="id"><a name="Alt.ListMonad_acto__canonical__hierarchy_MonadAlt" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadAlt.Build">isMonadAlt.Build</a></span> <span class="id"><a href="monae.monad_model.html#ListMonad.acto">ListMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#Alt.list.altA">altA</a></span> <span class="id"><a href="monae.monad_model.html#Alt.list.alt_bindDl">alt_bindDl</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Alt.list">list</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Alt.setUDl" class="id"><a name="Alt.setUDl" class="">setUDl</a></span> <span class="id">:</span> @<span class="id"><a href="monae.hierarchy.html#BindLaws.left_distributive">BindLaws.left_distributive</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="I:297" class="id"><a name="I:297" class="">I</a></span> <span id="A:298" class="id"><a name="A:298" class="">A</a></span> <span class="id">=&gt;</span> @<span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#bigcup">bigcup</a></span> <span class="id"><a href="monae.monad_model.html#A:298">A</a></span> <span class="id"><a href="monae.monad_model.html#I:297">I</a></span>) (@<span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#setU">setU</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof105')">Proof.</span></div>
<div class="proofscript" id="proof105">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">/=</span> <span class="id">p</span> <span class="id">q</span> <span class="id">r;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">b;</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#propeqE">boolp.propeqE</a></span><span class="id">;</span> <span class="id">split</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">-[a</span> <span class="id">[?|?]</span> <span class="id">?];</span> <span class="gallina-kwd">by</span> <span class="id">[left;</span> <span class="gallina-kwd">exists</span> <span class="id">a</span> <span class="id">|</span> <span class="id">right;</span> <span class="gallina-kwd">exists</span> <span class="id">a]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/setU</span> <span class="id">=&gt;</span> <span class="id">-[[a</span> <span class="id">?</span> <span class="id">?]|[a</span> <span class="id">?</span> <span class="id">?]];</span> <span class="gallina-kwd">exists</span> <span class="id">a</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[left|right]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="Alt.set" class="id"><a name="Alt.set" class="">set</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Alt.set.M" class="id"><a name="Alt.set.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set">set]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Alt.set.altA" class="id"><a name="Alt.set.altA" class="">altA</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="T:299" class="id"><a name="T:299" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#associative">ssrfun.associative</a></span> (@<span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#setU">setU</a></span> <span class="id"><a href="monae.monad_model.html#T:299">T</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof106')">Proof.</span></div>
<div class="proofscript" id="proof106">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">exact:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#setUA">setUA</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Alt.set.alt_bindDl" class="id"><a name="Alt.set.alt_bindDl" class="">alt_bindDl</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_distributive">BindLaws.left_distributive</a></span> (@<span class="id"><a href="monae.hierarchy.html#bind">bind</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set">set]</a></span>) (@<span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#setU">setU</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof107')">Proof.</span></div>
<div class="proofscript" id="proof107">
<span class="id">rewrite</span> <span class="id">/BindLaws</span>.<span class="id">left_distributive</span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">k</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#set_bindE">set_bindE</a></span> <span class="id"><a href="monae.monad_model.html#Alt.setUDl">setUDl</a></span>.<br/>
Qed.</div>
<span id="Alt.classical_sets_set__canonical__hierarchy_MonadAlt" class="id"><span id="Alt.HB_unnamed_factory_119" class="id"><a name="Alt.classical_sets_set__canonical__hierarchy_MonadAlt" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadAlt.Build">isMonadAlt.Build</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set">set</a></span> <span class="id"><a href="monae.monad_model.html#Alt.set.altA">altA</a></span> <span class="id"><a href="monae.monad_model.html#Alt.set.alt_bindDl">alt_bindDl</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Alt.set">set</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Alt">Alt</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">Alt</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="AltCI" class="id"><a name="AltCI" class="">AltCI</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="AltCI.set" class="id"><a name="AltCI.set" class="">set</a></span>.<br/>
<span class="vernacular">Let</span> <span id="AltCI.set.M" class="id"><a name="AltCI.set.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadAlt.Exports.altMonad">altMonad</a></span> <span class="id">of</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set">set]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="AltCI.set.altmm" class="id"><a name="AltCI.set.altmm" class="">altmm</a></span> (<span id="A:300" class="id"><a name="A:300" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idempotent">idempotent</a></span> (@<span class="id"><a href="monae.hierarchy.html#alt">alt</a></span> <span class="id"><a href="monae.monad_model.html#AltCI.set.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:300">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof108')">Proof.</span></div>
<div class="proofscript" id="proof108">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">exact:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#setUid">setUid</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="AltCI.set.altC" class="id"><a name="AltCI.set.altC" class="">altC</a></span> (<span id="A:301" class="id"><a name="A:301" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#commutative">commutative</a></span> (@<span class="id"><a href="monae.hierarchy.html#alt">alt</a></span> <span class="id"><a href="monae.monad_model.html#AltCI.set.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:301">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof109')">Proof.</span></div>
<div class="proofscript" id="proof109">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">exact:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#setUC">setUC</a></span>. Qed.</div>
<span id="AltCI.classical_sets_set__canonical__hierarchy_MonadAltCI" class="id"><span id="AltCI.HB_unnamed_factory_121" class="id"><a name="AltCI.classical_sets_set__canonical__hierarchy_MonadAltCI" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> @<span class="id"><a href="monae.hierarchy.html#isMonadAltCI.Build">isMonadAltCI.Build</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set">set</a></span> <span class="id"><a href="monae.monad_model.html#AltCI.set.altmm">altmm</a></span> <span class="id"><a href="monae.monad_model.html#AltCI.set.altC">altC</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#AltCI.set">set</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#AltCI">AltCI</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">AltCI</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Nondet" class="id"><a name="Nondet" class="">Nondet</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Nondet.list" class="id"><a name="Nondet.list" class="">list</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Nondet.list.M" class="id"><a name="Nondet.list.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadFail.Exports.failMonad">failMonad</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadFail.Exports.failMonad">failMonad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ListMonad.acto">ListMonad.acto</a></span><span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Nondet.list.N" class="id"><a name="Nondet.list.N" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadAlt.Exports.altMonad">altMonad</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadAlt.Exports.altMonad">altMonad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ListMonad.acto">ListMonad.acto</a></span><span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Nondet.list.altfailm" class="id"><a name="Nondet.list.altfailm" class="">altfailm</a></span> <span class="id">:</span> @<span class="id"><a href="monae.hierarchy.html#BindLaws.left_id">BindLaws.left_id</a></span> <span class="id">_</span> (@<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="monae.monad_model.html#Nondet.list.M">M</a></span>) (@<span class="id"><a href="monae.hierarchy.html#alt">alt</a></span> <span class="id"><a href="monae.monad_model.html#Nondet.list.N">N</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof110')">Proof.</span></div>
<div class="proofscript" id="proof110">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Nondet.list.altmfail" class="id"><a name="Nondet.list.altmfail" class="">altmfail</a></span> <span class="id">:</span> @<span class="id"><a href="monae.hierarchy.html#BindLaws.right_id">BindLaws.right_id</a></span> <span class="id">_</span> (@<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="monae.monad_model.html#Nondet.list.M">M</a></span>) (@<span class="id"><a href="monae.hierarchy.html#alt">alt</a></span> <span class="id"><a href="monae.monad_model.html#Nondet.list.N">N</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof111')">Proof.</span></div>
<div class="proofscript" id="proof111">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">l</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/alt</span> <span class="id">/=</span> <span class="id">/list_alt</span> <span class="id">/=</span> <span class="id">/curry</span> <span class="id">/=</span> <span class="id">/fail</span> <span class="id">/=</span> <span class="id">/list_fail</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0</a></span>.<br/>
Qed.</div>
<span id="Nondet.ListMonad_acto__canonical__hierarchy_MonadNondet" class="id"><span id="Nondet.HB_unnamed_factory_123" class="id"><a name="Nondet.ListMonad_acto__canonical__hierarchy_MonadNondet" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadNondet.Build">isMonadNondet.Build</a></span> <span class="id"><a href="monae.monad_model.html#ListMonad.acto">ListMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#Nondet.list.altfailm">altfailm</a></span> <span class="id"><a href="monae.monad_model.html#Nondet.list.altmfail">altmfail</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Nondet.list">list</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Nondet.set" class="id"><a name="Nondet.set" class="">set</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="Nondet.M" class="id"><a name="Nondet.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadFail.Exports.failMonad">failMonad</a></span> <span class="id">of</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set">set]</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="Nondet.N" class="id"><a name="Nondet.N" class="">N</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadAlt.Exports.altMonad">altMonad</a></span> <span class="id">of</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set">set]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Nondet.set.altfailm" class="id"><a name="Nondet.set.altfailm" class="">altfailm</a></span> <span class="id">:</span> @<span class="id"><a href="monae.hierarchy.html#BindLaws.left_id">BindLaws.left_id</a></span> <span class="id">_</span> (@<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="monae.monad_model.html#Nondet.M">M</a></span>) (@<span class="id"><a href="monae.hierarchy.html#alt">alt</a></span> <span class="id"><a href="monae.monad_model.html#Nondet.N">N</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof112')">Proof.</span></div>
<div class="proofscript" id="proof112">
<span class="id">move=&gt;</span> <span class="id">T</span> <span class="id">m</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/fail</span> <span class="id">/=</span> <span class="id">/set_fail</span> <span class="id">/alt</span> <span class="id">/=</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set0U">set0U</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="Nondet.set.altmfail" class="id"><a name="Nondet.set.altmfail" class="">altmfail</a></span> <span class="id">:</span> @<span class="id"><a href="monae.hierarchy.html#BindLaws.right_id">BindLaws.right_id</a></span> <span class="id">_</span> (@<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="monae.monad_model.html#Nondet.M">M</a></span>) (@<span class="id"><a href="monae.hierarchy.html#alt">alt</a></span> <span class="id"><a href="monae.monad_model.html#Nondet.N">N</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof113')">Proof.</span></div>
<div class="proofscript" id="proof113">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">l</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/fail</span> <span class="id">/=</span> <span class="id">/alt</span> <span class="id">/=</span> <span class="id">/set_fail</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#setU0">setU0</a></span>.<br/>
Qed.</div>
<span id="Nondet.classical_sets_set__canonical__hierarchy_MonadCINondet" class="id"><span id="Nondet.classical_sets_set__canonical__hierarchy_MonadNondet" class="id"><span id="Nondet.HB_unnamed_factory_125" class="id"><a name="Nondet.classical_sets_set__canonical__hierarchy_MonadCINondet" class="hierarchy-builder">HB.instance</a></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadNondet.Build">isMonadNondet.Build</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set">set</a></span> <span class="id"><a href="monae.monad_model.html#Nondet.set.altfailm">altfailm</a></span> <span class="id"><a href="monae.monad_model.html#Nondet.set.altmfail">altmfail</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Nondet.set">set</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#Nondet">Nondet</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">Nondet</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="PrePlus" class="id"><a name="PrePlus" class="">PrePlus</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="PrePlus.failr0" class="id"><a name="PrePlus.failr0" class="">failr0</a></span>.<br/>
<span class="vernacular">Let</span> <span id="PrePlus.failr0.M" class="id"><a name="PrePlus.failr0.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadFail.Exports.failMonad">failMonad</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadFail.Exports.failMonad">failMonad</a></span> <span class="id">of</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set">set]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="PrePlus.failr0.bindmfail" class="id"><a name="PrePlus.failr0.bindmfail" class="">bindmfail</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_zero">BindLaws.right_zero</a></span> (@<span class="id"><a href="monae.hierarchy.html#bind">bind</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set">set]</a></span>) (@<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id">_</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof114')">Proof.</span></div>
<div class="proofscript" id="proof114">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">T1</span> <span class="id">T2</span> <span class="id">A;</span> <span class="id">rewrite</span> <span class="id">/bind/=</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#bigcup0">bigcup0</a></span>. Qed.</div>
<span id="PrePlus.classical_sets_set__canonical__hierarchy_MonadFailR0" class="id"><span id="PrePlus.HB_unnamed_factory_127" class="id"><a name="PrePlus.classical_sets_set__canonical__hierarchy_MonadFailR0" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadFailR0.Build">isMonadFailR0.Build</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set">set</a></span> <span class="id"><a href="monae.monad_model.html#PrePlus.failr0.bindmfail">bindmfail</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#PrePlus.failr0">failr0</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="PrePlus.set" class="id"><a name="PrePlus.set" class="">set</a></span>.<br/>
<span class="vernacular">Let</span> <span id="PrePlus.set.M" class="id"><a name="PrePlus.set.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadNondet.Exports.nondetMonad">nondetMonad</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadNondet.Exports.nondetMonad">nondetMonad</a></span> <span class="id">of</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set">set]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="PrePlus.set.alt_bindDr" class="id"><a name="PrePlus.set.alt_bindDr" class="">alt_bindDr</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_distributive">BindLaws.right_distributive</a></span> (@<span class="id"><a href="monae.hierarchy.html#bind">bind</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set">set]</a></span>) (@<span class="id"><a href="monae.hierarchy.html#alt">alt</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadAlt.Exports.altMonad">altMonad</a></span> <span class="id">of</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set">set]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof115')">Proof.</span></div>
<div class="proofscript" id="proof115">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">T1</span> <span class="id">T2</span> <span class="id">A</span> <span class="id">k1</span> <span class="id">k2;</span> <span class="id">rewrite</span> <span class="id">/bind/=</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#bigcupU">bigcupU</a></span>. Qed.</div>
<span id="PrePlus.classical_sets_set__canonical__hierarchy_MonadPlus" class="id"><span id="PrePlus.classical_sets_set__canonical__hierarchy_MonadPrePlus" class="id"><span id="PrePlus.HB_unnamed_factory_129" class="id"><a name="PrePlus.classical_sets_set__canonical__hierarchy_MonadPlus" class="hierarchy-builder">HB.instance</a></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadPrePlus.Build">isMonadPrePlus.Build</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#set">set</a></span> <span class="id"><a href="monae.monad_model.html#PrePlus.set.alt_bindDr">alt_bindDr</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#PrePlus.set">set</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#PrePlus">PrePlus</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">PrePlus</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelStateTrace" class="id"><a name="ModelStateTrace" class="">ModelStateTrace</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ModelStateTrace.st" class="id"><a name="ModelStateTrace.st" class="">st</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="ModelStateTrace.st.S" class="id"><a name="ModelStateTrace.st.S" class="">S</a></span> <span id="ModelStateTrace.st.T" class="id"><a name="ModelStateTrace.st.T" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>).<br/>
<span class="vernacular">Let</span> <span id="ModelStateTrace.st.M" class="id"><a name="ModelStateTrace.st.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#StateMonad.acto">StateMonad.acto</a></span> (<span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.T">T</a></span>)%<span class="id">type]</span>.<br/>
<span class="vernacular">Let</span> <span id="ModelStateTrace.st.st_get" class="id"><a name="ModelStateTrace.st.st_get" class="">st_get</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.M">M</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.S">S</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="s:304" class="id"><a name="s:304" class="">s</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monae.monad_model.html#s:304">s</a></span>.<span class="id">1,</span> <span class="id"><a href="monae.monad_model.html#s:304">s</a></span>).<br/>
<span class="vernacular">Let</span> <span id="ModelStateTrace.st.st_put" class="id"><a name="ModelStateTrace.st.st_put" class="">st_put</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span> (<span class="gallina-kwd">fun</span> <span id="s':305" class="id"><a name="s':305" class="">s'</a></span> <span id="s:306" class="id"><a name="s:306" class="">s</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> (<span class="id"><a href="monae.monad_model.html#s':305">s',</a></span> <span class="id"><a href="monae.monad_model.html#s:306">s</a></span>.<span class="id">2</span>))).<br/>
<span class="vernacular">Let</span> <span id="ModelStateTrace.st.st_mark" class="id"><a name="ModelStateTrace.st.st_mark" class="">st_mark</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span> (<span class="gallina-kwd">fun</span> <span id="t:307" class="id"><a name="t:307" class="">t</a></span> <span id="s:308" class="id"><a name="s:308" class="">s</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> (<span class="id"><a href="monae.monad_model.html#s:308">s</a></span>.<span class="id">1,</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#rcons">rcons</a></span> <span class="id"><a href="monae.monad_model.html#s:308">s</a></span>.<span class="id">2</span> <span class="id"><a href="monae.monad_model.html#t:307">t</a></span>))).<br/>
<span class="vernacular">Let</span> <span id="ModelStateTrace.st.st_putput" class="id"><a name="ModelStateTrace.st.st_putput" class="">st_putput</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:309" class="id"><a name="s:309" class="">s</a></span> <span id="s':310" class="id"><a name="s':310" class="">s',</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_put">st_put</a></span> <span class="id"><a href="monae.monad_model.html#s:309">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_put">st_put</a></span> <span class="id"><a href="monae.monad_model.html#s':310">s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_put">st_put</a></span> <span class="id"><a href="monae.monad_model.html#s':310">s'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof116')">Proof.</span></div>
<div class="proofscript" id="proof116">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelStateTrace.st.st_putget" class="id"><a name="ModelStateTrace.st.st_putget" class="">st_putget</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:311" class="id"><a name="s:311" class="">s,</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_put">st_put</a></span> <span class="id"><a href="monae.monad_model.html#s:311">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_get">st_get</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_put">st_put</a></span> <span class="id"><a href="monae.monad_model.html#s:311">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_model.html#s:311">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof117')">Proof.</span></div>
<div class="proofscript" id="proof117">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelStateTrace.st.st_getputskip" class="id"><a name="ModelStateTrace.st.st_getputskip" class="">st_getputskip</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_get">st_get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_put">st_put</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#skip">skip</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof118')">Proof.</span></div>
<div class="proofscript" id="proof118">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelStateTrace.st.st_getget" class="id"><a name="ModelStateTrace.st.st_getget" class="">st_getget</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:312" class="id"><a name="A:312" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="k:313" class="id"><a name="k:313" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:312">A</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_get">st_get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="s:314" class="id"><a name="s:314" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_get">st_get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:313">k</a></span> <span class="id"><a href="monae.monad_model.html#s:314">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_get">st_get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="s:315" class="id"><a name="s:315" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:313">k</a></span> <span class="id"><a href="monae.monad_model.html#s:315">s</a></span> <span class="id"><a href="monae.monad_model.html#s:315">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof119')">Proof.</span></div>
<div class="proofscript" id="proof119">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelStateTrace.st.st_putmark" class="id"><a name="ModelStateTrace.st.st_putmark" class="">st_putmark</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:316" class="id"><a name="s:316" class="">s</a></span> <span id="e:317" class="id"><a name="e:317" class="">e,</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_put">st_put</a></span> <span class="id"><a href="monae.monad_model.html#s:316">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_mark">st_mark</a></span> <span class="id"><a href="monae.monad_model.html#e:317">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_mark">st_mark</a></span> <span class="id"><a href="monae.monad_model.html#e:317">e</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_put">st_put</a></span> <span class="id"><a href="monae.monad_model.html#s:316">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof120')">Proof.</span></div>
<div class="proofscript" id="proof120">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelStateTrace.st.st_getmark" class="id"><a name="ModelStateTrace.st.st_getmark" class="">st_getmark</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="e:318" class="id"><a name="e:318" class="">e</a></span> (<span id="k:319" class="id"><a name="k:319" class="">k</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.M">M</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.S">S</a></span>)<span class="id">,</span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_get">st_get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="v:320" class="id"><a name="v:320" class="">v</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_mark">st_mark</a></span> <span class="id"><a href="monae.monad_model.html#e:318">e</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#k:319">k</a></span> <span class="id"><a href="monae.monad_model.html#v:320">v</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_mark">st_mark</a></span> <span class="id"><a href="monae.monad_model.html#e:318">e</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_get">st_get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:319">k</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof121')">Proof.</span></div>
<div class="proofscript" id="proof121">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="ModelStateTrace.StateMonad_acto__canonical__hierarchy_MonadStateTrace" class="id"><span id="ModelStateTrace.HB_unnamed_factory_131" class="id"><a name="ModelStateTrace.StateMonad_acto__canonical__hierarchy_MonadStateTrace" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> @<span class="id"><a href="monae.hierarchy.html#isMonadStateTrace.Build">isMonadStateTrace.Build</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.T">T</a></span> (<span class="id"><a href="monae.monad_model.html#StateMonad.acto">StateMonad.acto</a></span> (<span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.T">T</a></span>)%<span class="id">type</span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_get">st_get</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_put">st_put</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_mark">st_mark</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_putput">st_putput</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_putget">st_putget</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_getputskip">st_getputskip</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_getget">st_getget</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_putmark">st_putmark</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st.st_getmark">st_getmark</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace.st">st</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelStateTrace">ModelStateTrace</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ModelStateTrace</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="usual_callcc" class="id"><a name="usual_callcc" class="">usual_callcc</a></span> <span id="r:321" class="id"><a name="r:321" class="">r</a></span> (<span id="M:323" class="id"><a name="M:323" class="">M</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="C:322" class="id"><a name="C:322" class="">C</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monae.monad_model.html#C:322">C</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#r:321">r</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.monad_model.html#r:321">r</a></span>) <span id="A:324" class="id"><a name="A:324" class="">A</a></span> <span id="B:325" class="id"><a name="B:325" class="">B</a></span> (<span id="f:326" class="id"><a name="f:326" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="monae.monad_model.html#A:324">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M:323">M</a></span> <span class="id"><a href="monae.monad_model.html#B:325">B</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.monad_model.html#M:323">M</a></span> <span class="id"><a href="monae.monad_model.html#A:324">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#M:323">M</a></span> <span class="id"><a href="monae.monad_model.html#A:324">A</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="k:327" class="id"><a name="k:327" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:324">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#r:321">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:326">f</a></span> (<span class="gallina-kwd">fun</span> <span id="a:328" class="id"><a name="a:328" class="">a</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:327">k</a></span> <span class="id"><a href="monae.monad_model.html#a:328">a</a></span>) <span class="id"><a href="monae.monad_model.html#k:327">k</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelCont" class="id"><a name="ModelCont" class="">ModelCont</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ModelCont.modelcont" class="id"><a name="ModelCont.modelcont" class="">modelcont</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ModelCont.modelcont.r" class="id"><a name="ModelCont.modelcont.r" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="ModelCont.M" class="id"><a name="ModelCont.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> (<span class="id"><a href="monae.monad_model.html#ContMonad.acto">ContMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelCont.modelcont.r">r</a></span>)<span class="id">]</span>.<br/>
<span class="vernacular">Let</span> <span id="ModelCont.modelcont.callcc" class="id"><a name="ModelCont.modelcont.callcc" class="">callcc</a></span> (<span id="A:330" class="id"><a name="A:330" class="">A</a></span> <span id="B:331" class="id"><a name="B:331" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:332" class="id"><a name="f:332" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="monae.monad_model.html#A:330">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monae.monad_model.html#B:331">B</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:330">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:330">A</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#acallcc_op">acallcc_op</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="k:333" class="id"><a name="k:333" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:332">f</a></span> (<span class="gallina-kwd">fun</span> <span id="x:334" class="id"><a name="x:334" class="">x</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:333">k</a></span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_model.html#x:334">x</a></span>))).<br/>
<span class="vernacular">Lemma</span> <span id="ModelCont.callccE" class="id"><a name="ModelCont.callccE" class="">callccE</a></span> (<span id="A:335" class="id"><a name="A:335" class="">A</a></span> <span id="B:336" class="id"><a name="B:336" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:337" class="id"><a name="f:337" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="monae.monad_model.html#A:335">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monae.monad_model.html#B:336">B</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:335">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelCont.modelcont.callcc">callcc</a></span> <span class="id"><a href="monae.monad_model.html#f:337">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#usual_callcc">usual_callcc</a></span> <span class="id"><a href="monae.monad_model.html#f:337">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof122')">Proof.</span></div>
<div class="proofscript" id="proof122">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelCont.modelcont.callcc0" class="id"><a name="ModelCont.modelcont.callcc0" class="">callcc0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:338" class="id"><a name="A:338" class="">A</a></span> <span id="B:339" class="id"><a name="B:339" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="g:340" class="id"><a name="g:340" class="">g</a></span> <span class="id">:</span> (<span class="id"><a href="monae.monad_model.html#A:338">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monae.monad_model.html#B:339">B</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:338">A</a></span>) (<span id="k:341" class="id"><a name="k:341" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#B:339">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monae.monad_model.html#B:339">B</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="monae.monad_model.html#ModelCont.modelcont.callcc">callcc</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="f:342" class="id"><a name="f:342" class="">f</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#g:340">g</a></span> (<span class="gallina-kwd">fun</span> <span id="x:343" class="id"><a name="x:343" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:342">f</a></span> <span class="id"><a href="monae.monad_model.html#x:343">x</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:341">k</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> @<span class="id"><a href="monae.monad_model.html#ModelCont.modelcont.callcc">callcc</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="monae.monad_model.html#g:340">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof123')">Proof.</span></div>
<div class="proofscript" id="proof123">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelCont.modelcont.callcc1" class="id"><a name="ModelCont.modelcont.callcc1" class="">callcc1</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:344" class="id"><a name="A:344" class="">A</a></span> <span id="B:345" class="id"><a name="B:345" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:346" class="id"><a name="m:346" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monae.monad_model.html#B:345">B</a></span>)<span class="id">,</span> @<span class="id"><a href="monae.monad_model.html#ModelCont.modelcont.callcc">callcc</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#B:345">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:344">A</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#m:346">m</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#m:346">m</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof124')">Proof.</span></div>
<div class="proofscript" id="proof124">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelCont.modelcont.callcc2" class="id"><a name="ModelCont.modelcont.callcc2" class="">callcc2</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:347" class="id"><a name="A:347" class="">A</a></span> <span id="B:348" class="id"><a name="B:348" class="">B</a></span> <span id="C:349" class="id"><a name="C:349" class="">C</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:350" class="id"><a name="m:350" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:347">A</a></span>) <span id="x:351" class="id"><a name="x:351" class="">x</a></span> (<span id="k:352" class="id"><a name="k:352" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:347">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#B:348">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monae.monad_model.html#C:349">C</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="monae.monad_model.html#ModelCont.modelcont.callcc">callcc</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="f:353" class="id"><a name="f:353" class="">f</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelCont.M">M</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#m:350">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="a:354" class="id"><a name="a:354" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:353">f</a></span> <span class="id"><a href="monae.monad_model.html#x:351">x</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="b:355" class="id"><a name="b:355" class="">b</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:352">k</a></span> <span class="id"><a href="monae.monad_model.html#a:354">a</a></span> <span class="id"><a href="monae.monad_model.html#b:355">b</a></span>))) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="monae.monad_model.html#ModelCont.modelcont.callcc">callcc</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="f:356" class="id"><a name="f:356" class="">f</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelCont.M">M</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#m:350">m</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#f:356">f</a></span> <span class="id"><a href="monae.monad_model.html#x:351">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof125')">Proof.</span></div>
<div class="proofscript" id="proof125">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelCont.modelcont.callcc3" class="id"><a name="ModelCont.modelcont.callcc3" class="">callcc3</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:357" class="id"><a name="A:357" class="">A</a></span> <span id="B:358" class="id"><a name="B:358" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:359" class="id"><a name="m:359" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:357">A</a></span>) <span id="b:360" class="id"><a name="b:360" class="">b,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="monae.monad_model.html#ModelCont.modelcont.callcc">callcc</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="f:361" class="id"><a name="f:361" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#B:358">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monae.monad_model.html#B:358">B</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#m:359">m</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#f:361">f</a></span> <span class="id"><a href="monae.monad_model.html#b:360">b</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="monae.monad_model.html#ModelCont.modelcont.callcc">callcc</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#B:358">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monae.monad_model.html#B:358">B</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#m:359">m</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_model.html#b:360">b</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof126')">Proof.</span></div>
<div class="proofscript" id="proof126">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="ModelCont.ContMonad_acto__canonical__hierarchy_MonadContinuation" class="id"><span id="ModelCont.HB_unnamed_factory_133" class="id"><a name="ModelCont.ContMonad_acto__canonical__hierarchy_MonadContinuation" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadContinuation.Build">isMonadContinuation.Build</a></span> (<span class="id"><a href="monae.monad_model.html#ContMonad.acto">ContMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelCont.modelcont.r">r</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelCont.modelcont.callcc0">callcc0</a></span> <span class="id"><a href="monae.monad_model.html#ModelCont.modelcont.callcc1">callcc1</a></span> <span class="id"><a href="monae.monad_model.html#ModelCont.modelcont.callcc2">callcc2</a></span> <span class="id"><a href="monae.monad_model.html#ModelCont.modelcont.callcc3">callcc3</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelCont.modelcont">modelcont</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelCont">ModelCont</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ModelCont</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="continuation_examples" class="id"><a name="continuation_examples" class="">continuation_examples</a></span>.<br/>
<span class="vernacular">Fixpoint</span> <span id="fib" class="id"><a name="fib" class="">fib</a></span> (<span id="n:362" class="id"><a name="n:362" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="monae.monad_model.html#n:362">n</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">0</span> <span class="id">=&gt;</span> <span class="id">1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">1</span> <span class="id">=&gt;</span> <span class="id">1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> (<span class="id">m</span>.<span class="id">+1</span> <span class="gallina-kwd">as</span> <span class="id">sm</span>).<span class="id">+1</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#fib:363">fib</a></span> <span class="id">sm</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monae.monad_model.html#fib:363">fib</a></span> <span class="id">m</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<span class="vernacular">Fixpoint</span> <span id="fib_cps" class="id"><a name="fib_cps" class="">fib_cps</a></span> <span class="id">{M</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad}</a></span> (<span id="n:366" class="id"><a name="n:366" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#M:365">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="monae.monad_model.html#n:366">n</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">0</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">1</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> (<span class="id">m</span>.<span class="id">+1</span> <span class="gallina-kwd">as</span> <span class="id">sm</span>).<span class="id">+1</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#fib_cps:367">fib_cps</a></span> <span class="id">sm</span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="a:369" class="id"><a name="a:369" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#fib_cps:367">fib_cps</a></span> <span class="id">m</span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="b:370" class="id"><a name="b:370" class="">b</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_model.html#a:369">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monae.monad_model.html#b:370">b</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="fib_cpsE" class="id"><a name="fib_cpsE" class="">fib_cpsE</a></span> (<span id="M:371" class="id"><a name="M:371" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) <span id="n:372" class="id"><a name="n:372" class="">n</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#fib_cps">fib_cps</a></span> <span class="id"><a href="monae.monad_model.html#n:372">n</a></span>.<span class="id">+2</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> (<span class="id"><a href="monae.monad_model.html#fib_cps">fib_cps</a></span> <span class="id"><a href="monae.monad_model.html#n:372">n</a></span>.<span class="id">+1</span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="a:373" class="id"><a name="a:373" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#fib_cps">fib_cps</a></span> <span class="id"><a href="monae.monad_model.html#n:372">n</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="b:374" class="id"><a name="b:374" class="">b</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_model.html#a:373">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monae.monad_model.html#b:374">b</a></span>)) <span class="id">:&gt;</span> <span class="id"><a href="monae.monad_model.html#M:371">M</a></span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof127')">Proof.</span></div>
<div class="proofscript" id="proof127">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="continuation_examples.nat_ind2" class="id"><a name="continuation_examples.nat_ind2" class="">nat_ind2</a></span> (<span id="P:375" class="id"><a name="P:375" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>) (<span id="P0:376" class="id"><a name="P0:376" class="">P0</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#P:375">P</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span>) (<span id="P1:377" class="id"><a name="P1:377" class="">P1</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#P:375">P</a></span> <span class="id">1</span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="m:378" class="id"><a name="m:378" class="">m,</a></span> <span class="id"><a href="monae.monad_model.html#P:375">P</a></span> <span class="id"><a href="monae.monad_model.html#m:378">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#P:375">P</a></span> <span class="id"><a href="monae.monad_model.html#m:378">m</a></span>.<span class="id">+1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#P:375">P</a></span> <span class="id"><a href="monae.monad_model.html#m:378">m</a></span>.<span class="id">+2</span>) <span class="id">-&gt;</span> <span class="gallina-kwd">forall</span> <span id="m:379" class="id"><a name="m:379" class="">m,</a></span> <span class="id"><a href="monae.monad_model.html#P:375">P</a></span> <span class="id"><a href="monae.monad_model.html#m:379">m</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof128')">Proof.</span></div>
<div class="proofscript" id="proof128">
<span class="id">move=&gt;</span> <span class="id">H</span> <span class="id">n;</span> <span class="id">suff</span> <span class="id">:</span> <span class="id">P</span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">P</span> <span class="id">n</span>.<span class="id">+1</span> <span class="gallina-kwd">by</span> <span class="id">case</span>.<br/>
<span class="id">elim:</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n</span> <span class="id">[]</span> <span class="id">H1</span> <span class="id">H2;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">H</span>.<br/>
Qed.</div>
<span class="vernacular">Goal</span> <span class="gallina-kwd">forall</span> (<span id="M:380" class="id"><a name="M:380" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) <span id="n:381" class="id"><a name="n:381" class="">n,</a></span> <span class="id"><a href="monae.monad_model.html#fib_cps">fib_cps</a></span> <span class="id"><a href="monae.monad_model.html#n:381">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_model.html#fib">fib</a></span> <span class="id"><a href="monae.monad_model.html#n:381">n</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M:380">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof129')">Proof.</span></div>
<div class="proofscript" id="proof129">
<span class="id">move=&gt;</span> <span class="id">M;</span> <span class="id">apply</span> <span class="id"><a href="monae.monad_model.html#continuation_examples.nat_ind2">nat_ind2</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n</span> <span class="id">ih1</span> <span class="id">ih2</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#fib_cpsE">fib_cpsE</a></span> <span class="id">ih2</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span> <span class="id">ih1</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="oaddn" class="id"><a name="oaddn" class="">oaddn</a></span> (<span id="M:382" class="id"><a name="M:382" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="acc:383" class="id"><a name="acc:383" class="">acc</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span id="x:384" class="id"><a name="x:384" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#M:382">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.monad_model.html#x:384">x</a></span> <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_model.html#x:384">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monae.monad_model.html#acc:383">acc</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_model.html#acc:383">acc</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="sum_just" class="id"><a name="sum_just" class="">sum_just</a></span> <span id="M:386" class="id"><a name="M:386" class="">M</a></span> (<span id="xs:387" class="id"><a name="xs:387" class="">xs</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>)) <span class="id">:=</span> <span class="id"><a href="monae.fail_lib.html#foldM">foldM</a></span> (<span class="id"><a href="monae.monad_model.html#oaddn">oaddn</a></span> <span class="id"><a href="monae.monad_model.html#M:386">M</a></span>) <span class="id">0</span> <span class="id"><a href="monae.monad_model.html#xs:387">xs</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="oaddn_break" class="id"><a name="oaddn_break" class="">oaddn_break</a></span> (<span id="M:388" class="id"><a name="M:388" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="break:389" class="id"><a name="break:389" class="">break</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M:388">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span id="acc:390" class="id"><a name="acc:390" class="">acc</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span id="x:391" class="id"><a name="x:391" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#M:388">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.monad_model.html#x:391">x</a></span> <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_model.html#x:391">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monae.monad_model.html#acc:390">acc</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="monae.monad_model.html#break:389">break</a></span> <span class="id"><a href="monae.monad_model.html#acc:390">acc</a></span>.<br/>
<span class="vernacular">Let</span> <span id="continuation_examples.M" class="id"><a name="continuation_examples.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadContinuation.Exports.contMonad">contMonad</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadContinuation.Exports.contMonad">contMonad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">ContMonad.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="sum_break" class="id"><a name="sum_break" class="">sum_break</a></span> (<span id="xs:393" class="id"><a name="xs:393" class="">xs</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>)) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#continuation_examples.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#callcc">callcc</a></span> (<span class="gallina-kwd">fun</span> <span id="break:394" class="id"><a name="break:394" class="">break</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#continuation_examples.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.fail_lib.html#foldM">foldM</a></span> (<span class="id"><a href="monae.monad_model.html#oaddn_break">oaddn_break</a></span> <span class="id"><a href="monae.monad_model.html#break:394">break</a></span>) <span class="id">0</span> <span class="id"><a href="monae.monad_model.html#xs:393">xs</a></span>).<br/>
<br/>
<span class="vernacular">Compute</span> (<span class="id"><a href="monae.monad_model.html#sum_break">sum_break</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#9e9281397dab83046645f1b62dbb2487">[::</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">2;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">6;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">4]</span>).<br/>
<br/>
<span class="vernacular">Goal</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">1</span> <span class="id"><a href="monae.fail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> (<span class="id"><a href="monae.hierarchy.html#callcc">callcc</a></span> (<span class="gallina-kwd">fun</span> <span id="f:395" class="id"><a name="f:395" class="">f</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">10</span> <span class="id"><a href="monae.fail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> (<span class="id"><a href="monae.monad_model.html#f:395">f</a></span> <span class="id">100</span>))) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id">100</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="monae.monad_model.html#continuation_examples.M">M</a></span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof130')">Proof.</span></div>
<div class="proofscript" id="proof130">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/addM</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf;</a></span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span>. Abort.</div>
<br/>
<br/>
<span class="vernacular">Fixpoint</span> <span id="list_iter" class="id"><a name="list_iter" class="">list_iter</a></span> (<span id="M:396" class="id"><a name="M:396" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) <span id="A:397" class="id"><a name="A:397" class="">A</a></span> (<span id="f:398" class="id"><a name="f:398" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:397">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#M:396">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span>) (<span id="s:399" class="id"><a name="s:399" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.monad_model.html#A:397">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#M:396">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.monad_model.html#s:399">s</a></span> <span class="id">is</span> <span class="id">h</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id">t</span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.monad_model.html#f:398">f</a></span> <span class="id">h</span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#list_iter:400">list_iter</a></span> <span class="id"><a href="monae.monad_model.html#f:398">f</a></span> <span class="id">t</span> <span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<br/>
<span class="vernacular">Compute</span> (@<span class="id"><a href="monae.monad_model.html#list_iter">list_iter</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> (<span class="gallina-kwd">fun</span> <span id="a:402" class="id"><a name="a:402" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#9e9281397dab83046645f1b62dbb2487">[::</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O;</a></span> <span class="id">1;</span> <span class="id">2]</span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="list_find" class="id"><a name="list_find" class="">list_find</a></span> (<span id="M:403" class="id"><a name="M:403" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadContinuation.Exports.contMonad">contMonad</a></span>) (<span id="A:404" class="id"><a name="A:404" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="p:405" class="id"><a name="p:405" class="">p</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="monae.monad_model.html#A:404">A</a></span>) (<span id="s:406" class="id"><a name="s:406" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.monad_model.html#A:404">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#M:403">M</a></span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#callcc">callcc</a></span> (<span class="gallina-kwd">fun</span> <span id="k:407" class="id"><a name="k:407" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#list_iter">list_iter</a></span> (<span class="gallina-kwd">fun</span> <span id="x:408" class="id"><a name="x:408" class="">x</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="monae.monad_model.html#p:405">p</a></span> <span class="id"><a href="monae.monad_model.html#x:408">x</a></span> <span class="gallina-kwd">then</span>  <span class="id"><a href="monae.monad_model.html#k:407">k</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="monae.monad_model.html#x:408">x</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>) <span class="id"><a href="monae.monad_model.html#s:406">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
<br/>
<br/>
<span class="vernacular">Compute</span> (@<span class="id"><a href="monae.monad_model.html#list_find">list_find</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadContinuation.Exports.contMonad">contMonad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">ContMonad.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524">[pred</a></span> <span id="x:409" class="id"><a name="x:409" class="">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524">|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#odd">odd</a></span> <span class="id"><a href="monae.monad_model.html#x:409">x]</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#9e9281397dab83046645f1b62dbb2487">[::</a></span> <span class="id">2;</span> <span class="id">4;</span> <span class="id">6]</span>).<br/>
<br/>
<br/>
<span class="vernacular">Compute</span> (@<span class="id"><a href="monae.monad_model.html#list_find">list_find</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadContinuation.Exports.contMonad">contMonad</a></span> <span class="id">of</span> (<span class="id"><a href="monae.monad_model.html#acto">ContMonad.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool</a></span>)<span class="id">]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524">[pred</a></span> <span id="x:410" class="id"><a name="x:410" class="">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524">|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#odd">odd</a></span> <span class="id"><a href="monae.monad_model.html#x:410">x]</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#9e9281397dab83046645f1b62dbb2487">[::</a></span> <span class="id">2;</span> <span class="id">4;</span> <span class="id">3;</span> <span class="id">6]</span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#continuation_examples">continuation_examples</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelShiftReset" class="id"><a name="ModelShiftReset" class="">ModelShiftReset</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ModelShiftReset.modelshiftreset" class="id"><a name="ModelShiftReset.modelshiftreset" class="">modelshiftreset</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ModelShiftReset.modelshiftreset.r" class="id"><a name="ModelShiftReset.modelshiftreset.r" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelShiftReset.modelshiftreset.M" class="id"><a name="ModelShiftReset.modelshiftreset.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadContinuation.Exports.contMonad">contMonad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ContMonad.acto">ContMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.r">r]</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ModelShiftReset.shift" class="id"><a name="ModelShiftReset.shift" class="">shift</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="A:412" class="id"><a name="A:412" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0,</a></span> ((<span class="id"><a href="monae.monad_model.html#A:412">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.M">M</a></span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.M">M</a></span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:412">A</a></span> <span class="id">:=</span><br/>
&nbsp;<span class="gallina-kwd">fun</span> <span id="A:413" class="id"><a name="A:413" class="">A</a></span> <span id="h:414" class="id"><a name="h:414" class="">h</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">fun</span> <span id="c:415" class="id"><a name="c:415" class="">c</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#h:414">h</a></span> (<span class="gallina-kwd">fun</span> <span id="v:416" class="id"><a name="v:416" class="">v</a></span> <span id="c':417" class="id"><a name="c':417" class="">c'</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#c':417">c'</a></span> (<span class="id"><a href="monae.monad_model.html#c:415">c</a></span> <span class="id"><a href="monae.monad_model.html#v:416">v</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">ssrfun.id</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ModelShiftReset.reset" class="id"><a name="ModelShiftReset.reset" class="">reset</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.M">M</a></span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.M">M</a></span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="m:418" class="id"><a name="m:418" class="">m</a></span>  <span class="id">=&gt;</span> <span class="gallina-kwd">fun</span> <span id="c:419" class="id"><a name="c:419" class="">c</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#c:419">c</a></span> (<span class="id"><a href="monae.monad_model.html#m:418">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">ssrfun.id</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelShiftReset.modelshiftreset.shiftreset0" class="id"><a name="ModelShiftReset.modelshiftreset.shiftreset0" class="">shiftreset0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:420" class="id"><a name="A:420" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:421" class="id"><a name="m:421" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:420">A</a></span>)<span class="id">,</span> @<span class="id"><a href="monae.monad_model.html#ModelShiftReset.shift">shift</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="k:422" class="id"><a name="k:422" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#m:421">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:422">k</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#m:421">m</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof131')">Proof.</span></div>
<div class="proofscript" id="proof131">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelShiftReset.modelshiftreset.shiftreset1" class="id"><a name="ModelShiftReset.modelshiftreset.shiftreset1" class="">shiftreset1</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:423" class="id"><a name="A:423" class="">A</a></span> <span id="B:424" class="id"><a name="B:424" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="h:425" class="id"><a name="h:425" class="">h</a></span> <span class="id">:</span> (<span class="id"><a href="monae.monad_model.html#A:423">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.M">M</a></span> <span class="id"><a href="monae.monad_model.html#B:424">B</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:423">A</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#callcc">callcc</a></span> <span class="id"><a href="monae.monad_model.html#h:425">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> @<span class="id"><a href="monae.monad_model.html#ModelShiftReset.shift">shift</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="k':426" class="id"><a name="k':426" class="">k'</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#h:425">h</a></span> (<span class="gallina-kwd">fun</span> <span id="x:427" class="id"><a name="x:427" class="">x</a></span> <span class="id">=&gt;</span> @<span class="id"><a href="monae.monad_model.html#ModelShiftReset.shift">shift</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="k'':428" class="id"><a name="k'':428" class="">k''</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k':426">k'</a></span> <span class="id"><a href="monae.monad_model.html#x:427">x</a></span>)) <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k':426">k'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof132')">Proof.</span></div>
<div class="proofscript" id="proof132">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelShiftReset.modelshiftreset.shiftreset2" class="id"><a name="ModelShiftReset.modelshiftreset.shiftreset2" class="">shiftreset2</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:429" class="id"><a name="A:429" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="c:430" class="id"><a name="c:430" class="">c</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:429">A</a></span>) (<span id="c':431" class="id"><a name="c':431" class="">c':</a></span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span>) (<span id="k:432" class="id"><a name="k:432" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:429">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.monad_model.html#ModelShiftReset.reset">reset</a></span> (<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="x:433" class="id"><a name="x:433" class="">x</a></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_model.html#c:430">c;</a></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="y:434" class="id"><a name="y:434" class="">y</a></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> @<span class="id"><a href="monae.monad_model.html#ModelShiftReset.shift">shift</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_model.html#c':431">c'</a></span>)<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">;</a></span> <span class="id"><a href="monae.monad_model.html#k:432">k</a></span> <span class="id"><a href="monae.monad_model.html#x:433">x</a></span> <span class="id"><a href="monae.monad_model.html#y:434">y</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_model.html#c:430">c</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_model.html#c':431">c'</a></span>)%<span class="id">Do</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof133')">Proof.</span></div>
<div class="proofscript" id="proof133">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelShiftReset.modelshiftreset.shiftreset3" class="id"><a name="ModelShiftReset.modelshiftreset.shiftreset3" class="">shiftreset3</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="c:435" class="id"><a name="c:435" class="">c</a></span> <span id="c':436" class="id"><a name="c':436" class="">c'</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span>) (<span id="k:437" class="id"><a name="k:437" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.monad_model.html#ModelShiftReset.reset">reset</a></span> (<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="x:438" class="id"><a name="x:438" class="">x</a></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_model.html#c:435">c;</a></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="y:441" class="id"><a name="y:441" class="">y</a></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> @<span class="id"><a href="monae.monad_model.html#ModelShiftReset.shift">shift</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="f:439" class="id"><a name="f:439" class="">f</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="v:440" class="id"><a name="v:440" class="">v</a></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monae.monad_model.html#f:439">f</a></span> <span class="id"><a href="monae.monad_model.html#c':436">c';</a></span> <span class="id"><a href="monae.monad_model.html#f:439">f</a></span> <span class="id"><a href="monae.monad_model.html#v:440">v</a></span>)<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_model.html#k:437">k</a></span> <span class="id"><a href="monae.monad_model.html#x:438">x</a></span> <span class="id"><a href="monae.monad_model.html#y:441">y</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelShiftReset.reset">reset</a></span> (<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="x:442" class="id"><a name="x:442" class="">x</a></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_model.html#c:435">c;</a></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="y:444" class="id"><a name="y:444" class="">y</a></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> @<span class="id"><a href="monae.monad_model.html#ModelShiftReset.shift">shift</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="f:443" class="id"><a name="f:443" class="">f</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:443">f</a></span> <span class="id"><a href="monae.monad_model.html#c':436">c'</a></span>)<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_model.html#k:437">k</a></span> <span class="id"><a href="monae.monad_model.html#x:442">x</a></span> (<span class="id"><a href="monae.monad_model.html#k:437">k</a></span> <span class="id"><a href="monae.monad_model.html#x:442">x</a></span> <span class="id"><a href="monae.monad_model.html#y:444">y</a></span>))))%<span class="id">Do</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof134')">Proof.</span></div>
<div class="proofscript" id="proof134">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelShiftReset.modelshiftreset.shiftreset4" class="id"><a name="ModelShiftReset.modelshiftreset.shiftreset4" class="">shiftreset4</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="c:445" class="id"><a name="c:445" class="">c</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span>) <span id="k:446" class="id"><a name="k:446" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.monad_model.html#ModelShiftReset.reset">reset</a></span> (<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="y:447" class="id"><a name="y:447" class="">y</a></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> @<span class="id"><a href="monae.monad_model.html#ModelShiftReset.shift">shift</a></span> <span class="id">_</span> (@<span class="id">^~</span> <span class="id"><a href="monae.monad_model.html#c:445">c</a></span>)<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_model.html#k:446">k</a></span> <span class="id"><a href="monae.monad_model.html#y:447">y</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_model.html#k:446">k</a></span> <span class="id"><a href="monae.monad_model.html#c:445">c</a></span>))%<span class="id">Do</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof135')">Proof.</span></div>
<div class="proofscript" id="proof135">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span id="ModelShiftReset.ContMonad_acto__canonical__hierarchy_MonadShiftReset" class="id"><span id="ModelShiftReset.HB_unnamed_factory_135" class="id"><a name="ModelShiftReset.ContMonad_acto__canonical__hierarchy_MonadShiftReset" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadShiftReset.Build">isMonadShiftReset.Build</a></span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span> (<span class="id"><a href="monae.monad_model.html#ContMonad.acto">ContMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.shiftreset0">shiftreset0</a></span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.shiftreset1">shiftreset1</a></span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.shiftreset2">shiftreset2</a></span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.shiftreset3">shiftreset3</a></span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset.shiftreset4">shiftreset4</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset.modelshiftreset">modelshiftreset</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelShiftReset">ModelShiftReset</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ModelShiftReset</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="shiftreset_examples" class="id"><a name="shiftreset_examples" class="">shiftreset_examples</a></span>.<br/>
<span class="vernacular">Let</span> <span id="shiftreset_examples.M" class="id"><a name="shiftreset_examples.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadShiftReset.Exports.shiftresetMonad">shiftresetMonad</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadShiftReset.Exports.shiftresetMonad">shiftresetMonad</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">ContMonad.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span>.<br/>
<span class="vernacular">Goal</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">1</span> <span class="id"><a href="monae.fail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> (<span class="id"><a href="monae.monad_model.html#reset">reset</a></span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">10</span> <span class="id"><a href="monae.fail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> (<span class="id"><a href="monae.monad_model.html#shift">shift</a></span> (<span class="gallina-kwd">fun</span> <span id="f:448" class="id"><a name="f:448" class="">f</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:448">f</a></span> (<span class="id">100</span>) <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#f:448">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> (<span class="id">10</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> (<span class="id">10</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id">100</span>))).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof136')">Proof.</span></div>
<div class="proofscript" id="proof136">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/addM</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf;</a></span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span>. Abort.</div>
<span class="vernacular">Goal</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">1</span> <span class="id"><a href="monae.fail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> (<span class="id"><a href="monae.monad_model.html#reset">reset</a></span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">10</span> <span class="id"><a href="monae.fail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> (<span class="id"><a href="monae.monad_model.html#shift">shift</a></span> (<span class="gallina-kwd">fun</span> <span id="f:449" class="id"><a name="f:449" class="">f</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">100</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id">100</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof137')">Proof.</span></div>
<div class="proofscript" id="proof137">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/addM</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf;</a></span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span>. Abort.</div>
<span class="vernacular">Goal</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">1</span> <span class="id"><a href="monae.fail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> (<span class="id"><a href="monae.monad_model.html#reset">reset</a></span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">10</span> <span class="id"><a href="monae.fail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> (<span class="id"><a href="monae.monad_model.html#shift">shift</a></span> (<span class="gallina-kwd">fun</span> <span id="f:450" class="id"><a name="f:450" class="">f</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:450">f</a></span> <span class="id">100</span> <span class="id"><a href="monae.fail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> <span class="id"><a href="monae.monad_model.html#f:450">f</a></span> <span class="id">1000</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> ((<span class="id">10</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id">100</span>) <span class="id">+</span> (<span class="id">10</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id">1000</span>))).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof138')">Proof.</span></div>
<div class="proofscript" id="proof138">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/addM</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf;</a></span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span>. Abort.</div>
<br/>
<span class="vernacular">Let</span> <span id="shiftreset_examples.N" class="id"><a name="shiftreset_examples.N" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadShiftReset.Exports.shiftresetMonad">shiftresetMonad</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadShiftReset.Exports.shiftresetMonad">shiftresetMonad</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">ContMonad.acto</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>.<br/>
<span class="vernacular">Fixpoint</span> <span id="perverse" class="id"><a name="perverse" class="">perverse</a></span> (<span id="l:451" class="id"><a name="l:451" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.N">N</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.monad_model.html#l:451">l</a></span> <span class="id">is</span> <span class="id">h</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id">t</span> <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#shift">shift</a></span> (<span class="gallina-kwd">fun</span> <span id="f:454" class="id"><a name="f:454" class="">f</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.N">N</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">h</span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:455" class="id"><a name="x:455" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#perverse:452">perverse</a></span> <span class="id">t</span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#f:454">f</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="y:456" class="id"><a name="y:456" class="">y</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_model.html#x:455">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id"><a href="monae.monad_model.html#y:456">y</a></span>))))<br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626">[::]</a></span>.<br/>
<span class="vernacular">Goal</span> <span class="id"><a href="monae.monad_model.html#reset">reset</a></span> (<span class="id"><a href="monae.monad_model.html#perverse">perverse</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#9e9281397dab83046645f1b62dbb2487">[::</a></span> <span class="id">1;</span> <span class="id">2;</span> <span class="id">3]</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#9e9281397dab83046645f1b62dbb2487">[::</a></span> <span class="id">3;</span> <span class="id">2;</span> <span class="id">1]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
Abort.</div>
<br/>
<span class="vernacular">Definition</span> <span id="stranger" class="id"><a name="stranger" class="">stranger</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="g:460" class="id"><a name="g:460" class="">g</a></span> <span id="b:457" class="id"><a name="b:457" class="">b</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#reset">reset</a></span> ((<span class="id"><a href="monae.monad_model.html#shift">shift</a></span> (<span class="gallina-kwd">fun</span> <span id="f:458" class="id"><a name="f:458" class="">f</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:458">f</a></span> <span class="id"><a href="monae.monad_model.html#b:457">b</a></span>) <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:459" class="id"><a name="x:459" class="">x</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="monae.monad_model.html#x:459">x</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">2</span> <span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">3</span>))) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#g:460">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="monae.fail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> <span class="id"><a href="monae.monad_model.html#g:460">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<span class="vernacular">Goal</span> <span class="id"><a href="monae.monad_model.html#stranger">stranger</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">5</span>. <span class="gallina-kwd">by</span> <span class="id">[]</span>. Abort.</div>
<br/>
<span class="vernacular">Goal</span> <span class="id"><a href="monae.monad_model.html#reset">reset</a></span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">2</span> <span class="id"><a href="monae.fail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> <span class="id"><a href="monae.monad_model.html#shift">shift</a></span> (<span class="gallina-kwd">fun</span> <span id="k:461" class="id"><a name="k:461" class="">k</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:461">k</a></span> <span class="id">3</span> <span class="id"><a href="monae.fail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">6</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof139')">Proof.</span></div>
<div class="proofscript" id="proof139">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/addM</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf;</a></span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span>. Abort.</div>
<span class="vernacular">Goal</span> <span class="id"><a href="monae.monad_model.html#reset">reset</a></span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">2</span> <span class="id"><a href="monae.fail_lib.html#bcd06a636910308fc155f844c4b9fc4d">*m</a></span> <span class="id"><a href="monae.monad_model.html#shift">shift</a></span> (<span class="gallina-kwd">fun</span> <span id="k:462" class="id"><a name="k:462" class="">k</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:462">k</a></span> <span class="id">4</span> <span class="id"><a href="monae.fail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*m</span> <span class="id"><a href="monae.monad_model.html#shift">shift</a></span> (<span class="gallina-kwd">fun</span> <span id="k:463" class="id"><a name="k:463" class="">k</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:463">k</a></span> <span class="id">3</span> <span class="id"><a href="monae.fail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span> ) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">26</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof140')">Proof.</span></div>
<div class="proofscript" id="proof140">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/mulM</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf;</a></span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span>. Abort.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#shiftreset_examples">shiftreset_examples</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelStateLoop" class="id"><a name="ModelStateLoop" class="">ModelStateLoop</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ModelStateLoop.modelstateloop" class="id"><a name="ModelStateLoop.modelstateloop" class="">modelstateloop</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ModelStateLoop.modelstateloop.S" class="id"><a name="ModelStateLoop.modelstateloop.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="ModelStateLoop.M" class="id"><a name="ModelStateLoop.M" class="">M</a></span> <span class="id">:=</span> (<span class="id"><a href="monae.monad_model.html#StateMonad.acto">StateMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateLoop.modelstateloop.S">S</a></span>).<br/>
<span class="vernacular">Fixpoint</span> <span id="ModelStateLoop.mforeach" class="id"><a name="ModelStateLoop.mforeach" class="">mforeach</a></span> (<span id="it:465" class="id"><a name="it:465" class="">it</a></span> <span id="min:466" class="id"><a name="min:466" class="">min</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span id="body:467" class="id"><a name="body:467" class="">body</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateLoop.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelStateLoop.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.monad_model.html#it:465">it</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3">&lt;=</a></span> <span class="id"><a href="monae.monad_model.html#min:466">min</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="gallina-kwd">if</span> <span class="id"><a href="monae.monad_model.html#it:465">it</a></span> <span class="id">is</span> <span class="id">it'</span>.<span class="id">+1</span> <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.monad_model.html#body:467">body</a></span> <span class="id">it'</span>) <span class="id">&gt;&gt;=</span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#mforeach:468">mforeach</a></span> <span class="id">it'</span> <span class="id"><a href="monae.monad_model.html#min:466">min</a></span> <span class="id"><a href="monae.monad_model.html#body:467">body</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelStateLoop.modelstateloop.loop0" class="id"><a name="ModelStateLoop.modelstateloop.loop0" class="">loop0</a></span> <span id="m:470" class="id"><a name="m:470" class="">m</a></span> <span id="body:471" class="id"><a name="body:471" class="">body</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelStateLoop.mforeach">mforeach</a></span> <span class="id"><a href="monae.monad_model.html#m:470">m</a></span> <span class="id"><a href="monae.monad_model.html#m:470">m</a></span> <span class="id"><a href="monae.monad_model.html#body:471">body</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof141')">Proof.</span></div>
<div class="proofscript" id="proof141">
 <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#leqnn">leqnn</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelStateLoop.modelstateloop.loop1" class="id"><a name="ModelStateLoop.modelstateloop.loop1" class="">loop1</a></span> <span id="m:472" class="id"><a name="m:472" class="">m</a></span> <span id="n:473" class="id"><a name="n:473" class="">n</a></span> <span id="body:474" class="id"><a name="body:474" class="">body</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelStateLoop.mforeach">mforeach</a></span> (<span class="id"><a href="monae.monad_model.html#m:472">m</a></span>.<span class="id">+1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monae.monad_model.html#n:473">n</a></span>) <span class="id"><a href="monae.monad_model.html#m:472">m</a></span> <span class="id"><a href="monae.monad_model.html#body:474">body</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.monad_model.html#body:474">body</a></span> (<span class="id"><a href="monae.monad_model.html#m:472">m</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monae.monad_model.html#n:473">n</a></span>)) <span class="id">&gt;&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelStateLoop.mforeach">mforeach</a></span> (<span class="id"><a href="monae.monad_model.html#m:472">m</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monae.monad_model.html#n:473">n</a></span>) <span class="id"><a href="monae.monad_model.html#m:472">m</a></span> <span class="id"><a href="monae.monad_model.html#body:474">body</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateLoop.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof142')">Proof.</span></div>
<div class="proofscript" id="proof142">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/mforeach</span> <span class="id">/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ltnNge">ltnNge</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#leq_addr">leq_addr</a></span>. Qed.</div>
<span id="ModelStateLoop.StateMonad_acto__canonical__hierarchy_MonadStateLoop" class="id"><span id="ModelStateLoop.HB_unnamed_factory_137" class="id"><a name="ModelStateLoop.StateMonad_acto__canonical__hierarchy_MonadStateLoop" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadStateLoop.Build">isMonadStateLoop.Build</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateLoop.modelstateloop.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateLoop.M">M</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateLoop.modelstateloop.loop0">loop0</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateLoop.modelstateloop.loop1">loop1</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelStateLoop.modelstateloop">modelstateloop</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelStateLoop">ModelStateLoop</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ModelStateLoop</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelReify" class="id"><a name="ModelReify" class="">ModelReify</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ModelReify.modelreify" class="id"><a name="ModelReify.modelreify" class="">modelreify</a></span>.<br/>
<span class="vernacular">Variables</span> <span id="ModelReify.modelreify.S" class="id"><a name="ModelReify.modelreify.S" class="">S</a></span> <span id="ModelReify.modelreify.T" class="id"><a name="ModelReify.modelreify.T" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ModelReify.state_trace" class="id"><a name="ModelReify.state_trace" class="">state_trace</a></span> <span class="id">:=</span> (<span class="id"><a href="monae.monad_model.html#ModelReify.modelreify.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.monad_model.html#ModelReify.modelreify.T">T</a></span>)%<span class="id">type</span>.<br/>
<span class="vernacular">Let</span> <span id="ModelReify.modelreify.M" class="id"><a name="ModelReify.modelreify.M" class="">M</a></span> <span class="id">:=</span> (<span class="id"><a href="monae.monad_model.html#StateMonad.acto">StateMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelReify.state_trace">state_trace</a></span>).<br/>
<span class="vernacular">Let</span> <span id="ModelReify.modelreify.reify" class="id"><a name="ModelReify.modelreify.reify" class="">reify</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:477" class="id"><a name="A:477" class="">A,</a></span> <span class="id"><a href="monae.monad_model.html#ModelReify.modelreify.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:477">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelReify.state_trace">state_trace</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="monae.monad_model.html#A:477">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.monad_model.html#ModelReify.state_trace">state_trace</a></span>) <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:478" class="id"><a name="A:478" class="">A</a></span> <span id="m:479" class="id"><a name="m:479" class="">m</a></span> <span id="s:480" class="id"><a name="s:480" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.monad_model.html#m:479">m</a></span> <span class="id"><a href="monae.monad_model.html#s:480">s</a></span>).<br/>
<span class="vernacular">Let</span> <span id="ModelReify.modelreify.reifyret" class="id"><a name="ModelReify.modelreify.reifyret" class="">reifyret</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:481" class="id"><a name="A:481" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="a:482" class="id"><a name="a:482" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:481">A</a></span>) <span id="s:483" class="id"><a name="s:483" class="">s,</a></span> @<span class="id"><a href="monae.monad_model.html#ModelReify.modelreify.reify">reify</a></span> <span class="id">_</span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_model.html#a:482">a</a></span>) <span class="id"><a href="monae.monad_model.html#s:483">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.monad_model.html#a:482">a,</a></span> <span class="id"><a href="monae.monad_model.html#s:483">s</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof143')">Proof.</span></div>
<div class="proofscript" id="proof143">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelReify.modelreify.reifybind" class="id"><a name="ModelReify.modelreify.reifybind" class="">reifybind</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:484" class="id"><a name="A:484" class="">A</a></span> <span id="B:485" class="id"><a name="B:485" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:486" class="id"><a name="m:486" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelReify.modelreify.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:484">A</a></span>) (<span id="f:487" class="id"><a name="f:487" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:484">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelReify.modelreify.M">M</a></span> <span class="id"><a href="monae.monad_model.html#B:485">B</a></span>) <span id="s:488" class="id"><a name="s:488" class="">s,</a></span><br/>
&nbsp;&nbsp;@<span class="id"><a href="monae.monad_model.html#ModelReify.modelreify.reify">reify</a></span> <span class="id">_</span> (<span class="id"><a href="monae.monad_model.html#m:486">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#f:487">f</a></span>) <span class="id"><a href="monae.monad_model.html#s:488">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">match</span> @<span class="id"><a href="monae.monad_model.html#ModelReify.modelreify.reify">reify</a></span> <span class="id">_</span> <span class="id"><a href="monae.monad_model.html#m:486">m</a></span> <span class="id"><a href="monae.monad_model.html#s:488">s</a></span> <span class="gallina-kwd">with</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">a's'</span> <span class="id">=&gt;</span> @<span class="id"><a href="monae.monad_model.html#ModelReify.modelreify.reify">reify</a></span> <span class="id">_</span> (<span class="id"><a href="monae.monad_model.html#f:487">f</a></span> <span class="id">a's'</span>.<span class="id">1</span>) <span class="id">a's'</span>.<span class="id">2</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> <span class="gallina-kwd">end</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof144')">Proof.</span></div>
<div class="proofscript" id="proof144">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">m0</span> <span class="id">f</span> <span class="id">s</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#state_bindE">state_bindE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/uncurry</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/comp</span> <span class="id">/=</span> <span class="id">/reify</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case</span> (<span class="id">m0</span> <span class="id">s</span>).<br/>
Qed.</div>
<span id="ModelReify.StateMonad_acto__canonical__hierarchy_MonadReify" class="id"><span id="ModelReify.HB_unnamed_factory_139" class="id"><a name="ModelReify.StateMonad_acto__canonical__hierarchy_MonadReify" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadReify.Build">isMonadReify.Build</a></span> <span class="id"><a href="monae.monad_model.html#ModelReify.state_trace">state_trace</a></span> (<span class="id"><a href="monae.monad_model.html#StateMonad.acto">StateMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelReify.state_trace">state_trace</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelReify.modelreify.reifyret">reifyret</a></span> <span class="id"><a href="monae.monad_model.html#ModelReify.modelreify.reifybind">reifybind</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelReify.modelreify">modelreify</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelReify">ModelReify</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ModelReify</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelStateTraceReify" class="id"><a name="ModelStateTraceReify" class="">ModelStateTraceReify</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ModelStateTraceReify.modelstatetracereify" class="id"><a name="ModelStateTraceReify.modelstatetracereify" class="">modelstatetracereify</a></span>.<br/>
<span class="vernacular">Variables</span> <span id="ModelStateTraceReify.modelstatetracereify.S" class="id"><a name="ModelStateTraceReify.modelstatetracereify.S" class="">S</a></span> <span id="ModelStateTraceReify.modelstatetracereify.T" class="id"><a name="ModelStateTraceReify.modelstatetracereify.T" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelStateTraceReify.modelstatetracereify.acto" class="id"><a name="ModelStateTraceReify.modelstatetracereify.acto" class="">acto</a></span> <span class="id">:=</span> (<span class="id"><a href="monae.monad_model.html#StateMonad.acto">StateMonad.acto</a></span> (<span class="id"><a href="monae.monad_model.html#ModelStateTraceReify.modelstatetracereify.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTraceReify.modelstatetracereify.T">T</a></span>)).<br/>
<span class="vernacular">Let</span> <span id="ModelStateTraceReify.modelstatetracereify.reifystget" class="id"><a name="ModelStateTraceReify.modelstatetracereify.reifystget" class="">reifystget</a></span> <span class="id">:</span>  <span class="gallina-kwd">forall</span> <span id="s:491" class="id"><a name="s:491" class="">s</a></span> <span id="l:492" class="id"><a name="l:492" class="">l,</a></span> @<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (@<span class="id"><a href="monae.hierarchy.html#st_get">st_get</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadStateTrace.Exports.stateTraceMonad">stateTraceMonad</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTraceReify.modelstatetracereify.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTraceReify.modelstatetracereify.T">T</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ModelStateTraceReify.modelstatetracereify.acto">acto]</a></span>) (<span class="id"><a href="monae.monad_model.html#s:491">s,</a></span> <span class="id"><a href="monae.monad_model.html#l:492">l</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.monad_model.html#s:491">s,</a></span> (<span class="id"><a href="monae.monad_model.html#s:491">s,</a></span> <span class="id"><a href="monae.monad_model.html#l:492">l</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof145')">Proof.</span></div>
<div class="proofscript" id="proof145">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelStateTraceReify.modelstatetracereify.reifystput" class="id"><a name="ModelStateTraceReify.modelstatetracereify.reifystput" class="">reifystput</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:493" class="id"><a name="s:493" class="">s</a></span> <span id="l:494" class="id"><a name="l:494" class="">l</a></span> <span id="s':495" class="id"><a name="s':495" class="">s',</a></span> @<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (@<span class="id"><a href="monae.hierarchy.html#st_put">st_put</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadStateTrace.Exports.stateTraceMonad">stateTraceMonad</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTraceReify.modelstatetracereify.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTraceReify.modelstatetracereify.T">T</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ModelStateTraceReify.modelstatetracereify.acto">acto]</a></span> <span class="id"><a href="monae.monad_model.html#s':495">s'</a></span>) (<span class="id"><a href="monae.monad_model.html#s:493">s,</a></span> <span class="id"><a href="monae.monad_model.html#l:494">l</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> (<span class="id"><a href="monae.monad_model.html#s':495">s',</a></span> <span class="id"><a href="monae.monad_model.html#l:494">l</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof146')">Proof.</span></div>
<div class="proofscript" id="proof146">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelStateTraceReify.modelstatetracereify.reifystmark" class="id"><a name="ModelStateTraceReify.modelstatetracereify.reifystmark" class="">reifystmark</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="t:496" class="id"><a name="t:496" class="">t</a></span> <span id="s:497" class="id"><a name="s:497" class="">s</a></span> <span id="l:498" class="id"><a name="l:498" class="">l,</a></span> @<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (@<span class="id"><a href="monae.hierarchy.html#st_mark">st_mark</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadStateTrace.Exports.stateTraceMonad">stateTraceMonad</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTraceReify.modelstatetracereify.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTraceReify.modelstatetracereify.T">T</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ModelStateTraceReify.modelstatetracereify.acto">acto]</a></span> <span class="id"><a href="monae.monad_model.html#t:496">t</a></span>) (<span class="id"><a href="monae.monad_model.html#s:497">s,</a></span> <span class="id"><a href="monae.monad_model.html#l:498">l</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> (<span class="id"><a href="monae.monad_model.html#s:497">s,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#rcons">rcons</a></span> <span class="id"><a href="monae.monad_model.html#l:498">l</a></span> <span class="id"><a href="monae.monad_model.html#t:496">t</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof147')">Proof.</span></div>
<div class="proofscript" id="proof147">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="ModelStateTraceReify.StateMonad_acto__canonical__hierarchy_MonadStateTraceReify" class="id"><span id="ModelStateTraceReify.HB_unnamed_factory_141" class="id"><a name="ModelStateTraceReify.StateMonad_acto__canonical__hierarchy_MonadStateTraceReify" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadStateTraceReify.Build">isMonadStateTraceReify.Build</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTraceReify.modelstatetracereify.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTraceReify.modelstatetracereify.T">T</a></span> (<span class="id"><a href="monae.monad_model.html#StateMonad.acto">StateMonad.acto</a></span> (<span class="id"><a href="monae.monad_model.html#ModelStateTraceReify.modelstatetracereify.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTraceReify.modelstatetracereify.T">T</a></span>)) <span class="id"><a href="monae.monad_model.html#ModelStateTraceReify.modelstatetracereify.reifystget">reifystget</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTraceReify.modelstatetracereify.reifystput">reifystput</a></span> <span class="id"><a href="monae.monad_model.html#ModelStateTraceReify.modelstatetracereify.reifystmark">reifystmark</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelStateTraceReify.modelstatetracereify">modelstatetracereify</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelStateTraceReify">ModelStateTraceReify</a></span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="choice_of_Type" class="id"><a name="choice_of_Type" class="">choice_of_Type</a></span> <span class="id">:=</span> <span class="id"><a href="NOTFOUND the module url for infotheo.probability.convex#choice_of_Type">convex.choice_of_Type</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelBacktrackableState" class="id"><a name="ModelBacktrackableState" class="">ModelBacktrackableState</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">fset_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ModelBacktrackableState.monad" class="id"><a name="ModelBacktrackableState.monad" class="">monad</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ModelBacktrackableState.monad.S" class="id"><a name="ModelBacktrackableState.monad.S" class="">S</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Obligation</span> <span class="vernacular">Tactic</span> <span class="id">:=</span> <span class="id">try</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ModelBacktrackableState.acto" class="id"><a name="ModelBacktrackableState.acto" class="">acto</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Type</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="A:500" class="id"><a name="A:500" class="">A</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.monad.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#56b55a79be47ef2ec896f3a7734c305c">{fset</a></span> (<span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#A:500">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.monad.S">S</a></span>)<span class="id">}</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="ModelBacktrackableState.M" class="id"><a name="ModelBacktrackableState.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.acto">acto</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.monad.ret" class="id"><a name="ModelBacktrackableState.monad.ret" class="">ret</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.M">M</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:501" class="id"><a name="A:501" class="">A</a></span> (<span id="a:502" class="id"><a name="a:502" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:501">A</a></span>) <span id="s:503" class="id"><a name="s:503" class="">s</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#45faaf8544caccf9f9d40224448c1ef6">[fset</a></span> (<span class="id"><a href="monae.monad_model.html#a:502">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#A:501">A,</a></span> <span class="id"><a href="monae.monad_model.html#s:503">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.monad.S">S</a></span>)<span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#45faaf8544caccf9f9d40224448c1ef6">]</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.monad.bind" class="id"><a name="ModelBacktrackableState.monad.bind" class="">bind</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:504" class="id"><a name="A:504" class="">A</a></span> <span id="B:505" class="id"><a name="B:505" class="">B</a></span> (<span id="m:506" class="id"><a name="m:506" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#A:504">A</a></span>)<br/>
&nbsp;&nbsp;(<span id="f:507" class="id"><a name="f:507" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:504">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.monad.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#56b55a79be47ef2ec896f3a7734c305c">{fset</a></span> (<span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#B:505">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.monad.S">S</a></span>)<span class="id">}</span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="s:508" class="id"><a name="s:508" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#90a50b4f1455fa3c450a15a79501fef5">\bigcup_</a></span>(<span id="i:512" class="id"><span id="i:511" class="id"><span id="i:510" class="id"><a name="i:512" class="">i</a></span></span></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#90a50b4f1455fa3c450a15a79501fef5">&lt;-</a></span> (<span class="gallina-kwd">fun</span> <span id="x:509" class="id"><a name="x:509" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#6cecb3ca492751e55998eec154506328">[choiceType</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#A:504">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.monad.S">S]</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:507">f</a></span> <span class="id"><a href="monae.monad_model.html#x:509">x</a></span>.<span class="id">1</span> <span class="id"><a href="monae.monad_model.html#x:509">x</a></span>.<span class="id">2</span>) @<span class="id">`</span> (<span class="id"><a href="monae.monad_model.html#m:506">m</a></span> <span class="id"><a href="monae.monad_model.html#s:508">s</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#i:510">i</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.monad.left_neutral" class="id"><a name="ModelBacktrackableState.monad.left_neutral" class="">left_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.monad.bind">bind</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.monad.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof148')">Proof.</span></div>
<div class="proofscript" id="proof148">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">/=</span> <span class="id">m</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funeqE">boolp.funeqE</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/bind</span> <span class="id">/ret</span> <span class="id"><a href="monae.monad_model.html#imfset_set1">imfset_set1</a></span> <span class="id">/=</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#big_seq_fset1">big_seq_fset1</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.monad.right_neutral" class="id"><a name="ModelBacktrackableState.monad.right_neutral" class="">right_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.monad.bind">bind</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.monad.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof149')">Proof.</span></div>
<div class="proofscript" id="proof149">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funeqE">boolp.funeqE</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="id">apply/fsetP</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x;</span> <span class="id">apply/bigfcupP';</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">xBs</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> <span class="id">x'</span> <span class="id">:=</span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#6cecb3ca492751e55998eec154506328">[choiceType</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id">A</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.monad.S">S]</a></span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#45faaf8544caccf9f9d40224448c1ef6">[fset</a></span> <span class="id">x'];</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#inE">inE</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/imfsetP;</span> <span class="gallina-kwd">exists</span> <span class="id">x'</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">case:</span> <span class="id">x'</span>.<br/>
<span class="id">case</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">SA</span> <span class="id">/imfsetP[]</span> <span class="id">/=</span> <span class="id">sa</span> <span class="id">saBs</span> <span class="id">-&gt;{SA}</span> <span class="id">/fset1P</span> <span class="id">=&gt;</span> <span class="id">Hx</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">xBs;</span> <span class="id">rewrite</span> <span class="id">Hx;</span> <span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbK">negbK;</a></span> <span class="id">case:</span> <span class="id">sa</span> <span class="id">saBs</span> <span class="id">Hx</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.monad.associative" class="id"><a name="ModelBacktrackableState.monad.associative" class="">associative</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.monad.bind">bind</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof150')">Proof.</span></div>
<div class="proofscript" id="proof150">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">/=</span> <span class="id">m</span> <span class="id">f</span> <span class="id">g;</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funeqE">boolp.funeqE</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="id">have</span> @<span class="id">g'</span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id">B</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.monad.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#56b55a79be47ef2ec896f3a7734c305c">{fset</a></span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id">C</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.monad.S">S}</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">b'</span> <span class="id">s';</span> <span class="id">exact:</span> (<span class="id">g</span> <span class="id">b'</span> <span class="id">s'</span>).<br/>
<span class="id">apply/fsetP</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x;</span> <span class="id">apply/bigfcupP'/bigfcupP';</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">CS</span>  <span class="id">/imfsetP[/=]</span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">bs</span> <span class="id">/bigfcupP'[/=</span> <span class="id">BS]</span>  <span class="id">/imfsetP[/=</span> <span class="id">sa]</span> <span class="id">sams</span> <span class="id">-&gt;{BS}</span> <span class="id">bsfsa</span> <span class="id">-&gt;{CS}</span> <span class="id">xgbs</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#90a50b4f1455fa3c450a15a79501fef5">\bigcup_</a></span>(<span id="i:520" class="id"><span id="i:519" class="id"><span id="i:518" class="id"><span id="i:516" class="id"><span id="i:515" class="id"><span id="i:514" class="id"><a name="i:520" class="">i</a></span></span></span></span></span></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#90a50b4f1455fa3c450a15a79501fef5">&lt;-</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#6001bf45df8f6b6e57fd188448320a89">[fset</a></span> <span class="id">g'</span> <span class="id"><a href="monae.monad_model.html#x0:513">x0</a></span>.<span class="id">1</span> <span class="id"><a href="monae.monad_model.html#x0:513">x0</a></span>.<span class="id">2</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#6001bf45df8f6b6e57fd188448320a89">|</a></span> <span id="x0:517" class="id"><span id="x0:513" class="id"><a name="x0:517" class="">x0</a></span></span> <span class="gallina-kwd">in</span> <span class="id">f</span> <span class="id">sa</span>.<span class="id">1</span> <span class="id">sa</span>.<span class="id">2]</span>) <span class="id"><a href="monae.monad_model.html#i:514">i</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/imfsetP</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> <span class="id">sa</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/bigfcupP';</span> <span class="gallina-kwd">exists</span> (<span class="id">g</span> <span class="id">bs</span>.<span class="id">1</span> <span class="id">bs</span>.<span class="id">2</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">by</span> <span class="id">apply/imfsetP</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> <span class="id">bs</span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">sa</span> <span class="id">sams</span> <span class="id">-&gt;{CS}</span> <span class="id">/bigfcupP'[/=</span> <span class="id">CS]</span>  <span class="id">/imfsetP[/=</span> <span class="id">bs]</span> <span class="id">bsfsa</span> <span class="id">-&gt;{CS}</span> <span class="id">xgbs</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">g</span> <span class="id">bs</span>.<span class="id">1</span> <span class="id">bs</span>.<span class="id">2</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/imfsetP</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> <span class="id">bs</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/bigfcupP'</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id">f</span> <span class="id">sa</span>.<span class="id">1</span> <span class="id">sa</span>.<span class="id">2</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/imfsetP</span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">sa</span>.<br/>
Qed.</div>
<br/>
<span id="ModelBacktrackableState.ModelBacktrackableState_acto__canonical__hierarchy_Monad" class="id"><span id="ModelBacktrackableState.HB_unnamed_mixin_147" class="id"><span id="ModelBacktrackableState.ModelBacktrackableState_acto__canonical__hierarchy_Functor" class="id"><span id="ModelBacktrackableState.HB_unnamed_mixin_146" class="id"><span id="ModelBacktrackableState.hierarchy_isMonad_ret_bind__to__hierarchy_isFunctor" class="id"><span id="ModelBacktrackableState.hierarchy_isMonad_ret_bind__to__hierarchy_isMonad" class="id"><span id="ModelBacktrackableState.HB_unnamed_factory_143" class="id"><a name="ModelBacktrackableState.ModelBacktrackableState_acto__canonical__hierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.monad.left_neutral">left_neutral</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.monad.right_neutral">right_neutral</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.monad.associative">associative</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="ModelBacktrackableState.bindE" class="id"><a name="ModelBacktrackableState.bindE" class="">bindE</a></span> (<span id="A:521" class="id"><a name="A:521" class="">A</a></span> <span id="B:522" class="id"><a name="B:522" class="">B</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) <span id="m:523" class="id"><a name="m:523" class="">m</a></span> (<span id="f:524" class="id"><a name="f:524" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:521">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.acto">acto]</a></span> <span class="id"><a href="monae.monad_model.html#B:522">B</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#m:523">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#f:524">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">fun</span> <span id="s:525" class="id"><a name="s:525" class="">s</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#90a50b4f1455fa3c450a15a79501fef5">\bigcup_</a></span>(<span id="i:529" class="id"><span id="i:528" class="id"><span id="i:527" class="id"><a name="i:529" class="">i</a></span></span></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#90a50b4f1455fa3c450a15a79501fef5">&lt;-</a></span> (<span class="gallina-kwd">fun</span> <span id="x:526" class="id"><a name="x:526" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#6cecb3ca492751e55998eec154506328">[choiceType</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#A:521">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.monad.S">S]</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:524">f</a></span> <span class="id"><a href="monae.monad_model.html#x:526">x</a></span>.<span class="id">1</span> <span class="id"><a href="monae.monad_model.html#x:526">x</a></span>.<span class="id">2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id">`</span> (<span class="id"><a href="monae.monad_model.html#m:523">m</a></span> <span class="id"><a href="monae.monad_model.html#s:525">s</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#i:527">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof151')">Proof.</span></div>
<div class="proofscript" id="proof151">
<span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE</a></span> <span class="id">/=</span> <span class="id">/join_of_bind</span> <span class="id">/=</span> <span class="id">/bind</span> <span class="id">/=</span>.<br/>
<span class="id">set</span> <span class="id">lhs</span> <span class="id">:=</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#6001bf45df8f6b6e57fd188448320a89">[fset</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#6001bf45df8f6b6e57fd188448320a89">|</a></span> <span class="id">_</span> <span class="gallina-kwd">in</span> <span class="id">_]</span>.<br/>
<span class="id">set</span> <span class="id">rhs</span> <span class="id">:=</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#6001bf45df8f6b6e57fd188448320a89">[fset</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#6001bf45df8f6b6e57fd188448320a89">|</a></span> <span class="id">_</span> <span class="gallina-kwd">in</span> <span class="id">_]</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">lhs</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">rhs</span>) <span class="id">//;</span> <span class="id">apply/fsetP</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">{}/lhs</span> <span class="id">{}/rhs</span>.<br/>
<span class="id">apply/idP/imfsetP</span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
<span class="id">-</span> <span class="id">case/imfsetP</span> <span class="id">=&gt;</span> <span class="id">-[a1</span> <span class="id">a2]</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/actm</span> <span class="id">/=</span> <span class="id">/map</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">case/bigfcupP'</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">case/imfsetP</span> <span class="id">=&gt;</span> <span class="id">-[b1</span> <span class="id">b2]</span> <span class="id">/=</span> <span class="id">Hb</span> <span class="id">-&gt;{b}</span> <span class="id">/fset1P[-&gt;</span> <span class="id">-&gt;</span> <span class="id">-&gt;{x</span> <span class="id">a1</span> <span class="id">a2}]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">b1,</span> <span class="id">b2</span>).<br/>
<span class="id">-</span> <span class="id">case=&gt;</span> <span class="id">-[a1</span> <span class="id">s1]</span> <span class="id">Ha</span> <span class="id">/=</span> <span class="id">-&gt;{x}</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/imfsetP</span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/actm</span> <span class="id">/=</span> <span class="id">/map</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply/bigfcupP'</span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/imfsetP</span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">a1,</span> <span class="id">s1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/fset1P;</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.monad">monad</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ModelBacktrackableState.state" class="id"><a name="ModelBacktrackableState.state" class="">state</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ModelBacktrackableState.state.S" class="id"><a name="ModelBacktrackableState.state.S" class="">S</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>.<br/>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.state.get" class="id"><a name="ModelBacktrackableState.state.get" class="">get</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="s:531" class="id"><a name="s:531" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#45faaf8544caccf9f9d40224448c1ef6">[fset</a></span> (<span class="id"><a href="monae.monad_model.html#s:531">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S,</a></span> <span class="id"><a href="monae.monad_model.html#s:531">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S</a></span>)<span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#45faaf8544caccf9f9d40224448c1ef6">]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.state.put" class="id"><a name="ModelBacktrackableState.state.put" class="">put</a></span> <span class="id">:=</span> (<span class="gallina-kwd">fun</span> <span id="s:532" class="id"><a name="s:532" class="">s</a></span> <span class="id">=&gt;</span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#45faaf8544caccf9f9d40224448c1ef6">[fset</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#s:532">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S</a></span>)<span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#45faaf8544caccf9f9d40224448c1ef6">]</a></span>)) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span>).<br/>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.state.putput" class="id"><a name="ModelBacktrackableState.state.putput" class="">putput</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:533" class="id"><a name="s:533" class="">s</a></span> <span id="s':534" class="id"><a name="s':534" class="">s',</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.put">put</a></span> <span class="id"><a href="monae.monad_model.html#s:533">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.put">put</a></span> <span class="id"><a href="monae.monad_model.html#s':534">s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.put">put</a></span> <span class="id"><a href="monae.monad_model.html#s':534">s'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof152')">Proof.</span></div>
<div class="proofscript" id="proof152">
<span class="id">move=&gt;</span> <span class="id">s</span> <span class="id">s';</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s''</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.bindE">bindE;</a></span> <span class="id">apply/fsetP</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x;</span> <span class="id">apply/bigfcupP'/fset1P</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x0</span> <span class="id">/imfsetP[/=</span> <span class="id">x1]</span> <span class="id">/fset1P</span> <span class="id">_</span> <span class="id">-&gt;</span> <span class="id">/fset1P</span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">-&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#45faaf8544caccf9f9d40224448c1ef6">[fset</a></span> ((<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> <span class="id">s'</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#6cecb3ca492751e55998eec154506328">[choiceType</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S]</a></span>)<span class="id">]</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/fset1P</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/imfsetP</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> <span class="id">s</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/fset1P</span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.state.putget" class="id"><a name="ModelBacktrackableState.state.putget" class="">putget</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:535" class="id"><a name="s:535" class="">s,</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.put">put</a></span> <span class="id"><a href="monae.monad_model.html#s:535">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.get">get</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.put">put</a></span> <span class="id"><a href="monae.monad_model.html#s:535">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_model.html#s:535">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof153')">Proof.</span></div>
<div class="proofscript" id="proof153">
<span class="id">move=&gt;</span> <span class="id">s;</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funeqE">boolp.funeqE</a></span> <span class="id">=&gt;</span> <span class="id">s'</span>.<br/>
<span class="id">rewrite</span> <span class="id">2!bindE</span> <span class="id">/=;</span> <span class="id">apply/fsetP</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x;</span> <span class="id">apply/bigfcupP'/bigfcupP'</span>.<br/>
<span class="id">-</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x0</span> <span class="id">/imfsetP[/=</span> <span class="id">x1]</span> <span class="id">/fset1P</span> <span class="id">-&gt;</span> <span class="id">-&gt;</span> <span class="id">/fset1P</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#45faaf8544caccf9f9d40224448c1ef6">[fset</a></span> ((<span class="id">s,</span> <span class="id">s</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#6cecb3ca492751e55998eec154506328">[choiceType</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S]</a></span>)<span class="id">];</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/fset1P</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/imfsetP</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> <span class="id">s</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/fset1P</span>.<br/>
<span class="id">-</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x0</span> <span class="id">/imfsetP[/=</span> <span class="id">x1]</span> <span class="id">/fset1P</span> <span class="id">-&gt;</span> <span class="id">-&gt;</span> <span class="id">/fset1P</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#45faaf8544caccf9f9d40224448c1ef6">[fset</a></span> ((<span class="id">s</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079">,s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#6cecb3ca492751e55998eec154506328">[choiceType</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S]</a></span>)<span class="id">];</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/fset1P</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/imfsetP</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> <span class="id">s</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/fset1P</span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.state.getputskip" class="id"><a name="ModelBacktrackableState.state.getputskip" class="">getputskip</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.get">get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.put">put</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#skip">skip</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof154')">Proof.</span></div>
<div class="proofscript" id="proof154">
<span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funeqE">boolp.funeqE</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.bindE">bindE</a></span> <span class="id">/skip</span> <span class="id">/=</span> <span class="id">/Ret;</span> <span class="id">apply/fsetP</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x;</span> <span class="id">apply/bigfcupP'/idP</span>.<br/>
<span class="id">-</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x0</span> <span class="id">/imfsetP[/=</span> <span class="id">x1]</span> <span class="id">/fset1P</span> <span class="id">-&gt;</span> <span class="id">-&gt;</span> <span class="id">/fset1P</span> <span class="id">-&gt;;</span> <span class="id">exact/fset1P</span>.<br/>
<span class="id">-</span> <span class="id">move/fset1P</span> <span class="id">=&gt;</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#45faaf8544caccf9f9d40224448c1ef6">[fset</a></span> ((<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> <span class="id">s</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#6cecb3ca492751e55998eec154506328">[choiceType</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S]</a></span>)<span class="id">];</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/fset1P</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/imfsetP;</span> <span class="gallina-kwd">exists</span> (<span class="id">s,</span> <span class="id">s</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#inE">inE</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.state.getget" class="id"><a name="ModelBacktrackableState.state.getget" class="">getget</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:536" class="id"><a name="A:536" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="k:537" class="id"><a name="k:537" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span> <span class="id"><a href="monae.monad_model.html#A:536">A</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.get">get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="s:538" class="id"><a name="s:538" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.get">get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:537">k</a></span> <span class="id"><a href="monae.monad_model.html#s:538">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.get">get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="s:539" class="id"><a name="s:539" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:537">k</a></span> <span class="id"><a href="monae.monad_model.html#s:539">s</a></span> <span class="id"><a href="monae.monad_model.html#s:539">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof155')">Proof.</span></div>
<div class="proofscript" id="proof155">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">k;</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funeqE">boolp.funeqE</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="id">rewrite</span> <span class="id">2!bindE;</span> <span class="id">apply/fsetP</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">apply/bigfcupP'/bigfcupP'</span>.<br/>
<span class="id">-</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x0</span> <span class="id">/imfsetP[/=</span> <span class="id">x1]</span> <span class="id">/fset1P</span> <span class="id">-&gt;</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.bindE">bindE</a></span> <span class="id">=&gt;</span> <span class="id">/bigfcupP'[/=</span> <span class="id">x2]</span> <span class="id">/imfsetP[/=</span> <span class="id">x3]</span> <span class="id">/fset1P</span> <span class="id">-&gt;</span> <span class="id">-&gt;</span> <span class="id">xkss</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">k</span> <span class="id">s</span> <span class="id">s</span> <span class="id">s</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/imfsetP;</span> <span class="gallina-kwd">exists</span> (<span class="id">s,</span> <span class="id">s</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#inE">inE</a></span>.<br/>
<span class="id">-</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x0</span> <span class="id">/imfsetP[/=</span> <span class="id">x1]</span> <span class="id">/fset1P</span> <span class="id">-&gt;</span> <span class="id">-&gt;</span> <span class="id">/=</span> <span class="id">xksss</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> @<span class="id">k'</span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#56b55a79be47ef2ec896f3a7734c305c">{fset</a></span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id">A</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S}</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">a</span> <span class="id">b</span> <span class="id">s';</span> <span class="id">exact:</span> (<span class="id">k</span> <span class="id">a</span> <span class="id">b</span> <span class="id">s'</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#90a50b4f1455fa3c450a15a79501fef5">\bigcup_</a></span>(<span id="i:547" class="id"><span id="i:546" class="id"><span id="i:545" class="id"><span id="i:543" class="id"><span id="i:542" class="id"><span id="i:541" class="id"><a name="i:547" class="">i</a></span></span></span></span></span></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#90a50b4f1455fa3c450a15a79501fef5">&lt;-</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#6001bf45df8f6b6e57fd188448320a89">[fset</a></span> <span class="id">k'</span> (<span class="id">s,</span> <span class="id">s</span>).<span class="id">1</span> <span class="id"><a href="monae.monad_model.html#x2:540">x2</a></span>.<span class="id">1</span> <span class="id"><a href="monae.monad_model.html#x2:540">x2</a></span>.<span class="id">2</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#6001bf45df8f6b6e57fd188448320a89">|</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id="x2:544" class="id"><span id="x2:540" class="id"><a name="x2:544" class="">x2</a></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#45faaf8544caccf9f9d40224448c1ef6">[fset</a></span> (((<span class="id">s,</span> <span class="id">s</span>).<span class="id">2,</span> (<span class="id">s,</span> <span class="id">s</span>).<span class="id">2</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#6cecb3ca492751e55998eec154506328">[choiceType</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S]</a></span>)<span class="id">]]</span>) <span class="id"><a href="monae.monad_model.html#i:541">i</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/imfsetP</span> <span class="id">;</span> <span class="gallina-kwd">exists</span> (<span class="id">s,</span> <span class="id">s</span>)<span class="id">;</span> <span class="gallina-kwd">by</span> <span class="id">[rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#inE">inE</a></span> <span class="id">|</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.bindE">bindE]</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply/bigfcupP';</span> <span class="gallina-kwd">exists</span> (<span class="id">k</span> <span class="id">s</span> <span class="id">s</span> <span class="id">s</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/imfsetP;</span> <span class="gallina-kwd">exists</span> (<span class="id">s,</span> <span class="id">s</span>) <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;<span class="id">exact/fset1P</span>.<br/>
Qed.</div>
<br/>
<span id="ModelBacktrackableState.ModelBacktrackableState_acto__canonical__hierarchy_MonadState" class="id"><span id="ModelBacktrackableState.HB_unnamed_factory_148" class="id"><a name="ModelBacktrackableState.ModelBacktrackableState_acto__canonical__hierarchy_MonadState" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadState.Build">isMonadState.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S</a></span> (<span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.S">S</a></span>) <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.putput">putput</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.putget">putget</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.getputskip">getputskip</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state.getget">getget</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.state">state</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ModelBacktrackableState.fail" class="id"><a name="ModelBacktrackableState.fail" class="">fail</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ModelBacktrackableState.fail.S" class="id"><a name="ModelBacktrackableState.fail.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.fail.fail" class="id"><a name="ModelBacktrackableState.fail.fail" class="">fail</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:549" class="id"><a name="A:549" class="">A,</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.fail.S">S</a></span> <span class="id"><a href="monae.monad_model.html#A:549">A</a></span> <span class="id">:=</span> (<span class="gallina-kwd">fun</span> (<span id="A:550" class="id"><a name="A:550" class="">A</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span class="id">_</span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.fail.S">S</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#fset0">fset0</a></span>).<br/>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.fail.bindfailf" class="id"><a name="ModelBacktrackableState.fail.bindfailf" class="">bindfailf</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_zero">BindLaws.left_zero</a></span> (@<span class="id"><a href="monae.hierarchy.html#bind">bind</a></span> <span class="id">_</span> ) <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.fail.fail">fail</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof156')">Proof.</span></div>
<div class="proofscript" id="proof156">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">g;</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funeqE">boolp.funeqE</a></span> <span class="id">=&gt;</span> <span class="id">s;</span> <span class="id">apply/fsetP</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#inE">inE</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.bindE">bindE</a></span>.<br/>
<span class="id">apply/negbTE/bigfcupP';</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x0</span> <span class="id">/imfsetP[/=</span> <span class="id">sa]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (@<span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#in_fset0">in_fset0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#6cecb3ca492751e55998eec154506328">[choiceType</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id">A</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.fail.S">S]</a></span>).<br/>
Qed.</div>
<br/>
<span id="ModelBacktrackableState.ModelBacktrackableState_acto__canonical__hierarchy_MonadFailState" class="id"><span id="ModelBacktrackableState.ModelBacktrackableState_acto__canonical__hierarchy_MonadFail" class="id"><span id="ModelBacktrackableState.HB_unnamed_factory_150" class="id"><a name="ModelBacktrackableState.ModelBacktrackableState_acto__canonical__hierarchy_MonadFailState" class="hierarchy-builder">HB.instance</a></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadFail.Build">isMonadFail.Build</a></span> (<span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.fail.S">S</a></span>) <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.fail.bindfailf">bindfailf</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.fail">fail</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ModelBacktrackableState.alt" class="id"><a name="ModelBacktrackableState.alt" class="">alt</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ModelBacktrackableState.alt.S" class="id"><a name="ModelBacktrackableState.alt.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.alt.M" class="id"><a name="ModelBacktrackableState.alt.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.alt.S">S]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.alt.alt" class="id"><a name="ModelBacktrackableState.alt.alt" class="">alt</a></span> <span class="id">:=</span> (<span class="gallina-kwd">fun</span> (<span id="A:552" class="id"><a name="A:552" class="">A</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="a:553" class="id"><a name="a:553" class="">a</a></span> <span id="b:554" class="id"><a name="b:554" class="">b</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.alt.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#56b55a79be47ef2ec896f3a7734c305c">{fset</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#6cecb3ca492751e55998eec154506328">[choiceType</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#A:552">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.alt.S">S]}</a></span>) (<span id="s:555" class="id"><a name="s:555" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.alt.S">S</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#a:553">a</a></span> <span class="id"><a href="monae.monad_model.html#s:555">s</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#3a82faa09aad0915fec111c4e72ba9ee">`|`</a></span> <span class="id"><a href="monae.monad_model.html#b:554">b</a></span> <span class="id"><a href="monae.monad_model.html#s:555">s</a></span>).<br/>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.alt.altA" class="id"><a name="ModelBacktrackableState.alt.altA" class="">altA</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="T:556" class="id"><a name="T:556" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#associative">ssrfun.associative</a></span> (@<span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.alt.alt">alt</a></span> <span class="id"><a href="monae.monad_model.html#T:556">T</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof157')">Proof.</span></div>
<div class="proofscript" id="proof157">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c;</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funeqE">boolp.funeqE</a></span> <span class="id">=&gt;</span> <span class="id">s;</span> <span class="id">rewrite</span> <span class="id">/alt</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#fsetUA">fsetUA</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.alt.alt_bindDl" class="id"><a name="ModelBacktrackableState.alt.alt_bindDl" class="">alt_bindDl</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_distributive">BindLaws.left_distributive</a></span> (@<span class="id"><a href="monae.hierarchy.html#bind">bind</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.alt.M">M</a></span>) (@<span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.alt.alt">alt</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof158')">Proof.</span></div>
<div class="proofscript" id="proof158">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">/=</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">k;</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funeqE">boolp.funeqE</a></span> <span class="id">=&gt;</span> <span class="id">s;</span> <span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">/=</span>.<br/>
<span class="id">apply/fsetP</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">bs;</span> <span class="id">apply/bigfcupP'/fsetUP</span>.<br/>
<span class="id">-</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">BS</span> <span class="id">/imfsetP[/=</span> <span class="id">sa]</span> <span class="id">/fsetUP[sam1s</span> <span class="id">-&gt;{BS}</span> <span class="id">Hbs|sam2s</span> <span class="id">-&gt;{BS}</span> <span class="id">Hbs]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">left;</span> <span class="id">apply/bigfcupP'</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id">k</span> <span class="id">sa</span>.<span class="id">1</span> <span class="id">sa</span>.<span class="id">2</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/imfsetP;</span> <span class="gallina-kwd">exists</span> <span class="id">sa</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">right;</span> <span class="id">apply/bigfcupP'</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id">k</span> <span class="id">sa</span>.<span class="id">1</span> <span class="id">sa</span>.<span class="id">2</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/imfsetP;</span> <span class="gallina-kwd">exists</span> <span class="id">sa</span>.<br/>
<span class="id">-</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">/bigfcupP'[/=</span> <span class="id">BS</span> <span class="id">/imfsetP[/=</span> <span class="id">sa</span> <span class="id">sams</span> <span class="id">-&gt;{BS}</span> <span class="id">bsksa]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">k</span> <span class="id">sa</span>.<span class="id">1</span> <span class="id">sa</span>.<span class="id">2</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/imfsetP;</span> <span class="gallina-kwd">exists</span> <span class="id">sa</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#inE">inE</a></span> <span class="id">sams</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">k</span> <span class="id">sa</span>.<span class="id">1</span> <span class="id">sa</span>.<span class="id">2</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/imfsetP;</span> <span class="gallina-kwd">exists</span> <span class="id">sa</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#inE">inE</a></span> <span class="id">sams</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
Qed.</div>
<span id="ModelBacktrackableState.ModelBacktrackableState_acto__canonical__hierarchy_MonadAlt" class="id"><span id="ModelBacktrackableState.HB_unnamed_factory_152" class="id"><a name="ModelBacktrackableState.ModelBacktrackableState_acto__canonical__hierarchy_MonadAlt" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadAlt.Build">isMonadAlt.Build</a></span> (<span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.alt.S">S</a></span>) <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.alt.altA">altA</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.alt.alt_bindDl">alt_bindDl</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.alt">alt</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ModelBacktrackableState.nondet" class="id"><a name="ModelBacktrackableState.nondet" class="">nondet</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="ModelBacktrackableState.nondet.S" class="id"><a name="ModelBacktrackableState.nondet.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.nondet.M" class="id"><a name="ModelBacktrackableState.nondet.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadFail.Exports.failMonad">failMonad</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadFail.Exports.failMonad">failMonad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.nondet.S">S]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.nondet.N" class="id"><a name="ModelBacktrackableState.nondet.N" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadAlt.Exports.altMonad">altMonad</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadAlt.Exports.altMonad">altMonad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.nondet.S">S]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.nondet.altfailm" class="id"><a name="ModelBacktrackableState.nondet.altfailm" class="">altfailm</a></span> <span class="id">:</span> @<span class="id"><a href="monae.hierarchy.html#BindLaws.left_id">BindLaws.left_id</a></span> <span class="id">_</span> (@<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.nondet.M">M</a></span>) (@<span class="id"><a href="monae.hierarchy.html#alt">alt</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.nondet.N">N</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof159')">Proof.</span></div>
<div class="proofscript" id="proof159">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">/=</span> <span class="id">m;</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funeqE">boolp.funeqE</a></span> <span class="id">=&gt;</span> <span class="id">s;</span> <span class="id">rewrite</span> <span class="id">/alt</span> <span class="id">/=</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#fset0U">fset0U</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.nondet.altmfail" class="id"><a name="ModelBacktrackableState.nondet.altmfail" class="">altmfail</a></span> <span class="id">:</span> @<span class="id"><a href="monae.hierarchy.html#BindLaws.right_id">BindLaws.right_id</a></span> <span class="id">_</span> (@<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.nondet.M">M</a></span>) (@<span class="id"><a href="monae.hierarchy.html#alt">alt</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.nondet.N">N</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof160')">Proof.</span></div>
<div class="proofscript" id="proof160">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">/=</span> <span class="id">m;</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funeqE">boolp.funeqE</a></span> <span class="id">=&gt;</span> <span class="id">s;</span> <span class="id">rewrite</span> <span class="id">/alt</span> <span class="id">/=</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#fsetU0">fsetU0</a></span>. Qed.</div>
<span id="ModelBacktrackableState.ModelBacktrackableState_acto__canonical__hierarchy_MonadNondet" class="id"><span id="ModelBacktrackableState.HB_unnamed_factory_154" class="id"><a name="ModelBacktrackableState.ModelBacktrackableState_acto__canonical__hierarchy_MonadNondet" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadNondet.Build">isMonadNondet.Build</a></span> (<span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.nondet.S">S</a></span>) <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.nondet.altfailm">altfailm</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.nondet.altmfail">altmfail</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.nondet">nondet</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ModelBacktrackableState.failR0monad" class="id"><a name="ModelBacktrackableState.failR0monad" class="">failR0monad</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ModelBacktrackableState.failR0monad.S" class="id"><a name="ModelBacktrackableState.failR0monad.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.failR0monad.bindmfail" class="id"><a name="ModelBacktrackableState.failR0monad.bindmfail" class="">bindmfail</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_zero">BindLaws.right_zero</a></span> (@<span class="id"><a href="monae.hierarchy.html#bind">bind</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.failR0monad.S">S]</a></span>) (@<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id">_</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof161')">Proof.</span></div>
<div class="proofscript" id="proof161">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">/=</span> <span class="id">g;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.bindE">bindE</a></span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funeqE">boolp.funeqE</a></span> <span class="id">=&gt;</span> <span class="id">s;</span> <span class="id">apply/fsetP</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">sa</span>.<br/>
<span class="id">apply/idP/idP/bigfcupP'</span>.<br/>
<span class="id">case</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">SA</span> <span class="id">/imfsetP[/=</span> <span class="id">bs</span> <span class="id">bsgs</span> <span class="id">-&gt;{SA}]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (@<span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#in_fset0">in_fset0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#6cecb3ca492751e55998eec154506328">[choiceType</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id">A</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.monad_model.html#choice_of_Type">choice_of_Type</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.failR0monad.S">S]</a></span>).<br/>
Qed.</div>
<span id="ModelBacktrackableState.ModelBacktrackableState_acto__canonical__hierarchy_MonadFailR0State" class="id"><span id="ModelBacktrackableState.ModelBacktrackableState_acto__canonical__hierarchy_MonadFailR0" class="id"><span id="ModelBacktrackableState.HB_unnamed_factory_156" class="id"><a name="ModelBacktrackableState.ModelBacktrackableState_acto__canonical__hierarchy_MonadFailR0State" class="hierarchy-builder">HB.instance</a></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadFailR0.Build">isMonadFailR0.Build</a></span> (<span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.failR0monad.S">S</a></span>) <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.failR0monad.bindmfail">bindmfail</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.failR0monad">failR0monad</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ModelBacktrackableState.preplusmonad" class="id"><a name="ModelBacktrackableState.preplusmonad" class="">preplusmonad</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="ModelBacktrackableState.preplusmonad.S" class="id"><a name="ModelBacktrackableState.preplusmonad.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelBacktrackableState.preplusmonad.alt_bindDr" class="id"><a name="ModelBacktrackableState.preplusmonad.alt_bindDr" class="">alt_bindDr</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_distributive">BindLaws.right_distributive</a></span> (@<span class="id"><a href="monae.hierarchy.html#bind">bind</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.preplusmonad.S">S]</a></span>) (@<span class="id"><a href="monae.hierarchy.html#alt">alt</a></span> <span class="id">_</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof162')">Proof.</span></div>
<div class="proofscript" id="proof162">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">/=</span> <span class="id">m</span> <span class="id">k1</span> <span class="id">k2;</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funeqE">boolp.funeqE</a></span> <span class="id">=&gt;</span> <span class="id">s;</span> <span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">/=</span>.<br/>
<span class="id">apply/fsetP</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">bs;</span> <span class="id">apply/bigfcupP'/idP</span>.<br/>
<span class="id">-</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">BS</span> <span class="id">/imfsetP[/=</span> <span class="id">sa</span> <span class="id">sams</span> <span class="id">-&gt;{BS}]</span> <span class="id">/fsetUP[bsk1|bsk2]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply/fsetUP;</span> <span class="id">left;</span> <span class="id">apply/bigfcupP';</span> <span class="gallina-kwd">exists</span> (<span class="id">k1</span> <span class="id">sa</span>.<span class="id">1</span> <span class="id">sa</span>.<span class="id">2</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/imfsetP;</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">sa</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply/fsetUP;</span> <span class="id">right;</span> <span class="id">apply/bigfcupP';</span> <span class="gallina-kwd">exists</span> (<span class="id">k2</span> <span class="id">sa</span>.<span class="id">1</span> <span class="id">sa</span>.<span class="id">2</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/imfsetP;</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">sa</span>.<br/>
<span class="id">-</span> <span class="id">move/fsetUP</span> <span class="id">=&gt;</span> <span class="id">[|]</span> <span class="id">/bigfcupP'[/=</span> <span class="id">BS]</span> <span class="id">/imfsetP[/=</span> <span class="id">sa</span> <span class="id">sams</span> <span class="id">-&gt;{BS}]</span> <span class="id">bsk</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">k1</span> <span class="id">sa</span>.<span class="id">1</span> <span class="id">sa</span>.<span class="id">2</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#3a82faa09aad0915fec111c4e72ba9ee">`|`</a></span> <span class="id">k2</span> <span class="id">sa</span>.<span class="id">1</span> <span class="id">sa</span>.<span class="id">2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/imfsetP;</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">sa</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/fsetUP;</span> <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">k1</span> <span class="id">sa</span>.<span class="id">1</span> <span class="id">sa</span>.<span class="id">2</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#3a82faa09aad0915fec111c4e72ba9ee">`|`</a></span> <span class="id">k2</span> <span class="id">sa</span>.<span class="id">1</span> <span class="id">sa</span>.<span class="id">2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/imfsetP;</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">sa</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/fsetUP;</span> <span class="id">right</span>.<br/>
Qed.</div>
<br/>
<span id="ModelBacktrackableState.ModelBacktrackableState_acto__canonical__hierarchy_MonadNondetState" class="id"><span id="ModelBacktrackableState.ModelBacktrackableState_acto__canonical__hierarchy_MonadPrePlus" class="id"><span id="ModelBacktrackableState.HB_unnamed_factory_158" class="id"><a name="ModelBacktrackableState.ModelBacktrackableState_acto__canonical__hierarchy_MonadNondetState" class="hierarchy-builder">HB.instance</a></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadPrePlus.Build">isMonadPrePlus.Build</a></span> (<span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.preplusmonad.S">S</a></span>) <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.preplusmonad.alt_bindDr">alt_bindDr</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState.preplusmonad">preplusmonad</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelBacktrackableState">ModelBacktrackableState</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelArray" class="id"><a name="ModelArray" class="">ModelArray</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ModelArray.modelarray" class="id"><a name="ModelArray.modelarray" class="">modelarray</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="ModelArray.modelarray.S" class="id"><a name="ModelArray.modelarray.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="ModelArray.modelarray.I" class="id"><a name="ModelArray.modelarray.I" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType">eqType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">i</span> <span class="id">j</span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelArray.modelarray.I">I</a></span>) (<span class="id">A</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="ModelArray.acto" class="id"><a name="ModelArray.acto" class="">acto</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#StateMonad.acto">StateMonad.acto</a></span> (<span class="id"><a href="monae.monad_model.html#ModelArray.modelarray.I">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.modelarray.S">S</a></span>).<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="ModelArray.M" class="id"><a name="ModelArray.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelArray.acto">acto</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ModelArray.aget" class="id"><a name="ModelArray.aget" class="">aget</a></span> <span id="i:562" class="id"><a name="i:562" class="">i</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelArray.M">M</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.modelarray.S">S</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="a:563" class="id"><a name="a:563" class="">a</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monae.monad_model.html#a:563">a</a></span> <span class="id"><a href="monae.monad_model.html#i:562">i,</a></span> <span class="id"><a href="monae.monad_model.html#a:563">a</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="ModelArray.aput" class="id"><a name="ModelArray.aput" class="">aput</a></span> <span id="i:564" class="id"><a name="i:564" class="">i</a></span> <span id="s:565" class="id"><a name="s:565" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelArray.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="a:566" class="id"><a name="a:566" class="">a</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> <span class="id"><a href="monae.monad_model.html#insert">insert</a></span> <span class="id"><a href="monae.monad_model.html#i:564">i</a></span> <span class="id"><a href="monae.monad_model.html#s:565">s</a></span> <span class="id"><a href="monae.monad_model.html#a:566">a</a></span>).<br/>
<span class="vernacular">Let</span> <span id="ModelArray.modelarray.aputput" class="id"><a name="ModelArray.modelarray.aputput" class="">aputput</a></span> <span id="i:567" class="id"><a name="i:567" class="">i</a></span> <span id="s:568" class="id"><a name="s:568" class="">s</a></span> <span id="s':569" class="id"><a name="s':569" class="">s'</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#i:567">i</a></span> <span class="id"><a href="monae.monad_model.html#s:568">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#i:567">i</a></span> <span class="id"><a href="monae.monad_model.html#s':569">s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#i:567">i</a></span> <span class="id"><a href="monae.monad_model.html#s':569">s'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof163')">Proof.</span></div>
<div class="proofscript" id="proof163">
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#state_bindE">state_bindE;</a></span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/aput</span> <span class="id"><a href="monae.monad_model.html#insert_insert">insert_insert</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelArray.modelarray.aputget" class="id"><a name="ModelArray.modelarray.aputget" class="">aputget</a></span> <span id="i:570" class="id"><a name="i:570" class="">i</a></span> <span id="s:571" class="id"><a name="s:571" class="">s</a></span> <span id="A:572" class="id"><a name="A:572" class="">A</a></span> (<span id="k:573" class="id"><a name="k:573" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelArray.modelarray.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:572">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#i:570">i</a></span> <span class="id"><a href="monae.monad_model.html#s:571">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#i:570">i</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:573">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#i:570">i</a></span> <span class="id"><a href="monae.monad_model.html#s:571">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#k:573">k</a></span> <span class="id"><a href="monae.monad_model.html#s:571">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof164')">Proof.</span></div>
<div class="proofscript" id="proof164">
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#state_bindE">state_bindE;</a></span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/aput</span> <span class="id"><a href="monae.monad_model.html#insert_same">insert_same</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelArray.modelarray.agetputskip" class="id"><a name="ModelArray.modelarray.agetputskip" class="">agetputskip</a></span> <span id="i:574" class="id"><a name="i:574" class="">i</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#i:574">i</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#i:574">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#skip">skip</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof165')">Proof.</span></div>
<div class="proofscript" id="proof165">
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#state_bindE">state_bindE;</a></span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/aput</span> <span class="id"><a href="monae.monad_model.html#insert_same2">insert_same2</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelArray.modelarray.agetget" class="id"><a name="ModelArray.modelarray.agetget" class="">agetget</a></span> <span id="i:575" class="id"><a name="i:575" class="">i</a></span> <span id="A:576" class="id"><a name="A:576" class="">A</a></span> (<span id="k:577" class="id"><a name="k:577" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelArray.modelarray.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.modelarray.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:576">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#i:575">i</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="s:578" class="id"><a name="s:578" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#i:575">i</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:577">k</a></span> <span class="id"><a href="monae.monad_model.html#s:578">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#i:575">i</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="s:579" class="id"><a name="s:579" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:577">k</a></span> <span class="id"><a href="monae.monad_model.html#s:579">s</a></span> <span class="id"><a href="monae.monad_model.html#s:579">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof166')">Proof.</span></div>
<div class="proofscript" id="proof166">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelArray.modelarray.agetC" class="id"><a name="ModelArray.modelarray.agetC" class="">agetC</a></span> <span id="i:580" class="id"><a name="i:580" class="">i</a></span> <span id="j:581" class="id"><a name="j:581" class="">j</a></span> <span id="A:582" class="id"><a name="A:582" class="">A</a></span> (<span id="k:583" class="id"><a name="k:583" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelArray.modelarray.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.modelarray.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:582">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#i:580">i</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="u:584" class="id"><a name="u:584" class="">u</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#j:581">j</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="v:585" class="id"><a name="v:585" class="">v</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:583">k</a></span> <span class="id"><a href="monae.monad_model.html#u:584">u</a></span> <span class="id"><a href="monae.monad_model.html#v:585">v</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#j:581">j</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="v:586" class="id"><a name="v:586" class="">v</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#i:580">i</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="u:587" class="id"><a name="u:587" class="">u</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:583">k</a></span> <span class="id"><a href="monae.monad_model.html#u:587">u</a></span> <span class="id"><a href="monae.monad_model.html#v:586">v</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof167')">Proof.</span></div>
<div class="proofscript" id="proof167">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelArray.modelarray.aputC" class="id"><a name="ModelArray.modelarray.aputC" class="">aputC</a></span> <span id="i:588" class="id"><a name="i:588" class="">i</a></span> <span id="j:589" class="id"><a name="j:589" class="">j</a></span> <span id="u:590" class="id"><a name="u:590" class="">u</a></span> <span id="v:591" class="id"><a name="v:591" class="">v</a></span> <span class="id">:</span> (<span class="id"><a href="monae.monad_model.html#i:588">i</a></span> <span class="id">!=</span> <span class="id"><a href="monae.monad_model.html#j:589">j</a></span>) <span class="id">\/</span> (<span class="id"><a href="monae.monad_model.html#u:590">u</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#v:591">v</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#i:588">i</a></span> <span class="id"><a href="monae.monad_model.html#u:590">u</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#j:589">j</a></span> <span class="id"><a href="monae.monad_model.html#v:591">v</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#j:589">j</a></span> <span class="id"><a href="monae.monad_model.html#v:591">v</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#i:588">i</a></span> <span class="id"><a href="monae.monad_model.html#u:590">u</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof168')">Proof.</span></div>
<div class="proofscript" id="proof168">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[ij|-&gt;{u}];</span> <span class="id">rewrite</span> <span class="id">!state_bindE</span> <span class="id">/aput;</span> <span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">a/=;</span><br/>
&nbsp;&nbsp;<span class="id">[rewrite</span> <span class="id"><a href="monae.monad_model.html#insertC">insertC|rewrite</a></span> <span class="id"><a href="monae.monad_model.html#insertC2">insertC2]</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelArray.modelarray.aputgetC" class="id"><a name="ModelArray.modelarray.aputgetC" class="">aputgetC</a></span> <span id="i:592" class="id"><a name="i:592" class="">i</a></span> <span id="j:593" class="id"><a name="j:593" class="">j</a></span> <span id="u:594" class="id"><a name="u:594" class="">u</a></span> <span id="A:595" class="id"><a name="A:595" class="">A</a></span> (<span id="k:596" class="id"><a name="k:596" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelArray.modelarray.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:595">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#i:592">i</a></span> <span class="id">!=</span> <span class="id"><a href="monae.monad_model.html#j:593">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#i:592">i</a></span> <span class="id"><a href="monae.monad_model.html#u:594">u</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#j:593">j</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:596">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#j:593">j</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="v:597" class="id"><a name="v:597" class="">v</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#i:592">i</a></span> <span class="id"><a href="monae.monad_model.html#u:594">u</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#k:596">k</a></span> <span class="id"><a href="monae.monad_model.html#v:597">v</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof169')">Proof.</span></div>
<div class="proofscript" id="proof169">
<span class="id">move=&gt;</span> <span class="id">ij;</span> <span class="id">rewrite</span> <span class="id">/aput</span> <span class="id">!state_bindE;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#state_bindE">state_bindE/=</a></span> <span class="id">{1}/insert</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">ij</span>).<br/>
Qed.</div>
<span id="ModelArray.HB_unnamed_factory_160" class="id"><a name="ModelArray.HB_unnamed_factory_160" class="hierarchy-builder">HB.instance</a></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadArray.Build">isMonadArray.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelArray.modelarray.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.modelarray.I">I</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.modelarray.aputput">aputput</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.modelarray.aputget">aputget</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.modelarray.agetputskip">agetputskip</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.modelarray.agetget">agetget</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.modelarray.agetC">agetC</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.modelarray.aputC">aputC</a></span> <span class="id"><a href="monae.monad_model.html#ModelArray.modelarray.aputgetC">aputgetC</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelArray.modelarray">modelarray</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelArray">ModelArray</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelPlusArray" class="id"><a name="ModelPlusArray" class="">ModelPlusArray</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ModelPlusArray.modelplusarray" class="id"><a name="ModelPlusArray.modelplusarray" class="">modelplusarray</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="vernacular">Variable</span> (<span id="ModelPlusArray.modelplusarray.S" class="id"><a name="ModelPlusArray.modelplusarray.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="ModelPlusArray.modelplusarray.I" class="id"><a name="ModelPlusArray.modelplusarray.I" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType">eqType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">i</span> <span class="id">j</span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.I">I</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ModelPlusArray.acto" class="id"><a name="ModelPlusArray.acto" class="">acto</a></span> (<span id="A:600" class="id"><a name="A:600" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> (<span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.I">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.S">S</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.monad_model.html#SetMonad.acto">SetMonad.acto</a></span> (<span class="id"><a href="monae.monad_model.html#A:600">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> (<span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.I">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.S">S</a></span>))%<span class="id">type</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="ModelPlusArray.M" class="id"><a name="ModelPlusArray.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.acto">acto</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.ret" class="id"><a name="ModelPlusArray.modelplusarray.ret" class="">ret</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:601" class="id"><a name="A:601" class="">A</a></span> <span id="a:602" class="id"><a name="a:602" class="">a</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">fun</span> <span id="s:603" class="id"><a name="s:603" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#29c78c22490f2dae838b1b504eb858a2">[set</a></span> (<span class="id"><a href="monae.monad_model.html#a:602">a,</a></span> <span class="id"><a href="monae.monad_model.html#s:603">s</a></span>)<span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#29c78c22490f2dae838b1b504eb858a2">]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.bind" class="id"><a name="ModelPlusArray.modelplusarray.bind" class="">bind</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:604" class="id"><a name="A:604" class="">A</a></span> <span id="B:605" class="id"><a name="B:605" class="">B</a></span> (<span id="m:606" class="id"><a name="m:606" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:604">A</a></span>) (<span id="f:607" class="id"><a name="f:607" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:604">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M</a></span> <span class="id"><a href="monae.monad_model.html#B:605">B</a></span>) <span class="id">=&gt;</span> <span class="gallina-kwd">fun</span> <span id="s:608" class="id"><a name="s:608" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#m:606">m</a></span> <span class="id"><a href="monae.monad_model.html#s:608">s</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> <span class="id"><a href="monae.monad_model.html#f:607">f</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.left_neutral" class="id"><a name="ModelPlusArray.modelplusarray.left_neutral" class="">left_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.bind">bind</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof170')">Proof.</span></div>
<div class="proofscript" id="proof170">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">X</span> <span class="id">Y</span> <span class="id">x</span> <span class="id">f;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a1;</span> <span class="id">rewrite</span> <span class="id">/bind/=</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.right_neutral" class="id"><a name="ModelPlusArray.modelplusarray.right_neutral" class="">right_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.bind">bind</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof171')">Proof.</span></div>
<div class="proofscript" id="proof171">
<span class="id">move=&gt;</span> <span class="id">X/=</span> <span class="id">m;</span> <span class="id">rewrite</span> <span class="id">/bind;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a1</span>.<br/>
<span class="id">rewrite</span> <span class="id">/ret</span> <span class="id">/uncurry/=;</span> <span class="id">apply/seteqP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[x</span> <span class="id">a2]/=</span> <span class="id">[[x'</span> <span class="id">a3]]</span> <span class="id">ma1x'a3/=</span> <span class="id">-&gt;</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[x</span> <span class="id">a2]</span> <span class="id">ma1xa2/=;</span> <span class="id">eexists;</span> <span class="id">[exact:</span> <span class="id">ma1xa2|]</span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.associative" class="id"><a name="ModelPlusArray.modelplusarray.associative" class="">associative</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.bind">bind</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof172')">Proof.</span></div>
<div class="proofscript" id="proof172">
<span class="id">move=&gt;</span> <span class="id">X</span> <span class="id">Y</span> <span class="id">Z</span> <span class="id">/=</span> <span class="id">m</span> <span class="id">f</span> <span class="id">g;</span> <span class="id">rewrite</span> <span class="id">/bind;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA;</a></span> <span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">-[]</span>.<br/>
Qed.</div>
<span id="ModelPlusArray.ModelPlusArray_acto__canonical__hierarchy_Monad" class="id"><span id="ModelPlusArray.HB_unnamed_mixin_166" class="id"><span id="ModelPlusArray.ModelPlusArray_acto__canonical__hierarchy_Functor" class="id"><span id="ModelPlusArray.HB_unnamed_mixin_165" class="id"><span id="ModelPlusArray.hierarchy_isMonad_ret_bind__to__hierarchy_isFunctor" class="id"><span id="ModelPlusArray.hierarchy_isMonad_ret_bind__to__hierarchy_isMonad" class="id"><span id="ModelPlusArray.HB_unnamed_factory_162" class="id"><a name="ModelPlusArray.ModelPlusArray_acto__canonical__hierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.left_neutral">left_neutral</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.right_neutral">right_neutral</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.associative">associative</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.bindE" class="id"><a name="ModelPlusArray.modelplusarray.bindE" class="">bindE</a></span> <span id="A:609" class="id"><a name="A:609" class="">A</a></span> <span id="B:610" class="id"><a name="B:610" class="">B</a></span> (<span id="m:611" class="id"><a name="m:611" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:609">A</a></span>) (<span id="f:612" class="id"><a name="f:612" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:609">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M</a></span> <span class="id"><a href="monae.monad_model.html#B:610">B</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#m:611">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#f:612">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.bind">bind</a></span> <span class="id"><a href="monae.monad_model.html#m:611">m</a></span> <span class="id"><a href="monae.monad_model.html#f:612">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof173')">Proof.</span></div>
<div class="proofscript" id="proof173">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Definition</span> <span id="ModelPlusArray.aget" class="id"><a name="ModelPlusArray.aget" class="">aget</a></span> <span id="i:613" class="id"><a name="i:613" class="">i</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.S">S</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="s:614" class="id"><a name="s:614" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_model.html#ModelArray.aget">ModelArray.aget</a></span> <span class="id"><a href="monae.monad_model.html#i:613">i</a></span> <span class="id"><a href="monae.monad_model.html#s:614">s</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="ModelPlusArray.aput" class="id"><a name="ModelPlusArray.aput" class="">aput</a></span> <span id="i:615" class="id"><a name="i:615" class="">i</a></span> <span id="a:616" class="id"><a name="a:616" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="s:617" class="id"><a name="s:617" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_model.html#ModelArray.aput">ModelArray.aput</a></span> <span class="id"><a href="monae.monad_model.html#i:615">i</a></span> <span class="id"><a href="monae.monad_model.html#a:616">a</a></span> <span class="id"><a href="monae.monad_model.html#s:617">s</a></span>).<br/>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.aputput" class="id"><a name="ModelPlusArray.modelplusarray.aputput" class="">aputput</a></span> <span id="i:618" class="id"><a name="i:618" class="">i</a></span> <span id="s:619" class="id"><a name="s:619" class="">s</a></span> <span id="s':620" class="id"><a name="s':620" class="">s'</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#i:618">i</a></span> <span class="id"><a href="monae.monad_model.html#s:619">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#i:618">i</a></span> <span class="id"><a href="monae.monad_model.html#s':620">s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#i:618">i</a></span> <span class="id"><a href="monae.monad_model.html#s':620">s'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof174')">Proof.</span></div>
<div class="proofscript" id="proof174">
<span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.bindE">bindE</a></span> <span class="id">/bind</span> <span class="id"><a href="monae.monad_model.html#set_bindE">set_bindE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#bigcup_set1">bigcup_set1/=</a></span> <span class="id">/aput</span> <span class="id">/ModelArray</span>.<span class="id">aput</span> <span class="id"><a href="monae.monad_model.html#insert_insert">insert_insert</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.aputget" class="id"><a name="ModelPlusArray.modelplusarray.aputget" class="">aputget</a></span> <span id="i:621" class="id"><a name="i:621" class="">i</a></span> <span id="s:622" class="id"><a name="s:622" class="">s</a></span> (<span id="A:623" class="id"><a name="A:623" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="k:624" class="id"><a name="k:624" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:623">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelPlusArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#i:621">i</a></span> <span class="id"><a href="monae.monad_model.html#s:622">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#i:621">i</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:624">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#i:621">i</a></span> <span class="id"><a href="monae.monad_model.html#s:622">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#k:624">k</a></span> <span class="id"><a href="monae.monad_model.html#s:622">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof175')">Proof.</span></div>
<div class="proofscript" id="proof175">
<span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=;</span> <span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">/bind</span> <span class="id"><a href="monae.monad_model.html#set_bindE">set_bindE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#set_bindE">set_bindE/=</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#bigcup_bigcup">bigcup_bigcup</a></span> <span class="id">!bigcup_set1/=</span> <span class="id">/aput</span> <span class="id">/ModelArray</span>.<span class="id">aput</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf/=</a></span> <span class="id"><a href="monae.monad_model.html#insert_same">insert_same</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.agetputskip" class="id"><a name="ModelPlusArray.modelplusarray.agetputskip" class="">agetputskip</a></span> <span id="i:625" class="id"><a name="i:625" class="">i</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#i:625">i</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#i:625">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#skip">skip</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof176')">Proof.</span></div>
<div class="proofscript" id="proof176">
<span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.bindE">bindE</a></span> <span class="id">/bind</span> <span class="id"><a href="monae.monad_model.html#set_bindE">set_bindE</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#bigcup_set1">bigcup_set1/=</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/aput</span> <span class="id">/ModelArray</span>.<span class="id">aput</span> <span class="id"><a href="monae.monad_model.html#insert_same2">insert_same2</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.agetget" class="id"><a name="ModelPlusArray.modelplusarray.agetget" class="">agetget</a></span> <span id="i:626" class="id"><a name="i:626" class="">i</a></span> (<span id="A:627" class="id"><a name="A:627" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="k:628" class="id"><a name="k:628" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:627">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelPlusArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#i:626">i</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="s:629" class="id"><a name="s:629" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#i:626">i</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:628">k</a></span> <span class="id"><a href="monae.monad_model.html#s:629">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#i:626">i</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="s:630" class="id"><a name="s:630" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:628">k</a></span> <span class="id"><a href="monae.monad_model.html#s:630">s</a></span> <span class="id"><a href="monae.monad_model.html#s:630">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof177')">Proof.</span></div>
<div class="proofscript" id="proof177">
<span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=;</span> <span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">/bind</span> <span class="id">!set_bindE/=</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#bigcup_set1">bigcup_set1/=</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/aget</span> <span class="id">/ModelArray</span>.<span class="id">aget/=</span> <span class="id">!bindE/=</span> <span class="id">/bind/=</span> <span class="id">!set_bindE/=</span> <span class="id">!bigcup_set1</span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.agetC" class="id"><a name="ModelPlusArray.modelplusarray.agetC" class="">agetC</a></span> <span id="i:631" class="id"><a name="i:631" class="">i</a></span> <span id="j:632" class="id"><a name="j:632" class="">j</a></span> (<span id="A:633" class="id"><a name="A:633" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="k:634" class="id"><a name="k:634" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:633">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelPlusArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#i:631">i</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="u:635" class="id"><a name="u:635" class="">u</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#j:632">j</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="v:636" class="id"><a name="v:636" class="">v</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:634">k</a></span> <span class="id"><a href="monae.monad_model.html#u:635">u</a></span> <span class="id"><a href="monae.monad_model.html#v:636">v</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelPlusArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#j:632">j</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="v:637" class="id"><a name="v:637" class="">v</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#i:631">i</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="u:638" class="id"><a name="u:638" class="">u</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:634">k</a></span> <span class="id"><a href="monae.monad_model.html#u:638">u</a></span> <span class="id"><a href="monae.monad_model.html#v:637">v</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof178')">Proof.</span></div>
<div class="proofscript" id="proof178">
<span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">/bind/=</span> <span class="id">!set_bindE</span> <span class="id">!bigcup_set1/=</span> <span class="id">/aget</span> <span class="id">/ModelArray</span>.<span class="id">aget/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">/bind/=</span> <span class="id">!set_bindE/=</span> <span class="id">!bigcup_set1</span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.aputC" class="id"><a name="ModelPlusArray.modelplusarray.aputC" class="">aputC</a></span> <span id="i:639" class="id"><a name="i:639" class="">i</a></span> <span id="j:640" class="id"><a name="j:640" class="">j</a></span> <span id="u:641" class="id"><a name="u:641" class="">u</a></span> <span id="v:642" class="id"><a name="v:642" class="">v</a></span> <span class="id">:</span> (<span class="id"><a href="monae.monad_model.html#i:639">i</a></span> <span class="id">!=</span> <span class="id"><a href="monae.monad_model.html#j:640">j</a></span>) <span class="id">\/</span> (<span class="id"><a href="monae.monad_model.html#u:641">u</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#v:642">v</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelPlusArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#i:639">i</a></span> <span class="id"><a href="monae.monad_model.html#u:641">u</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#j:640">j</a></span> <span class="id"><a href="monae.monad_model.html#v:642">v</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#j:640">j</a></span> <span class="id"><a href="monae.monad_model.html#v:642">v</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#i:639">i</a></span> <span class="id"><a href="monae.monad_model.html#u:641">u</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof179')">Proof.</span></div>
<div class="proofscript" id="proof179">
<span class="id">move=&gt;</span> <span class="id">[ij|-&gt;{u}]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">/bind/=</span> <span class="id">!set_bindE/=</span> <span class="id">!bigcup_set1/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/aput</span> <span class="id">/ModelArray</span>.<span class="id">aput/=</span> <span class="id"><a href="monae.monad_model.html#insertC">insertC</a></span>.<br/>
<span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">/bind/=</span> <span class="id">!set_bindE/=</span> <span class="id">!bigcup_set1/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/aput</span> <span class="id">/ModelArray</span>.<span class="id">aput/=</span> <span class="id"><a href="monae.monad_model.html#insertC2">insertC2</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.aputgetC" class="id"><a name="ModelPlusArray.modelplusarray.aputgetC" class="">aputgetC</a></span> <span id="i:643" class="id"><a name="i:643" class="">i</a></span> <span id="j:644" class="id"><a name="j:644" class="">j</a></span> <span id="u:645" class="id"><a name="u:645" class="">u</a></span> (<span id="A:646" class="id"><a name="A:646" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="k:647" class="id"><a name="k:647" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:646">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#i:643">i</a></span> <span class="id">!=</span> <span class="id"><a href="monae.monad_model.html#j:644">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelPlusArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#i:643">i</a></span> <span class="id"><a href="monae.monad_model.html#u:645">u</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#j:644">j</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:647">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.aget">aget</a></span> <span class="id"><a href="monae.monad_model.html#j:644">j</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="v:648" class="id"><a name="v:648" class="">v</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.aput">aput</a></span> <span class="id"><a href="monae.monad_model.html#i:643">i</a></span> <span class="id"><a href="monae.monad_model.html#u:645">u</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#k:647">k</a></span> <span class="id"><a href="monae.monad_model.html#v:648">v</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof180')">Proof.</span></div>
<div class="proofscript" id="proof180">
<span class="id">move=&gt;</span> <span class="id">ij</span>.<br/>
<span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">/bind/=</span> <span class="id">!set_bindE</span> <span class="id">!bigcup_set1/=</span> <span class="id">/aput</span> <span class="id">/ModelArray</span>.<span class="id">aput/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.bindE">bindE</a></span> <span class="id">/bind/=</span> <span class="id"><a href="monae.monad_model.html#set_bindE">set_bindE</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#bigcup_set1">bigcup_set1/=</a></span> <span class="id">{1}/insert</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">ij</span>).<br/>
Qed.</div>
<span id="ModelPlusArray.ModelPlusArray_acto__canonical__hierarchy_MonadArray" class="id"><span id="ModelPlusArray.HB_unnamed_factory_167" class="id"><a name="ModelPlusArray.ModelPlusArray_acto__canonical__hierarchy_MonadArray" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadArray.Build">isMonadArray.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.I">I</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.aputput">aputput</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.aputget">aputget</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.agetputskip">agetputskip</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.agetget">agetget</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.agetC">agetC</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.aputC">aputC</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.aputgetC">aputgetC</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.bindfailf" class="id"><a name="ModelPlusArray.modelplusarray.bindfailf" class="">bindfailf</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_zero">BindLaws.left_zero</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.bind">bind</a></span> (<span class="gallina-kwd">fun</span> <span id="A:649" class="id"><a name="A:649" class="">A</a></span> <span class="id">_</span> <span class="id">=&gt;</span> @<span class="id"><a href="monae.monad_model.html#Fail.set_fail">set_fail</a></span> <span class="id">_</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof181')">Proof.</span></div>
<div class="proofscript" id="proof181">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B/=</span> <span class="id">g;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=;</span> <span class="id">rewrite</span> <span class="id">/bind</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
Qed.</div>
<span id="ModelPlusArray.ModelPlusArray_acto__canonical__hierarchy_MonadFail" class="id"><span id="ModelPlusArray.HB_unnamed_factory_169" class="id"><a name="ModelPlusArray.ModelPlusArray_acto__canonical__hierarchy_MonadFail" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadFail.Build">isMonadFail.Build</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.acto">acto</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.bindfailf">bindfailf</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ModelPlusArray.aalt" class="id"><a name="ModelPlusArray.aalt" class="">aalt</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> (<span id="T:650" class="id"><a name="T:650" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="a:651" class="id"><a name="a:651" class="">a</a></span> <span id="b:652" class="id"><a name="b:652" class="">b</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M</a></span> <span class="id"><a href="monae.monad_model.html#T:650">T</a></span>) <span class="id">=&gt;</span> <span class="gallina-kwd">fun</span> <span id="x:653" class="id"><a name="x:653" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#a:651">a</a></span> <span class="id"><a href="monae.monad_model.html#x:653">x</a></span> <span class="id"><a href="monae.hierarchy.html#bdf043675a5fe817d484e3f9853f2e96">[~]</a></span> <span class="id"><a href="monae.monad_model.html#b:652">b</a></span> <span class="id"><a href="monae.monad_model.html#x:653">x</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.altA" class="id"><a name="ModelPlusArray.modelplusarray.altA" class="">altA</a></span> (<span id="T:654" class="id"><a name="T:654" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#associative">ssrfun.associative</a></span> (@<span class="id"><a href="monae.monad_model.html#ModelPlusArray.aalt">aalt</a></span> <span class="id"><a href="monae.monad_model.html#T:654">T</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof182')">Proof.</span></div>
<div class="proofscript" id="proof182">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a;</span> <span class="id">rewrite</span> <span class="id">/aalt</span> <span class="id"><a href="monae.hierarchy.html#altA">altA</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.alt_bindDl" class="id"><a name="ModelPlusArray.modelplusarray.alt_bindDl" class="">alt_bindDl</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_distributive">BindLaws.left_distributive</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.bind">bind</a></span> (@<span class="id"><a href="monae.monad_model.html#ModelPlusArray.aalt">aalt</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof183')">Proof.</span></div>
<div class="proofscript" id="proof183">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B/=</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">k;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a;</span> <span class="id">rewrite</span> <span class="id">/bind</span> <span class="id">/aalt/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#alt_bindDl">alt_bindDl</a></span>.<br/>
Qed.</div>
<span id="ModelPlusArray.ModelPlusArray_acto__canonical__hierarchy_MonadAlt" class="id"><span id="ModelPlusArray.HB_unnamed_factory_171" class="id"><a name="ModelPlusArray.ModelPlusArray_acto__canonical__hierarchy_MonadAlt" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadAlt.Build">isMonadAlt.Build</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.altA">altA</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.alt_bindDl">alt_bindDl</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.altfailm" class="id"><a name="ModelPlusArray.modelplusarray.altfailm" class="">altfailm</a></span> <span class="id">:</span> @<span class="id"><a href="monae.hierarchy.html#BindLaws.left_id">BindLaws.left_id</a></span> <span class="id">_</span> (@<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadFail.Exports.failMonad">failMonad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.acto">acto]</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id"><a href="monae.hierarchy.html#alt">alt</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadAlt.Exports.altMonad">altMonad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.acto">acto]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof184')">Proof.</span></div>
<div class="proofscript" id="proof184">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">m;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[x</span> <span class="id">a1]/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/alt/=</span> <span class="id">/aalt</span> <span class="id"><a href="monae.hierarchy.html#altfailm">altfailm</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.altmfail" class="id"><a name="ModelPlusArray.modelplusarray.altmfail" class="">altmfail</a></span> <span class="id">:</span> @<span class="id"><a href="monae.hierarchy.html#BindLaws.right_id">BindLaws.right_id</a></span> <span class="id">_</span> (@<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadFail.Exports.failMonad">failMonad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.acto">acto]</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id"><a href="monae.hierarchy.html#alt">alt</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadAlt.Exports.altMonad">altMonad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.acto">acto]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof185')">Proof.</span></div>
<div class="proofscript" id="proof185">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">m;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[x</span> <span class="id">a1]/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/alt/=</span> <span class="id">/aalt</span> <span class="id"><a href="monae.hierarchy.html#altmfail">altmfail</a></span>.<br/>
Qed.</div>
<span id="ModelPlusArray.ModelPlusArray_acto__canonical__hierarchy_MonadNondet" class="id"><span id="ModelPlusArray.HB_unnamed_factory_173" class="id"><a name="ModelPlusArray.ModelPlusArray_acto__canonical__hierarchy_MonadNondet" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadNondet.Build">isMonadNondet.Build</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.altfailm">altfailm</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.altmfail">altmfail</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.altmm" class="id"><a name="ModelPlusArray.modelplusarray.altmm" class="">altmm</a></span> (<span id="A:655" class="id"><a name="A:655" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idempotent">idempotent</a></span> (@<span class="id"><a href="monae.hierarchy.html#alt">alt</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadAlt.Exports.altMonad">altMonad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M]</a></span> <span class="id"><a href="monae.monad_model.html#A:655">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof186')">Proof.</span></div>
<div class="proofscript" id="proof186">
<span class="id">move=&gt;</span> <span class="id">m;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[x</span> <span class="id">a1]/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/alt/=</span> <span class="id">/aalt</span> <span class="id"><a href="monae.hierarchy.html#altmm">altmm</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.altC" class="id"><a name="ModelPlusArray.modelplusarray.altC" class="">altC</a></span> (<span id="A:656" class="id"><a name="A:656" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#commutative">commutative</a></span> (@<span class="id"><a href="monae.hierarchy.html#alt">alt</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadAlt.Exports.altMonad">altMonad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M]</a></span> <span class="id"><a href="monae.monad_model.html#A:656">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof187')">Proof.</span></div>
<div class="proofscript" id="proof187">
<span class="id">move=&gt;</span> <span class="id">m1</span> <span class="id">m2;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[x</span> <span class="id">a1]/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/alt/=</span> <span class="id">/aalt</span> <span class="id"><a href="monae.hierarchy.html#altC">altC</a></span>.<br/>
Qed.</div>
<span id="ModelPlusArray.ModelPlusArray_acto__canonical__hierarchy_MonadCINondet" class="id"><span id="ModelPlusArray.ModelPlusArray_acto__canonical__hierarchy_MonadAltCI" class="id"><span id="ModelPlusArray.HB_unnamed_factory_175" class="id"><a name="ModelPlusArray.ModelPlusArray_acto__canonical__hierarchy_MonadCINondet" class="hierarchy-builder">HB.instance</a></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> @<span class="id"><a href="monae.hierarchy.html#isMonadAltCI.Build">isMonadAltCI.Build</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.altmm">altmm</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.altC">altC</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.bindmfail" class="id"><a name="ModelPlusArray.modelplusarray.bindmfail" class="">bindmfail</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_zero">BindLaws.right_zero</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.bind">bind</a></span> (@<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadFail.Exports.failMonad">failMonad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof188')">Proof.</span></div>
<div class="proofscript" id="proof188">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">/=</span> <span class="id">m;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[x</span> <span class="id">a1]/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/bind/=</span> <span class="id"><a href="monae.monad_model.html#set_bindE">set_bindE/=</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.classical_sets#bigcup0">bigcup0//</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>.<br/>
Qed.</div>
<span id="ModelPlusArray.ModelPlusArray_acto__canonical__hierarchy_MonadFailR0" class="id"><span id="ModelPlusArray.HB_unnamed_factory_177" class="id"><a name="ModelPlusArray.ModelPlusArray_acto__canonical__hierarchy_MonadFailR0" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadFailR0.Build">isMonadFailR0.Build</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.bindmfail">bindmfail</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelPlusArray.modelplusarray.alt_bindDr" class="id"><a name="ModelPlusArray.modelplusarray.alt_bindDr" class="">alt_bindDr</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_distributive">BindLaws.right_distributive</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.bind">bind</a></span> (@<span class="id"><a href="monae.hierarchy.html#alt">alt</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadAlt.Exports.altMonad">altMonad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof189')">Proof.</span></div>
<div class="proofscript" id="proof189">
<span class="id">move=&gt;</span> <span class="id">T1</span> <span class="id">T2</span> <span class="id">/=</span> <span class="id">A</span> <span class="id">k1</span> <span class="id">k2;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[x</span> <span class="id">a1]</span>.<br/>
<span class="id">rewrite</span> <span class="id">/bind/=</span> <span class="id">!set_bindE;</span> <span class="id">apply/boolp</span>.<span class="id">propext;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">-[[x1</span> <span class="id">a2]</span> <span class="id">H1]/=</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/alt/=</span> <span class="id">/aalt</span> <span class="id">-alt_bindDr</span> <span class="id"><a href="monae.monad_model.html#set_bindE">set_bindE;</a></span> <span class="gallina-kwd">exists</span> (<span class="id">x1,</span> <span class="id">a2</span>).<br/>
<span class="id">move=&gt;</span> <span class="id">-[];</span> <span class="id">rewrite</span> <span class="id">!set_bindE</span> <span class="id">=&gt;</span> <span class="id">-[[x1</span> <span class="id">a2]</span> <span class="id">H1]</span> <span class="id">/=</span> <span class="id">H2;</span> <span class="gallina-kwd">exists</span> (<span class="id">x1,</span> <span class="id">a2</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">left</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">right</span>.<br/>
Qed.</div>
<span id="ModelPlusArray.ModelPlusArray_acto__canonical__hierarchy_MonadPlusArray" class="id"><span id="ModelPlusArray.ModelPlusArray_acto__canonical__hierarchy_MonadPlus" class="id"><span id="ModelPlusArray.ModelPlusArray_acto__canonical__hierarchy_MonadPrePlus" class="id"><span id="ModelPlusArray.HB_unnamed_factory_179" class="id"><a name="ModelPlusArray.ModelPlusArray_acto__canonical__hierarchy_MonadPlusArray" class="hierarchy-builder">HB.instance</a></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isMonadPrePlus.Build">isMonadPrePlus.Build</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.M">M</a></span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray.alt_bindDr">alt_bindDr</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray.modelplusarray">modelplusarray</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelPlusArray">ModelPlusArray</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ModelPlusArray</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="locT_nat" class="id"><a name="locT_nat" class="">locT_nat</a></span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#2b9222c46a529018a8ebb5be6355801c">[eqType</a></span> <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelTypedStore" class="id"><a name="ModelTypedStore" class="">ModelTypedStore</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ModelTypedStore.ModelTypedStore" class="id"><a name="ModelTypedStore.ModelTypedStore" class="">ModelTypedStore</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="ModelTypedStore.ModelTypedStore.MLU" class="id"><a name="ModelTypedStore.ModelTypedStore.MLU" class="">MLU</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#ML_UNIVERSE.Exports.ML_universe">ML_universe</a></span>) (<span id="ModelTypedStore.ModelTypedStore.N" class="id"><a name="ModelTypedStore.ModelTypedStore.N" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>).<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="ModelTypedStore.coq_type" class="id"><a name="ModelTypedStore.coq_type" class="">coq_type</a></span> <span class="id">:=</span> (@<span class="id"><a href="monae.hierarchy.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.MLU">MLU</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.N">N</a></span>).<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="ModelTypedStore.ml_type" class="id"><a name="ModelTypedStore.ml_type" class="">ml_type</a></span> <span class="id">:=</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.MLU">MLU</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_'Type'">:</a></span> <span class="gallina-kwd">Type</span>).<br/>
<br/>
<span class="vernacular">Record</span> <span id="ModelTypedStore.binding" class="id"><a name="ModelTypedStore.binding" class="">binding</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">mkbind</span> <span class="id">{</span> <span id="ModelTypedStore.bind_type" class="id"><a name="ModelTypedStore.bind_type" class="">bind_type</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ml_type">ml_type;</a></span> <span id="ModelTypedStore.bind_val" class="id"><a name="ModelTypedStore.bind_val" class="">bind_val</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#bind_type:660">bind_type</a></span> <span class="id">}</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ModelTypedStore.acto" class="id"><a name="ModelTypedStore.acto" class="">acto</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.binding">binding</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#option_monad">option_monad]</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="ModelTypedStore.M" class="id"><a name="ModelTypedStore.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.acto">acto</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ModelTypedStore.def" class="id"><a name="ModelTypedStore.def" class="">def</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.binding">binding</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.mkbind">mkbind</a></span> (<span class="id"><a href="monae.hierarchy.html#val_nonempty">val_nonempty</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.N">N</a></span>).<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="ModelTypedStore.nth_error" class="id"><a name="ModelTypedStore.nth_error" class="">nth_error</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#nth_error">List.nth_error</a></span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="ModelTypedStore.loc" class="id"><a name="ModelTypedStore.loc" class="">loc</a></span> <span class="id">:=</span> (@<span class="id"><a href="monae.hierarchy.html#loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ml_type">ml_type</a></span> <span class="id"><a href="monae.monad_model.html#locT_nat">locT_nat</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore.ModelTypedStore.cnew" class="id"><a name="ModelTypedStore.ModelTypedStore.cnew" class="">cnew</a></span> <span id="T:662" class="id"><a name="T:662" class="">T</a></span> (<span id="v:663" class="id"><a name="v:663" class="">v</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:662">T</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:662">T</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="st:664" class="id"><a name="st:664" class="">st</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">let</span> <span id="n:665" class="id"><a name="n:665" class="">n</a></span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id"><a href="monae.monad_model.html#st:664">st</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.hierarchy.html#mkloc">mkloc</a></span> <span class="id"><a href="monae.monad_model.html#T:662">T</a></span> <span class="id"><a href="monae.monad_model.html#n:665">n,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#rcons">rcons</a></span> <span class="id"><a href="monae.monad_model.html#st:664">st</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.mkbind">mkbind</a></span> (<span class="id"><a href="monae.monad_model.html#v:663">v</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:662">T</a></span>))).<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore.ModelTypedStore.cget" class="id"><a name="ModelTypedStore.ModelTypedStore.cget" class="">cget</a></span> <span id="T:666" class="id"><a name="T:666" class="">T</a></span> (<span id="r:667" class="id"><a name="r:667" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:666">T</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:666">T</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="st:668" class="id"><a name="st:668" class="">st</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.nth_error">nth_error</a></span> <span class="id"><a href="monae.monad_model.html#st:668">st</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r:667">r</a></span>) <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.mkbind">mkbind</a></span> <span class="id">T'</span> <span class="id">v</span>) <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.monae_lib.html#coerce">coerce</a></span> <span class="id"><a href="monae.monad_model.html#T:666">T</a></span> <span class="id">v</span> <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">u</span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id">u,</span> <span class="id"><a href="monae.monad_model.html#st:668">st</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore.ModelTypedStore.cput" class="id"><a name="ModelTypedStore.ModelTypedStore.cput" class="">cput</a></span> <span id="T:669" class="id"><a name="T:669" class="">T</a></span> (<span id="r:670" class="id"><a name="r:670" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:669">T</a></span>) (<span id="v:671" class="id"><a name="v:671" class="">v</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:669">T</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="st:672" class="id"><a name="st:672" class="">st</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="n:673" class="id"><a name="n:673" class="">n</a></span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r:670">r</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.nth_error">nth_error</a></span> <span class="id"><a href="monae.monad_model.html#st:672">st</a></span> <span class="id"><a href="monae.monad_model.html#n:673">n</a></span> <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.mkbind">mkbind</a></span> <span class="id">T'</span> <span class="id">_</span>) <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.monae_lib.html#coerce">coerce</a></span> <span class="id">T'</span> <span class="id"><a href="monae.monad_model.html#v:671">v</a></span> <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">u</span> <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#set_nth">set_nth</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.def">def</a></span> <span class="id"><a href="monae.monad_model.html#st:672">st</a></span> <span class="id"><a href="monae.monad_model.html#n:673">n</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.mkbind">mkbind</a></span> (<span class="id">u</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id">_</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore.ModelTypedStore.crun" class="id"><a name="ModelTypedStore.ModelTypedStore.crun" class="">crun</a></span> (<span id="A:674" class="id"><a name="A:674" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:675" class="id"><a name="m:675" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:674">A</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="monae.monad_model.html#A:674">A</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="monae.monad_model.html#m:675">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> (<span class="id">a,</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">a</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ModelTypedStore.Env" class="id"><a name="ModelTypedStore.Env" class="">Env</a></span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.binding">binding</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ModelTypedStore.fresh_loc" class="id"><a name="ModelTypedStore.fresh_loc" class="">fresh_loc</a></span> (<span id="T:676" class="id"><a name="T:676" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ml_type">ml_type</a></span>) (<span id="e:677" class="id"><a name="e:677" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.Env">Env</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#mkloc">mkloc</a></span> <span class="id"><a href="monae.monad_model.html#T:676">T</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id"><a href="monae.monad_model.html#e:677">e</a></span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="ModelTypedStore.ModelTypedStore.mkbind" class="id"><a name="ModelTypedStore.ModelTypedStore.mkbind" class="">mkbind</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ModelTypedStore.extend_env" class="id"><a name="ModelTypedStore.extend_env" class="">extend_env</a></span> <span id="T:678" class="id"><a name="T:678" class="">T</a></span> (<span id="v:679" class="id"><a name="v:679" class="">v</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:678">T</a></span>) (<span id="e:680" class="id"><a name="e:680" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.Env">Env</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#rcons">rcons</a></span> <span class="id"><a href="monae.monad_model.html#e:680">e</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.mkbind">mkbind</a></span> <span class="id"><a href="monae.monad_model.html#v:679">v</a></span>).<br/>
<br/>
<span class="vernacular">Variant</span> <span id="ModelTypedStore.nth_error_spec" class="id"><a name="ModelTypedStore.nth_error_spec" class="">nth_error_spec</a></span> (<span id="T:681" class="id"><a name="T:681" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ml_type">ml_type</a></span>) (<span id="e:682" class="id"><a name="e:682" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.Env">Env</a></span>) (<span id="r:683" class="id"><a name="r:683" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:681">T</a></span>) <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ModelTypedStore.NthError" class="id"><a name="ModelTypedStore.NthError" class="">NthError</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:686" class="id"><a name="s:686" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:681">T,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nth_error">nth_error</a></span> <span class="id"><a href="monae.monad_model.html#e:682">e</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r:683">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.mkbind">mkbind</a></span> <span class="id"><a href="monae.monad_model.html#s:686">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#nth_error_spec:684">nth_error_spec</a></span> <span class="id"><a href="monae.monad_model.html#e:682">e</a></span> <span class="id"><a href="monae.monad_model.html#r:683">r</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ModelTypedStore.NthError_nocoerce" class="id"><a name="ModelTypedStore.NthError_nocoerce" class="">NthError_nocoerce</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="T':687" class="id"><a name="T':687" class="">T'</a></span> (<span id="s':688" class="id"><a name="s':688" class="">s'</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T':687">T'</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nth_error">nth_error</a></span> <span class="id"><a href="monae.monad_model.html#e:682">e</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r:683">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.mkbind">mkbind</a></span> <span class="id"><a href="monae.monad_model.html#s':688">s'</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351">~~</a></span> <span class="id"><a href="monae.monae_lib.html#coercible">coercible</a></span> <span class="id"><a href="monae.monad_model.html#T:681">T</a></span> <span class="id"><a href="monae.monad_model.html#s':688">s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#nth_error_spec:684">nth_error_spec</a></span> <span class="id"><a href="monae.monad_model.html#e:682">e</a></span> <span class="id"><a href="monae.monad_model.html#r:683">r</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ModelTypedStore.NthError_None" class="id"><a name="ModelTypedStore.NthError_None" class="">NthError_None</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.nth_error">nth_error</a></span> <span class="id"><a href="monae.monad_model.html#e:682">e</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r:683">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#nth_error_spec:684">nth_error_spec</a></span> <span class="id"><a href="monae.monad_model.html#e:682">e</a></span> <span class="id"><a href="monae.monad_model.html#r:683">r</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="ModelTypedStore.ntherrorP" class="id"><a name="ModelTypedStore.ntherrorP" class="">ntherrorP</a></span> (<span id="T:689" class="id"><a name="T:689" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ml_type">ml_type</a></span>) (<span id="e:690" class="id"><a name="e:690" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.Env">Env</a></span>) (<span id="r:691" class="id"><a name="r:691" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:689">T</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.nth_error_spec">nth_error_spec</a></span> <span class="id"><a href="monae.monad_model.html#e:690">e</a></span> <span class="id"><a href="monae.monad_model.html#r:691">r</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof190')">Proof.</span></div>
<div class="proofscript" id="proof190">
<span class="id">case</span> <span class="id">H</span> <span class="id">:</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nth_error">nth_error</a></span> <span class="id">e</span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r</span>)) <span class="id">=&gt;</span> <span class="id">[[T'</span> <span class="id">s']|]</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[Ts'|Ts']</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id"><a href="monae.monae_lib.html#coercible">coercible</a></span> <span class="id">T</span> <span class="id">s'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">?</span> <span class="id">:=</span> <span class="id"><a href="monae.monae_lib.html#coercible_eq">coercible_eq</a></span> <span class="id">Ts';</span> <span class="id">subst</span> <span class="id">T'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.NthError">NthError</a></span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.NthError_nocoerce">NthError_nocoerce</a></span> <span class="id">H</span> <span class="id">Ts'</span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.NthError_None">NthError_None</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ModelTypedStore.bind_cnew" class="id"><a name="ModelTypedStore.bind_cnew" class="">bind_cnew</a></span> <span id="T:692" class="id"><a name="T:692" class="">T</a></span> (<span id="s:693" class="id"><a name="s:693" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:692">T</a></span>) <span id="A:694" class="id"><a name="A:694" class="">A</a></span> (<span id="k:695" class="id"><a name="k:695" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:692">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:694">A</a></span>) <span id="e:696" class="id"><a name="e:696" class="">e</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cnew">cnew</a></span> <span class="id"><a href="monae.monad_model.html#s:693">s</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:695">k</a></span>) <span class="id"><a href="monae.monad_model.html#e:696">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#k:695">k</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.fresh_loc">fresh_loc</a></span> <span class="id"><a href="monae.monad_model.html#T:692">T</a></span> <span class="id"><a href="monae.monad_model.html#e:696">e</a></span>) (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.extend_env">extend_env</a></span> <span class="id"><a href="monae.monad_model.html#s:693">s</a></span> <span class="id"><a href="monae.monad_model.html#e:696">e</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof191')">Proof.</span></div>
<div class="proofscript" id="proof191">
 <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">e</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ModelTypedStore.Some_cget" class="id"><a name="ModelTypedStore.Some_cget" class="">Some_cget</a></span> <span id="T:697" class="id"><a name="T:697" class="">T</a></span> (<span id="r:698" class="id"><a name="r:698" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:697">T</a></span>) (<span id="s:699" class="id"><a name="s:699" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:697">T</a></span>) <span id="e:700" class="id"><a name="e:700" class="">e</a></span> (<span id="A:701" class="id"><a name="A:701" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:702" class="id"><a name="f:702" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:697">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:701">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nth_error">nth_error</a></span> <span class="id"><a href="monae.monad_model.html#e:700">e</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r:698">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.mkbind">mkbind</a></span> <span class="id"><a href="monae.monad_model.html#s:699">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r:698">r</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#f:702">f</a></span>) <span class="id"><a href="monae.monad_model.html#e:700">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#f:702">f</a></span> <span class="id"><a href="monae.monad_model.html#s:699">s</a></span> <span class="id"><a href="monae.monad_model.html#e:700">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof192')">Proof.</span></div>
<div class="proofscript" id="proof192">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">H;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id">/cget</span> <span class="id">H</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span>. Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">{T</span> <span class="id">r}</span> <span class="id">s</span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore.ModelTypedStore.mkbind.cnewget" class="id"><a name="ModelTypedStore.ModelTypedStore.mkbind.cnewget" class="">cnewget</a></span> <span id="T:703" class="id"><a name="T:703" class="">T</a></span> (<span id="s:704" class="id"><a name="s:704" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:703">T</a></span>) <span id="A:705" class="id"><a name="A:705" class="">A</a></span> (<span id="k:706" class="id"><a name="k:706" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:703">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:703">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:705">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cnew">cnew</a></span> <span class="id"><a href="monae.monad_model.html#s:704">s</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="r:707" class="id"><a name="r:707" class="">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r:707">r</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:706">k</a></span> <span class="id"><a href="monae.monad_model.html#r:707">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cnew">cnew</a></span> <span class="id"><a href="monae.monad_model.html#s:704">s</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="r:708" class="id"><a name="r:708" class="">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:706">k</a></span> <span class="id"><a href="monae.monad_model.html#r:708">r</a></span> <span class="id"><a href="monae.monad_model.html#s:704">s</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof193')">Proof.</span></div>
<div class="proofscript" id="proof193">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.bind_cnew">bind_cnew</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">s</span>)<span class="id">//</span> <span class="id"><a href="monae.monae_lib.html#nth_error_rcons_size">nth_error_rcons_size</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore.ModelTypedStore.mkbind.cnewput" class="id"><a name="ModelTypedStore.ModelTypedStore.mkbind.cnewput" class="">cnewput</a></span> <span id="T:709" class="id"><a name="T:709" class="">T</a></span> (<span id="s:710" class="id"><a name="s:710" class="">s</a></span> <span id="t:711" class="id"><a name="t:711" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:709">T</a></span>) <span id="A:712" class="id"><a name="A:712" class="">A</a></span> (<span id="k:713" class="id"><a name="k:713" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:709">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:712">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cnew">cnew</a></span> <span class="id"><a href="monae.monad_model.html#s:710">s</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="r:714" class="id"><a name="r:714" class="">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r:714">r</a></span> <span class="id"><a href="monae.monad_model.html#t:711">t</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#k:713">k</a></span> <span class="id"><a href="monae.monad_model.html#r:714">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cnew">cnew</a></span> <span class="id"><a href="monae.monad_model.html#t:711">t</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:713">k</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof194')">Proof.</span></div>
<div class="proofscript" id="proof194">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.bind_cnew">bind_cnew</a></span> <span class="id">2!MS_bindE</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/cput/=</span> <span class="id"><a href="monae.monae_lib.html#nth_error_rcons_size">nth_error_rcons_size</a></span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span> <span class="id"><a href="monae.monae_lib.html#set_nth_rcons">set_nth_rcons</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ModelTypedStore.nocoerce_cget" class="id"><a name="ModelTypedStore.nocoerce_cget" class="">nocoerce_cget</a></span> <span id="T:715" class="id"><a name="T:715" class="">T</a></span> (<span id="r:716" class="id"><a name="r:716" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:715">T</a></span>) <span id="T':717" class="id"><a name="T':717" class="">T'</a></span> (<span id="s':718" class="id"><a name="s':718" class="">s'</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T':717">T'</a></span>) <span id="e:719" class="id"><a name="e:719" class="">e</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nth_error">nth_error</a></span> <span class="id"><a href="monae.monad_model.html#e:719">e</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r:716">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.mkbind">mkbind</a></span> <span class="id"><a href="monae.monad_model.html#s':718">s'</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351">~~</a></span> <span class="id"><a href="monae.monae_lib.html#coercible">coercible</a></span> <span class="id"><a href="monae.monad_model.html#T:715">T</a></span> <span class="id"><a href="monae.monad_model.html#s':718">s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r:716">r</a></span> <span class="id"><a href="monae.monad_model.html#e:719">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof195')">Proof.</span></div>
<div class="proofscript" id="proof195">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">H</span> <span class="id">Ts';</span> <span class="id">rewrite</span> <span class="id">/cget</span> <span class="id">H</span> <span class="id"><a href="monae.monae_lib.html#not_coercible">not_coercible</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ModelTypedStore.nocoerce_cput" class="id"><a name="ModelTypedStore.nocoerce_cput" class="">nocoerce_cput</a></span> <span id="T:720" class="id"><a name="T:720" class="">T</a></span> (<span id="r:721" class="id"><a name="r:721" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:720">T</a></span>) (<span id="s:722" class="id"><a name="s:722" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:720">T</a></span>) (<span id="T':723" class="id"><a name="T':723" class="">T'</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ml_type">ml_type</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="s':724" class="id"><a name="s':724" class="">s'</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T':723">T'</a></span>) <span id="e:725" class="id"><a name="e:725" class="">e</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nth_error">nth_error</a></span> <span class="id"><a href="monae.monad_model.html#e:725">e</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r:721">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.mkbind">mkbind</a></span> <span class="id"><a href="monae.monad_model.html#s':724">s'</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351">~~</a></span> <span class="id"><a href="monae.monae_lib.html#coercible">coercible</a></span> <span class="id"><a href="monae.monad_model.html#T:720">T</a></span> <span class="id"><a href="monae.monad_model.html#s':724">s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r:721">r</a></span> <span class="id"><a href="monae.monad_model.html#s:722">s</a></span> <span class="id"><a href="monae.monad_model.html#e:725">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof196')">Proof.</span></div>
<div class="proofscript" id="proof196">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">H</span> <span class="id">Ts';</span> <span class="id">rewrite</span> <span class="id">/cput</span> <span class="id">H</span> <span class="id"><a href="monae.monae_lib.html#not_coercible">not_coercible//</a></span> (<span class="id"><a href="monae.monae_lib.html#coercible_sym">coercible_sym</a></span> <span class="id">_</span> <span class="id">s'</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ModelTypedStore.None_cget" class="id"><a name="ModelTypedStore.None_cget" class="">None_cget</a></span> <span id="T:726" class="id"><a name="T:726" class="">T</a></span> (<span id="r:727" class="id"><a name="r:727" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:726">T</a></span>) <span id="e:728" class="id"><a name="e:728" class="">e</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nth_error">nth_error</a></span> <span class="id"><a href="monae.monad_model.html#e:728">e</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r:727">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r:727">r</a></span> <span class="id"><a href="monae.monad_model.html#e:728">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof197')">Proof.</span></div>
<div class="proofscript" id="proof197">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">H;</span> <span class="id">rewrite</span> <span class="id">/cget</span> <span class="id">H</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ModelTypedStore.None_cput" class="id"><a name="ModelTypedStore.None_cput" class="">None_cput</a></span> <span id="T:729" class="id"><a name="T:729" class="">T</a></span> (<span id="r:730" class="id"><a name="r:730" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:729">T</a></span>) (<span id="s:731" class="id"><a name="s:731" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:729">T</a></span>) <span id="e:732" class="id"><a name="e:732" class="">e</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nth_error">nth_error</a></span> <span class="id"><a href="monae.monad_model.html#e:732">e</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r:730">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r:730">r</a></span> <span class="id"><a href="monae.monad_model.html#s:731">s</a></span> <span class="id"><a href="monae.monad_model.html#e:732">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof198')">Proof.</span></div>
<div class="proofscript" id="proof198">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">H;</span> <span class="id">rewrite</span> <span class="id">/cput</span> <span class="id">H</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="ModelTypedStore.cgetput" class="id"><a name="ModelTypedStore.cgetput" class="">cgetput</a></span> <span id="T:733" class="id"><a name="T:733" class="">T</a></span> (<span id="r:734" class="id"><a name="r:734" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:733">T</a></span>) (<span id="s:735" class="id"><a name="s:735" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:733">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r:734">r</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r:734">r</a></span> <span class="id"><a href="monae.monad_model.html#s:735">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r:734">r</a></span> <span class="id"><a href="monae.monad_model.html#s:735">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof199')">Proof.</span></div>
<div class="proofscript" id="proof199">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span>.<br/>
<span class="id">have</span> <span class="id">[s'</span> <span class="id">H|T'</span> <span class="id">s'</span> <span class="id">H</span> <span class="id">Ts'|H]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">s'</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cget">nocoerce_cget</a></span> <span class="id">H</span>)<span class="id">//</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">H</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cget">None_cget//</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cput">None_cput</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ModelTypedStore.Some_cput" class="id"><a name="ModelTypedStore.Some_cput" class="">Some_cput</a></span> <span id="T:736" class="id"><a name="T:736" class="">T</a></span> (<span id="r:737" class="id"><a name="r:737" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:736">T</a></span>) (<span id="s:738" class="id"><a name="s:738" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:736">T</a></span>) <span id="e:739" class="id"><a name="e:739" class="">e</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nth_error">nth_error</a></span> <span class="id"><a href="monae.monad_model.html#e:739">e</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r:737">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.mkbind">mkbind</a></span> <span class="id"><a href="monae.monad_model.html#s:738">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r:737">r</a></span> <span class="id"><a href="monae.monad_model.html#s:738">s</a></span> <span class="id"><a href="monae.monad_model.html#e:739">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (@<span class="id"><a href="monae.hierarchy.html#skip">skip</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span>) <span class="id"><a href="monae.monad_model.html#e:739">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof200')">Proof.</span></div>
<div class="proofscript" id="proof200">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">H;</span> <span class="id">rewrite</span> <span class="id">/cput/=</span> <span class="id">H</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some/=</a></span> <span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_id">nth_error_set_nth_id</a></span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore.ModelTypedStore.mkbind.cgetputskip" class="id"><a name="ModelTypedStore.ModelTypedStore.mkbind.cgetputskip" class="">cgetputskip</a></span> <span id="T:740" class="id"><a name="T:740" class="">T</a></span> (<span id="r:741" class="id"><a name="r:741" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:740">T</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r:741">r</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r:741">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r:741">r</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#skip">skip</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof201')">Proof.</span></div>
<div class="proofscript" id="proof201">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">/=</span>.<br/>
<span class="id">have</span> <span class="id">[s'</span> <span class="id">H|T'</span> <span class="id">s'</span> <span class="id">H</span> <span class="id">Ts'|H]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">s'</span>)<span class="id">//</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">s'</span>)<span class="id">//</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cput">Some_cput</a></span> <span class="id">H</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cget">nocoerce_cget</a></span> <span class="id">H</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cget">None_cget</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore.ModelTypedStore.mkbind.cgetget" class="id"><a name="ModelTypedStore.ModelTypedStore.mkbind.cgetget" class="">cgetget</a></span> <span id="T:742" class="id"><a name="T:742" class="">T</a></span> (<span id="r:743" class="id"><a name="r:743" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:742">T</a></span>) (<span id="A:744" class="id"><a name="A:744" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:745" class="id"><a name="k:745" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:742">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:742">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:744">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r:743">r</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="s:746" class="id"><a name="s:746" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r:743">r</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:745">k</a></span> <span class="id"><a href="monae.monad_model.html#s:746">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r:743">r</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="s:747" class="id"><a name="s:747" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:745">k</a></span> <span class="id"><a href="monae.monad_model.html#s:747">s</a></span> <span class="id"><a href="monae.monad_model.html#s:747">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof202')">Proof.</span></div>
<div class="proofscript" id="proof202">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">/=</span>.<br/>
<span class="id">have</span> <span class="id">[s'</span> <span class="id">H|T'</span> <span class="id">s'</span> <span class="id">H</span> <span class="id">Ts'|H]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">do</span> <span class="id">3</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">s'</span>)<span class="id">//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cget">nocoerce_cget</a></span> <span class="id">H</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cget">None_cget</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ModelTypedStore.Some_cputE" class="id"><a name="ModelTypedStore.Some_cputE" class="">Some_cputE</a></span> <span id="T:748" class="id"><a name="T:748" class="">T</a></span> (<span id="r:749" class="id"><a name="r:749" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:748">T</a></span>) (<span id="s:750" class="id"><a name="s:750" class="">s</a></span> <span id="s':751" class="id"><a name="s':751" class="">s'</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:748">T</a></span>) <span id="e:752" class="id"><a name="e:752" class="">e</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nth_error">nth_error</a></span> <span class="id"><a href="monae.monad_model.html#e:752">e</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r:749">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.mkbind">mkbind</a></span> <span class="id"><a href="monae.monad_model.html#s':751">s'</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r:749">r</a></span> <span class="id"><a href="monae.monad_model.html#s:750">s</a></span> <span class="id"><a href="monae.monad_model.html#e:752">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#set_nth">set_nth</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.def">def</a></span> <span class="id"><a href="monae.monad_model.html#e:752">e</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r:749">r</a></span>) (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.mkbind">mkbind</a></span> <span class="id"><a href="monae.monad_model.html#s:750">s</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof203')">Proof.</span></div>
<div class="proofscript" id="proof203">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">H;</span> <span class="id">rewrite</span> <span class="id">/cput/=</span> <span class="id">H</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ModelTypedStore.Some_cputget" class="id"><a name="ModelTypedStore.Some_cputget" class="">Some_cputget</a></span> <span id="T:753" class="id"><a name="T:753" class="">T</a></span> (<span id="s':754" class="id"><a name="s':754" class="">s'</a></span> <span id="s:755" class="id"><a name="s:755" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:753">T</a></span>) (<span id="r:756" class="id"><a name="r:756" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:753">T</a></span>) <span id="A:757" class="id"><a name="A:757" class="">A</a></span> (<span id="k:758" class="id"><a name="k:758" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:753">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:757">A</a></span>)<br/>
&nbsp;&nbsp;(<span id="e:759" class="id"><a name="e:759" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.Env">Env</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nth_error">nth_error</a></span> <span class="id"><a href="monae.monad_model.html#e:759">e</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r:756">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.mkbind">mkbind</a></span> <span class="id"><a href="monae.monad_model.html#s':754">s'</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r:756">r</a></span> <span class="id"><a href="monae.monad_model.html#s:755">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r:756">r</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:758">k</a></span>)) <span class="id"><a href="monae.monad_model.html#e:759">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r:756">r</a></span> <span class="id"><a href="monae.monad_model.html#s:755">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#k:758">k</a></span> <span class="id"><a href="monae.monad_model.html#s:755">s</a></span>) <span class="id"><a href="monae.monad_model.html#e:759">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof204')">Proof.</span></div>
<div class="proofscript" id="proof204">
<span class="id">move=&gt;</span> <span class="id">H</span>.<br/>
<span class="id">rewrite</span> <span class="id">2!MS_bindE</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">H</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE/=</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">s</span>)<span class="id">//</span> <span class="id"><a href="monae.monae_lib.html#nth_error_set_nth">nth_error_set_nth</a></span>.<br/>
Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cputget">Some_cputget</a></span> <span class="id">{T}</span> <span class="id">s'</span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore.ModelTypedStore.mkbind.cputget" class="id"><a name="ModelTypedStore.ModelTypedStore.mkbind.cputget" class="">cputget</a></span> <span id="T:760" class="id"><a name="T:760" class="">T</a></span> (<span id="r:761" class="id"><a name="r:761" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:760">T</a></span>) (<span id="s:762" class="id"><a name="s:762" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:760">T</a></span>) (<span id="A:763" class="id"><a name="A:763" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:764" class="id"><a name="k:764" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:760">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:763">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r:761">r</a></span> <span class="id"><a href="monae.monad_model.html#s:762">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r:761">r</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:764">k</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r:761">r</a></span> <span class="id"><a href="monae.monad_model.html#s:762">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#k:764">k</a></span> <span class="id"><a href="monae.monad_model.html#s:762">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof205')">Proof.</span></div>
<div class="proofscript" id="proof205">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">/=</span>.<br/>
<span class="id">have</span> <span class="id">[s'</span> <span class="id">H|T'</span> <span class="id">s'</span> <span class="id">H</span> <span class="id">Ts'|H]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cputget">Some_cputget</a></span> <span class="id">s'</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">H</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">2!MS_bindE</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cput">None_cput</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ModelTypedStore.Some_cputput" class="id"><a name="ModelTypedStore.Some_cputput" class="">Some_cputput</a></span> (<span id="T:765" class="id"><a name="T:765" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ml_type">ml_type</a></span>) (<span id="r:766" class="id"><a name="r:766" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:765">T</a></span>) (<span id="s:767" class="id"><a name="s:767" class="">s</a></span> <span id="s':768" class="id"><a name="s':768" class="">s'</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:765">T</a></span>)<br/>
&nbsp;&nbsp;(<span id="e:769" class="id"><a name="e:769" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.Env">Env</a></span>) (<span id="s'':770" class="id"><a name="s'':770" class="">s''</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:765">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nth_error">nth_error</a></span> <span class="id"><a href="monae.monad_model.html#e:769">e</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r:766">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.mkbind">mkbind</a></span> <span class="id"><a href="monae.monad_model.html#s'':770">s''</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r:766">r</a></span> <span class="id"><a href="monae.monad_model.html#s:767">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r:766">r</a></span> <span class="id"><a href="monae.monad_model.html#s':768">s'</a></span>) <span class="id"><a href="monae.monad_model.html#e:769">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r:766">r</a></span> <span class="id"><a href="monae.monad_model.html#s':768">s'</a></span> <span class="id"><a href="monae.monad_model.html#e:769">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof206')">Proof.</span></div>
<div class="proofscript" id="proof206">
<span class="id">move=&gt;</span> <span class="id">H</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE/=</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]</a></span>(<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">H</span>)<span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">H</span>)<span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE/=</a></span> <span class="id">/cput</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#nth_error_set_nth">nth_error_set_nth</a></span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some/=</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#set_set_nth">set_set_nth</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore.ModelTypedStore.mkbind.cputput" class="id"><a name="ModelTypedStore.ModelTypedStore.mkbind.cputput" class="">cputput</a></span> <span id="T:771" class="id"><a name="T:771" class="">T</a></span> (<span id="r:772" class="id"><a name="r:772" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:771">T</a></span>) (<span id="s:773" class="id"><a name="s:773" class="">s</a></span> <span id="s':774" class="id"><a name="s':774" class="">s'</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:771">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r:772">r</a></span> <span class="id"><a href="monae.monad_model.html#s:773">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r:772">r</a></span> <span class="id"><a href="monae.monad_model.html#s':774">s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r:772">r</a></span> <span class="id"><a href="monae.monad_model.html#s':774">s'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof207')">Proof.</span></div>
<div class="proofscript" id="proof207">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span>.<br/>
<span class="id">have</span> <span class="id">[s''</span> <span class="id">H|T''</span> <span class="id">s''</span> <span class="id">H</span> <span class="id">Ts''|H]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cputput">Some_cputput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">H</span>)<span class="id">//</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">H</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id">!None_cput</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore.ModelTypedStore.mkbind.cgetC" class="id"><a name="ModelTypedStore.ModelTypedStore.mkbind.cgetC" class="">cgetC</a></span> <span id="T1:775" class="id"><a name="T1:775" class="">T1</a></span> <span id="T2:776" class="id"><a name="T2:776" class="">T2</a></span> (<span id="r1:777" class="id"><a name="r1:777" class="">r1</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T1:775">T1</a></span>) (<span id="r2:778" class="id"><a name="r2:778" class="">r2</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T2:776">T2</a></span>) (<span id="A:779" class="id"><a name="A:779" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:780" class="id"><a name="k:780" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T1:775">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T2:776">T2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:779">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r1:777">r1</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="u:781" class="id"><a name="u:781" class="">u</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r2:778">r2</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="v:782" class="id"><a name="v:782" class="">v</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:780">k</a></span> <span class="id"><a href="monae.monad_model.html#u:781">u</a></span> <span class="id"><a href="monae.monad_model.html#v:782">v</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r2:778">r2</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="v:783" class="id"><a name="v:783" class="">v</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r1:777">r1</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="u:784" class="id"><a name="u:784" class="">u</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:780">k</a></span> <span class="id"><a href="monae.monad_model.html#u:784">u</a></span> <span class="id"><a href="monae.monad_model.html#v:783">v</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof208')">Proof.</span></div>
<div class="proofscript" id="proof208">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">/=</span>.<br/>
<span class="id">have</span> <span class="id">[u</span> <span class="id">Hr1|u</span> <span class="id">T1'</span> <span class="id">Hr1</span> <span class="id">T1u|Hr1]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r1</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">u</span>)<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[v</span> <span class="id">Hr2|v</span> <span class="id">T2'</span> <span class="id">Hr2</span> <span class="id">T2v|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">v</span>)<span class="id">//</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">v</span>)<span class="id">//</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">u</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">2!MS_bindE</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cget">nocoerce_cget</a></span> <span class="id">Hr2</span>)<span class="id">//</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cget">None_cget</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cget">nocoerce_cget</a></span> <span class="id">Hr1</span>)<span class="id">//</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[v</span> <span class="id">Hr2|v</span> <span class="id">T2'</span> <span class="id">Hr2</span> <span class="id">T2v|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">v</span>)<span class="id">//</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cget">nocoerce_cget</a></span> <span class="id">Hr1</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cget">nocoerce_cget</a></span> <span class="id">Hr2</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cget">None_cget</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cget">None_cget//</a></span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[v</span> <span class="id">Hr2|v</span> <span class="id">T2'</span> <span class="id">Hr2</span> <span class="id">T2v|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">v</span>)<span class="id">//</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cget">None_cget</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cget">nocoerce_cget</a></span> <span class="id">Hr2</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id">!None_cget</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore.ModelTypedStore.mkbind.cnewgetD_helper" class="id"><a name="ModelTypedStore.ModelTypedStore.mkbind.cnewgetD_helper" class="">cnewgetD_helper</a></span> <span id="e:785" class="id"><a name="e:785" class="">e</a></span> <span id="T:786" class="id"><a name="T:786" class="">T</a></span> <span id="T':787" class="id"><a name="T':787" class="">T'</a></span> <span id="r:788" class="id"><a name="r:788" class="">r</a></span> <span id="v:789" class="id"><a name="v:789" class="">v</a></span> (<span id="s:790" class="id"><a name="s:790" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T':787">T'</a></span>) <span id="A:791" class="id"><a name="A:791" class="">A</a></span> (<span id="k:792" class="id"><a name="k:792" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T':787">T'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:786">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:791">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nth_error">nth_error</a></span> <span class="id"><a href="monae.monad_model.html#e:785">e</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r:788">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.mkbind">mkbind</a></span> <span class="id"><a href="monae.monad_model.html#v:789">v</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cnew">cnew</a></span> <span class="id"><a href="monae.monad_model.html#s:790">s</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="r':793" class="id"><a name="r':793" class="">r'</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r:788">r</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:792">k</a></span> <span class="id"><a href="monae.monad_model.html#r':793">r'</a></span>)) <span class="id"><a href="monae.monad_model.html#e:785">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cnew">cnew</a></span> <span class="id"><a href="monae.monad_model.html#s:790">s</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="r:794" class="id"><a name="r:794" class="">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:792">k</a></span> <span class="id"><a href="monae.monad_model.html#r:794">r</a></span> <span class="id"><a href="monae.monad_model.html#v:789">v</a></span>)) <span class="id"><a href="monae.monad_model.html#e:785">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof209')">Proof.</span></div>
<div class="proofscript" id="proof209">
<span class="id">move=&gt;</span> <span class="id">H</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.bind_cnew">bind_cnew//</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">v</span>) <span class="id">//</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_rcons_some">nth_error_rcons_some</a></span> <span class="id">_</span> <span class="id">H</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore.ModelTypedStore.mkbind.cgetnewD" class="id"><a name="ModelTypedStore.ModelTypedStore.mkbind.cgetnewD" class="">cgetnewD</a></span> <span id="T:795" class="id"><a name="T:795" class="">T</a></span> <span id="T':796" class="id"><a name="T':796" class="">T'</a></span> (<span id="r:797" class="id"><a name="r:797" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:795">T</a></span>) (<span id="s:798" class="id"><a name="s:798" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T':796">T'</a></span>) <span id="A:799" class="id"><a name="A:799" class="">A</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:800" class="id"><a name="k:800" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T':796">T'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:795">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:795">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:799">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r:797">r</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="u:801" class="id"><a name="u:801" class="">u</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cnew">cnew</a></span> <span class="id"><a href="monae.monad_model.html#s:798">s</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="r':802" class="id"><a name="r':802" class="">r'</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r:797">r</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:800">k</a></span> <span class="id"><a href="monae.monad_model.html#r':802">r'</a></span> <span class="id"><a href="monae.monad_model.html#u:801">u</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r:797">r</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="u:803" class="id"><a name="u:803" class="">u</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cnew">cnew</a></span> <span class="id"><a href="monae.monad_model.html#s:798">s</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="r':804" class="id"><a name="r':804" class="">r'</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:800">k</a></span> <span class="id"><a href="monae.monad_model.html#r':804">r'</a></span> <span class="id"><a href="monae.monad_model.html#u:803">u</a></span> <span class="id"><a href="monae.monad_model.html#u:803">u</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof210')">Proof.</span></div>
<div class="proofscript" id="proof210">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span>.<br/>
<span class="id">have</span> <span class="id">[u</span> <span class="id">Hr|u</span> <span class="id">T1</span> <span class="id">Hr</span> <span class="id">T1u|Hr]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">u</span>)<span class="id">//</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">u</span>)<span class="id">//</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.mkbind.cnewgetD_helper">cnewgetD_helper</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr</span>)<span class="id">//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cget">nocoerce_cget</a></span> <span class="id">Hr</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cget">None_cget</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore.ModelTypedStore.mkbind.cgetnewE" class="id"><a name="ModelTypedStore.ModelTypedStore.mkbind.cgetnewE" class="">cgetnewE</a></span> <span id="T1:805" class="id"><a name="T1:805" class="">T1</a></span> <span id="T2:806" class="id"><a name="T2:806" class="">T2</a></span> (<span id="r1:807" class="id"><a name="r1:807" class="">r1</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T1:805">T1</a></span>) (<span id="s:808" class="id"><a name="s:808" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T2:806">T2</a></span>) (<span id="A:809" class="id"><a name="A:809" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k1:810" class="id"><a name="k1:810" class="">k1</a></span> <span id="k2:811" class="id"><a name="k2:811" class="">k2</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T2:806">T2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:809">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="r2:812" class="id"><a name="r2:812" class="">r2</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T2:806">T2,</a></span> <span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r1:807">r1</a></span> <span class="id">!=</span> <span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r2:812">r2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#k1:810">k1</a></span> <span class="id"><a href="monae.monad_model.html#r2:812">r2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#k2:811">k2</a></span> <span class="id"><a href="monae.monad_model.html#r2:812">r2</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r1:807">r1</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cnew">cnew</a></span> <span class="id"><a href="monae.monad_model.html#s:808">s</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k1:810">k1</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r1:807">r1</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cnew">cnew</a></span> <span class="id"><a href="monae.monad_model.html#s:808">s</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k2:811">k2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof211')">Proof.</span></div>
<div class="proofscript" id="proof211">
<span class="id">move=&gt;</span> <span class="id">Hk</span>.<br/>
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span>.<br/>
<span class="id">have</span> <span class="id">[u</span> <span class="id">r1u|T'</span> <span class="id">s'</span> <span class="id">Hr1</span> <span class="id">T1s'|Hr]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r1</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">u</span>)<span class="id">//</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">u</span>)<span class="id">//</span> <span class="id">!bind_cnew</span> <span class="id">Hk//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#neq_ltn">neq_ltn</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">r1u</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">/nth_error_size</span> <span class="id">-&gt;</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cget">nocoerce_cget</a></span> <span class="id">Hr1</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cget">None_cget</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore.ModelTypedStore.mkbind.cgetputC" class="id"><a name="ModelTypedStore.ModelTypedStore.mkbind.cgetputC" class="">cgetputC</a></span> <span id="T1:813" class="id"><a name="T1:813" class="">T1</a></span> <span id="T2:814" class="id"><a name="T2:814" class="">T2</a></span> (<span id="r1:815" class="id"><a name="r1:815" class="">r1</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T1:813">T1</a></span>) (<span id="r2:816" class="id"><a name="r2:816" class="">r2</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T2:814">T2</a></span>) (<span id="s:817" class="id"><a name="s:817" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T2:814">T2</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r1:815">r1</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r2:816">r2</a></span> <span class="id"><a href="monae.monad_model.html#s:817">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r2:816">r2</a></span> <span class="id"><a href="monae.monad_model.html#s:817">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r1:815">r1</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#skip">skip</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof212')">Proof.</span></div>
<div class="proofscript" id="proof212">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">/=</span>.<br/>
<span class="id">have</span> <span class="id">[u</span> <span class="id">r1u|T1'</span> <span class="id">v1</span> <span class="id">Hr1</span> <span class="id">T1v1|Hr1]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r1</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">u</span>)<span class="id">//</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]bindA</a></span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[v</span> <span class="id">r2v|T'</span> <span class="id">v</span> <span class="id">r2v</span> <span class="id">T2v|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">r2v</span>) <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]bindE/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[r12|r12]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r1</span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">r2v;</span> <span class="id">rewrite</span> <span class="id">-r12</span> <span class="id">r1u</span> <span class="id">=&gt;</span> <span class="id">-[?]</span> <span class="id">_;</span> <span class="id">subst</span> <span class="id">T2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id">/cget</span> <span class="id"><a href="monae.monae_lib.html#nth_error_set_nth">nth_error_set_nth//</a></span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">u</span>)<span class="id">//</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_other">nth_error_set_nth_other</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">r12</span> <span class="id">r1u</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T2v</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cput">None_cput</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id">[RHS]MS_bindE</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[v</span> <span class="id">r2v|T'</span> <span class="id">v</span> <span class="id">r2v</span> <span class="id">T2v|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id">{1}/cget</span> <span class="id">Hr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[?|T1'T1]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">T1'</span> <span class="id">T1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">subst</span> <span class="id">T1';</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]bindE/=</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">r2v</span>) <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]bindE/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[Hr|Hr]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r1</span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">r2v;</span> <span class="id">rewrite</span> <span class="id">-Hr</span> <span class="id">Hr1</span> <span class="id">=&gt;</span> <span class="id">-[?]</span> <span class="id">_;</span> <span class="id">subst</span> <span class="id">T2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/cget</span> <span class="id"><a href="monae.monae_lib.html#nth_error_set_nth">nth_error_set_nth</a></span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/cget</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_other">nth_error_set_nth_other</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr</span> <span class="id">Hr1</span>) <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coerce_None">coerce_None//=</a></span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">r2v</span>) <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]bindE/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[r12|r12]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r1</span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">r2v;</span> <span class="id">rewrite</span> <span class="id">-r12</span> <span class="id">Hr1</span> <span class="id">=&gt;</span> <span class="id">-[?]</span> <span class="id">_;</span> <span class="id">subst</span> <span class="id">T1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/cget</span> <span class="id"><a href="monae.monae_lib.html#nth_error_set_nth">nth_error_set_nth</a></span> <span class="id"><a href="monae.monae_lib.html#coerce_None">coerce_None</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/cget</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_other">nth_error_set_nth_other</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">r12</span> <span class="id">Hr1</span>) <span class="id"><a href="monae.monae_lib.html#coerce_None">coerce_None</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cget">nocoerce_cget</a></span> <span class="id">_</span> <span class="id">T1v1</span>)<span class="id">//</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T2v</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cget">nocoerce_cget</a></span> <span class="id">_</span> <span class="id">T1v1</span>)<span class="id">//</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cput">None_cput//</a></span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cget">None_cget//</a></span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[v</span> <span class="id">r2v|T'</span> <span class="id">v</span> <span class="id">r2v</span> <span class="id">T2v|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">r2v</span>)<span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cget">None_cget/=</a></span> <span class="id">?bindfailf//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_none">nth_error_set_nth_none</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr1</span> <span class="id">r2v</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">r2v</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cput">None_cput</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ModelTypedStore.cput_then_fail" class="id"><a name="ModelTypedStore.cput_then_fail" class="">cput_then_fail</a></span> <span id="T1:818" class="id"><a name="T1:818" class="">T1</a></span> <span id="T2:819" class="id"><a name="T2:819" class="">T2</a></span> <span id="T1':820" class="id"><a name="T1':820" class="">T1'</a></span> <span id="e:821" class="id"><a name="e:821" class="">e</a></span> (<span id="s1':822" class="id"><a name="s1':822" class="">s1'</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T1':820">T1'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="r2:823" class="id"><a name="r2:823" class="">r2</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T2:819">T2</a></span>) (<span id="s2:824" class="id"><a name="s2:824" class="">s2</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T2:819">T2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="r1:825" class="id"><a name="r1:825" class="">r1</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T1:818">T1</a></span>) (<span id="s1:826" class="id"><a name="s1:826" class="">s1</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T1:818">T1</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nth_error">nth_error</a></span> <span class="id"><a href="monae.monad_model.html#e:821">e</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r1:825">r1</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.mkbind">mkbind</a></span> <span class="id"><a href="monae.monad_model.html#s1':822">s1'</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351">~~</a></span> <span class="id"><a href="monae.monae_lib.html#coercible">coercible</a></span> <span class="id"><a href="monae.monad_model.html#T1:818">T1</a></span> <span class="id"><a href="monae.monad_model.html#s1':822">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r2:823">r2</a></span> <span class="id"><a href="monae.monad_model.html#s2:824">s2</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r1:825">r1</a></span> <span class="id"><a href="monae.monad_model.html#s1:826">s1</a></span>) <span class="id"><a href="monae.monad_model.html#e:821">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof213')">Proof.</span></div>
<div class="proofscript" id="proof213">
<span class="id">move=&gt;</span> <span class="id">Hr1</span> <span class="id">T1s'</span>.<br/>
<span class="id">have</span> <span class="id">[v</span> <span class="id">Hr2|T2'</span> <span class="id">v</span> <span class="id">Hr2</span> <span class="id">T2v|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cput">None_cput</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T2v</span>).<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">Hr2</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE/=</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[Hr|Hr]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r1</span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r2</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id">{1}/cput</span> <span class="id">-Hr</span> <span class="id">/=</span> <span class="id"><a href="monae.monae_lib.html#nth_error_set_nth">nth_error_set_nth</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[HT|HT]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">T1</span> <span class="id">T2;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coerce_None">coerce_None</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">T2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some//=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">Hr1;</span> <span class="id">rewrite</span> <span class="id">Hr</span> <span class="id">Hr2</span> <span class="id">=&gt;</span> <span class="id">-[?];</span> <span class="id">subst</span> <span class="id">T1'</span> <span class="id">=&gt;</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coercible_Some">coercible_Some</a></span> <span class="id">//</span> <span class="gallina-kwd">in</span> <span class="id">T1s'</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T1s'</span>)<span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (@<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_other">nth_error_set_nth_other</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.mkbind">mkbind</a></span> <span class="id">s1'</span>)).<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore.ModelTypedStore.mkbind.cputC" class="id"><a name="ModelTypedStore.ModelTypedStore.mkbind.cputC" class="">cputC</a></span> <span id="T1:827" class="id"><a name="T1:827" class="">T1</a></span> <span id="T2:828" class="id"><a name="T2:828" class="">T2</a></span> (<span id="r1:829" class="id"><a name="r1:829" class="">r1</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T1:827">T1</a></span>) (<span id="r2:830" class="id"><a name="r2:830" class="">r2</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T2:828">T2</a></span>) (<span id="s1:831" class="id"><a name="s1:831" class="">s1</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T1:827">T1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="s2:832" class="id"><a name="s2:832" class="">s2</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T2:828">T2</a></span>) (<span id="A:833" class="id"><a name="A:833" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r1:829">r1</a></span> <span class="id">!=</span> <span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r2:830">r2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Logic.JMeq.html#JMeq">JMeq</a></span> <span class="id"><a href="monae.monad_model.html#s1:831">s1</a></span> <span class="id"><a href="monae.monad_model.html#s2:832">s2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r1:829">r1</a></span> <span class="id"><a href="monae.monad_model.html#s1:831">s1</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r2:830">r2</a></span> <span class="id"><a href="monae.monad_model.html#s2:832">s2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r2:830">r2</a></span> <span class="id"><a href="monae.monad_model.html#s2:832">s2</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r1:829">r1</a></span> <span class="id"><a href="monae.monad_model.html#s1:831">s1</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof214')">Proof.</span></div>
<div class="proofscript" id="proof214">
<span class="id">move=&gt;</span> <span class="id">H;</span> <span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">/=</span>.<br/>
<span class="id">have</span> <span class="id">[u</span> <span class="id">Hr1|T1'</span> <span class="id">s'd</span> <span class="id">Hr1</span> <span class="id">T1s'|Hr1]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r1;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cput">None_cput//</a></span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[v</span> <span class="id">Hr2|T2'</span> <span class="id">s'</span> <span class="id">Hr2</span> <span class="id">T2s'|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cput">None_cput</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T2s'</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">Hr2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cput">None_cput//</a></span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_none">nth_error_set_nth_none</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr1</span> <span class="id">Hr2</span>).<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T1s'</span>)<span class="id">//</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.cput_then_fail">cput_then_fail</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr1</span>).<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">Hr1</span>)<span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE/=</a></span>.<br/>
&nbsp;&nbsp;<span class="id">case/boolP:</span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r2</span>) <span class="id">H</span> <span class="id">=&gt;</span> <span class="id">[/eqP|]</span> <span class="id">Hr</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">{2}/cput</span> <span class="id">-Hr</span> <span class="id">Hr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case/boolP:</span> (<span class="id">T1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id">T2</span>) <span class="id">=&gt;</span> <span class="id">[/eqP</span> <span class="id">HT|HT];</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coerce_None">coerce_None//;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/cput/=</span> <span class="id">Hr</span> <span class="id"><a href="monae.monae_lib.html#nth_error_set_nth">nth_error_set_nth//</a></span> <span class="id"><a href="monae.monae_lib.html#coerce_None">coerce_None//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">T2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">?</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Logic.JMeq.html#JMeq_eq">JMeq_eq</a></span> <span class="id">H;</span> <span class="id">subst</span> <span class="id">s2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/cput</span> <span class="id">-Hr</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">move=&gt;</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[v</span> <span class="id">r2v|T2'</span> <span class="id">s</span> <span class="id">Hr2</span> <span class="id">T2s|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cput">None_cput/=;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_none">nth_error_set_nth_none</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr2</span> <span class="id">Hr1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cput">None_cput</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T2s</span>)<span class="id">//</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T2s</span>)<span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_other">nth_error_set_nth_other</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr2</span>) <span class="id">1?eq_sym</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">r2v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">{1}/cput/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_other">nth_error_set_nth_other</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">r2v</span>) <span class="id">1?eq_sym//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/cput</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_other">nth_error_set_nth_other</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr</span> <span class="id">Hr1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#set_set_nth">set_set_nth</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">Hr</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore.ModelTypedStore.mkbind.cputgetC" class="id"><a name="ModelTypedStore.ModelTypedStore.mkbind.cputgetC" class="">cputgetC</a></span> <span id="T1:834" class="id"><a name="T1:834" class="">T1</a></span> <span id="T2:835" class="id"><a name="T2:835" class="">T2</a></span> (<span id="r1:836" class="id"><a name="r1:836" class="">r1</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T1:834">T1</a></span>) (<span id="r2:837" class="id"><a name="r2:837" class="">r2</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T2:835">T2</a></span>) (<span id="s1:838" class="id"><a name="s1:838" class="">s1</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T1:834">T1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="A:839" class="id"><a name="A:839" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="k:840" class="id"><a name="k:840" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T2:835">T2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:839">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r1:836">r1</a></span> <span class="id">!=</span> <span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.monad_model.html#r2:837">r2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r1:836">r1</a></span> <span class="id"><a href="monae.monad_model.html#s1:838">s1</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r2:837">r2</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:840">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r2:837">r2</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="v:841" class="id"><a name="v:841" class="">v</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r1:836">r1</a></span> <span class="id"><a href="monae.monad_model.html#s1:838">s1</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#k:840">k</a></span> <span class="id"><a href="monae.monad_model.html#v:841">v</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof215')">Proof.</span></div>
<div class="proofscript" id="proof215">
<span class="id">move=&gt;</span> <span class="id">Hr;</span> <span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">!bindA</span>.<br/>
<span class="id">have</span> <span class="id">[u</span> <span class="id">Hr1|T1'</span> <span class="id">s1'</span> <span class="id">Hr1</span> <span class="id">T1s'|Hr1]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r1</span>.<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">[v</span> <span class="id">Hr2|T'</span> <span class="id">s'</span> <span class="id">Hr2</span> <span class="id">T2s'|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]MS_bindE</a></span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]MS_bindE</a></span> <span class="id">/cput</span> <span class="id">Hr1</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span> <span class="id">!bindretf/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id">/cget</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_other">nth_error_set_nth_other</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr2</span>) <span class="id">1?eq_sym//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id">[RHS]MS_bindE</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cget">nocoerce_cget</a></span> <span class="id">_</span> <span class="id">T2s'</span>)<span class="id">//</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!MS_bindE</span> <span class="id">/cput</span> <span class="id">Hr1</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf//=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id">/cget/=</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_other">nth_error_set_nth_other</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr2</span>) <span class="id">1?eq_sym//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#not_coercible">not_coercible</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]MS_bindE</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cget">None_cget//</a></span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id">/cput</span> <span class="id">Hr1</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id">/cget</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_none">nth_error_set_nth_none</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr2</span> <span class="id">Hr1</span>).<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T1s'</span>)<span class="id">//</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[v</span> <span class="id">Hr2|T'</span> <span class="id">s'</span> <span class="id">Hr2</span> <span class="id">T2s'|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr2</span>) <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T1s'</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cget">nocoerce_cget</a></span> <span class="id">_</span> <span class="id">T2s'</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cget">None_cget</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cput">None_cput//</a></span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[v</span> <span class="id">Hr2|T'</span> <span class="id">s'</span> <span class="id">Hr2</span> <span class="id">T2s'|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/cget</span> <span class="id">Hr2</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf//=</a></span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cput">None_cput</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cget">nocoerce_cget</a></span> <span class="id">Hr2</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cget">None_cget</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore.ModelTypedStore.mkbind.cputnewC" class="id"><a name="ModelTypedStore.ModelTypedStore.mkbind.cputnewC" class="">cputnewC</a></span> <span id="T:842" class="id"><a name="T:842" class="">T</a></span> <span id="T':843" class="id"><a name="T':843" class="">T'</a></span> (<span id="r:844" class="id"><a name="r:844" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:842">T</a></span>) (<span id="s:845" class="id"><a name="s:845" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:842">T</a></span>) (<span id="s':846" class="id"><a name="s':846" class="">s'</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T':843">T'</a></span>) <span id="A:847" class="id"><a name="A:847" class="">A</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:848" class="id"><a name="k:848" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T':843">T'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:847">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> <span class="id"><a href="monae.monad_model.html#r:844">r</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cnew">cnew</a></span> <span class="id"><a href="monae.monad_model.html#s':846">s'</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="r':849" class="id"><a name="r':849" class="">r'</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r:844">r</a></span> <span class="id"><a href="monae.monad_model.html#s:845">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#k:848">k</a></span> <span class="id"><a href="monae.monad_model.html#r':849">r'</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> <span class="id"><a href="monae.monad_model.html#r:844">r</a></span> <span class="id"><a href="monae.monad_model.html#s:845">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cnew">cnew</a></span> <span class="id"><a href="monae.monad_model.html#s':846">s'</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#k:848">k</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof216')">Proof.</span></div>
<div class="proofscript" id="proof216">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">/=</span>.<br/>
<span class="id">have</span> <span class="id">[u</span> <span class="id">Hr|T1</span> <span class="id">s1'</span> <span class="id">Hr</span> <span class="id">T1s'|Hr]</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.Some_cget">Some_cget</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[RHS]MS_bindE</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]/cput</a></span> <span class="id">Hr</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf/=</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!MS_bindE</span> <span class="id">/cnew</span> <span class="id">!bindretf/=</span> <span class="id">!MS_bindE</span> <span class="id">/cput</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_rcons_some">nth_error_rcons_some</a></span> <span class="id">_</span> <span class="id">Hr</span>) <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf/=</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_size_set_nth">nth_error_size_set_nth</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr</span>) (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_rcons">nth_error_set_nth_rcons</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr</span>).<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">2!MS_bindE</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cget">nocoerce_cget</a></span> <span class="id">_</span> <span class="id">T1s'</span>)<span class="id">//</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monad_model.html#ModelTypedStore.nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T1s'</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">2!MS_bindE</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cget">None_cget//</a></span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.None_cput">None_cput</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="ModelTypedStore.crunret" class="id"><a name="ModelTypedStore.crunret" class="">crunret</a></span> (<span id="A:850" class="id"><a name="A:850" class="">A</a></span> <span id="B:851" class="id"><a name="B:851" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:852" class="id"><a name="m:852" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:850">A</a></span>) (<span id="s:853" class="id"><a name="s:853" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#B:851">B</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.crun">crun</a></span> <span class="id"><a href="monae.monad_model.html#m:852">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.crun">crun</a></span> (<span class="id"><a href="monae.monad_model.html#m:852">m</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_model.html#s:853">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="monae.monad_model.html#s:853">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof217')">Proof.</span></div>
<div class="proofscript" id="proof217">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/crun</span> <span class="id">/=</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE/=;</a></span> <span class="id">case:</span> (<span class="id">m</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626">[::]</a></span>) <span class="id">=&gt;</span> <span class="id">//-</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="ModelTypedStore.crunskip" class="id"><a name="ModelTypedStore.crunskip" class="">crunskip</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.crun">crun</a></span> <span class="id"><a href="monae.hierarchy.html#skip">skip</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof218')">Proof.</span></div>
<div class="proofscript" id="proof218">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="ModelTypedStore.crunnew" class="id"><a name="ModelTypedStore.crunnew" class="">crunnew</a></span> (<span id="A:854" class="id"><a name="A:854" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span id="T:855" class="id"><a name="T:855" class="">T</a></span> (<span id="m:856" class="id"><a name="m:856" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:854">A</a></span>) (<span id="s:857" class="id"><a name="s:857" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:854">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:855">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.crun">crun</a></span> <span class="id"><a href="monae.monad_model.html#m:856">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.crun">crun</a></span> (<span class="id"><a href="monae.monad_model.html#m:856">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="x:858" class="id"><a name="x:858" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cnew">cnew</a></span> (<span class="id"><a href="monae.monad_model.html#s:857">s</a></span> <span class="id"><a href="monae.monad_model.html#x:858">x</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof219')">Proof.</span></div>
<div class="proofscript" id="proof219">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/crun</span> <span class="id">/=</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE;</a></span> <span class="id">case:</span> (<span class="id">m</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626">[::]</a></span>) <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">-[]</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="ModelTypedStore.crunnewgetC" class="id"><a name="ModelTypedStore.crunnewgetC" class="">crunnewgetC</a></span> (<span id="A:859" class="id"><a name="A:859" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span id="T1:860" class="id"><a name="T1:860" class="">T1</a></span> <span id="T2:861" class="id"><a name="T2:861" class="">T2</a></span> (<span id="m:862" class="id"><a name="m:862" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:859">A</a></span>) (<span id="r:863" class="id"><a name="r:863" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:859">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T1:860">T1</a></span>)<br/>
&nbsp;&nbsp;(<span id="s:864" class="id"><a name="s:864" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:859">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T2:861">T2</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.crun">crun</a></span> (<span class="id"><a href="monae.monad_model.html#m:862">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="x:865" class="id"><a name="x:865" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> (<span class="id"><a href="monae.monad_model.html#r:863">r</a></span> <span class="id"><a href="monae.monad_model.html#x:865">x</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.crun">crun</a></span> (<span class="id"><a href="monae.monad_model.html#m:862">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="x:866" class="id"><a name="x:866" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cnew">cnew</a></span> (<span class="id"><a href="monae.monad_model.html#s:864">s</a></span> <span class="id"><a href="monae.monad_model.html#x:866">x</a></span>) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> (<span class="id"><a href="monae.monad_model.html#r:863">r</a></span> <span class="id"><a href="monae.monad_model.html#x:866">x</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof220')">Proof.</span></div>
<div class="proofscript" id="proof220">
<span class="id">rewrite</span> <span class="id">/crun</span> <span class="id">/=</span> <span class="id">!bindE</span> <span class="id">/=</span> <span class="id">/bindS</span> <span class="id">!MS_mapE</span> <span class="id">/=</span> <span class="id">!fmapE</span> <span class="id">/=</span> <span class="id">!bindA</span> <span class="id">/=</span>.<br/>
<span class="id">case</span> <span class="id">Hm:</span> (<span class="id">m</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626">[::]</a></span>) <span class="id">=&gt;</span> <span class="id">[|[a</span> <span class="id">b]]</span> <span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">/=</span> <span class="id">!bindE</span> <span class="id">/=</span> <span class="id">/bindS</span> <span class="id"><a href="monae.monad_transformer.html#MS_mapE">MS_mapE</a></span> <span class="id">/=</span> <span class="id"><a href="monae.hierarchy.html#fmapE">fmapE</a></span> <span class="id">/=</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">/=</span> <span class="id">!bindE</span> <span class="id">/=</span> <span class="id">/cget</span>.<br/>
<span class="id">case</span> <span class="id">Hnth:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.nth_error">nth_error</a></span> <span class="id">=&gt;</span> <span class="id">[[]|]</span> <span class="id">//</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_rcons_some">nth_error_rcons_some</a></span> <span class="id">_</span> <span class="id">Hnth</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">case</span> <span class="id">Hcoe:</span> <span class="id"><a href="monae.monae_lib.html#coerce">coerce</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="ModelTypedStore.crungetput" class="id"><a name="ModelTypedStore.crungetput" class="">crungetput</a></span> (<span id="A:867" class="id"><a name="A:867" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span id="T:868" class="id"><a name="T:868" class="">T</a></span> (<span id="m:869" class="id"><a name="m:869" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:867">A</a></span>) (<span id="r:870" class="id"><a name="r:870" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:867">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.loc">loc</a></span> <span class="id"><a href="monae.monad_model.html#T:868">T</a></span>) (<span id="s:871" class="id"><a name="s:871" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:867">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.coq_type">coq_type</a></span> <span class="id"><a href="monae.monad_model.html#T:868">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.crun">crun</a></span> (<span class="id"><a href="monae.monad_model.html#m:869">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="x:872" class="id"><a name="x:872" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cget">cget</a></span> (<span class="id"><a href="monae.monad_model.html#r:870">r</a></span> <span class="id"><a href="monae.monad_model.html#x:872">x</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.crun">crun</a></span> (<span class="id"><a href="monae.monad_model.html#m:869">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="x:873" class="id"><a name="x:873" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.cput">cput</a></span> (<span class="id"><a href="monae.monad_model.html#r:870">r</a></span> <span class="id"><a href="monae.monad_model.html#x:873">x</a></span>) (<span class="id"><a href="monae.monad_model.html#s:871">s</a></span> <span class="id"><a href="monae.monad_model.html#x:873">x</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof221')">Proof.</span></div>
<div class="proofscript" id="proof221">
<span class="id">rewrite</span> <span class="id">/crun</span> <span class="id">/=</span> <span class="id">!bindE</span> <span class="id">/=</span> <span class="id">/bindS</span> <span class="id">!MS_mapE</span> <span class="id">/=</span> <span class="id">!fmapE</span> <span class="id">/=</span> <span class="id">!bindA</span> <span class="id">/=</span>.<br/>
<span class="id">case</span> <span class="id">Hm:</span> (<span class="id">m</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">[|[a</span> <span class="id">b]]</span> <span class="id">//=</span>.<br/>
<span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">/=</span> <span class="id">!bindE</span> <span class="id">/=</span> <span class="id">/cget</span> <span class="id">/cput</span> <span class="id">/=</span>.<br/>
<span class="id">case</span> <span class="id">Hnth:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.nth_error">nth_error</a></span> <span class="id">=&gt;</span> <span class="id">[[T'</span> <span class="id">v]|]</span> <span class="id">//</span>.<br/>
<span class="id">case:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">T'</span> <span class="id">T</span>) <span class="id">=&gt;</span> <span class="id">T'T;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coerce_None">coerce_None//</a></span> <span class="id">1?eq_sym//</span> <span class="id"><a href="monae.monae_lib.html#coerce_None">coerce_None</a></span>.<br/>
<span class="id">subst</span> <span class="id">T'</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!coerce_Some</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="ModelTypedStore.crunmskip" class="id"><a name="ModelTypedStore.crunmskip" class="">crunmskip</a></span> (<span id="A:874" class="id"><a name="A:874" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:875" class="id"><a name="m:875" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:874">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.crun">crun</a></span> (<span class="id"><a href="monae.monad_model.html#m:875">m</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#skip">skip</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.crun">crun</a></span> <span class="id"><a href="monae.monad_model.html#m:875">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof222')">Proof.</span></div>
<div class="proofscript" id="proof222">
<span class="id">rewrite</span> <span class="id">/crun</span> <span class="id">/=</span> <span class="id">!bindE</span> <span class="id">/=</span> <span class="id">/bindS</span> <span class="id">!MS_mapE</span> <span class="id">/=</span> <span class="id">!fmapE</span> <span class="id">/=</span> <span class="id">!bindA</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case</span> <span class="id">Hm:</span> (<span class="id">m</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">[|[]]</span>.<br/>
Qed.</div>
<br/>
<span id="ModelTypedStore.ModelTypedStore_acto__canonical__hierarchy_Monad" class="id"><span id="ModelTypedStore.HB_unnamed_mixin_185" class="id"><span id="ModelTypedStore.ModelTypedStore_acto__canonical__hierarchy_Functor" class="id"><span id="ModelTypedStore.HB_unnamed_mixin_184" class="id"><span id="ModelTypedStore.hierarchy_Monad__to__hierarchy_isMonad" class="id"><span id="ModelTypedStore.hierarchy_Monad__to__hierarchy_isFunctor" class="id"><span id="ModelTypedStore.HB_unnamed_factory_181" class="id"><a name="ModelTypedStore.ModelTypedStore_acto__canonical__hierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#Monad.on">Monad.on</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span>.<br/>
<span id="ModelTypedStore.ModelTypedStore_acto__canonical__hierarchy_MonadTypedStore" class="id"><span id="ModelTypedStore.isMonadTypedStoreModel" class="id"><a name="ModelTypedStore.ModelTypedStore_acto__canonical__hierarchy_MonadTypedStore" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">isMonadTypedStoreModel</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isMonadTypedStore.Build">isMonadTypedStore.Build</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ml_type">ml_type</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.N">N</a></span> <span class="id"><a href="monae.monad_model.html#locT_nat">locT_nat</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.M">M</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.mkbind.cnewget">cnewget</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.mkbind.cnewput">cnewput</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.cgetput">cgetput</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.mkbind.cgetputskip">cgetputskip</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.mkbind.cgetget">cgetget</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.mkbind.cputget">cputget</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.mkbind.cputput">cputput</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.mkbind.cgetC">cgetC</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.mkbind.cgetnewD">cgetnewD</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.mkbind.cgetnewE">cgetnewE</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.mkbind.cgetputC">cgetputC</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.mkbind.cputC">cputC</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.mkbind.cputgetC">cputgetC</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.mkbind.cputnewC">cputnewC</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelTypedStore.crunret">crunret</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.crunskip">crunskip</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.crunnew">crunnew</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.crunnewgetC">crunnewgetC</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.crungetput">crungetput</a></span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.crunmskip">crunmskip</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore.mkbind">mkbind</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore.ModelTypedStore">ModelTypedStore</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelTypedStore">ModelTypedStore</a></span>.<br/>
<br/>
<br/>
<br/>
<span class="vernacular">Section</span> <span id="monad_transformer_calcul" class="id"><a name="monad_transformer_calcul" class="">monad_transformer_calcul</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="monad_transformer_calcul.contTi" class="id"><a name="monad_transformer_calcul.contTi" class="">contTi</a></span> <span id="T:876" class="id"><a name="T:876" class="">T</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#MC">MC</a></span> <span class="id"><a href="monae.monad_model.html#T:876">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="break_if_none" class="id"><a name="break_if_none" class="">break_if_none</a></span> (<span id="m:877" class="id"><a name="m:877" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="break:878" class="id"><a name="break:878" class="">break</a></span> <span class="id">:</span> <span class="id">_</span>) (<span id="acc:879" class="id"><a name="acc:879" class="">acc</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span id="x:880" class="id"><a name="x:880" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#m:877">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.monad_model.html#x:880">x</a></span> <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_model.html#x:880">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monae.monad_model.html#acc:879">acc</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="monae.monad_model.html#break:878">break</a></span> <span class="id"><a href="monae.monad_model.html#acc:879">acc</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sum_until_none" class="id"><a name="sum_until_none" class="">sum_until_none</a></span> (<span id="xs:882" class="id"><a name="xs:882" class="">xs</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>)) <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#monad_transformer_calcul.contTi">contTi</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#callcc">callcc</a></span> (<span class="gallina-kwd">fun</span> <span id="break:883" class="id"><a name="break:883" class="">break</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#monad_transformer_calcul.contTi">contTi</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.fail_lib.html#foldM">foldM</a></span> (<span class="id"><a href="monae.monad_model.html#break_if_none">break_if_none</a></span> <span class="id"><a href="monae.monad_model.html#break:883">break</a></span>) <span class="id">0</span> <span class="id"><a href="monae.monad_model.html#xs:882">xs</a></span>).<br/>
<br/>
<span class="vernacular">Goal</span> <span class="id"><a href="monae.monad_model.html#sum_until_none">sum_until_none</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#9e9281397dab83046645f1b62dbb2487">[::</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">2;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">6;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">4]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> @<span class="id">^~</span> <span class="id">8</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">cbv</span>.<br/>
Abort.</div>
<br/>
<span class="vernacular">Definition</span> <span id="calcul" class="id"><a name="calcul" class="">calcul</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#monad_transformer_calcul.contTi">contTi</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;(<span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> (<span class="gallina-kwd">fun</span> <span id="x:884" class="id"><a name="x:884" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">8</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monae.monad_model.html#x:884">x</a></span>))<br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#callcc">callcc</a></span> (<span class="gallina-kwd">fun</span> <span id="k:885" class="id"><a name="k:885" class="">k</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#monad_transformer_calcul.contTi">contTi</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">_</span> <span class="id">=&gt;</span> (<span class="id"><a href="monae.monad_model.html#k:885">k</a></span> <span class="id">5</span>) <span class="id">&gt;&gt;=</span> (<span class="gallina-kwd">fun</span> <span id="y:886" class="id"><a name="y:886" class="">y</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_model.html#y:886">y</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id">4</span>)))).<br/>
<br/>
<span class="vernacular">Goal</span> <span class="id"><a href="monae.monad_model.html#calcul">calcul</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> @<span class="id">^~</span> <span class="id">13</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">cbv</span>.<br/>
Abort.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#monad_transformer_calcul">monad_transformer_calcul</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="examples_of_algebraic_lifting" class="id"><a name="examples_of_algebraic_lifting" class="">examples_of_algebraic_lifting</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="examples_of_algebraic_lifting.state_exceptT" class="id"><a name="examples_of_algebraic_lifting.state_exceptT" class="">state_exceptT</a></span>.<br/>
<span class="vernacular">Let</span> <span id="examples_of_algebraic_lifting.state_exceptT.M" class="id"><a name="examples_of_algebraic_lifting.state_exceptT.M" class="">M</a></span> <span id="S:887" class="id"><a name="S:887" class="">S</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">StateMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#S:887">S]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="aLGet" class="id"><a name="aLGet" class="">aLGet</a></span> <span class="id">{Z</span> <span id="S:889" class="id"><a name="S:889" class="">S}</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">StateOpsGet.acto</a></span> <span class="id"><a href="monae.monad_model.html#S:889">S]</a></span>.<span class="id">-aoperation</span> (<span class="id"><a href="monae.monad_transformer.html#exceptT">exceptT</a></span> <span class="id"><a href="monae.monad_model.html#Z:888">Z</a></span> (<span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.state_exceptT.M">M</a></span> <span class="id"><a href="monae.monad_model.html#S:889">S</a></span>)) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#alifting">alifting</a></span> (<span class="id"><a href="monae.monad_model.html#get_aop">get_aop</a></span> <span class="id"><a href="monae.monad_model.html#S:889">S</a></span>) (<span class="id"><a href="monae.monad_transformer.html#Lift">Lift</a></span> <span class="id">_</span> (<span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.state_exceptT.M">M</a></span> <span class="id"><a href="monae.monad_model.html#S:889">S</a></span>)).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="aLPut" class="id"><a name="aLPut" class="">aLPut</a></span> <span class="id">{Z</span> <span id="S:891" class="id"><a name="S:891" class="">S}</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">StateOpsPut.acto</a></span> <span class="id"><a href="monae.monad_model.html#S:891">S]</a></span>.<span class="id">-operation</span> (<span class="id"><a href="monae.monad_transformer.html#exceptT">exceptT</a></span> <span class="id"><a href="monae.monad_model.html#Z:890">Z</a></span> (<span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.state_exceptT.M">M</a></span> <span class="id"><a href="monae.monad_model.html#S:891">S</a></span>)) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#alifting">alifting</a></span> (<span class="id"><a href="monae.monad_model.html#put_aop">put_aop</a></span> <span class="id"><a href="monae.monad_model.html#S:891">S</a></span>) (<span class="id"><a href="monae.monad_transformer.html#Lift">Lift</a></span> <span class="id">_</span> (<span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.state_exceptT.M">M</a></span> <span class="id"><a href="monae.monad_model.html#S:891">S</a></span>)).<br/>
<br/>
<span class="vernacular">Goal</span> <span class="gallina-kwd">forall</span> <span id="Z:892" class="id"><a name="Z:892" class="">Z</a></span> (<span id="S:893" class="id"><a name="S:893" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span id="X:894" class="id"><a name="X:894" class="">X</a></span> (<span id="k:895" class="id"><a name="k:895" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#S:893">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#exceptT">exceptT</a></span> <span class="id"><a href="monae.monad_model.html#Z:892">Z</a></span> (<span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.state_exceptT.M">M</a></span> <span class="id"><a href="monae.monad_model.html#S:893">S</a></span>) <span class="id"><a href="monae.monad_model.html#X:894">X</a></span>)<span class="id">,</span> <span class="id"><a href="monae.monad_model.html#aLGet">aLGet</a></span> <span class="id">_</span> <span class="id"><a href="monae.monad_model.html#k:895">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_model.html#get_op">get_op</a></span> <span class="id">_</span> <span class="id"><a href="monae.monad_model.html#k:895">k</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof223')">Proof.</span></div>
<div class="proofscript" id="proof223">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">Z</span> <span class="id">S</span> <span class="id">X</span> <span class="id">k;</span> <span class="id">rewrite</span> <span class="id">/aLGet</span> <span class="id"><a href="monae.monad_transformer.html#aliftingE">aliftingE</a></span>. Qed.</div>
<br/>
<span class="vernacular">Goal</span> <span class="gallina-kwd">forall</span> <span id="Z:896" class="id"><a name="Z:896" class="">Z</a></span> <span id="S:897" class="id"><a name="S:897" class="">S,</a></span> <span class="id"><a href="monae.monad_model.html#aLGet">aLGet</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_transformer.html#Lift">Lift</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.monad_transformer.html#MonadT.Exports.monadT">monadT</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#exceptT">exceptT</a></span> <span class="id"><a href="monae.monad_model.html#Z:896">Z]</a></span> (<span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.state_exceptT.M">M</a></span> <span class="id"><a href="monae.monad_model.html#S:897">S</a></span>) <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id"><a href="monae.hierarchy.html#get">get</a></span> <span class="id"><a href="monae.monad_model.html#S:897">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadState.Exports.stateMonad">stateMonad</a></span> <span class="id"><a href="monae.monad_model.html#S:897">S</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">StateMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#S:897">S]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof224')">Proof.</span></div>
<div class="proofscript" id="proof224">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">Z</span> <span class="id">S;</span> <span class="id">rewrite</span> <span class="id">/aLGet</span> <span class="id"><a href="monae.monad_transformer.html#aliftingE">aliftingE</a></span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.state_exceptT">state_exceptT</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="examples_of_algebraic_lifting.continuation_stateT" class="id"><a name="examples_of_algebraic_lifting.continuation_stateT" class="">continuation_stateT</a></span>.<br/>
<span class="vernacular">Variable</span> (<span id="examples_of_algebraic_lifting.continuation_stateT.r" class="id"><a name="examples_of_algebraic_lifting.continuation_stateT.r" class="">r</a></span> <span id="examples_of_algebraic_lifting.continuation_stateT.S" class="id"><a name="examples_of_algebraic_lifting.continuation_stateT.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>).<br/>
<span class="vernacular">Let</span> <span id="examples_of_algebraic_lifting.continuation_stateT.M" class="id"><a name="examples_of_algebraic_lifting.continuation_stateT.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">ContMonad.acto</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.r">r]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="aLCallcc" class="id"><a name="aLCallcc" class="">aLCallcc</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_model.html#acto">ContOpsAcallcc.acto</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.r">r]</a></span>.<span class="id">-aoperation</span> (<span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.M">M</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#alifting">alifting</a></span> (<span class="id"><a href="monae.monad_model.html#callcc_aop">callcc_aop</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.r">r</a></span>) (<span class="id"><a href="monae.monad_transformer.html#Lift">Lift</a></span> <span class="id">_</span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.M">M</a></span>).<br/>
<br/>
<span class="vernacular">Goal</span> <span class="gallina-kwd">forall</span> <span id="A:900" class="id"><a name="A:900" class="">A</a></span> (<span id="f:901" class="id"><a name="f:901" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:900">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.r">r</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:900">A</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#aLCallcc">aLCallcc</a></span> <span class="id">_</span> <span class="id"><a href="monae.monad_model.html#f:901">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> (<span class="gallina-kwd">fun</span> <span id="s:902" class="id"><a name="s:902" class="">s</a></span> <span id="k:903" class="id"><a name="k:903" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:901">f</a></span> (<span class="gallina-kwd">fun</span> <span id="m:904" class="id"><a name="m:904" class="">m</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> <span class="id"><a href="monae.monad_model.html#m:904">m</a></span> (<span class="id"><a href="monae.monad_model.html#s:902">s,</a></span> <span class="id"><a href="monae.monad_model.html#k:903">k</a></span>)) <span class="id"><a href="monae.monad_model.html#s:902">s</a></span> <span class="id"><a href="monae.monad_model.html#k:903">k</a></span>) <span class="id">:&gt;</span> <span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:900">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof225')">Proof.</span></div>
<div class="proofscript" id="proof225">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id">/aLCallcc</span> <span class="id"><a href="monae.monad_transformer.html#aliftingE">aliftingE</a></span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="usual_callccS" class="id"><a name="usual_callccS" class="">usual_callccS</a></span> (<span id="A:905" class="id"><a name="A:905" class="">A</a></span> <span id="B:906" class="id"><a name="B:906" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:907" class="id"><a name="f:907" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="monae.monad_model.html#A:905">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.M">M</a></span> <span class="id"><a href="monae.monad_model.html#B:906">B</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:905">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:905">A</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="s:908" class="id"><a name="s:908" class="">s</a></span> <span id="k:909" class="id"><a name="k:909" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#f:907">f</a></span> (<span class="gallina-kwd">fun</span> <span id="x:910" class="id"><a name="x:910" class="">x</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:909">k</a></span> (<span class="id"><a href="monae.monad_model.html#x:910">x,</a></span> <span class="id"><a href="monae.monad_model.html#s:908">s</a></span>)) <span class="id"><a href="monae.monad_model.html#s:908">s</a></span> <span class="id"><a href="monae.monad_model.html#k:909">k</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="callccS_E" class="id"><a name="callccS_E" class="">callccS_E</a></span> <span id="A:911" class="id"><a name="A:911" class="">A</a></span> <span id="B:912" class="id"><a name="B:912" class="">B</a></span> <span id="f:913" class="id"><a name="f:913" class="">f</a></span> <span class="id">:</span> @<span class="id"><a href="monae.monad_model.html#aLCallcc">aLCallcc</a></span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="k:914" class="id"><a name="k:914" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:911">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.r">r</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#f:913">f</a></span> (<span class="gallina-kwd">fun</span> <span id="x:915" class="id"><a name="x:915" class="">x</a></span> <span class="id">=&gt;</span> (<span class="gallina-kwd">fun</span> (<span class="id">_</span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span>) (<span class="id">_</span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#B:912">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.r">r</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_model.html#k:914">k</a></span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_model.html#x:915">x</a></span>)) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT.M">M</a></span> <span class="id"><a href="monae.monad_model.html#B:912">B</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#usual_callccS">usual_callccS</a></span> <span class="id"><a href="monae.monad_model.html#f:913">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof226')">Proof.</span></div>
<div class="proofscript" id="proof226">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/aLCallcc</span> <span class="id"><a href="monae.monad_transformer.html#aliftingE">aliftingE</a></span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting.continuation_stateT">continuation_stateT</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#examples_of_algebraic_lifting">examples_of_algebraic_lifting</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelMonadStateRun" class="id"><a name="ModelMonadStateRun" class="">ModelMonadStateRun</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ModelMonadStateRun.modelmonadstaterun" class="id"><a name="ModelMonadStateRun.modelmonadstaterun" class="">modelmonadstaterun</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ModelMonadStateRun.modelmonadstaterun.S" class="id"><a name="ModelMonadStateRun.modelmonadstaterun.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelMonadStateRun.modelmonadstaterun.N" class="id"><a name="ModelMonadStateRun.modelmonadstaterun.N" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#option_monad">option_monad</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ModelMonadStateRun.M" class="id"><a name="ModelMonadStateRun.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadState.Exports.stateMonad">stateMonad</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadState.Exports.stateMonad">stateMonad</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.N">N]</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelMonadStateRun.modelmonadstaterun.runStateT" class="id"><a name="ModelMonadStateRun.modelmonadstaterun.runStateT" class="">runStateT</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:917" class="id"><a name="A:917" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0,</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:917">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.N">N</a></span> (<span class="id"><a href="monae.monad_model.html#A:917">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S</a></span>)%<span class="id">type</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:918" class="id"><a name="A:918" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelMonadStateRun.modelmonadstaterun.runStateTret" class="id"><a name="ModelMonadStateRun.modelmonadstaterun.runStateTret" class="">runStateTret</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:919" class="id"><a name="A:919" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="a:920" class="id"><a name="a:920" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:919">A</a></span>) (<span id="s:921" class="id"><a name="s:921" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S</a></span>)<span class="id">,</span> @<span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.runStateT">runStateT</a></span> <span class="id">_</span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_model.html#a:920">a</a></span>) <span class="id"><a href="monae.monad_model.html#s:921">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_model.html#a:920">a,</a></span> <span class="id"><a href="monae.monad_model.html#s:921">s</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof227')">Proof.</span></div>
<div class="proofscript" id="proof227">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelMonadStateRun.modelmonadstaterun.runStateTbind" class="id"><a name="ModelMonadStateRun.modelmonadstaterun.runStateTbind" class="">runStateTbind</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:922" class="id"><a name="A:922" class="">A</a></span> <span id="B:923" class="id"><a name="B:923" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:924" class="id"><a name="m:924" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:922">A</a></span>) (<span id="f:925" class="id"><a name="f:925" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#A:922">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.M">M</a></span> <span class="id"><a href="monae.monad_model.html#B:923">B</a></span>) (<span id="s:926" class="id"><a name="s:926" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.runStateT">runStateT</a></span> <span class="id">_</span> (<span class="id"><a href="monae.monad_model.html#m:924">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_model.html#f:925">f</a></span>) <span class="id"><a href="monae.monad_model.html#s:926">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> @<span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.runStateT">runStateT</a></span> <span class="id">_</span> <span class="id"><a href="monae.monad_model.html#m:924">m</a></span> <span class="id"><a href="monae.monad_model.html#s:926">s</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="x:927" class="id"><a name="x:927" class="">x</a></span> <span class="id">=&gt;</span> @<span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.runStateT">runStateT</a></span> <span class="id">_</span> (<span class="id"><a href="monae.monad_model.html#f:925">f</a></span> <span class="id"><a href="monae.monad_model.html#x:927">x</a></span>.<span class="id">1</span>) <span class="id"><a href="monae.monad_model.html#x:927">x</a></span>.<span class="id">2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof228')">Proof.</span></div>
<div class="proofscript" id="proof228">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">M</span> <span class="id">m</span> <span class="id">f</span> <span class="id">s</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">/runStateT</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE</a></span> <span class="id">/=</span> <span class="id">/join_of_bind</span> <span class="id">/bindS</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_mapE">MS_mapE</a></span> <span class="id">/actm</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">m</span> <span class="id">s</span>).<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelMonadStateRun.modelmonadstaterun.runStateTget" class="id"><a name="ModelMonadStateRun.modelmonadstaterun.runStateTget" class="">runStateTget</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:928" class="id"><a name="s:928" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S,</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.runStateT">runStateT</a></span> <span class="id"><a href="monae.hierarchy.html#get">get</a></span> <span class="id"><a href="monae.monad_model.html#s:928">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_model.html#s:928">s,</a></span> <span class="id"><a href="monae.monad_model.html#s:928">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.N">N</a></span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof229')">Proof.</span></div>
<div class="proofscript" id="proof229">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelMonadStateRun.modelmonadstaterun.runStateTput" class="id"><a name="ModelMonadStateRun.modelmonadstaterun.runStateTput" class="">runStateTput</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s':929" class="id"><a name="s':929" class="">s'</a></span> <span id="s:930" class="id"><a name="s:930" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S,</a></span> @<span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.runStateT">runStateT</a></span> <span class="id">_</span> (<span class="id"><a href="monae.hierarchy.html#put">put</a></span> <span class="id"><a href="monae.monad_model.html#s':929">s'</a></span>) <span class="id"><a href="monae.monad_model.html#s:930">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> <span class="id"><a href="monae.monad_model.html#s':929">s'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof230')">Proof.</span></div>
<div class="proofscript" id="proof230">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span id="ModelMonadStateRun.monad_transformer_MS__canonical__hierarchy_MonadStateRun" class="id"><span id="ModelMonadStateRun.HB_unnamed_factory_187" class="id"><a name="ModelMonadStateRun.monad_transformer_MS__canonical__hierarchy_MonadStateRun" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isMonadStateRun.Build">isMonadStateRun.Build</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.N">N</a></span> (<span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.N">N</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.runStateTret">runStateTret</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.runStateTbind">runStateTbind</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.runStateTget">runStateTget</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun.runStateTput">runStateTput</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun.modelmonadstaterun">modelmonadstaterun</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelMonadStateRun">ModelMonadStateRun</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ModelMonadStateRun</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelMonadExceptStateRun" class="id"><a name="ModelMonadExceptStateRun" class="">ModelMonadExceptStateRun</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun" class="">modelmonadexceptstaterun</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun.S" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun.N" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun.N" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadExcept.Exports.exceptMonad">exceptMonad</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#option_monad">option_monad</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ModelMonadExceptStateRun.M" class="id"><a name="ModelMonadExceptStateRun.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadStateRun.Exports.stateRunMonad">stateRunMonad</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadStateRun.Exports.stateRunMonad">stateRunMonad</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ModelMonadExceptStateRun.failure" class="id"><a name="ModelMonadExceptStateRun.failure" class="">failure</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:932" class="id"><a name="A:932" class="">A,</a></span> <span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span> <span class="id"><a href="monae.monad_model.html#A:932">A</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:933" class="id"><a name="A:933" class="">A</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#liftS">liftS</a></span> (@<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span> <span class="id"><a href="monae.monad_model.html#A:933">A</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun.Bindfailf" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun.Bindfailf" class="">Bindfailf</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_zero">BindLaws.left_zero</a></span> (@<span class="id"><a href="monae.hierarchy.html#bind">bind</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N]</a></span>) <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.failure">failure</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof231')">Proof.</span></div>
<div class="proofscript" id="proof231">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span id="ModelMonadExceptStateRun.monad_transformer_MS__canonical__hierarchy_MonadFailState" class="id"><span id="ModelMonadExceptStateRun.monad_transformer_MS__canonical__hierarchy_MonadFail" class="id"><span id="ModelMonadExceptStateRun.HB_unnamed_factory_189" class="id"><a name="ModelMonadExceptStateRun.monad_transformer_MS__canonical__hierarchy_MonadFailState" class="hierarchy-builder">HB.instance</a></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> @<span class="id"><a href="monae.hierarchy.html#isMonadFail.Build">isMonadFail.Build</a></span> (<span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span>) <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.failure">failure</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.Bindfailf">Bindfailf</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun.Catch" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun.Catch" class="">Catch</a></span> (<span id="A:934" class="id"><a name="A:934" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#mapStateT2">mapStateT2</a></span> (@<span class="id"><a href="monae.hierarchy.html#catch">catch</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span> (<span class="id"><a href="monae.monad_model.html#A:934">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span>)%<span class="id">type</span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun.Catchmfail" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun.Catchmfail" class="">Catchmfail</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:935" class="id"><a name="A:935" class="">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#right_id">right_id</a></span> (<span class="id"><a href="monae.monad_transformer.html#liftS">liftS</a></span> (@<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span> <span class="id"><a href="monae.monad_model.html#A:935">A</a></span>)) (@<span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.Catch">Catch</a></span> <span class="id"><a href="monae.monad_model.html#A:935">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof232')">Proof.</span></div>
<div class="proofscript" id="proof232">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/Catch</span> <span class="id">/mapStateT2;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#catchmfail">catchmfail</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun.Catchfailm" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun.Catchfailm" class="">Catchfailm</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:936" class="id"><a name="A:936" class="">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#left_id">left_id</a></span> (<span class="id"><a href="monae.monad_transformer.html#liftS">liftS</a></span> (@<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span> <span class="id"><a href="monae.monad_model.html#A:936">A</a></span>)) (@<span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.Catch">Catch</a></span> <span class="id"><a href="monae.monad_model.html#A:936">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof233')">Proof.</span></div>
<div class="proofscript" id="proof233">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/Catch</span> <span class="id">/mapStateT2;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#catchfailm">catchfailm</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun.CatchA" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun.CatchA" class="">CatchA</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:937" class="id"><a name="A:937" class="">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#associative">ssrfun.associative</a></span> (@<span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.Catch">Catch</a></span> <span class="id"><a href="monae.monad_model.html#A:937">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof234')">Proof.</span></div>
<div class="proofscript" id="proof234">
<span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">rewrite</span> <span class="id">/Catch</span> <span class="id">/mapStateT2</span> <span class="id">=&gt;</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#catchA">catchA</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun.Catchret" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun.Catchret" class="">Catchret</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:938" class="id"><a name="A:938" class="">A</a></span> <span id="x:939" class="id"><a name="x:939" class="">x,</a></span> @<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#left_zero">left_zero</a></span> (<span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:938">A</a></span>) (<span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.M">M</a></span> <span class="id"><a href="monae.monad_model.html#A:938">A</a></span>) (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_model.html#x:939">x</a></span>) (@<span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.Catch">Catch</a></span> <span class="id"><a href="monae.monad_model.html#A:938">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof235')">Proof.</span></div>
<div class="proofscript" id="proof235">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">x</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id">/Catch</span> <span class="id">/mapStateT2;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#catchret">catchret</a></span>.<br/>
Qed.</div>
<br/>
<span id="ModelMonadExceptStateRun.monad_transformer_MS__canonical__hierarchy_MonadExcept" class="id"><span id="ModelMonadExceptStateRun.HB_unnamed_factory_191" class="id"><a name="ModelMonadExceptStateRun.monad_transformer_MS__canonical__hierarchy_MonadExcept" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="monae.hierarchy.html#isMonadExcept.Build">isMonadExcept.Build</a></span> (<span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span>) <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.Catch">Catch</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.Catchmfail">Catchmfail</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.Catchfailm">Catchfailm</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.CatchA">CatchA</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.Catchret">Catchret</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun.RunStateTfail" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun.RunStateTfail" class="">RunStateTfail</a></span> (<span id="A:940" class="id"><a name="A:940" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="s:941" class="id"><a name="s:941" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#runStateT">runStateT</a></span> (@<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadFail.Exports.failMonad">failMonad</a></span> <span class="id">of</span> (<span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span>)<span class="id">]</span> <span class="id"><a href="monae.monad_model.html#A:940">A</a></span>) <span class="id"><a href="monae.monad_model.html#s:941">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> @<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof236')">Proof.</span></div>
<div class="proofscript" id="proof236">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun.RunStateTcatch" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun.RunStateTcatch" class="">RunStateTcatch</a></span> (<span id="A:942" class="id"><a name="A:942" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="s:943" class="id"><a name="s:943" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span>) (<span id="m1:944" class="id"><a name="m1:944" class="">m1</a></span> <span id="m2:945" class="id"><a name="m2:945" class="">m2</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="monae.monad_model.html#A:942">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#runStateT">runStateT</a></span> (<span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.Catch">Catch</a></span> <span class="id"><a href="monae.monad_model.html#m1:944">m1</a></span> <span class="id"><a href="monae.monad_model.html#m2:945">m2</a></span>) <span class="id"><a href="monae.monad_model.html#s:943">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#catch">catch</a></span> (<span class="id"><a href="monae.hierarchy.html#runStateT">runStateT</a></span> <span class="id"><a href="monae.monad_model.html#m1:944">m1</a></span> <span class="id"><a href="monae.monad_model.html#s:943">s</a></span>) (<span class="id"><a href="monae.hierarchy.html#runStateT">runStateT</a></span> <span class="id"><a href="monae.monad_model.html#m2:945">m2</a></span> <span class="id"><a href="monae.monad_model.html#s:943">s</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof237')">Proof.</span></div>
<div class="proofscript" id="proof237">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span id="ModelMonadExceptStateRun.monad_transformer_MS__canonical__hierarchy_MonadExceptStateRun" class="id"><span id="ModelMonadExceptStateRun.HB_unnamed_factory_193" class="id"><a name="ModelMonadExceptStateRun.monad_transformer_MS__canonical__hierarchy_MonadExceptStateRun" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> @<span class="id"><a href="monae.hierarchy.html#isMonadExceptStateRun.Build">isMonadExceptStateRun.Build</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span> (<span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.RunStateTfail">RunStateTfail</a></span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.RunStateTcatch">RunStateTcatch</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun">modelmonadexceptstaterun</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_model.html#ModelMonadExceptStateRun">ModelMonadExceptStateRun</a></span>.<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
