
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.reals</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.reals" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
  <link rel="stylesheet" href="../css/texmath.css">
  <script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
  <script src="../texmath.js"></script>

<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module mathcomp.analysis.reals</h1>
<div class="coq">
<br/>
<pre>
(******************************************************************************)
(*                   An axiomatization of real numbers                        *)
(*                                                                            *)
(* This file provides a classical axiomatization of real numbers as a         *)
(* discrete real archimedean field with in particular a theory of floor and   *)
(* ceil.                                                                      *)
(*                                                                            *)
(*     realType == type of real numbers                                       *)
(*        sup A == where A : set R with R : realType, the supremum of A when  *)
(*                 it exists, 0 otherwise                                     *)
(*        inf A := - sup (- A)                                                *)
(*                                                                            *)
(* The mixin corresponding to realType extends an archiFieldType with two     *)
(* properties:                                                                *)
(*  - when sup A exists, it is an upper bound of A (lemma sup_upper_bound)    *)
(*  - when sup A exists, there exists an element x in A such that             *)
(*    sup A - eps &lt; x for any 0 &lt; eps (lemma sup_adherent)                    *)
(*                                                                            *)
(*         Rint == the set of real numbers that can be written as z%:~R,      *)
(*                 i.e., as an integer                                        *)
(*     Rtoint r == r when r is an integer, 0 otherwise                        *)
(*  floor_set x := [set y | Rtoint y /\ y &lt;= x]                               *)
(*     Rfloor x == the floor of x as a real number                            *)
(*      floor x == the floor of x as an integer (type int)                    *)
(*     range1 x := [set y |x &lt;= y &lt; x + 1]                                    *)
(*      Rceil x == the ceil of x as a real number, i.e., - Rfloor (- x)       *)
(*       ceil x := - floor (- x)                                              *)
(*                                                                            *)
(******************************************************************************)</pre>
<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">all_ssreflect</span> <span class="id">all_algebra</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.set_interval.html">set_interval</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Setoids.Setoid.html">Setoid</a></span>.<br/>
<br/>
<span class="id">Declare</span> <span class="kwd">Scope</span> <span class="id">real_scope</span>.<br/>
<br/>
<span class="kwd">Set</span>   <span class="kwd">Implicit</span> <span class="kwd">Arguments</span>.<br/>
<span class="id">Unset</span> <span class="id">Strict</span> <span class="kwd">Implicit</span>.<br/>
<span class="id">Unset</span> <span class="id">Printing</span> <span class="kwd">Implicit</span> <span class="id">Defensive</span>.<br/>
<span class="id">Unset</span> <span class="id">SsrOldRewriteGoalsOrder</span>.<br/>
<br/>
<span class="kwd">Import</span> <span class="id">Order.TTheory</span> <span class="id">Order.Syntax</span> <span class="id">GRing.Theory</span> <span class="id">Num.Def</span> <span class="id">Num.Theory</span>.<br/>
<br/>
<span class="id">Delimit</span> <span class="kwd">Scope</span> <span class="id">real_scope</span> <span class="kwd">with</span> <span class="id">real</span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ring_scope</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="subr_image">subr_image</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="subr_image.R">R</a></span> : <span class="id">numDomainType</span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">E</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#subr_image.R">R</a></span>) (<span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.reals.html#subr_image.R">R</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="has_ub_lbN">has_ub_lbN</a></span> <span class="id">E</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> <span class="id">E</span> &lt;-&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#has_lbound">has_lbound</a></span> (-%<span class="id">R</span> @` <span class="id">E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#has_lb_ubN">has_lb_ubN</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_comp">image_comp</a></span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#comp">comp</a></span> /=.<br/>
<span class="kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">opprK</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_id">image_id</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="has_lbound0">has_lbound0</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#has_lbound">has_lbound</a></span> (@<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#subr_image.R">R</a></span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
 <span class="kwd">by</span> <span class="kwd">exists</span> 0. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="has_ubound0">has_ubound0</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> (@<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#subr_image.R">R</a></span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
 <span class="kwd">by</span> <span class="kwd">exists</span> 0. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ubound0">ubound0</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#ubound">ubound</a></span> (@<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#subr_image.R">R</a></span>) = <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">r</span>; <span class="id">split</span> =&gt; // <span class="id">_</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lboundT">lboundT</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#lbound">lbound</a></span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.analysis.reals.html#subr_image.R">R</a></span>] = <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">r</span>; <span class="id">split</span> =&gt; // /(<span class="id">_</span> (<span class="id">r</span> - 1) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>).<br/>
<span class="id">rewrite</span> <span class="id">ler_subr_addl</span> <span class="id">addrC</span> -<span class="id">ler_subr_addl</span> <span class="id">subrr</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">real_leNgt</span> ?<span class="id">realE</span> ?<span class="id">ler01</span>// ?<span class="id">lexx</span>// <span class="id">ltr01</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.reals.html#subr_image">subr_image</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="has_bound_lemmas">has_bound_lemmas</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="has_bound_lemmas.R">R</a></span> : <span class="id">realDomainType</span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">E</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#has_bound_lemmas.R">R</a></span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.reals.html#has_bound_lemmas.R">R</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="has_ub_image_norm">has_ub_image_norm</a></span> <span class="id">E</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> (<span class="id">normr</span> @` <span class="id">E</span>) -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> <span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="id">case</span> =&gt; <span class="id">M</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#ubP">ubP</a></span> <span class="id">uM</span>; <span class="kwd">exists</span> `|<span class="id">M</span>|; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#ubP">ubP</a></span> =&gt; <span class="id">r</span> <span class="id">rS</span>.<br/>
<span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">real_ler_norm</span> <span class="id">_</span>)) ?<span class="id">num_real</span> //.<br/>
<span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">uM</span> <span class="id">_</span> <span class="id">_</span>)) ?<span class="id">real_ler_norm</span> ?<span class="id">num_real</span> //.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">r</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="has_inf_supN">has_inf_supN</a></span> <span class="id">E</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> (-%<span class="id">R</span> @` <span class="id">E</span>) &lt;-&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#has_inf">has_inf</a></span> <span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
<span class="id">split</span>=&gt; [ [<span class="id">NEn0</span> [<span class="id">x</span> /<span class="id"><a href="mathcomp.classical.set_interval.html#ub_lbN">ub_lbN</a></span> <span class="id">xubE</span>]]  | [<span class="id">En0</span> [<span class="id">x</span> /<span class="id"><a href="mathcomp.classical.set_interval.html#lb_ubN">lb_ubN</a></span> <span class="id">xlbe</span>]] ].<br/>
<span class="kwd">by</span> <span class="id">split</span>; [<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.set_interval.html#nonemptyN">nonemptyN</a></span>|<span class="id">rewrite</span> -[<span class="id">E</span>]<span class="id"><a href="mathcomp.classical.set_interval.html#setNK">setNK</a></span>; <span class="kwd">exists</span> (- <span class="id">x</span>)].<br/>
<span class="kwd">by</span> <span class="id">split</span>; [<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.set_interval.html#nonemptyN">nonemptyN</a></span>|<span class="kwd">exists</span> (- <span class="id">x</span>)].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="has_supPn">has_supPn</a></span> {<span class="id">E</span>} : <span class="id">E</span> !=<span class="id">set0</span> -&gt;<br/>
&nbsp;&nbsp;~ <span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> <span class="id">E</span> &lt;-&gt; (<span class="kwd">forall</span> <span class="id">x</span>, <span class="kwd">exists2</span> <span class="id">y</span>, <span class="id">E</span> <span class="id">y</span> &amp; <span class="id">x</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
<span class="id">move</span>=&gt; <span class="id">nzE</span>; <span class="id">split</span>=&gt; [/<span class="id"><a href="mathcomp.classical.boolp.html#asboolPn">asboolPn</a></span>|/<span class="id"><a href="mathcomp.classical.set_interval.html#has_ubPn">has_ubPn</a></span> <span class="id">h</span> [<span class="id">_</span>]] //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#asbool_and">asbool_and</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#asboolT">asboolT</a></span> <span class="id">nzE</span>) /= =&gt; /<span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span>/<span class="id"><a href="mathcomp.classical.set_interval.html#has_ubPn">has_ubPn</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.reals.html#has_bound_lemmas">has_bound_lemmas</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="Real">Real</a></span>.<br/>
<span class="kwd">Section</span> <span class="id"><a name="Real.Mixin">Mixin</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> (<span class="id"><a name="Real.Mixin.R">R</a></span> : <span class="id">archiFieldType</span>).<br/>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="Real.mixin_of">mixin_of</a></span> : <span class="kwd">Type</span> := <span class="id">Mixin</span> {<br/>
&nbsp;&nbsp;&nbsp;<span class="id">_</span>  :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">E</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id">Num.ArchimedeanField.sort</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Mixin.R">R</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> <span class="id">E</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#ubound">ubound</a></span> <span class="id">E</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#supremum">supremum</a></span> 0 <span class="id">E</span>) ;<br/>
&nbsp;&nbsp;&nbsp;<span class="id">_</span>  :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">E</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id">Num.ArchimedeanField.sort</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Mixin.R">R</a></span>)) (<span class="id">eps</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Mixin.R">R</a></span>), 0 &lt; <span class="id">eps</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> <span class="id">E</span> -&gt; <span class="kwd">exists2</span> <span class="id">e</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Mixin.R">R</a></span>, <span class="id">E</span> <span class="id">e</span> &amp; (<span class="id"><a href="mathcomp.classical.classical_sets.html#supremum">supremum</a></span> 0 <span class="id">E</span> - <span class="id">eps</span>) &lt; <span class="id">e</span> ;<br/>
}.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Mixin">Mixin</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.EtaMixin">EtaMixin</a></span> <span class="id">R</span> <span class="id">sup_upper_bound</span> <span class="id">sup_adherent</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">_</span> := @<span class="id"><a href="mathcomp.analysis.reals.html#Real.Mixin">Mixin</a></span> <span class="id">R</span> <span class="id">sup_upper_bound</span> <span class="id">sup_adherent</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.reals.html#Real.Mixin">Mixin</a></span> (<span class="id">Num.ArchimedeanField.Pack</span> (<span class="id">Num.ArchimedeanField.class</span> <span class="id">R</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sup_upper_bound</span> <span class="id">sup_adherent</span>.<br/>
<span class="kwd">Section</span> <span class="id"><a name="Real.ClassDef">ClassDef</a></span>.<br/>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="Real.class_of">class_of</a></span> (<span class="id">R</span> : <span class="kwd">Type</span>) : <span class="kwd">Type</span> := <span class="kwd">Class</span> {<br/>
&nbsp;&nbsp;<span class="id"><a name="Real.base">base</a></span> : <span class="id">Num.ArchimedeanField.class_of</span> <span class="id">R</span>;<br/>
&nbsp;&nbsp;<span class="id"><a name="Real.mixin_rcf">mixin_rcf</a></span> : <span class="id">Num.real_closed_axiom</span> (<span class="id">Num.NumDomain.Pack</span> <span class="id">base</span>);<br/>
&nbsp;&nbsp;<span class="id"><a name="Real.mixin">mixin</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.mixin_of">mixin_of</a></span> (<span class="id">Num.ArchimedeanField.Pack</span> <span class="id">base</span>)<br/>
}.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Coercion</span> <span class="id">base</span> : <span class="id">class_of</span> &gt;-&gt; <span class="id">Num.ArchimedeanField.class_of</span>.<br/>
<span class="id">Local</span> <span class="kwd">Coercion</span> <span class="id"><a name="Real.base_rcf">base_rcf</a></span> <span class="id">R</span> (<span class="id">c</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.class_of">class_of</a></span> <span class="id">R</span>) : <span class="id">Num.RealClosedField.class_of</span> <span class="id">R</span> :=<br/>
&nbsp;&nbsp;@<span class="id">Num.RealClosedField.Class</span> <span class="id">_</span> <span class="id">c</span> (@<span class="id"><a href="mathcomp.analysis.reals.html#Real.mixin_rcf">mixin_rcf</a></span> <span class="id">_</span> <span class="id">c</span>).<br/>
<br/>
<span class="kwd">Structure</span> <span class="id"><a name="Real.type">type</a></span> := <span class="id">Pack</span> {<span class="id"><a name="Real.sort">sort</a></span>; <span class="id">_</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.class_of">class_of</a></span> <span class="id">sort</span>; <span class="id">_</span> : <span class="kwd">Type</span>}.<br/>
<span class="id">Local</span> <span class="kwd">Coercion</span> <span class="id">sort</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Sortclass</span>.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="Real.ClassDef.T">T</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="Real.ClassDef.cT">cT</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.type">type</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.class">class</a></span> := <span class="kwd">let</span>: <span class="id"><a href="mathcomp.analysis.reals.html#Real.Pack">Pack</a></span> <span class="id">_</span> <span class="id">c</span> <span class="id">_</span> <span class="kwd">as</span> <span class="id">cT</span>' := <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="kwd">return</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.class_of">class_of</a></span> <span class="id">cT</span>' <span class="kwd">in</span> <span class="id">c</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.clone">clone</a></span> <span class="id">c</span> <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#phant_id">phant_id</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.class">class</a></span> <span class="id">c</span> := @<span class="id"><a href="mathcomp.analysis.reals.html#Real.Pack">Pack</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.T">T</a></span> <span class="id">c</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.T">T</a></span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="Real.ClassDef.xT">xT</a></span> := <span class="kwd">let</span>: <span class="id"><a href="mathcomp.analysis.reals.html#Real.Pack">Pack</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#T">T</a></span> <span class="id">_</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="kwd">in</span> <span class="id">T</span>.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="Real.xclass">xclass</a></span> := (<span class="id"><a href="mathcomp.analysis.reals.html#Real.class">class</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.class_of">class_of</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.xT">xT</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.rcf_axiom">rcf_axiom</a></span> {<span class="id">R</span>} (<span class="id">cR</span> : <span class="id">Num.RealClosedField.class_of</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;&nbsp;<span class="id">Num.real_closed_axiom</span> (<span class="id">Num.NumDomain.Pack</span> <span class="id">cR</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">cR</span> <span class="kwd">with</span> <span class="id">Num.RealClosedField.Class</span> <span class="id">_</span> <span class="id">ax</span> =&gt; <span class="id">ax</span> <span class="kwd">end</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">rcf_axiom</span> : <span class="id">Num.RealClosedField.class_of</span> &gt;-&gt; <span class="id">Num.real_closed_axiom</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.pack">pack</a></span> <span class="id">b0</span> (<span class="id">m0</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.mixin_of">mixin_of</a></span> (@<span class="id">Num.ArchimedeanField.Pack</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.T">T</a></span> <span class="id">b0</span>)) :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">bT</span> <span class="id">b</span> &amp; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#phant_id">phant_id</a></span> (<span class="id">Num.ArchimedeanField.class</span> <span class="id">bT</span>) <span class="id">b</span> =&gt;<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">bTr</span> : <span class="id">rcfType</span>) (<span class="id">br</span> : <span class="id">Num.RealClosedField.class_of</span> <span class="id">bTr</span>) &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#phant_id">phant_id</a></span> (<span class="id">Num.RealClosedField.class</span> <span class="id">bTr</span>) <span class="id">br</span> =&gt;<br/>
&nbsp;&nbsp;<span class="kwd">fun</span>  <span class="id">cra</span> &amp; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#phant_id">phant_id</a></span> (@<span class="id"><a href="mathcomp.analysis.reals.html#Real.rcf_axiom">rcf_axiom</a></span> <span class="id">bTr</span> <span class="id">br</span>) <span class="id">cra</span> =&gt;<br/>
&nbsp;&nbsp;<span class="kwd">fun</span>    <span class="id">m</span> &amp; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#phant_id">phant_id</a></span> <span class="id">m0</span> <span class="id">m</span> =&gt; <span class="id"><a href="mathcomp.analysis.reals.html#Real.Pack">Pack</a></span> (@<span class="kwd">Class</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.T">T</a></span> <span class="id">b</span> <span class="id">cra</span> <span class="id">m</span>) <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.T">T</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.eqType">eqType</a></span> := @<span class="id">Equality.Pack</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.choiceType">choiceType</a></span> := @<span class="id">Choice.Pack</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.porderType">porderType</a></span> := @<span class="id">Order.POrder.Pack</span> <span class="id">ring_display</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.latticeType">latticeType</a></span> := @<span class="id">Order.Lattice.Pack</span> <span class="id">ring_display</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.distrLatticeType">distrLatticeType</a></span> := @<span class="id">Order.DistrLattice.Pack</span> <span class="id">ring_display</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.orderType">orderType</a></span> := @<span class="id">Order.Total.Pack</span> <span class="id">ring_display</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.zmodType">zmodType</a></span> := @<span class="id">GRing.Zmodule.Pack</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.ringType">ringType</a></span> := @<span class="id">GRing.Ring.Pack</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.comRingType">comRingType</a></span> := @<span class="id">GRing.ComRing.Pack</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.unitRingType">unitRingType</a></span> := @<span class="id">GRing.UnitRing.Pack</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.comUnitRingType">comUnitRingType</a></span> := @<span class="id">GRing.ComUnitRing.Pack</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.idomainType">idomainType</a></span> := @<span class="id">GRing.IntegralDomain.Pack</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.numDomainType">numDomainType</a></span> := @<span class="id">Num.NumDomain.Pack</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.normedZmodType">normedZmodType</a></span> := <span class="id">NormedZmodType</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.numDomainType">numDomainType</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.fieldType">fieldType</a></span> := @<span class="id">GRing.Field.Pack</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.realDomainType">realDomainType</a></span> := @<span class="id">Num.RealDomain.Pack</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.numFieldType">numFieldType</a></span> := @<span class="id">Num.NumField.Pack</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.realFieldType">realFieldType</a></span> := @<span class="id">Num.RealField.Pack</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.archimedeanFieldType">archimedeanFieldType</a></span> := @<span class="id">Num.ArchimedeanField.Pack</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.rcfType">rcfType</a></span> := @<span class="id">Num.RealClosedField.Pack</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef.cT">cT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Real.join_rcfType">join_rcfType</a></span> := @<span class="id">Num.RealClosedField.Pack</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.archimedeanFieldType">archimedeanFieldType</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.xclass">xclass</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ClassDef">ClassDef</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="Real.Exports">Exports</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">base</span> : <span class="id">class_of</span> &gt;-&gt; <span class="id">Num.ArchimedeanField.class_of</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">base_rcf</span> : <span class="id">class_of</span> &gt;-&gt; <span class="id">Num.RealClosedField.class_of</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">mixin</span> : <span class="id">class_of</span> &gt;-&gt; <span class="id">mixin_of</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">sort</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Sortclass</span>.<br/>
<span class="id">Bind</span> <span class="kwd">Scope</span> <span class="id">ring_scope</span> <span class="kwd">with</span> <span class="id">sort</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">eqType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Equality.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.eqType">eqType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">choiceType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Choice.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.choiceType">choiceType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">porderType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Order.POrder.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.porderType">porderType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">latticeType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Order.Lattice.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.latticeType">latticeType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">distrLatticeType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Order.DistrLattice.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.distrLatticeType">distrLatticeType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">orderType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Order.Total.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.orderType">orderType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">zmodType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">GRing.Zmodule.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.zmodType">zmodType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">ringType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">GRing.Ring.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.ringType">ringType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">comRingType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">GRing.ComRing.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.comRingType">comRingType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">unitRingType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">GRing.UnitRing.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.unitRingType">unitRingType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">comUnitRingType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">GRing.ComUnitRing.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.comUnitRingType">comUnitRingType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">idomainType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">GRing.IntegralDomain.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.idomainType">idomainType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numDomainType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Num.NumDomain.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.numDomainType">numDomainType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">normedZmodType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Num.NormedZmodule.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.normedZmodType">normedZmodType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">realDomainType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Num.RealDomain.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.realDomainType">realDomainType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">fieldType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">GRing.Field.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.fieldType">fieldType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numFieldType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Num.NumField.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.numFieldType">numFieldType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">realFieldType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Num.RealField.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.realFieldType">realFieldType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">archimedeanFieldType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Num.ArchimedeanField.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.archimedeanFieldType">archimedeanFieldType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">rcfType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Num.RealClosedField.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.rcfType">rcfType</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.join_rcfType">join_rcfType</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> <span class="id"><a name="Real.Exports.realType">realType</a></span> := <span class="id"><a href="mathcomp.analysis.reals.html#Real.type">type</a></span>.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="Real.Exports.RealType">RealType</a></span> <span class="id">T</span> <span class="id">m</span> := (@<span class="id"><a href="mathcomp.analysis.reals.html#Real.pack">pack</a></span> <span class="id">T</span> <span class="id">_</span> <span class="id">m</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>).<br/>
<span class="kwd">Notation</span> <span class="id"><a name="Real.Exports.RealMixin">RealMixin</a></span> := <span class="id"><a href="mathcomp.analysis.reals.html#Real.EtaMixin">EtaMixin</a></span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">realType</span>' '<span class="id">of</span>' <span class="id">T</span> '<span class="kwd">for</span>' <span class="id">cT</span> ]" := (@<span class="id"><a href="mathcomp.analysis.reals.html#Real.clone">clone</a></span> <span class="id">T</span> <span class="id">cT</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span>)<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">format</span> "[ '<span class="id">realType</span>'  '<span class="id">of</span>'  <span class="id">T</span>  '<span class="kwd">for</span>'  <span class="id">cT</span> ]") : <span class="id">form_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">realType</span>' '<span class="id">of</span>' <span class="id">T</span> ]" := (@<span class="id"><a href="mathcomp.analysis.reals.html#Real.clone">clone</a></span> <span class="id">T</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>)<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">format</span> "[ '<span class="id">realType</span>'  '<span class="id">of</span>'  <span class="id">T</span> ]") : <span class="id">form_scope</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports">Exports</a></span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real">Real</a></span>.<br/>
<br/>
<span class="kwd">Export</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports">Real.Exports</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sup">sup</a></span> {<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#realType">realType</a></span>} := @<span class="id"><a href="mathcomp.classical.classical_sets.html#supremum">supremum</a></span> <span class="id">_</span> <span class="id">R</span> 0.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="inf">inf</a></span> {<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#realType">realType</a></span>} (<span class="id">E</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">R</span>) := - <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (-%<span class="id">R</span> @` <span class="id">E</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sup_upper_bound">sup_upper_bound</a></span> {<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#realType">realType</a></span>} (<span class="id">E</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">R</span>):<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> <span class="id">E</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#ubound">ubound</a></span> <span class="id">E</span> (<span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">supE</span>; <span class="id">case</span>: <span class="id">R</span> <span class="id">E</span> <span class="id">supE</span>=&gt; ? [? ? []]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sup_adherent">sup_adherent</a></span> {<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#realType">realType</a></span>} (<span class="id">E</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">R</span>) (<span class="id">eps</span> : <span class="id">R</span>) : 0 &lt; <span class="id">eps</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> <span class="id">E</span> -&gt; <span class="kwd">exists2</span> <span class="id">e</span> : <span class="id">R</span>, <span class="id">E</span> <span class="id">e</span> &amp; (<span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">E</span> - <span class="id">eps</span>) &lt; <span class="id">e</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">R</span> <span class="id">E</span> <span class="id">eps</span>=&gt; ? [? ? []]. Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="IsInt">IsInt</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">realFieldType</span>}.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Rint">Rint</a></span> := [<span class="id">qualify</span> <span class="id">a</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.reals.html#IsInt.R">R</a></span> | `[&lt; <span class="kwd">exists</span> <span class="id">z</span>, <span class="id">x</span> == <span class="id">z</span>%:~<span class="id">R</span> &gt;]].<br/>
<span class="kwd">Fact</span> <span class="id"><a name="Rint_key">Rint_key</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred_key">pred_key</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint">Rint</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Canonical</span> <span class="id"><a name="Rint_keyed">Rint_keyed</a></span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#KeyedQualifier">KeyedQualifier</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint_key">Rint_key</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rint_def">Rint_def</a></span> <span class="id">x</span> : (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint">Rint</a></span>) = (`[&lt; <span class="kwd">exists</span> <span class="id">z</span>, <span class="id">x</span> == <span class="id">z</span>%:~<span class="id">R</span> &gt;]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="RintP">RintP</a></span> <span class="id">x</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> (<span class="kwd">exists</span> <span class="id">z</span>, <span class="id">x</span> = <span class="id">z</span>%:~<span class="id">R</span>) (<span class="id">x</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint">Rint</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
<span class="kwd">by</span> <span class="id">apply</span>/(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) =&gt; [/<span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span>[<span class="id">z</span> /<span class="id">eqP</span>]|[<span class="id">z</span>]] -&gt;; [|<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span>]; <span class="kwd">exists</span> <span class="id">z</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="RintC">RintC</a></span> <span class="id">z</span> : <span class="id">z</span>%:~<span class="id">R</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint">Rint</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.reals.html#RintP">RintP</a></span>; <span class="kwd">exists</span> <span class="id">z</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rint0">Rint0</a></span> : 0 \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint">Rint</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
 <span class="kwd">by</span> <span class="id">rewrite</span> -[0](<span class="id">mulr0z</span> 1) <span class="id"><a href="mathcomp.analysis.reals.html#RintC">RintC</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rint1">Rint1</a></span> : 1 \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint">Rint</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
 <span class="kwd">by</span> <span class="id">rewrite</span> -[1]<span class="id">mulr1z</span> <span class="id"><a href="mathcomp.analysis.reals.html#RintC">RintC</a></span>. Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">Rint0</span> <span class="id">Rint1</span> <span class="id">RintC</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rint_subring_closed">Rint_subring_closed</a></span> : <span class="id">subring_closed</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint">Rint</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
<span class="id">split</span>=&gt; // <span class="id">_</span> <span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.reals.html#RintP">RintP</a></span>[<span class="id">x</span> -&gt;] /<span class="id"><a href="mathcomp.analysis.reals.html#RintP">RintP</a></span>[<span class="id">y</span> -&gt;]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.reals.html#RintP">RintP</a></span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">x</span> - <span class="id">y</span>); <span class="id">rewrite</span> <span class="id">rmorphB</span>. <span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">x</span> * <span class="id">y</span>); <span class="id">rewrite</span> <span class="id">rmorphM</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="Rint_opprPred">Rint_opprPred</a></span> := <span class="id">OpprPred</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint_subring_closed">Rint_subring_closed</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="Rint_addrPred">Rint_addrPred</a></span> := <span class="id">AddrPred</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint_subring_closed">Rint_subring_closed</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="Rint_mulrPred">Rint_mulrPred</a></span> := <span class="id">MulrPred</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint_subring_closed">Rint_subring_closed</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="Rint_zmodPred">Rint_zmodPred</a></span> := <span class="id">ZmodPred</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint_subring_closed">Rint_subring_closed</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="Rint_semiringPred">Rint_semiringPred</a></span> := <span class="id">SemiringPred</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint_subring_closed">Rint_subring_closed</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="Rint_smulrPred">Rint_smulrPred</a></span> := <span class="id">SmulrPred</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint_subring_closed">Rint_subring_closed</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="Rint_subringPred">Rint_subringPred</a></span> := <span class="id">SubringPred</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint_subring_closed">Rint_subring_closed</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rint_ler_addr1">Rint_ler_addr1</a></span> (<span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="mathcomp.analysis.reals.html#IsInt.R">R</a></span>) : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint">Rint</a></span> -&gt; <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint">Rint</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">x</span> + 1 &lt;= <span class="id">y</span>) = (<span class="id">x</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.reals.html#RintP">RintP</a></span>[<span class="id">xi</span> -&gt;] /<span class="id"><a href="mathcomp.analysis.reals.html#RintP">RintP</a></span>[<span class="id">yi</span> -&gt;]; <span class="id">rewrite</span> -{2}[1]<span class="id">mulr1z</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">intrD</span> !(<span class="id">ltr_int</span>, <span class="id">ler_int</span>) <span class="id">lez_addr1</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rint_ltr_addr1">Rint_ltr_addr1</a></span> (<span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="mathcomp.analysis.reals.html#IsInt.R">R</a></span>) : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint">Rint</a></span> -&gt; <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint">Rint</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">x</span> &lt; <span class="id">y</span> + 1) = (<span class="id">x</span> &lt;= <span class="id">y</span>).<br/>
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.reals.html#RintP">RintP</a></span>[<span class="id">xi</span> -&gt;] /<span class="id"><a href="mathcomp.analysis.reals.html#RintP">RintP</a></span>[<span class="id">yi</span> -&gt;]; <span class="id">rewrite</span> -{3}[1]<span class="id">mulr1z</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">intrD</span> !(<span class="id">ltr_int</span>, <span class="id">ler_int</span>) <span class="id">ltz_addr1</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.reals.html#IsInt">IsInt</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ToInt">ToInt</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#realType">realType</a></span>}.<br/>
<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="mathcomp.analysis.reals.html#ToInt.R">R</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Rtoint">Rtoint</a></span> (<span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.reals.html#ToInt.R">R</a></span>) : <span class="id">int</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">insub</span> <span class="id">x</span> : {? <span class="id">x</span> | <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint">Rint</a></span>} <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">Px</span> <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">xchoose</span> (<span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#tagged">tagged</a></span> <span class="id">Px</span>))<br/>
&nbsp;&nbsp;<span class="kwd">else</span> 0.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="RtointK">RtointK</a></span> (<span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.reals.html#ToInt.R">R</a></span>): <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint">Rint</a></span> -&gt; (<span class="id"><a href="mathcomp.analysis.reals.html#Rtoint">Rtoint</a></span> <span class="id">x</span>)%:~<span class="id">R</span> = <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
<span class="id">move</span>=&gt; <span class="id">Ix</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#Rtoint">Rtoint</a></span> <span class="id">insubT</span> /= [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>](<span class="id">eqP</span> (<span class="id">xchooseP</span> (<span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span> <span class="id">_</span> <span class="id">Ix</span>))).<br/>
<span class="kwd">by</span> <span class="id">congr</span> <span class="id">_</span>%:~<span class="id">R</span>; <span class="id">apply</span>/<span class="id">eq_xchoose</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rtointz">Rtointz</a></span> (<span class="id">z</span> : <span class="id">int</span>): <span class="id"><a href="mathcomp.analysis.reals.html#Rtoint">Rtoint</a></span> <span class="id">z</span>%:~<span class="id">R</span> = <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> -(@<span class="id">eqr_int</span> <span class="id"><a href="mathcomp.analysis.reals.html#ToInt.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.reals.html#RtointK">RtointK</a></span> ?<span class="id">rpred_int</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rtointn">Rtointn</a></span> (<span class="id">n</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>): <span class="id"><a href="mathcomp.analysis.reals.html#Rtoint">Rtoint</a></span> <span class="id">n</span>%:<span class="id">R</span> = <span class="id">n</span>%:~<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
 <span class="kwd">by</span> <span class="id">rewrite</span> -{1}<span class="id">mulrz_nat</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rtointz">Rtointz</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inj_Rtoint">inj_Rtoint</a></span> : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint">Rint</a></span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Rtoint">Rtoint</a></span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">Ix</span> <span class="id">Iy</span> /= /(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> (@<span class="id">intmul</span> <span class="id"><a href="mathcomp.analysis.reals.html#ToInt.R">R</a></span> 1)); <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.reals.html#RtointK">RtointK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="RtointN">RtointN</a></span> <span class="id">x</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint">Rint</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.reals.html#Rtoint">Rtoint</a></span> (- <span class="id">x</span>) = - <span class="id"><a href="mathcomp.analysis.reals.html#Rtoint">Rtoint</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
<span class="id">move</span>=&gt; <span class="id">Ir</span>; <span class="id">apply</span>/<span class="id">eqP</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -(@<span class="id">eqr_int</span> <span class="id"><a href="mathcomp.analysis.reals.html#ToInt.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.reals.html#RtointK">RtointK</a></span> // ?<span class="id">rpredN</span> // <span class="id">mulrNz</span> <span class="id"><a href="mathcomp.analysis.reals.html#RtointK">RtointK</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.reals.html#ToInt">ToInt</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="RealDerivedOps">RealDerivedOps</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="RealDerivedOps.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#realType">realType</a></span>.<br/>
<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="mathcomp.analysis.reals.html#RealDerivedOps.R">R</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="floor_set">floor_set</a></span> <span class="id">x</span> := [<span class="id">set</span> <span class="id">y</span> : <span class="id"><a href="mathcomp.analysis.reals.html#RealDerivedOps.R">R</a></span> | (<span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint">Rint</a></span>) &amp;&amp; (<span class="id">y</span> &lt;= <span class="id">x</span>)].<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Rfloor">Rfloor</a></span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.reals.html#RealDerivedOps.R">R</a></span> := <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor_set">floor_set</a></span> <span class="id">x</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="floor">floor</a></span> <span class="id">x</span> : <span class="id">int</span> := <span class="id"><a href="mathcomp.analysis.reals.html#Rtoint">Rtoint</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#Rfloor">Rfloor</a></span> <span class="id">x</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="range1">range1</a></span> (<span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.reals.html#RealDerivedOps.R">R</a></span>) := [<span class="id">set</span> <span class="id">y</span> | <span class="id">x</span> &lt;= <span class="id">y</span> &lt; <span class="id">x</span> + 1].<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Rceil">Rceil</a></span> <span class="id">x</span> := - <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor">Rfloor</a></span> (- <span class="id">x</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="ceil">ceil</a></span> <span class="id">x</span> := - <span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> (- <span class="id">x</span>).<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.reals.html#RealDerivedOps">RealDerivedOps</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="RealLemmas">RealLemmas</a></span>.<br/>
<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="RealLemmas.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#realType">realType</a></span>).<br/>
<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">E</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#RealLemmas.R">R</a></span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.reals.html#RealLemmas.R">R</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sup_out">sup_out</a></span> <span class="id">E</span> : ~ <span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> <span class="id">E</span> -&gt; <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">E</span> = 0<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#supremum_out">supremum_out</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sup0">sup0</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (@<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#RealLemmas.R">R</a></span>) = 0<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#supremum0">supremum0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sup1">sup1</a></span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> [<span class="id">set</span> <span class="id">x</span>] = <span class="id">x</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#supremum1">supremum1</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sup_ub">sup_ub</a></span> {<span class="id">E</span>} : <span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> <span class="id">E</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#ubound">ubound</a></span> <span class="id">E</span> (<span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
<span class="id">move</span>=&gt; <span class="id">ubE</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#ubP">ubP</a></span>=&gt; <span class="id">x</span> <span class="id">x_in_E</span>; <span class="id">move</span>: (<span class="id">x</span>) (<span class="id">x_in_E</span>).<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#ubP">ubP</a></span>/<span class="id"><a href="mathcomp.analysis.reals.html#sup_upper_bound">sup_upper_bound</a></span>=&gt; //; <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sup_ub_strict">sup_ub_strict</a></span> <span class="id">E</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> <span class="id">E</span> -&gt;<br/>
&nbsp;&nbsp;~ <span class="id">E</span> (<span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">E</span>) -&gt; <span class="id">E</span> `&lt;=` [<span class="id">set</span> <span class="id">r</span> | <span class="id">r</span> &lt; <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">E</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
<span class="id">move</span>=&gt; <span class="id">ubE</span> <span class="id">EsupE</span> <span class="id">r</span> <span class="id">Er</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#mkset">mkset</a></span> <span class="id">lt_neqAle</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_ub">sup_ub</a></span> // <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> =&gt; /<span class="id">eqP</span> <span class="id">supEr</span>; <span class="id">move</span>: <span class="id">EsupE</span>; <span class="id">rewrite</span> -<span class="id">supEr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sup_total">sup_total</a></span> {<span class="id">E</span>} <span class="id">x</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> <span class="id">E</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#down">down</a></span> <span class="id">E</span> <span class="id">x</span> \/ <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">E</span> &lt;= <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
<span class="id">move</span>=&gt; <span class="id">has_supE</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#orC">orC</a></span>.<br/>
<span class="id">case</span>: (<span class="id">lerP</span> (<span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">E</span>) <span class="id">x</span>)=&gt; <span class="id">hx</span> /=; [<span class="kwd">by</span> <span class="id">left</span>|<span class="id">right</span>].<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.reals.html#sup_adherent">sup_adherent</a></span>/(<span class="id">_</span>  <span class="id">has_supE</span>) : 0 &lt; <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">E</span> - <span class="id">x</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
<span class="id">case</span>=&gt; <span class="id">e</span> <span class="id">Ee</span> <span class="id">hlte</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#downP">downP</a></span>; <span class="kwd">exists</span> <span class="id">e</span> =&gt; //; <span class="id">move</span>: <span class="id">hlte</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">opprB</span> <span class="id">addrCA</span> <span class="id">subrr</span> <span class="id">addr0</span> =&gt; /<span class="id">ltW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sup_le_ub">sup_le_ub</a></span> {<span class="id">E</span>} <span class="id">x</span> : <span class="id">E</span> !=<span class="id">set0</span> -&gt; (<span class="id"><a href="mathcomp.classical.classical_sets.html#ubound">ubound</a></span> <span class="id">E</span>) <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">E</span> &lt;= <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
<span class="id">move</span>=&gt; <span class="id">hasE</span> <span class="id">leEx</span>; <span class="id">set</span> <span class="id">y</span> := <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">E</span>; <span class="id">pose</span> <span class="id">z</span> := (<span class="id">x</span> + <span class="id">y</span>) / 2%:<span class="id">R</span>.<br/>
<span class="id">have</span> <span class="id">Dz</span>: 2%:<span class="id">R</span> * <span class="id">z</span> = <span class="id">x</span> + <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrCA</span> <span class="id">divff</span> ?<span class="id">mulr1</span> // <span class="id">pnatr_eq0</span>.<br/>
<span class="id">have</span> <span class="id">ubE</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> <span class="id">E</span> <span class="kwd">by</span> <span class="id">split</span> =&gt; //; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
<span class="id">have</span> [/<span class="id"><a href="mathcomp.classical.classical_sets.html#downP">downP</a></span> [<span class="id">t</span> <span class="id">Et</span> <span class="id">lezt</span>] | <span class="id">leyz</span>] := <span class="id"><a href="mathcomp.analysis.reals.html#sup_total">sup_total</a></span> <span class="id">z</span> <span class="id">ubE</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id">ler_add2l</span> <span class="id">x</span>) -<span class="id">Dz</span> -<span class="id">mulr2n</span> -[<span class="id">leRHS</span>]<span class="id">mulr_natl</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ler_pmul2l</span> ?<span class="id">ltr0Sn</span> //; <span class="id">apply</span>/(<span class="id">le_trans</span> <span class="id">lezt</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#ubP">ubP</a></span> : <span class="id">leEx</span>; <span class="id">exact</span>.<br/>
<span class="id">rewrite</span> -(<span class="id">ler_add2r</span> <span class="id">y</span>) -<span class="id">Dz</span> -<span class="id">mulr2n</span> -[<span class="id">leLHS</span>]<span class="id">mulr_natl</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_pmul2l</span> ?<span class="id">ltr0Sn</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sup_setU">sup_setU</a></span> (<span class="id">A</span> <span class="id">B</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#RealLemmas.R">R</a></span>) : <span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> <span class="id">B</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, <span class="id">A</span> <span class="id">a</span> -&gt; <span class="id">B</span> <span class="id">b</span> -&gt; <span class="id">a</span> &lt;= <span class="id">b</span>) -&gt; <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id">A</span> `|` <span class="id">B</span>) = <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
<span class="id">move</span>=&gt; [<span class="id">B0</span> [<span class="id">l</span> <span class="id">Bl</span>]] <span class="id">AB</span>; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
- <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_le_ub">sup_le_ub</a></span> =&gt; [|<span class="id">x</span> [<span class="id">Ax</span>|]]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subset_nonempty">subset_nonempty</a></span> <span class="id">B0</span> =&gt; ?; <span class="id">right</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">B0</span> =&gt; <span class="id">b</span> <span class="id">Bb</span>; <span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">AB</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Ax</span> <span class="id">Bb</span>)) // <span class="id"><a href="mathcomp.analysis.reals.html#sup_ub">sup_ub</a></span> //; <span class="kwd">exists</span> <span class="id">l</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Bx</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_ub">sup_ub</a></span> //; <span class="kwd">exists</span> <span class="id">l</span>.<br/>
- <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_le_ub">sup_le_ub</a></span> =&gt; // <span class="id">b</span> <span class="id">Bb</span>; <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_ub">sup_ub</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">right</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">l</span> =&gt; <span class="id">x</span> [<span class="id">Ax</span>|<span class="id">Bx</span>]; [<span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">AB</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Ax</span> <span class="id">Bb</span>)) // <span class="id">Bl</span>|<span class="id">exact</span>: <span class="id">Bl</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sup_gt">sup_gt</a></span> (<span class="id">S</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#RealLemmas.R">R</a></span>) (<span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.reals.html#RealLemmas.R">R</a></span>) : <span class="id">S</span> !=<span class="id">set0</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">x</span> &lt; <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">S</span> -&gt; <span class="kwd">exists2</span> <span class="id">y</span>, <span class="id">S</span> <span class="id">y</span> &amp; <span class="id">x</span> &lt; <span class="id">y</span>)%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
<span class="id">move</span>=&gt; <span class="id">S0</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#not_exists2P">not_exists2P</a></span> =&gt; + <span class="id">g</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>; <span class="id">rewrite</span> -<span class="id">leNgt</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_le_ub">sup_le_ub</a></span> =&gt; // <span class="id">y</span> <span class="id">Sy</span>; <span class="id">move</span>: (<span class="id">g</span> <span class="id">y</span>) =&gt; -[// | /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>]; <span class="id">rewrite</span> <span class="id">leNgt</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.reals.html#RealLemmas">RealLemmas</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="sup_sum">sup_sum</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#realType">realType</a></span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sup_sumE">sup_sumE</a></span> (<span class="id">A</span> <span class="id">B</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_sum.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> <span class="id">B</span> -&gt; <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> [<span class="id">set</span> <span class="id">x</span> + <span class="id">y</span> | <span class="id">x</span> <span class="kwd">in</span> <span class="id">A</span> &amp; <span class="id">y</span> <span class="kwd">in</span> <span class="id">B</span>] = <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">A</span> + <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
<span class="id">move</span>=&gt; /[<span class="id">dup</span>] <span class="id">supA</span> [[<span class="id">a</span> <span class="id">Aa</span>] <span class="id">ubA</span>] /[<span class="id">dup</span>] <span class="id">supB</span> [[<span class="id">b</span> <span class="id">Bb</span>] <span class="id">ubB</span>].<br/>
<span class="id">have</span> <span class="id">ABsup</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> [<span class="id">set</span> <span class="id">x</span> + <span class="id">y</span> | <span class="id">x</span> <span class="kwd">in</span> <span class="id">A</span> &amp; <span class="id">y</span> <span class="kwd">in</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">a</span> + <span class="id">b</span>), <span class="id">a</span> =&gt; //; <span class="kwd">exists</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span>: <span class="id">ubA</span> <span class="id">ubB</span> =&gt; <span class="id">p</span> <span class="id">up</span> [<span class="id">q</span> <span class="id">uq</span>]; <span class="kwd">exists</span> (<span class="id">p</span> + <span class="id">q</span>) =&gt; ? [<span class="id">r</span> <span class="id">Ar</span> [<span class="id">s</span> <span class="id">Bs</span>] &lt;-].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">ler_add</span>; [<span class="id">exact</span>: <span class="id">up</span> | <span class="id">exact</span>: <span class="id">uq</span>].<br/>
<span class="id">apply</span>: <span class="id">le_anti</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.reals.html#sup_le_ub">sup_le_ub</a></span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">case</span>: <span class="id">ABsup</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; ? [<span class="id">p</span> <span class="id">Ap</span> [<span class="id">q</span> <span class="id">Bq</span>] &lt;-]; <span class="id">apply</span>: <span class="id">ler_add</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.reals.html#sup_ub">sup_ub</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">real_leNgt</span> ?<span class="id">num_real</span>// -<span class="id">subr_gt0</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>.<br/>
<span class="id">set</span> <span class="id">eps</span> := (<span class="id">_</span> + <span class="id">_</span> - <span class="id">_</span>) =&gt; <span class="id">epos</span>.<br/>
<span class="id">have</span> <span class="id">e2pos</span> : 0 &lt; <span class="id">eps</span> / 2%:<span class="id">R</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">divr_gt0</span>// <span class="id">ltr0n</span>.<br/>
<span class="id">have</span> [<span class="id">r</span> <span class="id">Ar</span> <span class="id">supBr</span>] := <span class="id"><a href="mathcomp.analysis.reals.html#sup_adherent">sup_adherent</a></span> <span class="id">e2pos</span> <span class="id">supA</span>.<br/>
<span class="id">have</span> [<span class="id">s</span> <span class="id">Bs</span> <span class="id">supAs</span>] := <span class="id"><a href="mathcomp.analysis.reals.html#sup_adherent">sup_adherent</a></span> <span class="id">e2pos</span> <span class="id">supB</span>.<br/>
<span class="id">have</span> := <span class="id">ltr_add</span> <span class="id">supBr</span> <span class="id">supAs</span>.<br/>
<span class="id">rewrite</span> -<span class="id">addrA</span> [-<span class="id">_</span>+<span class="id">_</span>]<span class="id">addrC</span> -<span class="id">addrA</span> -<span class="id">opprD</span> -<span class="id">splitr</span> <span class="id">addrA</span> /= <span class="id">opprD</span> <span class="id">opprK</span> <span class="id">addrA</span>.<br/>
<span class="id">rewrite</span> <span class="id">subrr</span> <span class="id">add0r</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>; <span class="id">rewrite</span> -<span class="id">real_leNgt</span> ?<span class="id">num_real</span>//.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.reals.html#sup_upper_bound">sup_upper_bound</a></span> =&gt; //; <span class="kwd">exists</span> <span class="id">r</span> =&gt; //; <span class="kwd">exists</span> <span class="id">s</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inf_sumE">inf_sumE</a></span> (<span class="id">A</span> <span class="id">B</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_sum.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#has_inf">has_inf</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#has_inf">has_inf</a></span> <span class="id">B</span> -&gt; <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> [<span class="id">set</span> <span class="id">x</span> + <span class="id">y</span> | <span class="id">x</span> <span class="kwd">in</span> <span class="id">A</span> &amp; <span class="id">y</span> <span class="kwd">in</span> <span class="id">B</span>] = <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id">A</span> + <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
<span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.reals.html#has_inf_supN">has_inf_supN</a></span> =&gt; ? /<span class="id"><a href="mathcomp.analysis.reals.html#has_inf_supN">has_inf_supN</a></span> ?; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span>.<br/>
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> - <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">X</span> = <span class="id">_</span>](<span class="id">_</span> : <span class="id">_</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">set</span> <span class="id">x</span> + <span class="id">y</span> | <span class="id">x</span> <span class="kwd">in</span> [<span class="id">set</span> - <span class="id">x</span> | <span class="id">x</span> <span class="kwd">in</span> <span class="id">A</span> ] &amp; <span class="id">y</span> <span class="kwd">in</span> [<span class="id">set</span> - <span class="id">x</span> | <span class="id">x</span> <span class="kwd">in</span> <span class="id">B</span>]]).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span> =&gt; /= <span class="id">t</span> [] /= <span class="id">x</span> []<span class="id">a</span> <span class="id">Aa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> =&gt; <span class="id">b</span> <span class="id">Bb</span> &lt;- &lt;-; <span class="kwd">exists</span> (- <span class="id">a</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> (- <span class="id">b</span>); [<span class="kwd">exists</span> <span class="id">b</span>|<span class="id">rewrite</span> <span class="id">opprD</span>].<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; &lt;- [<span class="id">y</span>] [<span class="id">b</span> <span class="id">Bb</span>] &lt;- &lt;-; <span class="kwd">exists</span> (<span class="id">a</span> + <span class="id">b</span>); <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">opprD</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">a</span> =&gt; //; <span class="kwd">exists</span> <span class="id">b</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_sumE">sup_sumE</a></span> // -<span class="id">opprD</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_sum">sup_sum</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="InfTheory">InfTheory</a></span>.<br/>
<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="InfTheory.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#realType">realType</a></span>).<br/>
<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">E</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#InfTheory.R">R</a></span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.reals.html#InfTheory.R">R</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inf_lower_bound">inf_lower_bound</a></span> <span class="id">E</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#has_inf">has_inf</a></span> <span class="id">E</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#lbound">lbound</a></span> <span class="id">E</span> (<span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id">E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.reals.html#has_inf_supN">has_inf_supN</a></span> /<span class="id"><a href="mathcomp.analysis.reals.html#sup_upper_bound">sup_upper_bound</a></span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#ubP">ubP</a></span> <span class="id">inflb</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#lbP">lbP</a></span> =&gt; <span class="id">x</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#memNE">memNE</a></span> =&gt; /<span class="id">inflb</span>; <span class="id">rewrite</span> <span class="id">ler_oppl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inf_adherent">inf_adherent</a></span> <span class="id">E</span> (<span class="id">eps</span> : <span class="id"><a href="mathcomp.analysis.reals.html#InfTheory.R">R</a></span>) : 0 &lt; <span class="id">eps</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#has_inf">has_inf</a></span> <span class="id">E</span> -&gt; <span class="kwd">exists2</span> <span class="id">e</span>, <span class="id">E</span> <span class="id">e</span> &amp; <span class="id">e</span> &lt; <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id">E</span> + <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
<span class="id">move</span>=&gt; + /<span class="id"><a href="mathcomp.analysis.reals.html#has_inf_supN">has_inf_supN</a></span> <span class="id">supNE</span> =&gt; /<span class="id"><a href="mathcomp.analysis.reals.html#sup_adherent">sup_adherent</a></span> /(<span class="id">_</span> <span class="id">supNE</span>)[<span class="id">e</span> <span class="id">NEx</span> <span class="id">egtsup</span>].<br/>
<span class="kwd">exists</span> (- <span class="id">e</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">case</span>: <span class="id">NEx</span> =&gt; <span class="id">x</span> <span class="id">Ex</span> &lt;-{}; <span class="id">rewrite</span> <span class="id">opprK</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_oppl</span> -<span class="id">mulN1r</span> <span class="id">mulrDr</span> !<span class="id">mulN1r</span> <span class="id">opprK</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inf_out">inf_out</a></span> <span class="id">E</span> : ~ <span class="id"><a href="mathcomp.classical.classical_sets.html#has_inf">has_inf</a></span> <span class="id">E</span> -&gt; <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id">E</span> = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
<span class="id">move</span>=&gt; <span class="id">ninfE</span>; <span class="id">rewrite</span> -<span class="id">oppr0</span> -(@<span class="id"><a href="mathcomp.analysis.reals.html#sup_out">sup_out</a></span> <span class="id">_</span> (-%<span class="id">R</span> @` <span class="id">E</span>)) =&gt; // <span class="id">supNE</span>; <span class="id">apply</span>: <span class="id">ninfE</span>.<br/>
<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.reals.html#has_inf_supN">has_inf_supN</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inf0">inf0</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> (@<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#InfTheory.R">R</a></span>) = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_set0">image_set0</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#sup0">sup0</a></span> <span class="id">oppr0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inf1">inf1</a></span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> [<span class="id">set</span> <span class="id">x</span>] = <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_set1">image_set1</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#sup1">sup1</a></span> <span class="id">opprK</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inf_lb">inf_lb</a></span> <span class="id">E</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#has_lbound">has_lbound</a></span> <span class="id">E</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#lbound">lbound</a></span> <span class="id">E</span> (<span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id">E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
 <span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="mathcomp.classical.set_interval.html#has_lb_ubN">has_lb_ubN</a></span>/<span class="id"><a href="mathcomp.analysis.reals.html#sup_ub">sup_ub</a></span>/<span class="id"><a href="mathcomp.classical.set_interval.html#ub_lbN">ub_lbN</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#setNK">setNK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inf_lb_strict">inf_lb_strict</a></span> <span class="id">E</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#has_lbound">has_lbound</a></span> <span class="id">E</span> -&gt;<br/>
&nbsp;&nbsp;~ <span class="id">E</span> (<span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id">E</span>) -&gt; <span class="id">E</span> `&lt;=` [<span class="id">set</span> <span class="id">r</span> | <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id">E</span> &lt; <span class="id">r</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
<span class="id">move</span>=&gt; <span class="id">lE</span> <span class="id">EinfE</span> <span class="id">r</span> <span class="id">Er</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#mkset">mkset</a></span> <span class="id">lt_neqAle</span> <span class="id"><a href="mathcomp.analysis.reals.html#inf_lb">inf_lb</a></span> // <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> =&gt; /<span class="id">eqP</span> <span class="id">infEr</span>; <span class="id">move</span>: <span class="id">EinfE</span>; <span class="id">rewrite</span> <span class="id">infEr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lb_le_inf">lb_le_inf</a></span> <span class="id">E</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#nonempty">nonempty</a></span> <span class="id">E</span> -&gt; (<span class="id"><a href="mathcomp.classical.classical_sets.html#lbound">lbound</a></span> <span class="id">E</span>) <span class="id">x</span> -&gt; <span class="id">x</span> &lt;= <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
<span class="kwd">by</span> <span class="id">move</span>=&gt; /(<span class="id"><a href="mathcomp.classical.set_interval.html#nonemptyN">nonemptyN</a></span> <span class="id">E</span>) <span class="id">En0</span> /<span class="id"><a href="mathcomp.classical.set_interval.html#lb_ubN">lb_ubN</a></span> /(<span class="id"><a href="mathcomp.analysis.reals.html#sup_le_ub">sup_le_ub</a></span> <span class="id">En0</span>); <span class="id">rewrite</span> <span class="id">ler_oppr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="has_infPn">has_infPn</a></span> <span class="id">E</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#nonempty">nonempty</a></span> <span class="id">E</span> -&gt;<br/>
&nbsp;&nbsp;~ <span class="id"><a href="mathcomp.classical.classical_sets.html#has_inf">has_inf</a></span> <span class="id">E</span> &lt;-&gt; (<span class="kwd">forall</span> <span class="id">x</span>, <span class="kwd">exists2</span> <span class="id">y</span>, <span class="id">E</span> <span class="id">y</span> &amp; <span class="id">y</span> &lt; <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
<span class="id">move</span>=&gt; <span class="id">nzE</span>; <span class="id">split</span>=&gt; [/<span class="id"><a href="mathcomp.classical.boolp.html#asboolPn">asboolPn</a></span>|/<span class="id"><a href="mathcomp.classical.set_interval.html#has_lbPn">has_lbPn</a></span> <span class="id">h</span> [<span class="id">_</span>] //].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#asbool_and">asbool_and</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#asboolT">asboolT</a></span> <span class="id">nzE</span>) /= =&gt; /<span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span>/<span class="id"><a href="mathcomp.classical.set_interval.html#has_lbPn">has_lbPn</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inf_setU">inf_setU</a></span> (<span class="id">A</span> <span class="id">B</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#InfTheory.R">R</a></span>) : <span class="id"><a href="mathcomp.classical.classical_sets.html#has_inf">has_inf</a></span> <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, <span class="id">A</span> <span class="id">a</span> -&gt; <span class="id">B</span> <span class="id">b</span> -&gt; <span class="id">a</span> &lt;= <span class="id">b</span>) -&gt; <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> (<span class="id">A</span> `|` <span class="id">B</span>) = <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
<span class="id">move</span>=&gt; <span class="id">hiA</span> <span class="id">AB</span>; <span class="id">congr</span> (- <span class="id">_</span>).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_setU">image_setU</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setUC">setUC</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_setU">sup_setU</a></span> //; <span class="id">first</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.reals.html#has_inf_supN">has_inf_supN</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span> <span class="id">_</span> [] <span class="id">b</span> <span class="id">Bb</span> &lt;-{} [] <span class="id">a</span> <span class="id">Aa</span> &lt;-{}; <span class="id">rewrite</span> <span class="id">ler_oppl</span> <span class="id">opprK</span>; <span class="id">apply</span> <span class="id">AB</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inf_lt">inf_lt</a></span> (<span class="id">S</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#InfTheory.R">R</a></span>) (<span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.reals.html#InfTheory.R">R</a></span>) : <span class="id">S</span> !=<span class="id">set0</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id">S</span> &lt; <span class="id">x</span> -&gt; <span class="kwd">exists2</span> <span class="id">y</span>, <span class="id">S</span> <span class="id">y</span> &amp; <span class="id">y</span> &lt; <span class="id">x</span>)%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.set_interval.html#nonemptyN">nonemptyN</a></span> <span class="id">S0</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id">ltr_oppl</span> =&gt; /<span class="id"><a href="mathcomp.analysis.reals.html#sup_gt">sup_gt</a></span> =&gt; /(<span class="id">_</span> <span class="id">S0</span>)[<span class="id">r</span> [<span class="id">r</span>' <span class="id">Sr</span>']].<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; &lt;-; <span class="id">rewrite</span> <span class="id">ltr_oppr</span> <span class="id">opprK</span> =&gt; <span class="id">r</span>'<span class="id">x</span>; <span class="kwd">exists</span> <span class="id">r</span>'.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.reals.html#InfTheory">InfTheory</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="FloorTheory">FloorTheory</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="FloorTheory.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#realType">realType</a></span>.<br/>
<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="mathcomp.analysis.reals.html#FloorTheory.R">R</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="has_sup_floor_set">has_sup_floor_set</a></span> <span class="id">x</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor_set">floor_set</a></span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
<span class="id">split</span>; [<span class="kwd">exists</span> (- (<span class="id">Num.bound</span> (-<span class="id">x</span>))%:~<span class="id">R</span>) | <span class="kwd">exists</span> (<span class="id">Num.bound</span> <span class="id">x</span>)%:~<span class="id">R</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#floor_set">floor_set</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#mkset">mkset</a></span> <span class="id">rpredN</span> <span class="id">rpred_int</span> /= <span class="id">ler_oppl</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span>: (<span class="id">ger0P</span> (-<span class="id">x</span>)) =&gt; [/<span class="id">archi_boundP</span>/<span class="id">ltW</span>//|].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id">ltW</span>/<span class="id">le_trans</span>; <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id">ler0z</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#ubP">ubP</a></span>=&gt; <span class="id">y</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">_</span>] /<span class="id">le_trans</span>; <span class="id">apply</span>.<br/>
<span class="id">case</span>: (<span class="id">ger0P</span> <span class="id">x</span>)=&gt; [/<span class="id">archi_boundP</span>/<span class="id">ltW</span>|] //.<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id">ltW</span>/<span class="id">le_trans</span>; <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id">ler0z</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sup_in_floor_set">sup_in_floor_set</a></span> <span class="id">x</span> : (<span class="id"><a href="mathcomp.analysis.reals.html#floor_set">floor_set</a></span> <span class="id">x</span>) (<span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor_set">floor_set</a></span> <span class="id">x</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
<span class="id">have</span> /(<span class="id"><a href="mathcomp.analysis.reals.html#sup_adherent">sup_adherent</a></span> <span class="id">ltr01</span>) [<span class="id">y</span> <span class="id">Fy</span>] := <span class="id"><a href="mathcomp.analysis.reals.html#has_sup_floor_set">has_sup_floor_set</a></span> <span class="id">x</span>.<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.reals.html#sup_upper_bound">sup_upper_bound</a></span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#ubP">ubP</a></span> /(<span class="id">_</span> <span class="id">_</span> <span class="id">Fy</span>) := <span class="id"><a href="mathcomp.analysis.reals.html#has_sup_floor_set">has_sup_floor_set</a></span> <span class="id">x</span>.<br/>
<span class="id">rewrite</span> <span class="id">le_eqVlt</span>=&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[/<span class="id">eqP</span>&lt;-//| <span class="id">lt_yFx</span>].<br/>
<span class="id">rewrite</span> <span class="id">ltr_subl_addr</span> -<span class="id">ltr_subl_addl</span> =&gt; <span class="id">lt1_FxBy</span>.<br/>
<span class="id">pose</span> <span class="id">e</span> := <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor_set">floor_set</a></span> <span class="id">x</span>) - <span class="id">y</span>; <span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.reals.html#has_sup_floor_set">has_sup_floor_set</a></span> <span class="id">x</span>.<br/>
<span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.reals.html#sup_adherent">sup_adherent</a></span>=&gt; -/(<span class="id">_</span> <span class="id">e</span>) []; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">z</span> <span class="id">Fz</span>; <span class="id">rewrite</span> /<span class="id">e</span> <span class="id">opprB</span> <span class="id">addrCA</span> <span class="id">subrr</span> <span class="id">addr0</span> =&gt; <span class="id">lt_yz</span>.<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.reals.html#sup_upper_bound">sup_upper_bound</a></span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#ubP">ubP</a></span> /(<span class="id">_</span> <span class="id">_</span> <span class="id">Fz</span>) := <span class="id"><a href="mathcomp.analysis.reals.html#has_sup_floor_set">has_sup_floor_set</a></span> <span class="id">x</span>.<br/>
<span class="id">rewrite</span> -(<span class="id">ler_add2r</span> (-<span class="id">y</span>)) =&gt; /<span class="id">le_lt_trans</span> /(<span class="id">_</span> <span class="id">lt1_FxBy</span>).<br/>
<span class="id">case</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>: <span class="id">Fy</span> <span class="id">Fz</span> <span class="id">lt_yz</span>=&gt; /<span class="id"><a href="mathcomp.analysis.reals.html#RintP">RintP</a></span>[<span class="id">yi</span> -&gt; <span class="id">_</span>].<br/>
<span class="id">case</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>=&gt; /<span class="id"><a href="mathcomp.analysis.reals.html#RintP">RintP</a></span>[<span class="id">zi</span> -&gt; <span class="id">_</span>]; <span class="id">rewrite</span> -<span class="id">rmorphB</span> /= <span class="id">ltrz1</span> <span class="id">ltr_int</span>.<br/>
<span class="id">rewrite</span> <span class="id">lt_neqAle</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">ne_yz</span> <span class="id">le_yz</span>].<br/>
<span class="id">rewrite</span> -[<span class="id">_</span>-<span class="id">_</span>]<span class="id">gez0_abs</span> ?<span class="id">subr_ge0</span> // <span class="id">ltz_nat</span> <span class="id">ltnS</span> <span class="id">leqn0</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">absz_eq0</span> <span class="id">subr_eq0</span> <span class="id">eq_sym</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">ne_yz</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="isint_Rfloor">isint_Rfloor</a></span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor">Rfloor</a></span> <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint">Rint</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
 <span class="kwd">by</span> <span class="id">case</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>: (<span class="id"><a href="mathcomp.analysis.reals.html#sup_in_floor_set">sup_in_floor_set</a></span> <span class="id">x</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="RfloorE">RfloorE</a></span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor">Rfloor</a></span> <span class="id">x</span> = (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">x</span>)%:~<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#RtointK">RtointK</a></span> ?<span class="id"><a href="mathcomp.analysis.reals.html#isint_Rfloor">isint_Rfloor</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mem_rg1_Rfloor">mem_rg1_Rfloor</a></span> <span class="id">x</span> : (<span class="id"><a href="mathcomp.analysis.reals.html#range1">range1</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#Rfloor">Rfloor</a></span> <span class="id">x</span>)) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#range1">range1</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#mkset">mkset</a></span>.<br/>
<span class="id">have</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">_</span> -&gt;] /= := <span class="id"><a href="mathcomp.analysis.reals.html#sup_in_floor_set">sup_in_floor_set</a></span> <span class="id">x</span>.<br/>
<span class="id">have</span> [|] := <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> ((<span class="id"><a href="mathcomp.analysis.reals.html#floor_set">floor_set</a></span> <span class="id">x</span>) (<span class="id"><a href="mathcomp.analysis.reals.html#Rfloor">Rfloor</a></span> <span class="id">x</span> + 1)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#floor_set">floor_set</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> -<span class="id">ltNge</span> <span class="id">rpredD</span> // ?(<span class="id"><a href="mathcomp.analysis.reals.html#Rint1">Rint1</a></span>, <span class="id"><a href="mathcomp.analysis.reals.html#isint_Rfloor">isint_Rfloor</a></span>).<br/>
<span class="id">move</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#ubP">ubP</a></span> : (<span class="id"><a href="mathcomp.analysis.reals.html#sup_upper_bound">sup_upper_bound</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#has_sup_floor_set">has_sup_floor_set</a></span> <span class="id">x</span>)) =&gt; <span class="id">h</span>/<span class="id">h</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ger_addl</span> <span class="id">ler10</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rfloor_le">Rfloor_le</a></span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor">Rfloor</a></span> <span class="id">x</span> &lt;= <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
 <span class="kwd">by</span> <span class="id">case</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>: (<span class="id"><a href="mathcomp.analysis.reals.html#mem_rg1_Rfloor">mem_rg1_Rfloor</a></span> <span class="id">x</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="floor_le">floor_le</a></span> <span class="id">x</span> : (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">x</span>)%:~<span class="id">R</span> &lt;= <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.reals.html#RfloorE">RfloorE</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor_le">Rfloor_le</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lt_succ_Rfloor">lt_succ_Rfloor</a></span> <span class="id">x</span> : <span class="id">x</span> &lt; <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor">Rfloor</a></span> <span class="id">x</span> + 1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
 <span class="kwd">by</span> <span class="id">case</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>: (<span class="id"><a href="mathcomp.analysis.reals.html#mem_rg1_Rfloor">mem_rg1_Rfloor</a></span> <span class="id">x</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="range1z_inj">range1z_inj</a></span> <span class="id">x</span> (<span class="id">m1</span> <span class="id">m2</span> : <span class="id">int</span>) :<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.reals.html#range1">range1</a></span> <span class="id">m1</span>%:~<span class="id">R</span>) <span class="id">x</span> -&gt; (<span class="id"><a href="mathcomp.analysis.reals.html#range1">range1</a></span> <span class="id">m2</span>%:~<span class="id">R</span>) <span class="id">x</span> -&gt; <span class="id">m1</span> = <span class="id">m2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
<span class="id">move</span>=&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">m1x</span> <span class="id">x_m1</span>] /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">m2x</span> <span class="id">x_m2</span>].<br/>
<span class="id">wlog</span> <span class="id">suffices</span>: <span class="id">m1</span> <span class="id">m2</span> <span class="id">m1x</span> {<span class="id">x_m1</span> <span class="id">m2x</span>} <span class="id">x_m2</span> / (<span class="id">m1</span> &lt;= <span class="id">m2</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">ih</span>; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span> !<span class="id">ih</span>.<br/>
<span class="id">rewrite</span> -(<span class="id">ler_add2r</span> 1) <span class="id">lez_addr1</span> -(@<span class="id">ltr_int</span> <span class="id"><a href="mathcomp.analysis.reals.html#FloorTheory.R">R</a></span>) <span class="id">intrD</span>.<br/>
<span class="id">exact</span>/(<span class="id">le_lt_trans</span> <span class="id">m1x</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="range1rr">range1rr</a></span> <span class="id">x</span> : (<span class="id"><a href="mathcomp.analysis.reals.html#range1">range1</a></span> <span class="id">x</span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#range1">range1</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#mkset">mkset</a></span> <span class="id">lexx</span> /= <span class="id">ltr_addl</span> <span class="id">ltr01</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="range1zP">range1zP</a></span> (<span class="id">m</span> : <span class="id">int</span>) <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor">Rfloor</a></span> <span class="id">x</span> = <span class="id">m</span>%:~<span class="id">R</span> &lt;-&gt; (<span class="id"><a href="mathcomp.analysis.reals.html#range1">range1</a></span> <span class="id">m</span>%:~<span class="id">R</span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
<span class="id">split</span>=&gt; [&lt;-|<span class="id">h</span>]; <span class="id">first</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.reals.html#mem_rg1_Rfloor">mem_rg1_Rfloor</a></span>.<br/>
<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.reals.html#RfloorE">RfloorE</a></span> <span class="id">eqr_int</span>; <span class="id">apply</span>/<span class="id">eqP</span>/(@<span class="id"><a href="mathcomp.analysis.reals.html#range1z_inj">range1z_inj</a></span> <span class="id">x</span>) =&gt; //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#range1">range1</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#mkset">mkset</a></span> -<span class="id"><a href="mathcomp.analysis.reals.html#RfloorE">RfloorE</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#mem_rg1_Rfloor">mem_rg1_Rfloor</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rfloor_natz">Rfloor_natz</a></span> (<span class="id">z</span> : <span class="id">int</span>) : <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor">Rfloor</a></span> <span class="id">z</span>%:~<span class="id">R</span> = <span class="id">z</span>%:~<span class="id">R</span> :&gt; <span class="id"><a href="mathcomp.analysis.reals.html#FloorTheory.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.reals.html#range1zP">range1zP</a></span>/<span class="id"><a href="mathcomp.analysis.reals.html#range1rr">range1rr</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rfloor0">Rfloor0</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor">Rfloor</a></span> 0 = 0 :&gt; <span class="id"><a href="mathcomp.analysis.reals.html#FloorTheory.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
 <span class="kwd">by</span> <span class="id">rewrite</span> -{1}(<span class="id">mulr0z</span> 1) <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor_natz">Rfloor_natz</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rfloor1">Rfloor1</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor">Rfloor</a></span> 1 = 1 :&gt; <span class="id"><a href="mathcomp.analysis.reals.html#FloorTheory.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
 <span class="kwd">by</span> <span class="id">rewrite</span> -{1}(<span class="id">mulr1z</span> 1) <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor_natz">Rfloor_natz</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le_Rfloor">le_Rfloor</a></span> : {<span class="id">homo</span> (@<span class="id"><a href="mathcomp.analysis.reals.html#Rfloor">Rfloor</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#FloorTheory.R">R</a></span>) : <span class="id">x</span> <span class="id">y</span> / <span class="id">x</span> &lt;= <span class="id">y</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">le_xy</span>; <span class="id">case</span>: <span class="id">lerP</span>=&gt; //=; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.reals.html#Rint_ler_addr1">Rint_ler_addr1</a></span> ?<span class="id"><a href="mathcomp.analysis.reals.html#isint_Rfloor">isint_Rfloor</a></span> //.<br/>
<span class="id">move</span>/(<span class="id">lt_le_trans</span> (<span class="id"><a href="mathcomp.analysis.reals.html#lt_succ_Rfloor">lt_succ_Rfloor</a></span> <span class="id">y</span>))/<span class="id">lt_le_trans</span>/(<span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.reals.html#Rfloor_le">Rfloor_le</a></span> <span class="id">x</span>)).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltNge</span> <span class="id">le_xy</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rfloor_ge_int">Rfloor_ge_int</a></span> <span class="id">x</span> (<span class="id">n</span> : <span class="id">int</span>) : (<span class="id">n</span>%:~<span class="id">R</span> &lt;= <span class="id">x</span>)= (<span class="id">n</span>%:~<span class="id">R</span> &lt;= <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor">Rfloor</a></span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>/<span class="id">le_trans</span> =&gt; /(<span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.reals.html#Rfloor_le">Rfloor_le</a></span> <span class="id">x</span>)).<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.reals.html#le_Rfloor">le_Rfloor</a></span>; <span class="id">apply</span> <span class="id">le_trans</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor_natz">Rfloor_natz</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rfloor_lt_int">Rfloor_lt_int</a></span> <span class="id">x</span> (<span class="id">z</span> : <span class="id">int</span>) : (<span class="id">x</span> &lt; <span class="id">z</span>%:~<span class="id">R</span>) = (<span class="id"><a href="mathcomp.analysis.reals.html#Rfloor">Rfloor</a></span> <span class="id">x</span> &lt; <span class="id">z</span>%:~<span class="id">R</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltNge</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor_ge_int">Rfloor_ge_int</a></span> -<span class="id">ltNge</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rfloor_le0">Rfloor_le0</a></span> <span class="id">x</span> : <span class="id">x</span> &lt;= 0 -&gt; <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor">Rfloor</a></span> <span class="id">x</span> &lt;= 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.reals.html#Rfloor0">Rfloor0</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#le_Rfloor">le_Rfloor</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rfloor_lt0">Rfloor_lt0</a></span> <span class="id">x</span> : <span class="id">x</span> &lt; 0 -&gt; <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor">Rfloor</a></span> <span class="id">x</span> &lt; 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x0</span>; <span class="id">rewrite</span> (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">x0</span>) // <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor_le">Rfloor_le</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="floor_natz">floor_natz</a></span> <span class="id">n</span> : <span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> (<span class="id">n</span>%:<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#FloorTheory.R">R</a></span>) = <span class="id">n</span>%:~<span class="id">R</span> :&gt; <span class="id">int</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#Rfloor_natz">Rfloor_natz</a></span> <span class="id">n</span>) <span class="id"><a href="mathcomp.analysis.reals.html#Rtointz">Rtointz</a></span> <span class="id">intz</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="floor0">floor0</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> (0 : <span class="id"><a href="mathcomp.analysis.reals.html#FloorTheory.R">R</a></span>) = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor0">Rfloor0</a></span> (<span class="id">_</span> : 0 = 0%:<span class="id">R</span>) // <span class="id"><a href="mathcomp.analysis.reals.html#Rtointn">Rtointn</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="floor1">floor1</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> (1 : <span class="id"><a href="mathcomp.analysis.reals.html#FloorTheory.R">R</a></span>) = 1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor1">Rfloor1</a></span> (<span class="id">_</span> : 1 = 1%:<span class="id">R</span>) // <span class="id"><a href="mathcomp.analysis.reals.html#Rtointn">Rtointn</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="floor_ge0">floor_ge0</a></span> <span class="id">x</span> : (0 &lt;= <span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">x</span>) = (0 &lt;= <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
 <span class="kwd">by</span> <span class="id">rewrite</span> -(@<span class="id">ler_int</span> <span class="id"><a href="mathcomp.analysis.reals.html#FloorTheory.R">R</a></span>) -<span class="id"><a href="mathcomp.analysis.reals.html#RfloorE">RfloorE</a></span> -<span class="id"><a href="mathcomp.analysis.reals.html#Rfloor_ge_int">Rfloor_ge_int</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="floor_le0">floor_le0</a></span> <span class="id">x</span> : <span class="id">x</span> &lt;= 0 -&gt; <span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">x</span> &lt;= 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> -(@<span class="id">ler_int</span> <span class="id"><a href="mathcomp.analysis.reals.html#FloorTheory.R">R</a></span>) -<span class="id"><a href="mathcomp.analysis.reals.html#RfloorE">RfloorE</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor_le0">Rfloor_le0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="floor_lt0">floor_lt0</a></span> <span class="id">x</span> : <span class="id">x</span> &lt; 0 -&gt; <span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">x</span> &lt; 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> -(@<span class="id">ltrz0</span> <span class="id"><a href="mathcomp.analysis.reals.html#FloorTheory.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.reals.html#RtointK">RtointK</a></span> ?<span class="id"><a href="mathcomp.analysis.reals.html#isint_Rfloor">isint_Rfloor</a></span>// <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor_lt0">Rfloor_lt0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le_floor">le_floor</a></span> : {<span class="id">homo</span> @<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#FloorTheory.R">R</a></span> : <span class="id">x</span> <span class="id">y</span> / <span class="id">x</span> &lt;= <span class="id">y</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
 <span class="kwd">by</span> <span class="id">move</span>=&gt;*; <span class="id">rewrite</span> -(@<span class="id">ler_int</span> <span class="id"><a href="mathcomp.analysis.reals.html#FloorTheory.R">R</a></span>) !<span class="id"><a href="mathcomp.analysis.reals.html#RtointK">RtointK</a></span> ?<span class="id"><a href="mathcomp.analysis.reals.html#isint_Rfloor">isint_Rfloor</a></span> ?<span class="id"><a href="mathcomp.analysis.reals.html#le_Rfloor">le_Rfloor</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="floor_neq0">floor_neq0</a></span> <span class="id">x</span> : (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">x</span> != 0) = (<span class="id">x</span> &lt; 0) || (<span class="id">x</span> &gt;= 1).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span> =&gt; [|[<span class="id">x0</span>|/<span class="id"><a href="mathcomp.analysis.reals.html#le_floor">le_floor</a></span> <span class="id">r1</span>]]; <span class="id">first</span> <span class="id">rewrite</span> <span class="id">neq_lt</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[<span class="id">x0</span>|<span class="id">x0</span>].<br/>
- <span class="kwd">by</span> <span class="id">left</span>; <span class="id">apply</span>: <span class="id">contra_lt</span> <span class="id">x0</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">right</span>; <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor_le">floor_le</a></span> <span class="id">_</span>))// <span class="id">ler1z</span> -<span class="id">gtz0_ge1</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lt_eqF</span>//; <span class="id">apply</span>: <span class="id">contra_lt</span> <span class="id">x0</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">gt_eqF</span>// (<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">r1</span>)// <span class="id"><a href="mathcomp.analysis.reals.html#floor1">floor1</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lt_succ_floor">lt_succ_floor</a></span> <span class="id">x</span> : <span class="id">x</span> &lt; (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">x</span>)%:~<span class="id">R</span> + 1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.reals.html#RfloorE">RfloorE</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#lt_succ_Rfloor">lt_succ_Rfloor</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="floor_lt_int">floor_lt_int</a></span> <span class="id">x</span> (<span class="id">z</span> : <span class="id">int</span>) : (<span class="id">x</span> &lt; <span class="id">z</span>%:~<span class="id">R</span>) = (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">x</span> &lt; <span class="id">z</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor_lt_int">Rfloor_lt_int</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#RfloorE">RfloorE</a></span> <span class="id">ltr_int</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="floor_ge_int">floor_ge_int</a></span> <span class="id">x</span> (<span class="id">z</span> : <span class="id">int</span>) : (<span class="id">z</span>%:~<span class="id">R</span> &lt;= <span class="id">x</span>) = (<span class="id">z</span> &lt;= <span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor_ge_int">Rfloor_ge_int</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#RfloorE">RfloorE</a></span> <span class="id">ler_int</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ltr_add_invr">ltr_add_invr</a></span> (<span class="id">y</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.reals.html#FloorTheory.R">R</a></span>) : <span class="id">y</span> &lt; <span class="id">x</span> -&gt; <span class="kwd">exists</span> <span class="id">k</span>, <span class="id">y</span> + <span class="id">k</span>.+1%:<span class="id">R</span>^-1 &lt; <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
<span class="id">move</span>=&gt; <span class="id">yx</span>; <span class="kwd">exists</span> `|<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> (<span class="id">x</span> - <span class="id">y</span>)^-1|%<span class="id">N</span>.<br/>
<span class="id">rewrite</span> -<span class="id">ltr_subr_addl</span> -{2}(<span class="id">invrK</span> (<span class="id">x</span> - <span class="id">y</span>)%<span class="id">R</span>) <span class="id">ltf_pinv</span> ?<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#qualifE">qualifE</a></span> ?<span class="id">ltr0n</span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">invr_gt0</span> <span class="id">subr_gt0</span>.<br/>
<span class="id">rewrite</span> -<span class="id">natr1</span> <span class="id">natr_absz</span> <span class="id">ger0_norm</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0</a></span> <span class="id">invr_ge0</span> <span class="id">subr_ge0</span> <span class="id">ltW</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.reals.html#RfloorE">RfloorE</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#lt_succ_Rfloor">lt_succ_Rfloor</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.reals.html#FloorTheory">FloorTheory</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="CeilTheory">CeilTheory</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CeilTheory.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#realType">realType</a></span>.<br/>
<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="mathcomp.analysis.reals.html#CeilTheory.R">R</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="isint_Rceil">isint_Rceil</a></span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Rceil">Rceil</a></span> <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rint">Rint</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#Rceil">Rceil</a></span> <span class="id">rpredN</span> <span class="id"><a href="mathcomp.analysis.reals.html#isint_Rfloor">isint_Rfloor</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rceil0">Rceil0</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Rceil">Rceil</a></span> 0 = 0 :&gt; <span class="id"><a href="mathcomp.analysis.reals.html#CeilTheory.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#Rceil">Rceil</a></span> <span class="id">oppr0</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor0">Rfloor0</a></span> <span class="id">oppr0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rceil_ge">Rceil_ge</a></span> <span class="id">x</span> : <span class="id">x</span> &lt;= <span class="id"><a href="mathcomp.analysis.reals.html#Rceil">Rceil</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#Rceil">Rceil</a></span> <span class="id">ler_oppr</span> <span class="id"><a href="mathcomp.analysis.reals.html#Rfloor_le">Rfloor_le</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le_Rceil">le_Rceil</a></span> : {<span class="id">homo</span> (@<span class="id"><a href="mathcomp.analysis.reals.html#Rceil">Rceil</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#CeilTheory.R">R</a></span>) : <span class="id">x</span> <span class="id">y</span> / <span class="id">x</span> &lt;= <span class="id">y</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span> ?; <span class="id">rewrite</span> <span class="id">ler_oppl</span> <span class="id">opprK</span> <span class="id"><a href="mathcomp.analysis.reals.html#le_Rfloor">le_Rfloor</a></span> // <span class="id">ler_oppl</span> <span class="id">opprK</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rceil_ge0">Rceil_ge0</a></span> <span class="id">x</span> : 0 &lt;= <span class="id">x</span> -&gt; 0 &lt;= <span class="id"><a href="mathcomp.analysis.reals.html#Rceil">Rceil</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.reals.html#Rceil0">Rceil0</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#le_Rceil">le_Rceil</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="RceilE">RceilE</a></span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Rceil">Rceil</a></span> <span class="id">x</span> = (<span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> <span class="id">x</span>)%:~<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#Rceil">Rceil</a></span> /<span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#RfloorE">RfloorE</a></span> <span class="id">mulrNz</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ceil_ge">ceil_ge</a></span> <span class="id">x</span> : <span class="id">x</span> &lt;= (<span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> <span class="id">x</span>)%:~<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.reals.html#RceilE">RceilE</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.reals.html#Rceil_ge">Rceil_ge</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ceil_ge0">ceil_ge0</a></span> <span class="id">x</span> : 0 &lt;= <span class="id">x</span> -&gt; 0 &lt;= <span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
 <span class="kwd">by</span> <span class="id">move</span>/(<span class="id">ge_trans</span> (<span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge">ceil_ge</a></span> <span class="id">x</span>)); <span class="id">rewrite</span> -(<span class="id">ler_int</span> <span class="id"><a href="mathcomp.analysis.reals.html#CeilTheory.R">R</a></span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ceil_gt0">ceil_gt0</a></span> <span class="id">x</span> : 0 &lt; <span class="id">x</span> -&gt; 0 &lt; <span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> <span class="id">oppr_gt0</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_lt0">floor_lt0</a></span> // <span class="id">ltr_oppl</span> <span class="id">oppr0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ceil_le0">ceil_le0</a></span> <span class="id">x</span> : <span class="id">x</span> &lt;= 0 -&gt; <span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> <span class="id">x</span> &lt;= 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x0</span>; <span class="id">rewrite</span> -<span class="id">ler_oppl</span> <span class="id">oppr0</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0</a></span> -<span class="id">ler_oppr</span> <span class="id">oppr0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le_ceil">le_ceil</a></span> : {<span class="id">homo</span> @<span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#CeilTheory.R">R</a></span> : <span class="id">x</span> <span class="id">y</span> / <span class="id">x</span> &lt;= <span class="id">y</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">xy</span>; <span class="id">rewrite</span> <span class="id">ler_oppl</span> <span class="id">opprK</span> <span class="id"><a href="mathcomp.analysis.reals.html#le_floor">le_floor</a></span> // <span class="id">ler_oppl</span> <span class="id">opprK</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ceil_ge_int">ceil_ge_int</a></span> <span class="id">x</span> (<span class="id">z</span> : <span class="id">int</span>) : (<span class="id">x</span> &lt;= <span class="id">z</span>%:~<span class="id">R</span>) = (<span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> <span class="id">x</span> &lt;= <span class="id">z</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> <span class="id">ler_oppl</span> -<span class="id"><a href="mathcomp.analysis.reals.html#floor_ge_int">floor_ge_int</a></span>// -<span class="id">ler_oppr</span> <span class="id">mulrNz</span> <span class="id">opprK</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ceil_lt_int">ceil_lt_int</a></span> <span class="id">x</span> (<span class="id">z</span> : <span class="id">int</span>) : (<span class="id">z</span>%:~<span class="id">R</span> &lt; <span class="id">x</span>) = (<span class="id">z</span> &lt; <span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof89')">Proof.</span></div>
<div class="proofscript" id="proof89">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltNge</span> <span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge_int">ceil_ge_int</a></span> -<span class="id">ltNge</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ceilN</span> <span class="id">x</span> : <span class="id">ceil</span> (- <span class="id">x</span>) = - <span class="id">floor</span> <span class="id">x</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof90')">Proof.</span></div>
<div class="proofscript" id="proof90">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">ceil</span> <span class="id">opprK</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">floorN</span> <span class="id">x</span> : <span class="id">floor</span> (- <span class="id">x</span>) = - <span class="id">ceil</span> <span class="id">x</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof91')">Proof.</span></div>
<div class="proofscript" id="proof91">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">ceil</span> <span class="id">opprK</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">CeilTheory</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">Sup</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">realType</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">A</span> <span class="id">B</span> : <span class="id">set</span> <span class="id">R</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">le_down</span> <span class="id">A</span> : <span class="id">A</span> `&lt;=` <span class="id">down</span> <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof92')">Proof.</span></div>
<div class="proofscript" id="proof92">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">xA</span>; <span class="id">apply</span>/<span class="id">downP</span>; <span class="kwd">exists</span> <span class="id">x</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">downK</span> <span class="id">A</span> : <span class="id">down</span> (<span class="id">down</span> <span class="id">A</span>) = <span class="id">down</span> <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof93')">Proof.</span></div>
<div class="proofscript" id="proof93">
<span class="id">rewrite</span> <span class="id">predeqE</span> =&gt; <span class="id"><a name="has_sup_down">x</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Ax</span>; <span class="id">apply</span>/<span class="id">downP</span>; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
<span class="id">case</span>/<span class="id">downP</span> =&gt; <span class="id">y</span> /<span class="id">downP</span>[<span class="id">z</span> <span class="id">Az</span> <span class="id">yz</span> <span class="id">xy</span>].<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">downP</span>; <span class="kwd">exists</span> <span class="id">z</span> =&gt; //; <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">xy</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">has_sup_down</span> <span class="id">A</span> : <span class="id">has_sup</span> (<span class="id">down</span> <span class="id">A</span>) &lt;-&gt; <span class="id">has_sup</span> <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof94')">Proof.</span></div>
<div class="proofscript" id="proof94">
<span class="id">split</span>=&gt; -[<span class="id">nzA</span> <span class="id">nzubA</span>].<br/>
&nbsp;&nbsp;<span class="id">case</span>: <span class="id">nzA</span> =&gt; <span class="id">x</span> /<span class="id">downP</span>[<span class="id">y</span> <span class="id">yS</span> <span class="id">le_xy</span>]; <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span>: <span class="id">nzubA</span>=&gt; <span class="id">u</span> /<span class="id">ubP</span> <span class="id">ubA</span>; <span class="kwd">exists</span> <span class="id">u</span>; <span class="id">apply</span>/<span class="id">ubP</span>=&gt; <span class="id">z</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#downP">zS</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">ubA</span>; <span class="id">apply</span>/<span class="id">downP</span>; <span class="kwd">exists</span> <span class="id">z</span>.<br/>
<span class="id">case</span>: <span class="id">nzA</span> =&gt; <span class="id">x</span> <span class="id">xA</span>; <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">x</span>; <span class="id">apply</span>/<span class="id">le_down</span>.<br/>
<span class="id">case</span>: <span class="id">nzubA</span> =&gt; <span class="id">u</span> /<span class="id">ubP</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup">ubA</a></span>; <span class="kwd">exists</span> <span class="id">u</span>; <span class="id">apply</span>/<span class="id">ubP</span>=&gt; <span class="id">y</span> /<span class="id">downP</span> [].<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">z</span> <span class="id">zA</span> /<span class="id">le_trans</span>; <span class="id">apply</span>; <span class="id">apply</span>/<span class="id">ubA</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">le_sup</span> <span class="id">A</span> <span class="id">B</span> : <span class="id">A</span> `&lt;=` <span class="id">down</span> <span class="id">B</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#ubP">nonempty</a></span> <span class="id">A</span> -&gt; <span class="id">has_sup</span> <span class="id">B</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">sup</span> <span class="id">A</span> &lt;= <span class="id">sup</span> <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof95')">Proof.</span></div>
<div class="proofscript" id="proof95">
<span class="id">move</span>=&gt; <span class="id">le_AB</span> <span class="id">nz_A</span> <span class="id">hs_B</span>; <span class="id">have</span> <span class="id">hs_A</span>: <span class="id">has_sup</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>=&gt; //; <span class="id">case</span>: <span class="id">hs_B</span> =&gt; <span class="id">_</span> [<span class="id">x</span> <span class="id">ubx</span>].<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">x</span>; <span class="id">apply</span>/<span class="id">ubP</span>=&gt; <span class="id">y</span> /<span class="id">le_AB</span> /<span class="id">downP</span>[<span class="id">z</span> <span class="id">zB</span> <span class="id">le_yz</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/(<span class="id">le_trans</span> <span class="id">le_yz</span>); <span class="id">move</span>/<span class="id">ubP</span>: <span class="id">ubx</span>; <span class="id">apply</span>.<br/>
<span class="id">rewrite</span> <span class="id">leNgt</span> -<span class="id">subr_gt0</span>; <span class="id">apply</span>/<span class="id">negP</span> =&gt; <span class="id">lt_sup</span>.<br/>
<span class="id"><a href="mathcomp.analysis.reals.html#sup_upper_bound">case</a></span>: (<span class="id">sup_adherent</span> <span class="id">lt_sup</span> <span class="id">hs_A</span> )=&gt; <span class="id">x</span> /<span class="id">le_AB</span> <span class="id">xdB</span>.<br/>
<span class="id">rewrite</span> <span class="id">subKr</span> =&gt; <span class="id">lt_Bx</span>; <span class="id">case</span>/<span class="id">downP</span>: <span class="id">xdB</span> =&gt; <span class="id">z</span> <span class="id">zB</span>.<br/>
<span class="id">move</span>/(<span class="id">lt_le_trans</span> <span class="id">lt_Bx</span>); <span class="id"><a href="mathcomp.analysis.reals.html#inf">rewrite</a></span> <span class="id">ltNge</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id">ubP</span> : (<span class="id">sup_upper_bound</span> <span class="id">hs_B</span>) =&gt; -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">le_inf</span> <span class="id">A</span> <span class="id">B</span> : -%<span class="id">R</span> @` <span class="id">B</span> `&lt;=` <span class="id">down</span> (-%<span class="id">R</span> @` <span class="id">A</span>) -&gt; <span class="id">nonempty</span> <span class="id">B</span> -&gt; <span class="id">has_inf</span> <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">inf</span> <span class="id">A</span> &lt;= <span class="id">inf</span> <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof96')">Proof.</span></div>
<div class="proofscript" id="proof96">
<span class="id">move</span>=&gt; <span class="id">SBA</span> <span class="id">AB</span> <span class="id">Ai</span>; <span class="id">rewrite</span> <span class="id">ler_oppl</span> <span class="id">opprK</span> <span class="id">le_sup</span>// ?<span class="id"><a href="mathcomp.analysis.reals.html#sup_out">has_inf_supN</a></span>//.<br/>
<span class="id">exact</span>/<span class="id">nonemptyN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">sup_down</span> <span class="id">A</span> : <span class="id">sup</span> (<span class="id">down</span> <span class="id"><a href="mathcomp.analysis.reals.html#has_sup_down">A</a></span>) = <span class="id">sup</span> <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof97')">Proof.</span></div>
<div class="proofscript" id="proof97">
<span class="id">have</span> [<span class="id">supA</span>|<span class="id">supNA</span>] := <span class="id"><a href="mathcomp.analysis.reals.html#le_sup">pselect</a></span> (<span class="id">has_sup</span> <span class="id">A</span>); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">sup_out</span> // =&gt; /<span class="id">has_sup_down</span>.<br/>
<span class="id">have</span> <span class="id">supDA</span> : <span class="id">has_sup</span> (<span class="id">down</span> <span class="id">A</span>) <span class="kwd">by</span> <span class="id">apply</span>/<span class="id">has_sup_down</span>.<br/>
<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span> !<span class="id">le_sup</span> //.<br/>
- <span class="kwd">by</span> <span class="id">case</span>: <span class="id">supA</span> =&gt; -[<span class="id">x</span> <span class="id">xA</span>] <span class="id">_</span>; <span class="kwd">exists</span> <span class="id">x</span>; <span class="id">apply</span>/<span class="id">le_down</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">downK</span>; <span class="id">exact</span>: <span class="id">le_down</span>.<br/>
- <span class="kwd">by</span> <span class="id">case</span>: <span class="id">supA</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lt_sup_imfset</span> {<span class="id">T</span> : <span class="kwd">Type</span>} (<span class="id">F</span> : <span class="id">T</span> -&gt; <span class="id">R</span>) <span class="id">l</span> :<br/>
&nbsp;&nbsp;<span class="id">has_sup</span> [<span class="id">set</span> <span class="id">y</span> | <span class="kwd">exists</span> <span class="id">x</span>, <span class="id">y</span> = <span class="id">F</span> <span class="id">x</span>] -&gt;<br/>
&nbsp;&nbsp;<span class="id">l</span> &lt; <span class="id">sup</span> [<span class="id"><a href="mathcomp.analysis.reals.html#sup_adherent">set</a></span> <span class="id">y</span> | <span class="kwd">exists</span> <span class="id">x</span>, <span class="id">y</span> = <span class="id">F</span> <span class="id">x</span>] -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists2</span> <span class="id">x</span>, <span class="id">l</span> &lt; <span class="id">F</span> <span class="id">x</span> &amp; <span class="id">F</span> <span class="id">x</span> &lt;= <span class="id">sup</span> [<span class="id">set</span> <span class="id">y</span> | <span class="kwd">exists</span> <span class="id">x</span>, <span class="id">y</span> = <span class="id">F</span> <span class="id">x</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof98')">Proof.</span></div>
<div class="proofscript" id="proof98">
<span class="id">set</span> <span class="id">P</span> := [<span class="id">set</span> <span class="id">y</span> | <span class="id">_</span>] =&gt; <span class="id">hs</span>; <span class="id">rewrite</span> -<span class="id">subr_gt0</span>.<br/>
<span class="id">move</span>=&gt; /<span class="id">sup_adherent</span>/(<span class="id">_</span> <span class="id">hs</span>)[<span class="id">_</span> [<span class="id">x</span> -&gt;]]; <span class="id">rewrite</span> <span class="id">subKr</span>=&gt; <span class="id">lt_lFx</span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">x</span> =&gt; //; <span class="id">move</span>/<span class="id">ubP</span> : (<span class="id">sup_upper_bound</span> <span class="id">hs</span>) =&gt; -&gt; //; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lt_inf_imfset</span> {<span class="id">T</span> : <span class="kwd">Type</span>} (<span class="id">F</span> : <span class="id">T</span> -&gt; <span class="id">R</span>) <span class="id">l</span> :<br/>
&nbsp;&nbsp;<span class="id">has_inf</span> [<span class="id">set</span> <span class="id">y</span> | <span class="kwd">exists</span> <span class="id">x</span>, <span class="id">y</span> = <span class="id">F</span> <span class="id">x</span>] -&gt;<br/>
&nbsp;&nbsp;<span class="id">inf</span> [<span class="id">set</span> <span class="id">y</span> | <span class="kwd">exists</span> <span class="id">x</span>, <span class="id">y</span> = <span class="id">F</span> <span class="id">x</span>] &lt; <span class="id">l</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists2</span> <span class="id">x</span>, <span class="id">F</span> <span class="id">x</span> &lt; <span class="id">l</span> &amp; <span class="id">inf</span> [<span class="id">set</span> <span class="id">y</span> | <span class="kwd">exists</span> <span class="id">x</span>, <span class="id">y</span> = <span class="id">F</span> <span class="id">x</span>] &lt;= <span class="id">F</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof99')">Proof.</span></div>
<div class="proofscript" id="proof99">
<span class="id">set</span> <span class="id">P</span> := [<span class="id">set</span> <span class="id">y</span> | <span class="id">_</span>]; <span class="id">move</span>=&gt; <span class="id">hs</span>; <span class="id">rewrite</span> -<span class="id">subr_gt0</span>.<br/>
<span class="id">move</span>=&gt; /<span class="id">inf_adherent</span>/(<span class="id">_</span> <span class="id">hs</span>)[<span class="id">_</span> [<span class="id">x</span> -&gt;]]; <span class="id">rewrite</span> <span class="id">addrCA</span> <span class="id">subrr</span> <span class="id">addr0</span> =&gt; <span class="id">ltFxl</span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">x</span>=&gt; //; <span class="id">move</span>/<span class="id">lbP</span> : (<span class="id">inf_lower_bound</span> <span class="id">hs</span>) =&gt; -&gt; //; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">Sup</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">int_lbound_has_minimum</span> (<span class="id">B</span> : <span class="id">set</span> <span class="id">int</span>) <span class="id">i</span> : <span class="id">B</span> !=<span class="id">set0</span> -&gt; <span class="id">lbound</span> <span class="id">B</span> <span class="id">i</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">j</span>, <span class="id">B</span> <span class="id">j</span> /\ <span class="kwd">forall</span> <span class="id">k</span>, <span class="id">B</span> <span class="id">k</span> -&gt; <span class="id">j</span> &lt;= <span class="id">k</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof100')">Proof.</span></div>
<div class="proofscript" id="proof100">
<span class="id">move</span>=&gt; [<span class="id">i0</span> <span class="id">Bi0</span>] <span class="id">lbBi</span>; <span class="id">have</span> [<span class="id">n</span> <span class="id">i0in</span>] : <span class="kwd">exists</span> <span class="id">n</span>, <span class="id">i0</span> - <span class="id">i</span> = <span class="id">n</span>%:<span class="id">Z</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> `|<span class="id">i0</span> - <span class="id">i</span>|%<span class="id">N</span>; <span class="id">rewrite</span> <span class="id">gez0_abs</span> // <span class="id">subr_ge0</span>; <span class="id">exact</span>: <span class="id">lbBi</span>.<br/>
<span class="id">elim</span>: <span class="id">n</span> <span class="id">i</span> <span class="id">lbBi</span> <span class="id">i0in</span> =&gt; [<span class="id">i</span> <span class="id">lbBi</span> /<span class="id">eqP</span>|<span class="id">n</span> <span class="id">ih</span> <span class="id">i</span> <span class="id">lbBi</span> <span class="id">i0in1</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subr_eq0</span> =&gt; /<span class="id">eqP</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">i0i</a></span>; <span class="kwd">exists</span> <span class="id">i0</span>; <span class="id">split</span> =&gt;// <span class="id">k</span> <span class="id">Bk</span>; <span class="id">rewrite</span> <span class="id">i0i</span> <span class="id">lbBi</span>.<br/>
<span class="id">have</span> <span class="id">i0i1n</span> : <span class="id">i0</span> - (<span class="id">i</span> + 1) = <span class="id">n</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">opprD</span> <span class="id">addrA</span> <span class="id">i0in1</span> -<span class="id">addn1</span> <span class="id">PoszD</span> <span class="id">addrK</span>.<br/>
<span class="id">have</span> [?|/<span class="id">not_forallP</span>] := <span class="id">pselect</span> (<span class="id">lbound</span> <span class="id">B</span> (<span class="id">i</span> + 1)); <span class="id">first</span> <span class="id">exact</span>: (<span class="id">ih</span> (<span class="id">i</span> + 1)).<br/>
<span class="id">move</span>=&gt; /<span class="id">contrapT</span>[<span class="id">x</span> /<span class="id">not_implyP</span>[<span class="id">Bx</span> <span class="id">i1x</span>]]; <span class="kwd">exists</span> <span class="id">x</span>; <span class="id">split</span> =&gt; // <span class="id">k</span> <span class="id">Bk</span>.<br/>
<span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">lbBi</span> <span class="id">_</span> <span class="id">Bk</span>)) //.<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id">negP</span> : <span class="id">i1x</span>; <span class="id">rewrite</span> -<span class="id">ltNge</span> <span class="id">ltz_addr1</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id">rat_in_itvoo</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id">bound_div</span> (<span class="id">R</span> : <span class="id">archiFieldType</span>) (<span class="id">x</span> <span class="id">y</span> : <span class="id">R</span>) : <span class="id">nat</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">y</span> &lt; 0 <span class="kwd">then</span> 0%<span class="id">N</span> <span class="kwd">else</span> <span class="id">Num.bound</span> (<span class="id">y</span> / <span class="id">x</span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id">archi_bound_divP</span> (<span class="id">R</span> : <span class="id">archiFieldType</span>) (<span class="id">x</span> <span class="id">y</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;0 &lt; <span class="id">x</span> -&gt; <span class="id">y</span> &lt; <span class="id">x</span> *+ <span class="id">bound_div</span> <span class="id">x</span> <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof101')">Proof.</span></div>
<div class="proofscript" id="proof101">
<span class="id">move</span>=&gt; <span class="id">x0</span>; <span class="id">have</span> [<span class="id">y0</span>|<span class="id">y0</span>] := <span class="id">leP</span> 0 <span class="id">y</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id"><a name="rat_in_itvoo">rewrite</a></span> /<span class="id">bound_div</span> <span class="id">y0</span> <span class="id">mulr0n</span>.<br/>
<span class="id">rewrite</span> /<span class="id">bound_div</span> (<span class="id">ltNge</span> <span class="id">y</span> 0) <span class="id">y0</span>/= -<span class="id">mulr_natl</span> -<span class="id">ltr_pdivr_mulr</span>//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">archi_boundP</span>// (<span class="id">divr_ge0</span> <span class="id">_</span>(<span class="id">ltW</span> <span class="id">_</span>)).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">rat_in_itvoo</span> (<span class="id"><a href="mathcomp.analysis.reals.html#rat_in_itvoo.bound_div">R</a></span> : <span class="id">realType</span>) (<span class="id">x</span> <span class="id">y</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">x</span> &lt; <span class="id">y</span> -&gt; <span class="kwd">exists</span> <span class="id">q</span>, <span class="id">ratr</span> <span class="id">q</span> \<span class="kwd">in</span> `]<span class="id">x</span>, <span class="id">y</span>[.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof102')">Proof.</span></div>
<div class="proofscript" id="proof102">
<span class="id">move</span>=&gt; <span class="id">xy</span>; <span class="id">move</span>: (<span class="id">xy</span>); <span class="id">rewrite</span> -<span class="id">subr_gt0</span>.<br/>
<span class="id">move</span>=&gt; /(<span class="id">archi_bound_divP</span> 1); <span class="id">set</span> <span class="id">n</span> := <span class="id">bound_div</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id">nyx</span>.<br/>
<span class="id">have</span> [<span class="id">m1</span> <span class="id">m1nx</span>] : <span class="kwd">exists</span> <span class="id">m1</span>, <span class="id">m1</span>.+1%:~<span class="id">R</span> &gt; <span class="id">x</span> *+ <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> := <span class="id">archi_bound_divP</span> (<span class="id">x</span> *+ <span class="id">n</span>) <span class="id">ltr01</span>; <span class="id">set</span> <span class="id">p</span> := <span class="id">bound_div</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id">nxp</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">x0</span>|<span class="id">x0</span>] := <span class="id">ltP</span> 0 <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">p</span>.-1; <span class="id">rewrite</span> <span class="id">prednK</span> // <span class="id">lt0n</span>; <span class="id">apply</span>: <span class="id">contraPN</span> <span class="id">nxp</span> =&gt; /<span class="id">eqP</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">negP</span>; <span class="id">rewrite</span> -<span class="id">leNgt</span> <span class="id">mulrn_wge0</span> // <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> 0%<span class="id">N</span>; <span class="id">rewrite</span> (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">ltr01</span>) // <span class="id">mulrn_wle0</span>.<br/>
<span class="id">have</span> [<span class="id">m2</span> <span class="id">m2nx</span>] : <span class="kwd">exists</span> <span class="id">m2</span>, <span class="id">m2</span>.+1%:~<span class="id">R</span> &gt; - <span class="id">x</span> *+ <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> := <span class="id">archi_bound_divP</span> (- <span class="id">x</span> *+ <span class="id">n</span>) <span class="id">ltr01</span>; <span class="id">set</span> <span class="id">p</span> := <span class="id">bound_div</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id">nxp</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">x0</span>|<span class="id">x0</span>] := <span class="id">ltP</span> 0 <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">O</span>; <span class="id">rewrite</span> (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">ltr01</span>) // <span class="id">nmulrn_rle0</span>// <span class="id">oppr_lt0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">p</span>.-1; <span class="id">rewrite</span> <span class="id">prednK</span> // -(<span class="id">ltr_nat</span> <span class="id">R</span>) (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">nxp</span>) //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrn_wge0</span> // <span class="id">oppr_ge0</span>.<br/>
<span class="id">have</span> : <span class="kwd">exists</span> <span class="id">m</span>, -(<span class="id">m2</span>.+1 : <span class="id">int</span>) &lt;= <span class="id">m</span> &lt;= <span class="id">m1</span>.+1 /\ <span class="id">m</span>%:~<span class="id">R</span> - 1 &lt;= <span class="id">x</span> *+ <span class="id">n</span> &lt; <span class="id">m</span>%:~<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">m2m1</span> : - (<span class="id">m2</span>.+1 : <span class="id">int</span>) &lt; <span class="id">m1</span>.+1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id">ltr_int</span> <span class="id">R</span>) (<span class="id">lt_trans</span> <span class="id">_</span> <span class="id">m1nx</span>)// <span class="id">rmorphN</span> /= <span class="id">ltr_oppl</span> // -<span class="id">mulNrn</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">B</span> := [<span class="id">set</span> <span class="id">m</span> : <span class="id">int</span> | <span class="id">m</span>%:~<span class="id">R</span> &gt; <span class="id">x</span> *+ <span class="id">n</span>].<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">m1B</span> : <span class="id">B</span> <span class="id">m1</span>.+1 <span class="kwd">by</span> [].<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">m2B</span> : <span class="id">lbound</span> <span class="id">B</span> (- <span class="id">m2</span>.+1%:~<span class="id">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">i</span>; <span class="id">rewrite</span> /<span class="id">B</span> /= -(<span class="id">opprK</span> (<span class="id">x</span> *+ <span class="id">n</span>)) -<span class="id">ltr_oppl</span> -<span class="id">mulNrn</span> =&gt; <span class="id">nxi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id">mulN1r</span> <span class="id">m2</span>.+1%:~<span class="id">R</span>) <span class="id">mulN1r</span> -<span class="id">ler_oppl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> := <span class="id">lt_trans</span> <span class="id">nxi</span> <span class="id">m2nx</span>; <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">intz</a></span> -<span class="id">mulrNz</span> <span class="id">ltr_int</span> =&gt; /<span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">m</span> [<span class="id">Bm</span> <span class="id">infB</span>]] := <span class="id">int_lbound_has_minimum</span> (<span class="id">ex_intro</span> <span class="id">_</span> <span class="id">_</span> <span class="id">m1B</span>) <span class="id">m2B</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">mN1B</span> : ~ <span class="id">B</span> (<span class="id">m</span> - 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">infB</span>; <span class="id">apply</span>/<span class="id">negP</span>; <span class="id">rewrite</span> -<span class="id">ltNge</span> <span class="id">ltr_subl_addr</span> <span class="id">ltz_addr1</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">m</span>; <span class="id">split</span>; [<span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span>|<span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span>] =&gt; //.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>: <span class="id">m2B</span>; <span class="id">rewrite</span> /<span class="id">lbound</span> /= =&gt; /(<span class="id">_</span> <span class="id">_</span> <span class="id">Bm</span>); <span class="id">rewrite</span> <span class="id">intz</span>.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id">infB</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">leNgt</span>; <span class="id">apply</span>/<span class="id">negP</span>; <span class="id">rewrite</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">B</a></span> /= <span class="id">intrD</span> <span class="kwd">in</span> <span class="id">mN1B</span>.<br/>
<span class="id">move</span>=&gt; [<span class="id">m</span> [/<span class="id">andP</span>[<span class="id">m2m</span> <span class="id">mm1</span>] /<span class="id">andP</span>[<span class="id">mnx</span> <span class="id">nxm</span>]]].<br/>
<span class="id">have</span> [/<span class="id">andP</span>[<span class="id">a</span> <span class="id">b</span>] <span class="id">c</span>] : <span class="id">x</span> *+ <span class="id">n</span> &lt; <span class="id">m</span>%:~<span class="id">R</span> &lt;= 1 + <span class="id">x</span> *+ <span class="id">n</span> /\ 1 + <span class="id">x</span> *+ <span class="id">n</span> &lt; <span class="id">y</span> *+ <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contraTN">split</a></span>; [<span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span>|] =&gt; //; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">ler_subl_addl</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">nyx</span>; <span class="id">rewrite</span> <span class="id">mulrnDl</span> -<span class="id">ltr_subr_addr</span> <span class="id">mulNrn</span>.<br/>
<span class="id">have</span> <span class="id">n_gt0</span> : <span class="id">n</span> != 0%<span class="id">N</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">contraTN</span> <span class="id">nyx</span> =&gt; /<span class="id">eqP</span> -&gt;; <span class="id">rewrite</span> <span class="id">mulr0n</span> <span class="id">ltr10</span>.<br/>
<span class="kwd">exists</span> (<span class="id">m</span>%:<span class="id">Q</span> / <span class="id">n</span>%:<span class="id">Q</span>); <span class="id">rewrite</span> <span class="id">in_itv</span> /=; <span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">rmorphM</span> (@<span class="id">rmorphV</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">n</span>%:~<span class="id">R</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">unitfE</span> // <span class="id">intr_eq0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ltr_pdivl_mulr</span> /=; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr0q</span> <span class="id">ltr0z</span> <span class="id">ltz_nat</span> <span class="id">lt0n</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrC</span> // !<span class="id">ratr_int</span> <span class="id">mulr_natl</span>.<br/>
<span class="id">rewrite</span> <span class="id">rmorphM</span> /= (@<span class="id">rmorphV</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">n</span>%:~<span class="id">R</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">unitfE</span> // <span class="id">intr_eq0</span>.<br/>
<span class="id">rewrite</span> <span class="id">ltr_pdivr_mulr</span> /=; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr0q</span> <span class="id">ltr0z</span> <span class="id">ltz_nat</span> <span class="id">lt0n</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> 2!<span class="id">ratr_int</span> <span class="id">mulr_natr</span> (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">c</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">rat_in_itvoo</span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/tree/yoshihiro503%40generate_index">a fork of coq2html</a></div>
</body>
</html>
