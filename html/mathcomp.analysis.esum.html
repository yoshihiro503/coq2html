
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.esum</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.esum" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
  <link rel="stylesheet" href="../css/texmath.css">
  <script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
  <script src="../texmath.js"></script>

<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module mathcomp.analysis.esum</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">all_ssreflect</span> <span class="id">ssralg</span> <span class="id">ssrnum</span> <span class="id">finmap</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.cardinality.html">cardinality</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html">fsbigop</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.reals.html">reals</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html">ereal</a></span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span> <span class="id"><a href="mathcomp.analysis.topology.html">topology</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html">sequences</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html">normedtype</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html">numfun</a></span>.<br/>
<br/>
<pre>
(******************************************************************************)
(*                      Summation over classical sets                         *)
(*                                                                            *)
(* This file provides a definition of sum over classical sets and a few       *)
(* lemmas in particular for the case of sums of non-negative terms.           *)
(*                                                                            *)
(*            fsets S == the set of finite sets (fset) included in S          *)
(* \esum_(i in I) f i == summation of non-negative extended real numbers over *)
(*                       classical sets; I is a classical set and f is a      *)
(*                       function whose codomain is included in the extended  *)
(*                       reals; it is 0 if I = set0 and sup(\sum_A a) where A *)
(*                       is a finite set included in I o.w.                   *)
(*       summable D f := \esum_(x in D) `| f x | &lt; +oo                        *)
(*                                                                            *)
(******************************************************************************)</pre>
<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "\<span class="id">esum_</span> ( <span class="id">i</span> '<span class="kwd">in</span>' <span class="id">P</span> ) <span class="id">F</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 41, <span class="id">F</span> <span class="kwd">at</span> <span class="id">level</span> 41, <span class="id">format</span> "\<span class="id">esum_</span> ( <span class="id">i</span>  '<span class="kwd">in</span>'  <span class="id">P</span> )  <span class="id">F</span>").<br/>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="kwd">Arguments</span>.<br/>
<span class="id">Unset</span> <span class="id">Strict</span> <span class="kwd">Implicit</span>.<br/>
<span class="id">Unset</span> <span class="id">Printing</span> <span class="kwd">Implicit</span> <span class="id">Defensive</span>.<br/>
<span class="kwd">Import</span> <span class="id">Order.TTheory</span> <span class="id">GRing.Theory</span> <span class="id">Num.Def</span> <span class="id">Num.Theory</span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ring_scope</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="set_of_fset_in_a_set">set_of_fset_in_a_set</a></span>.<br/>
<span class="kwd">Variable</span> (<span class="id"><a name="set_of_fset_in_a_set.T">T</a></span> : <span class="id">choiceType</span>).<br/>
<span class="kwd">Implicit</span> <span class="kwd">Type</span> <span class="id">S</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#set_of_fset_in_a_set.T">T</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="fsets">fsets</a></span> <span class="id">S</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#set_of_fset_in_a_set.T">T</a></span>) := [<span class="id">set</span> <span class="id">F</span> | <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">F</span> /\ <span class="id">F</span> `&lt;=` <span class="id">S</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fsets_set0">fsets_set0</a></span> <span class="id">S</span> : <span class="id"><a href="mathcomp.analysis.esum.html#fsets">fsets</a></span> <span class="id">S</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
 <span class="kwd">by</span> <span class="id">split</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fsets_self">fsets_self</a></span> (<span class="id">F</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#set_of_fset_in_a_set.T">T</a></span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">F</span> -&gt; <span class="id"><a href="mathcomp.analysis.esum.html#fsets">fsets</a></span> <span class="id">F</span> <span class="id">F</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">finF</span>; <span class="id">split</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fsets0">fsets0</a></span> : <span class="id"><a href="mathcomp.analysis.esum.html#fsets">fsets</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> = [<span class="id">set</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">A</span>; <span class="id">split</span> =&gt; [|-&gt;]; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.esum.html#fsets_set0">fsets_set0</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.esum.html#fsets">fsets</a></span>/= <span class="id"><a href="mathcomp.classical.classical_sets.html#subset0">subset0</a></span> =&gt; -[].<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#set_of_fset_in_a_set">set_of_fset_in_a_set</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="esum">esum</a></span>.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="esum.R">R</a></span> : <span class="id">realFieldType</span>) (<span class="id"><a name="esum.T">T</a></span> : <span class="id">choiceType</span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">S</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum.T">T</a></span>) (<span class="id">a</span> : <span class="id"><a href="mathcomp.analysis.esum.html#esum.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum.R">R</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="esum">esum</a></span> <span class="id">S</span> <span class="id">a</span> := <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> [<span class="id">set</span> \<span class="id">sum_</span>(<span class="id">x</span> \<span class="kwd">in</span> <span class="id">A</span>) <span class="id">a</span> <span class="id">x</span> | <span class="id">A</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets">fsets</a></span> <span class="id">S</span>].<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> "\<span class="id">esum_</span> ( <span class="id">i</span> '<span class="kwd">in</span>' <span class="id">P</span> ) <span class="id">A</span>" := (<span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span> <span class="id">P</span> (<span class="kwd">fun</span> <span class="id">i</span> =&gt; <span class="id">A</span>)).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esum_set0">esum_set0</a></span> <span class="id">a</span> : \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>) <span class="id">a</span> <span class="id">i</span> = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets0">fsets0</a></span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = [<span class="id">set</span> 0%<span class="id">E</span>]) ?<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup1">ereal_sup1</a></span>//.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; [<span class="id">x</span> [<span class="id">_</span> /= -&gt;]|<span class="id">x</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_set0">fsbig_set0</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; -&gt; /=; <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_set0">fsbig_set0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> "\<span class="id">esum_</span> ( <span class="id">i</span> '<span class="kwd">in</span>' <span class="id">P</span> ) <span class="id">F</span>" := (<span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span> <span class="id">P</span> (<span class="kwd">fun</span> <span class="id">i</span> =&gt; <span class="id">F</span>)) : <span class="id">ring_scope</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="esum_realType">esum_realType</a></span>.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="esum_realType.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="esum_realType.T">T</a></span> : <span class="id">choiceType</span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">a</span> : <span class="id"><a href="mathcomp.analysis.esum.html#esum_realType.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_realType.R">R</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esum_ge0">esum_ge0</a></span> (<span class="id">S</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_realType.T">T</a></span>) <span class="id">a</span> :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id">S</span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">a</span> <span class="id">x</span>) -&gt; 0 &lt;= \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">S</span>) <span class="id">a</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">move</span>=&gt; <span class="id">a0</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.esum.html#fsets_set0">fsets_set0</a></span>|<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_set0">fsbig_set0</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esum_fset">esum_fset</a></span> (<span class="id">F</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_realType.T">T</a></span>) <span class="id">a</span> : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">F</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">i</span> \<span class="kwd">in</span> <span class="id">F</span> -&gt; 0 &lt;= <span class="id">a</span> <span class="id">i</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">F</span>) <span class="id">a</span> <span class="id">i</span> = \<span class="id">sum_</span>(<span class="id">i</span> \<span class="kwd">in</span> <span class="id">F</span>) <span class="id">a</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="id">move</span>=&gt; <span class="id">finF</span> <span class="id">f0</span>; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>; <span class="kwd">exists</span> <span class="id">F</span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.esum.html#fsets_self">fsets_self</a></span>.<br/>
<span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> =&gt; /= ? -[<span class="id">F</span>' [<span class="id">finF</span>' <span class="id">F</span>'<span class="id">F</span>] &lt;-].<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.ereal.html#lee_fsum_nneg_subset">lee_fsum_nneg_subset</a></span> =&gt; //; <span class="id">first</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetP">subsetP</a></span>.<br/>
<span class="kwd">by</span>  <span class="id">move</span>=&gt; <span class="id">t</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">_</span>] /<span class="id">f0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esum_set1">esum_set1</a></span> <span class="id">t</span> <span class="id">a</span> : 0 &lt;= <span class="id">a</span> <span class="id">t</span> -&gt; \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> [<span class="id">set</span> <span class="id">t</span>]) <span class="id">a</span> <span class="id">i</span> = <span class="id">a</span> <span class="id">t</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_fset">esum_fset</a></span>// ?<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set1">fset_set1</a></span>// ?<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_set1">fsbig_set1</a></span>// =&gt; <span class="id">t</span>' /[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_realType">esum_realType</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esum_ge">esum_ge</a></span> [<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>] [<span class="id">T</span> : <span class="id">choiceType</span>] (<span class="id">I</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id">a</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) <span class="id">x</span> :<br/>
&nbsp;&nbsp;(<span class="kwd">exists2</span> <span class="id">X</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>, <span class="id"><a href="mathcomp.analysis.esum.html#fsets">fsets</a></span> <span class="id">I</span> <span class="id">X</span> &amp; <span class="id">x</span> &lt;= \<span class="id">sum_</span>(<span class="id">i</span> \<span class="kwd">in</span> <span class="id">X</span>) <span class="id">a</span> <span class="id">i</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id">x</span> &lt;= \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">I</span>) <span class="id">a</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">X</span> <span class="id">IX</span> /<span class="id">le_trans</span>-&gt;//]; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> =&gt; /=; <span class="kwd">exists</span> <span class="id">X</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esum1">esum1</a></span> [<span class="id">R</span> : <span class="id">realFieldType</span>] [<span class="id">I</span> : <span class="id">choiceType</span>] (<span class="id">D</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">I</span>) (<span class="id">a</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">D</span> <span class="id">i</span> -&gt; <span class="id">a</span> <span class="id">i</span> = 0) -&gt; \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">a</span> <span class="id">i</span> = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
<span class="id">move</span>=&gt; <span class="id">a0</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span> (<span class="id">_</span> : [<span class="id">set</span> <span class="id">_</span> | <span class="id">_</span> <span class="kwd">in</span> <span class="id">_</span>] = [<span class="id">set</span> 0]) ?<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup1">ereal_sup1</a></span>//.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; <span class="id">x</span> //= =&gt; [[<span class="id">X</span> [<span class="id">finX</span> <span class="id">XI</span>]] &lt;-|-&gt;].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig1">fsbig1</a></span>// =&gt; <span class="id">i</span> /<span class="id">XI</span>/<span class="id">a0</span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_set0">fsbig_set0</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.esum.html#fsets_set0">fsets_set0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le_esum">le_esum</a></span> [<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>] [<span class="id">T</span> : <span class="id">choiceType</span>] (<span class="id">I</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id">a</span> <span class="id">b</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">I</span> <span class="id">i</span> -&gt; <span class="id">a</span> <span class="id">i</span> &lt;= <span class="id">b</span> <span class="id">i</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">I</span>) <span class="id">a</span> <span class="id">i</span> &lt;= \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">I</span>) <span class="id">b</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
<span class="id">move</span>=&gt; <span class="id">le_ab</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> =&gt; //= <span class="id">_</span> [<span class="id">X</span> [<span class="id">finX</span> <span class="id">XI</span>]] &lt;-; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge">esum_ge</a></span>//.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">X</span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#lee_fsum">lee_fsum</a></span> =&gt; // <span class="id">t</span> /<span class="id">XI</span> /<span class="id">le_ab</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eq_esum">eq_esum</a></span> [<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>] [<span class="id">T</span> : <span class="id">choiceType</span>] (<span class="id">I</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id">a</span> <span class="id">b</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">I</span> <span class="id">i</span> -&gt; <span class="id">a</span> <span class="id">i</span> = <span class="id">b</span> <span class="id">i</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">I</span>) <span class="id">a</span> <span class="id">i</span> = \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">I</span>) <span class="id">b</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">e</span>; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span> !<span class="id"><a href="mathcomp.analysis.esum.html#le_esum">le_esum</a></span>// =&gt; <span class="id">i</span> <span class="id">Ii</span>; <span class="id">rewrite</span> <span class="id">e</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esumD">esumD</a></span> [<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>] [<span class="id">T</span> : <span class="id">choiceType</span>] (<span class="id">I</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id">a</span> <span class="id">b</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">I</span> <span class="id">i</span> -&gt; 0 &lt;= <span class="id">a</span> <span class="id">i</span>) -&gt; (<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">I</span> <span class="id">i</span> -&gt; 0 &lt;= <span class="id">b</span> <span class="id">i</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">I</span>) (<span class="id">a</span> <span class="id">i</span> + <span class="id">b</span> <span class="id">i</span>) = \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">I</span>) <span class="id">a</span> <span class="id">i</span> + \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">I</span>) <span class="id">b</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
<span class="id">move</span>=&gt; <span class="id">ag0</span> <span class="id">bg0</span>; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span>//= =&gt; <span class="id">x</span> [<span class="id">X</span> [<span class="id">finX</span> <span class="id">XI</span>]] &lt;-; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_split">fsbig_split</a></span>//=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_add">lee_add</a></span>// <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>//=; <span class="kwd">exists</span> <span class="id">X</span>.<br/>
<span class="id">wlog</span> : <span class="id">a</span> <span class="id">b</span> <span class="id">ag0</span> <span class="id">bg0</span> / \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">I</span>) <span class="id">a</span> <span class="id">i</span> \<span class="id">isn</span>'<span class="id">t</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> =&gt; [<span class="id">saoo</span>|]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numPn">fin_numPn</a></span>[-&gt;|/[<span class="id">dup</span>] <span class="id">aoo</span> -&gt;]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">leNye</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> +<span class="id">oo</span>)//; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde">adde</a></span>/=; <span class="id">case</span>: <span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span>; <span class="id">apply</span>/<span class="id">eqP</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eq_infty">eq_infty</a></span> =&gt; <span class="id">y</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge">esum_ge</a></span>//.<br/>
&nbsp;&nbsp;<span class="id">have</span> : <span class="id">y</span>%:<span class="id">E</span> &lt; \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">I</span>) <span class="id">a</span> <span class="id">i</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">aoo</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_gt">ereal_sup_gt</a></span>[<span class="id">_</span> [<span class="id">X</span> [<span class="id">finX</span> <span class="id">XI</span>]] &lt;-] /<span class="id">ltW</span> <span class="id">yle</span>; <span class="kwd">exists</span> <span class="id">X</span> =&gt; //=.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">yle</span>)// <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_split">fsbig_split</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl</a></span>// <span class="id"><a href="mathcomp.analysis.ereal.html#fsume_ge0">fsume_ge0</a></span>// =&gt; // <span class="id">i</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">XI</span>; <span class="id">exact</span>: <span class="id">bg0</span>.<br/>
<span class="id">case</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">I</span>) <span class="id">a</span> <span class="id">i</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>)) =&gt; <span class="id">sa</span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id">saoo</span>.<br/>
<span class="id">case</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">I</span>) <span class="id">b</span> <span class="id">i</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>)) =&gt; <span class="id">sb</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> <span class="id">_</span> <span class="id">_</span>)) <span class="id">saoo</span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_subr_addr">lee_subr_addr</a></span>// <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span>//= =&gt; <span class="id">_</span> [<span class="id">X</span> [<span class="id">finX</span> <span class="id">XI</span>]] &lt;-.<br/>
<span class="id">have</span> <span class="id">saX</span> : \<span class="id">sum_</span>(<span class="id">i</span> \<span class="kwd">in</span> <span class="id">X</span>) <span class="id">a</span> <span class="id">i</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contraTT">contraTT</a></span> <span class="id">sa</span> =&gt; /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numPn">fin_numPn</a></span>[] <span class="id">sa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">suff</span> : \<span class="id">sum_</span>(<span class="id">i</span> \<span class="kwd">in</span> <span class="id">X</span>) <span class="id">a</span> <span class="id">i</span> &gt;= 0 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">sa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#fsume_ge0">fsume_ge0</a></span>// =&gt; <span class="id">i</span> /<span class="id">XI</span>/<span class="id">ag0</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numPn">fin_numPn</a></span>; <span class="id">right</span>; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge">esum_ge</a></span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">X</span>; <span class="id">rewrite</span> // <span class="id">sa</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_subr_addr">lee_subr_addr</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_subr_addr">lee_subr_addr</a></span>// <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span>//= =&gt; <span class="id">_</span> [<span class="id">Y</span> [<span class="id">finY</span> <span class="id">YI</span>]] &lt;-.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_subr_addr">lee_subr_addr</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge">esum_ge</a></span>//; <span class="kwd">exists</span> (<span class="id">X</span> `|` <span class="id">Y</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">split</span>; [<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_setU">finite_setU</a></span>|<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subUset">subUset</a></span>].<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_split">fsbig_split</a></span> ?<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setU">finite_setU</a></span>//= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_add">lee_add</a></span>// <span class="id"><a href="mathcomp.analysis.ereal.html#lee_fsum_nneg_subset">lee_fsum_nneg_subset</a></span>//= ?<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setU">finite_setU</a></span>//.<br/>
- <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetP">subsetP</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetUl">subsetUl</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setU">in_setU</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andb_orr">andb_orr</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andNb">andNb</a></span>/= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">_</span>] /[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] /<span class="id">YI</span>/<span class="id">ag0</span>.<br/>
- <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetP">subsetP</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetUr">subsetUr</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setU">in_setU</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andb_orr">andb_orr</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andNb">andNb</a></span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbF">orbF</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">_</span>] /[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] /<span class="id">XI</span>/<span class="id">bg0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esum_mkcond">esum_mkcond</a></span> [<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>] [<span class="id">T</span> : <span class="id">choiceType</span>] (<span class="id">I</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">a</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">I</span>) <span class="id">a</span> <span class="id">i</span> = \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> [<span class="id">set</span>: <span class="id">T</span>]) <span class="kwd">if</span> <span class="id">i</span> \<span class="kwd">in</span> <span class="id">I</span> <span class="kwd">then</span> <span class="id">a</span> <span class="id">i</span> <span class="kwd">else</span> 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span> !<span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span>//= =&gt; <span class="id">_</span> [<span class="id">X</span> [<span class="id">finX</span> <span class="id">XI</span>]] &lt;-.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">big_mkcond</span>/= <span class="id">big_fset_condE</span>/=; <span class="id">set</span> <span class="id">Y</span> := [<span class="id">fset</span> <span class="id">_</span> | <span class="id">_</span> <span class="kwd">in</span> <span class="id">_</span> &amp; <span class="id">_</span>]%<span class="id">fset</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>//=; <span class="kwd">exists</span> [<span class="id">set</span>` <span class="id">Y</span>]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>// <span class="id"><a href="mathcomp.classical.cardinality.html#set_fsetK">set_fsetK</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">split</span> =&gt; // <span class="id">i</span>/=; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">_</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>//; <span class="kwd">exists</span> <span class="id">X</span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; <span class="id">Xx</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifT">ifT</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>; <span class="id">exact</span>: <span class="id">XI</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esum_mkcondr">esum_mkcondr</a></span> [<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>] [<span class="id">T</span> : <span class="id">choiceType</span>] (<span class="id">I</span> <span class="id">J</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id">a</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">I</span> `&amp;` <span class="id">J</span>) <span class="id">a</span> <span class="id">i</span> = \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">I</span>) <span class="kwd">if</span> <span class="id">i</span> \<span class="kwd">in</span> <span class="id">J</span> <span class="kwd">then</span> <span class="id">a</span> <span class="id">i</span> <span class="kwd">else</span> 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcond">esum_mkcond</a></span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcond">esum_mkcond</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span>=&gt; <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span>; <span class="id">case</span>: (<span class="id">i</span> \<span class="kwd">in</span> <span class="id">I</span>) (<span class="id">i</span> \<span class="kwd">in</span> <span class="id">J</span>) =&gt; [] [].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esum_mkcondl">esum_mkcondl</a></span> [<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>] [<span class="id">T</span> : <span class="id">choiceType</span>] (<span class="id">I</span> <span class="id">J</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id">a</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">I</span> `&amp;` <span class="id">J</span>) <span class="id">a</span> <span class="id">i</span> = \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">J</span>) <span class="kwd">if</span> <span class="id">i</span> \<span class="kwd">in</span> <span class="id">I</span> <span class="kwd">then</span> <span class="id">a</span> <span class="id">i</span> <span class="kwd">else</span> 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcond">esum_mkcond</a></span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcond">esum_mkcond</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span>=&gt; <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span>; <span class="id">case</span>: (<span class="id">i</span> \<span class="kwd">in</span> <span class="id">I</span>) (<span class="id">i</span> \<span class="kwd">in</span> <span class="id">J</span>) =&gt; [] [].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esumID">esumID</a></span> (<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id">I</span> : <span class="id">choiceType</span>) (<span class="id">B</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">I</span>) (<span class="id">A</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">I</span>)<br/>
&nbsp;&nbsp;(<span class="id">F</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">A</span> <span class="id">i</span> -&gt; <span class="id">F</span> <span class="id">i</span> &gt;= 0) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">A</span>) <span class="id">F</span> <span class="id">i</span> = (\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">A</span> `&amp;` <span class="id">B</span>) <span class="id">F</span> <span class="id">i</span>) +<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">A</span> `&amp;` ~` <span class="id">B</span>) <span class="id">F</span> <span class="id">i</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
<span class="id">move</span>=&gt; <span class="id">F0</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcondr">esum_mkcondr</a></span> -<span class="id"><a href="mathcomp.analysis.esum.html#esumD">esumD</a></span>; <span class="id">do</span> ?<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> /<span class="id">F0</span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span>=&gt; <span class="id">i</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setC">in_setC</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>; <span class="id">rewrite</span> /= (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>, <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>).<br/>
Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#esumID">esumID</a></span> {<span class="id">R</span> <span class="id">I</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esum_sum">esum_sum</a></span> [<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>] [<span class="id">T1</span> <span class="id">T2</span> : <span class="id">choiceType</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">I</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T1</span>) (<span class="id">r</span> : <span class="id">seq</span> <span class="id">T2</span>) (<span class="id">P</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id">T2</span>) (<span class="id">a</span> : <span class="id">T1</span> -&gt; <span class="id">T2</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span> <span class="id">j</span>, <span class="id">I</span> <span class="id">i</span> -&gt; <span class="id">P</span> <span class="id">j</span> -&gt; 0 &lt;= <span class="id">a</span> <span class="id">i</span> <span class="id">j</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">I</span>) \<span class="id">sum_</span>(<span class="id">j</span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">j</span>) <span class="id">a</span> <span class="id">i</span> <span class="id">j</span> =<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">j</span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">j</span>) \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">I</span>) <span class="id">a</span> <span class="id">i</span> <span class="id">j</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
<span class="id">move</span>=&gt; <span class="id">a_ge0</span>; <span class="id">elim</span>: <span class="id">r</span> =&gt; [|<span class="id">j</span> <span class="id">r</span> <span class="id">IHr</span>]; <span class="id">rewrite</span> ?(<span class="id">big_nil</span>, <span class="id">big_cons</span>)// -?<span class="id">IHr</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum1">esum1</a></span>// =&gt; <span class="id">i</span>; <span class="id">rewrite</span> <span class="id">big_nil</span>.<br/>
<span class="id">case</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">P</span> <span class="id">j</span>)) =&gt; <span class="id">Pj</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> =&gt; <span class="id">i</span> <span class="id">Ii</span>; <span class="id">rewrite</span> <span class="id">big_cons</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negPf">negPf</a></span> <span class="id">Pj</span>).<br/>
<span class="id">have</span> <span class="id">aj_ge0</span> <span class="id">i</span> : <span class="id">I</span> <span class="id">i</span> -&gt; <span class="id">a</span> <span class="id">i</span> <span class="id">j</span> &gt;= 0 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id">a_ge0</span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.esum.html#esumD">esumD</a></span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">Ii</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sume_ge0">sume_ge0</a></span> =&gt; *; <span class="id">apply</span>: <span class="id">a_ge0</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> =&gt; <span class="id">i</span> <span class="id">Ii</span>; <span class="id">rewrite</span> <span class="id">big_cons</span> <span class="id">Pj</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esum_esum">esum_esum</a></span> [<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>] [<span class="id">T1</span> <span class="id">T2</span> : <span class="id">choiceType</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">I</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T1</span>) (<span class="id">J</span> : <span class="id">T1</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T2</span>) (<span class="id">a</span> : <span class="id">T1</span> -&gt; <span class="id">T2</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span> <span class="id">j</span>, <span class="id">I</span> <span class="id">i</span> -&gt; <span class="id">J</span> <span class="id">i</span> <span class="id">j</span> -&gt; 0 &lt;= <span class="id">a</span> <span class="id">i</span> <span class="id">j</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">I</span>) \<span class="id">esum_</span>(<span class="id">j</span> <span class="kwd">in</span> <span class="id">J</span> <span class="id">i</span>) <span class="id">a</span> <span class="id">i</span> <span class="id">j</span> = \<span class="id">esum_</span>(<span class="id">k</span> <span class="kwd">in</span> <span class="id">I</span> `*`` <span class="id">J</span>) <span class="id">a</span> <span class="id">k</span>.1 <span class="id">k</span>.2.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
<span class="id">move</span>=&gt; <span class="id">a_ge0</span>; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> =&gt; /= <span class="id">_</span> [<span class="id">X</span> [<span class="id">finX</span> <span class="id">XI</span>]] &lt;-.<br/>
&nbsp;&nbsp;<span class="id">under</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcond">esum_mkcond</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>//= <span class="id">big_seq</span> -<span class="id"><a href="mathcomp.analysis.esum.html#esum_sum">esum_sum</a></span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">j</span> <span class="id">_</span> /[!<span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>]// /[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] /<span class="id">XI</span> <span class="id">Ij</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; // /[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] /<span class="id">a_ge0</span>-/(<span class="id">_</span> <span class="id">Ij</span>).<br/>
&nbsp;&nbsp;<span class="id">under</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">do</span> <span class="id">rewrite</span> -<span class="id">big_seq</span> -<span class="id">big_mkcond</span>/=.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> =&gt; /= <span class="id">_</span> [<span class="id">Y</span> [<span class="id">finY</span> <span class="id">_</span>] &lt;-]; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> =&gt; /=.<br/>
&nbsp;&nbsp;<span class="id">set</span> <span class="id">XYJ</span> := [<span class="id">set</span> <span class="id">z</span> | <span class="id">z</span> \<span class="kwd">in</span> <span class="id">X</span> `*` <span class="id">Y</span> /\ <span class="id">z</span>.2 \<span class="kwd">in</span> <span class="id">J</span> <span class="id">z</span>.1].<br/>
&nbsp;&nbsp;<span class="id">have</span> ? : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">XYJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#sub_finite_set">sub_finite_set</a></span> (<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setM">finite_setM</a></span> <span class="id">finX</span> <span class="id">finY</span>) =&gt; <span class="id">z</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">XYJ</span>/= <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setM">in_setM</a></span> =&gt; -[/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[] /[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>]].<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">XYJ</span> =&gt; /=; <span class="id">first</span> <span class="kwd">by</span> <span class="id">split</span> =&gt; //= <span class="id">z</span>; <span class="id">rewrite</span> /<span class="id">XYJ</span>/= 2!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>=&gt; -[[/<span class="id">XI</span>]].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>//= (<span class="id">exchange_big_dep</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#xpredT">xpredT</a></span>)// <span class="id">pair_big_dep_cond</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>//; <span class="id">apply</span>: <span class="id">eq_fbigl</span> =&gt; -[/= <span class="id">x</span> <span class="id">y</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>//.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id">imfset2P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">XYJ</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= -<span class="id"><a href="mathcomp.classical.boolp.html#andA">andA</a></span> =&gt; -[<span class="id">Xx</span> [<span class="id">Yy</span> <span class="id">Jxy</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">x</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">y</span> =&gt; //; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>// <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; [<span class="id">t1</span>]; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>/= <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; <span class="id">Xt1</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">t2</span>]; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span> /<span class="id">XYJ</span>//= =&gt;/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[/[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] ? ?] [-&gt; -&gt;].<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> =&gt; <span class="id">_</span> /= [<span class="id">X</span>/= [<span class="id">finX</span> <span class="id">XIJ</span>]] &lt;-; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge">esum_ge</a></span>.<br/>
<span class="kwd">exists</span> <span class="id">X</span>.`1; <span class="id">first</span> <span class="kwd">by</span> <span class="id">split</span>=&gt; [|<span class="id">x</span> [<span class="id">y</span> /<span class="id">XIJ</span>[]//]]; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_fst">finite_set_fst</a></span>.<br/>
<span class="id">apply</span>: (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">X</span>.`1) \<span class="id">sum_</span>(<span class="id">j</span> &lt;- <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">X</span>.`2 | <span class="id">j</span> \<span class="kwd">in</span> <span class="id">J</span> <span class="id">i</span>) <span class="id">a</span> <span class="id">i</span> <span class="id">j</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">pair_big_dep_cond</span>//=; <span class="id">set</span> <span class="id">Y</span> := <span class="id">Imfset.imfset2</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS</a></span>](<span class="id">big_fsetID</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#mem">mem</a></span> <span class="id">X</span>))/=.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> : [<span class="id">fset</span> <span class="id">x</span> | <span class="id">x</span> <span class="kwd">in</span> <span class="id">Y</span> &amp; <span class="id">x</span> \<span class="kwd">in</span> <span class="id">X</span>] = <span class="id">Y</span> `&amp;` <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">X</span>)%<span class="id">fset</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">fsetP</span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> 2!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">fsetIidPr</span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl</a></span>// <span class="id">big_seq</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sume_ge0">sume_ge0</a></span>//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; [<span class="id">x</span> <span class="id">y</span>] /<span class="id">imfsetP</span>[[<span class="id">x1</span> <span class="id">y1</span>]] /[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[] /<span class="id">imfset2P</span>[<span class="id">x2</span>]/= /[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>//; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_fst">finite_set_fst</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; /[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] <span class="id">x2X</span> [<span class="id">y2</span>] /[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[] /[!<span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_snd">finite_set_snd</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; /[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] <span class="id">y2X</span> <span class="id">y2J</span> [-&gt; -&gt;] <span class="id">_</span> [-&gt; -&gt;]; <span class="id">rewrite</span> <span class="id">a_ge0</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x2X</span> =&gt; [<span class="id">y3</span> /<span class="id">XIJ</span> []].<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">fsubsetP</span> =&gt; -[<span class="id">i</span> <span class="id">j</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; <span class="id">Xij</span>; <span class="id">apply</span>/<span class="id">imfset2P</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">i</span> =&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>//; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_fst">finite_set_fst</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>//; <span class="id">move</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#fst_set_fst">fst_set_fst</a></span> : <span class="id">Xij</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">j</span> =&gt; //; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_snd">finite_set_snd</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>/=; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#snd_set_snd">snd_set_snd</a></span> : <span class="id">Xij</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>//; <span class="id">move</span>/<span class="id">XIJ</span> : <span class="id">Xij</span> =&gt; [].<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_fst">finite_set_fst</a></span>.<br/>
<span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.ereal.html#lee_fsum">lee_fsum</a></span>=&gt; [|<span class="id">i</span> <span class="id">Xi</span>]; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_fst">finite_set_fst</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> =&gt; //=; <span class="id">have</span> ? : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">X</span>.`2 `&amp;` <span class="id">J</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_setI">finite_setI</a></span>; <span class="id">left</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_snd">finite_set_snd</a></span>.<br/>
<span class="kwd">exists</span> (<span class="id">X</span>.`2 `&amp;` <span class="id">J</span> <span class="id">i</span>) =&gt; //.<br/>
<span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id">big_fset_condE</span>/= <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>//; <span class="id">apply</span> <span class="id">eq_fbigl</span> =&gt; <span class="id">j</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>// !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_snd">finite_set_snd</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lee_sum_fset_nat">lee_sum_fset_nat</a></span> (<span class="id">R</span> : <span class="id">realDomainType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">f</span> : (\<span class="id">bar</span> <span class="id">R</span>)^<span class="id">nat</span>) (<span class="id">F</span> : {<span class="id">fset</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>}) <span class="id">n</span> (<span class="id">P</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> -&gt; 0%<span class="id">E</span> &lt;= <span class="id">f</span> <span class="id">i</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">set</span>` <span class="id">F</span>] `&lt;=` `<span class="id">I_n</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">F</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> &lt;= \<span class="id">sum_</span>(0 &lt;= <span class="id">i</span> &lt; <span class="id">n</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
<span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">Fn</span>; <span class="id">rewrite</span> [<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS</a></span>](<span class="id">bigID</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#mem">mem</a></span> <span class="id">F</span>))/=.<br/>
<span class="id">suff</span> -&gt; : \<span class="id">sum_</span>(0 &lt;= <span class="id">i</span> &lt; <span class="id">n</span> | <span class="id">P</span> <span class="id">i</span> &amp;&amp; (<span class="id">i</span> \<span class="kwd">in</span> <span class="id">F</span>)) <span class="id">f</span> <span class="id">i</span> = \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">F</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sume_ge0">sume_ge0</a></span>// =&gt; <span class="id">i</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[/<span class="id">f0</span>].<br/>
<span class="id">rewrite</span> -<span class="id">big_filter</span> -[<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id">big_filter</span>; <span class="id">apply</span>: <span class="id">perm_big</span>.<br/>
<span class="id">rewrite</span> <span class="id">uniq_perm</span> ?<span class="id">filter_uniq</span> ?<span class="id">index_iota</span> ?<span class="id">iota_uniq</span> ?<span class="id">fset_uniq</span>//.<br/>
<span class="id">move</span>=&gt; <span class="id">i</span>; <span class="id">rewrite</span> ?<span class="id">mem_filter</span>.<br/>
<span class="id">case</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">P</span> <span class="id">i</span>)) =&gt; //= <span class="id">Pi</span>; <span class="id">case</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">i</span> \<span class="kwd">in</span> <span class="id">F</span>)) =&gt; //= <span class="id">Fi</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mem_iota</span> <span class="id">leq0n</span> <span class="id">add0n</span> <span class="id">subn0</span>/=; <span class="id">apply</span>: <span class="id">Fn</span>.<br/>
Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#lee_sum_fset_nat">lee_sum_fset_nat</a></span> {<span class="id">R</span> <span class="id">f</span>} <span class="id">F</span> <span class="id">n</span> <span class="id">P</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lee_sum_fset_lim">lee_sum_fset_lim</a></span> (<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id">f</span> : (\<span class="id">bar</span> <span class="id">R</span>)^<span class="id">nat</span>) (<span class="id">F</span> : {<span class="id">fset</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> -&gt; 0%<span class="id">E</span> &lt;= <span class="id">f</span> <span class="id">i</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">F</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> &lt;= \<span class="id">sum_</span>(<span class="id">i</span> &lt;<span class="id">oo</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="id">move</span>=&gt; <span class="id">f0</span>; <span class="id">pose</span> <span class="id">n</span> := (\<span class="id">max_</span>(<span class="id">k</span> &lt;- <span class="id">F</span>) <span class="id">k</span>).+1.<br/>
<span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id"><a href="mathcomp.analysis.esum.html#lee_sum_fset_nat">lee_sum_fset_nat</a></span> <span class="id">F</span> <span class="id">n</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>))//; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_lim_ge">nneseries_lim_ge</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">k</span> /= <span class="id">kF</span>; <span class="id">rewrite</span> /<span class="id">n</span> <span class="id">big_seq_fsetE</span>/=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -[<span class="id">k</span>]/(<span class="id">val</span> [`<span class="id">kF</span>]%<span class="id">fset</span>) <span class="id">ltnS</span> <span class="id">leq_bigmax</span>.<br/>
Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#lee_sum_fset_lim">lee_sum_fset_lim</a></span> {<span class="id">R</span> <span class="id">f</span>} <span class="id">F</span> <span class="id">P</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nneseries_esum">nneseries_esum</a></span> (<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id">a</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">n</span>, <span class="id">P</span> <span class="id">n</span> -&gt; 0 &lt;= <span class="id">a</span> <span class="id">n</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;<span class="id">oo</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">a</span> <span class="id">i</span> = \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> [<span class="id">set</span> <span class="id">x</span> | <span class="id">P</span> <span class="id">x</span>]) <span class="id">a</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
<span class="id">move</span>=&gt; <span class="id">a0</span>; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.normedtype.html#lime_le">lime_le</a></span> (<span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_nneseries_cond">is_cvg_nneseries_cond</a></span> <span class="id">a0</span>)); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> =&gt; <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> =&gt; /=; <span class="kwd">exists</span> [<span class="id">set</span>` [<span class="id">fset</span> <span class="id">val</span> <span class="id">i</span> | <span class="id">i</span> <span class="kwd">in</span> '<span class="id">I_n</span> &amp; <span class="id">P</span> <span class="id">i</span>]%<span class="id">fset</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_fset">finite_fset</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /= <span class="id">k</span> /<span class="id">imfsetP</span>[/= <span class="id">i</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; + -&gt;.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>//= <span class="id"><a href="mathcomp.classical.cardinality.html#set_fsetK">set_fsetK</a></span> <span class="id">big_imfset</span>/=; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; ? ? ? ? /<span class="id">val_inj</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">big_filter</span> <span class="id">big_enum_cond</span>/= <span class="id">big_mkord</span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> =&gt; <span class="id">_</span> [/= <span class="id">F</span> [<span class="id">finF</span> <span class="id">PF</span>] &lt;-].<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>//= -(<span class="id">big_rmcond_in</span> <span class="id">P</span>)/=; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.esum.html#lee_sum_fset_lim">lee_sum_fset_lim</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">k</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; /<span class="id">PF</span> -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="reindex_esum">reindex_esum</a></span> (<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id">T</span> <span class="id">T</span>' : <span class="id">choiceType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id">Q</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>') (<span class="id">e</span> : <span class="id">T</span> -&gt; <span class="id">T</span>') (<span class="id">a</span> : <span class="id">T</span>' -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">P</span> <span class="id">Q</span> <span class="id">e</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">j</span> <span class="kwd">in</span> <span class="id">Q</span>) <span class="id">a</span> <span class="id">j</span> = \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">P</span>) <span class="id">a</span> (<span class="id">e</span> <span class="id">i</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
<span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#choicePpointed">choicePpointed</a></span>: <span class="id">T</span> =&gt; <span class="id">T</span> <span class="kwd">in</span> <span class="id">e</span> <span class="id">P</span> *.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#emptyE">emptyE</a></span> =&gt; /<span class="id"><a href="mathcomp.classical.functions.html#Pbij">Pbij</a></span>[{}<span class="id">e</span> -&gt;].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -[<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>](<span class="id"><a href="mathcomp.classical.functions.html#image_eq">image_eq</a></span> <span class="id">e</span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#image_set0">image_set0</a></span> !<span class="id"><a href="mathcomp.analysis.esum.html#esum_set0">esum_set0</a></span>.<br/>
<span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#choicePpointed">choicePpointed</a></span>: <span class="id">T</span>' =&gt; <span class="id">T</span>' <span class="kwd">in</span> <span class="id">a</span> <span class="id">e</span> <span class="id">Q</span> *; <span class="id">first</span> <span class="kwd">by</span> <span class="id">have</span> := <span class="id"><a href="mathcomp.classical.classical_sets.html#no">no</a></span> (<span class="id">e</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>).<br/>
<span class="id">move</span>=&gt; /(@<span class="id"><a href="mathcomp.classical.functions.html#pPbij">pPbij</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)[{}<span class="id">e</span> -&gt;].<br/>
<span class="id">gen</span> <span class="id">have</span> <span class="id">le_esum</span> : <span class="id">T</span> <span class="id">T</span>' <span class="id">a</span> <span class="id">P</span> <span class="id">Q</span> <span class="id">e</span> /<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">j</span> <span class="kwd">in</span> <span class="id">Q</span>) <span class="id">a</span> <span class="id">j</span> &lt;= \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">P</span>) <span class="id">a</span> (<span class="id">e</span> <span class="id">i</span>); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span> <span class="id">le_esum</span>//=.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS</a></span>](<span class="id">_</span> : <span class="id">_</span> = \<span class="id">esum_</span>(<span class="id">j</span> <span class="kwd">in</span> <span class="id">Q</span>) <span class="id">a</span> (<span class="id">e</span> (<span class="id">e</span>^-1%<span class="id">FUN</span> <span class="id">j</span>))); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> =&gt; <span class="id">i</span> <span class="id">Qi</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#invK">invK</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">le_esum</span> =&gt; //= <span class="id">i</span> <span class="id">Qi</span>; <span class="id">rewrite</span> <span class="id">a_ge0</span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> =&gt; //= <span class="id">_</span> [<span class="id">X</span> [<span class="id">finX</span> <span class="id">XQ</span>] &lt;-]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> =&gt; //=.<br/>
<span class="kwd">exists</span> [<span class="id">set</span>` (<span class="id">e</span>^-1 @` (<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">X</span>))%<span class="id">fset</span>].<br/>
&nbsp;&nbsp;<span class="id">split</span>=&gt; [|<span class="id">t</span> /= /<span class="id">imfsetP</span>[<span class="id">t</span>'/=]]; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_fset">finite_fset</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; /<span class="id">XQ</span> <span class="id">Qt</span>' -&gt;; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>//= <span class="id"><a href="mathcomp.classical.cardinality.html#set_fsetK">set_fsetK</a></span> <span class="id">big_imfset</span> =&gt; //=; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>// !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; /<span class="id">XQ</span> ? /<span class="id">XQ</span> ? /(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> <span class="id">e</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.functions.html#invK">invK</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span>=&gt; <span class="id">x</span> /[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>]/<span class="id">XQ</span> ?; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#invK">invK</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#reindex_esum">reindex_esum</a></span> {<span class="id">R</span> <span class="id">T</span> <span class="id">T</span>'} <span class="id">P</span> <span class="id">Q</span> <span class="id">e</span> <span class="id">a</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="nneseries_interchange">nneseries_interchange</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="nneseries_interchange.nneseries_esum_prod">nneseries_esum_prod</a></span> (<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id">a</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; \<span class="id">bar</span> <span class="id">R</span>)<br/>
&nbsp;&nbsp;(<span class="id">P</span> <span class="id">Q</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) : (<span class="kwd">forall</span> <span class="id">i</span> <span class="id">j</span>, 0 &lt;= <span class="id">a</span> <span class="id">i</span> <span class="id">j</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;<span class="id">oo</span> | <span class="id">P</span> <span class="id">i</span>) \<span class="id">sum_</span>(<span class="id">j</span> &lt;<span class="id">oo</span> | <span class="id">Q</span> <span class="id">j</span>) <span class="id">a</span> <span class="id">i</span> <span class="id">j</span> =<br/>
&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">P</span> `*` <span class="id">Q</span>) <span class="id">a</span> <span class="id">i</span>.1 <span class="id">i</span>.2.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
<span class="id">move</span>=&gt; <span class="id">a0</span>; <span class="id">rewrite</span> -(@<span class="id"><a href="mathcomp.analysis.esum.html#esum_esum">esum_esum</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">P</span> (<span class="kwd">fun</span>=&gt; <span class="id">Q</span>))//.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_ge0">nneseries_ge0</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> : [<span class="id">set</span> <span class="id">x</span> | <span class="id">P</span> <span class="id">x</span>] = <span class="id">P</span>); <span class="id">last</span> <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> =&gt; <span class="id">i</span> <span class="id">Pi</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nneseries_interchange">nneseries_interchange</a></span> (<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id">a</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; \<span class="id">bar</span> <span class="id">R</span>)<br/>
&nbsp;&nbsp;(<span class="id">P</span> <span class="id">Q</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) : (<span class="kwd">forall</span> <span class="id">i</span> <span class="id">j</span>, 0 &lt;= <span class="id">a</span> <span class="id">i</span> <span class="id">j</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;<span class="id">oo</span> | <span class="id">P</span> <span class="id">i</span>) \<span class="id">sum_</span>(<span class="id">j</span> &lt;<span class="id">oo</span> | <span class="id">Q</span> <span class="id">j</span>) <span class="id">a</span> <span class="id">i</span> <span class="id">j</span> =<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">j</span> &lt;<span class="id">oo</span> | <span class="id">Q</span> <span class="id">j</span>) \<span class="id">sum_</span>(<span class="id">i</span> &lt;<span class="id">oo</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">a</span> <span class="id">i</span> <span class="id">j</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
<span class="id">move</span>=&gt; <span class="id">a0</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.esum.html#nneseries_interchange.nneseries_esum_prod">nneseries_esum_prod</a></span>//.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.esum.html#reindex_esum">reindex_esum</a></span> (<span class="id">Q</span> `*` <span class="id">P</span>) <span class="id">_</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; (<span class="id">x</span>.2, <span class="id">x</span>.1)))//; <span class="id">split</span>=&gt; //=.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">i</span> <span class="id">j</span>] [/=].<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">i1</span> <span class="id">i2</span>] [<span class="id">j1</span> <span class="id">j2</span>] /= <span class="id">_</span> <span class="id">_</span> [] -&gt; -&gt;.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">i1</span> <span class="id">i2</span>] [<span class="id">Pi1</span> <span class="id">Qi2</span>] /=; <span class="kwd">exists</span> (<span class="id">i2</span>, <span class="id">i1</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_interchange">nneseries_interchange</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esum_image">esum_image</a></span> (<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id">T</span> <span class="id">T</span>' : <span class="id">choiceType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id">e</span> : <span class="id">T</span> -&gt; <span class="id">T</span>') (<span class="id">a</span> : <span class="id">T</span>' -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_inj">set_inj</a></span> <span class="id">P</span> <span class="id">e</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">j</span> <span class="kwd">in</span> <span class="id">e</span> @` <span class="id">P</span>) <span class="id">a</span> <span class="id">j</span> = \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">P</span>) <span class="id">a</span> (<span class="id">e</span> <span class="id">i</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.functions.html#inj_bij">inj_bij</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.esum.html#reindex_esum">reindex_esum</a></span>. Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_image">esum_image</a></span> {<span class="id">R</span> <span class="id">T</span> <span class="id">T</span>'} <span class="id">P</span> <span class="id">e</span> <span class="id">a</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esum_pred_image">esum_pred_image</a></span> (<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id">T</span> : <span class="id">choiceType</span>) (<span class="id">a</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">e</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id">T</span>) (<span class="id">P</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">n</span>, <span class="id">P</span> <span class="id">n</span> -&gt; 0 &lt;= <span class="id">a</span> (<span class="id">e</span> <span class="id">n</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_inj">set_inj</a></span> <span class="id">P</span> <span class="id">e</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">e</span> @` <span class="id">P</span>) <span class="id">a</span> <span class="id">i</span> = \<span class="id">sum_</span>(<span class="id">i</span> &lt;<span class="id">oo</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">a</span> (<span class="id">e</span> <span class="id">i</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">a0</span> <span class="id">einj</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_image">esum_image</a></span>// <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>. Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_pred_image">esum_pred_image</a></span> {<span class="id">R</span> <span class="id">T</span>} <span class="id">a</span> <span class="id">e</span> <span class="id">P</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esum_set_image">esum_set_image</a></span>  [<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>] [<span class="id">T</span> : <span class="id">choiceType</span>] [<span class="id">a</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">e</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id">T</span>] [<span class="id">P</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>] :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">n</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>, <span class="id">P</span> <span class="id">n</span> -&gt; 0 &lt;= <span class="id">a</span> (<span class="id">e</span> <span class="id">n</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_inj">set_inj</a></span> <span class="id">P</span> <span class="id">e</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> [<span class="id">set</span> <span class="id">e</span> <span class="id">x</span> | <span class="id">x</span> <span class="kwd">in</span> <span class="id">P</span>]) <span class="id">a</span> <span class="id">i</span> = \<span class="id">sum_</span>(<span class="id">i</span> &lt;<span class="id">oo</span> | <span class="id">i</span> \<span class="kwd">in</span> <span class="id">P</span>) <span class="id">a</span> (<span class="id">e</span> <span class="id">i</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
<span class="id">move</span>=&gt; <span class="id">a0</span> <span class="id">einj</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_image">esum_image</a></span>// <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem_set">set_mem_set</a></span>//.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; /<span class="id">a0</span>.<br/>
Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_set_image">esum_set_image</a></span> {<span class="id">R</span> <span class="id">T</span>} <span class="id">a</span> <span class="id">e</span> <span class="id">P</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="esum_bigcup">esum_bigcup</a></span>.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="esum_bigcup.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="esum_bigcup.T">T</a></span> : <span class="id">choiceType</span>) (<span class="id"><a name="esum_bigcup.K">K</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">J</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.T">T</a></span>) (<span class="id">a</span> : <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.R">R</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esum_bigcupT">esum_bigcupT</a></span> <span class="id">J</span> <span class="id">a</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">J</span> -&gt; (<span class="kwd">forall</span> <span class="id">x</span>, 0 &lt;= <span class="id">a</span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> \<span class="id">bigcup_</span>(<span class="id">k</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) (<span class="id">J</span> <span class="id">k</span>)) <span class="id">a</span> <span class="id">i</span> =<br/>
&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) \<span class="id">esum_</span>(<span class="id">j</span> <span class="kwd">in</span> <span class="id">J</span> <span class="id">i</span>) <span class="id">a</span> <span class="id">j</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
<span class="id">move</span>=&gt; <span class="id">tJ</span> <span class="id">a0</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_esum">esum_esum</a></span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.esum.html#reindex_esum">reindex_esum</a></span> =&gt; //; <span class="id">split</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; [/= <span class="id">i</span> <span class="id">j</span>] [<span class="id">Ki</span> <span class="id">Jij</span>]; <span class="kwd">exists</span> <span class="id">i</span>.<br/>
- <span class="id">move</span>=&gt; [/= <span class="id">i1</span> <span class="id">j1</span>] [/= <span class="id">i2</span> <span class="id">j2</span>]; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/=.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; [<span class="id">K1</span> <span class="id">J1</span>] [<span class="id">K2</span> <span class="id">J2</span>] <span class="id">j12</span>; <span class="id">congr</span> (<span class="id">_</span>, <span class="id">_</span>) =&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: (@<span class="id">tJ</span> <span class="id">i1</span> <span class="id">i2</span>) =&gt; //; <span class="kwd">exists</span> <span class="id">j1</span>; <span class="id">split</span>=&gt; //; <span class="id">rewrite</span> <span class="id">j12</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">j</span> [<span class="id">i</span> <span class="id">Ki</span> <span class="id">Jij</span>]/=; <span class="kwd">exists</span> (<span class="id">i</span>, <span class="id">j</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esum_bigcup">esum_bigcup</a></span> <span class="id">J</span> <span class="id">a</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> [<span class="id">set</span> <span class="id">i</span> | <span class="id">a</span> @` <span class="id">J</span> <span class="id">i</span> != [<span class="id">set</span> 0]] <span class="id">J</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.T">T</a></span>, (\<span class="id">bigcup_</span>(<span class="id">k</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) <span class="id">J</span> <span class="id">k</span>) <span class="id">x</span> -&gt; 0 &lt;= <span class="id">a</span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> \<span class="id">bigcup_</span>(<span class="id">k</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) <span class="id">J</span> <span class="id">k</span>) <span class="id">a</span> <span class="id">i</span> = \<span class="id">esum_</span>(<span class="id">k</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) \<span class="id">esum_</span>(<span class="id">j</span> <span class="kwd">in</span> <span class="id">J</span> <span class="id">k</span>) <span class="id">a</span> <span class="id">j</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
<span class="id">move</span>=&gt; <span class="id">Jtriv</span> <span class="id">a_ge0</span>.<br/>
<span class="id">pose</span> <span class="id">J</span>' <span class="id">i</span> := <span class="kwd">if</span> <span class="id">a</span> @` <span class="id">J</span> <span class="id">i</span> == [<span class="id">set</span> 0] <span class="kwd">then</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="kwd">else</span> <span class="id">J</span> <span class="id">i</span>.<br/>
<span class="id">pose</span> <span class="id">a</span>' <span class="id">x</span> := <span class="kwd">if</span> <span class="id">x</span> \<span class="kwd">in</span> \<span class="id">bigcup_</span>(<span class="id">k</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) <span class="id">J</span> <span class="id">k</span> <span class="kwd">then</span> <span class="id">a</span> <span class="id">x</span> <span class="kwd">else</span> 0.<br/>
<span class="id">have</span> <span class="id">a</span>'<span class="id">E</span> <span class="id">k</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span> <span class="id">k</span> -&gt; <span class="id">J</span> <span class="id">k</span> <span class="id">x</span> -&gt; <span class="id">a</span>' <span class="id">x</span> = <span class="id">a</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">Kk</span> <span class="id">Jkx</span>; <span class="id">rewrite</span> /<span class="id">a</span>'; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>; <span class="id">rewrite</span> ?(<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>, <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>)//=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>; <span class="kwd">exists</span> <span class="id">k</span>.<br/>
<span class="id">have</span> <span class="id">a</span>'<span class="id">_ge0</span> <span class="id">x</span> : <span class="id">a</span>' <span class="id">x</span> &gt;= 0 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">a</span>'; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>; <span class="id">rewrite</span> // ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; /<span class="id">a_ge0</span>.<br/>
<span class="id">transitivity</span> (\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> \<span class="id">bigcup_</span>(<span class="id">k</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) <span class="id">J</span>' <span class="id">k</span>) <span class="id">a</span>' <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcond">esum_mkcond</a></span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcond">esum_mkcond</a></span> /<span class="id">a</span>'; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> =&gt; <span class="id">x</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">do</span> 2!<span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>; <span class="id">rewrite</span> ?(<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>, <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>)//= =&gt; <span class="id">J</span>'<span class="id">x</span> <span class="id">Jx</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">contra_not_eq</span> <span class="id">J</span>'<span class="id">x</span> =&gt; <span class="id">Nax</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>: <span class="id">Jx</span> =&gt; [<span class="id">k</span> <span class="id">kK</span> <span class="id">Jkx</span>]; <span class="kwd">exists</span> <span class="id">k</span>=&gt; //; <span class="id">rewrite</span> /<span class="id">J</span>'/=; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>=&gt; //=.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id">eqP</span>/(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> (@^~ (<span class="id">a</span> <span class="id">x</span>)))/=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#propeqE">propeqE</a></span> =&gt; -[+ <span class="id">_</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">contra_neq_not</span> <span class="id">Nax</span>; <span class="id">apply</span>; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcupT">esum_bigcupT</a></span>//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">j</span> <span class="id">_</span> <span class="id">_</span> [<span class="id">x</span> []]; <span class="id">rewrite</span> /<span class="id">J</span>'/=.<br/>
&nbsp;&nbsp;<span class="id">case</span>: <span class="id">eqVneq</span> =&gt; //= <span class="id">Ai0</span> <span class="id">Jix</span>; <span class="id">case</span>: <span class="id">eqVneq</span> =&gt; //= <span class="id">Aj0</span> <span class="id">Jjx</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> := <span class="id">Jtriv</span> <span class="id">i</span> <span class="id">j</span> <span class="id">Ai0</span> <span class="id">Aj0</span>; <span class="id">apply</span>; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> =&gt; <span class="id">i</span> <span class="id">Ki</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcond">esum_mkcond</a></span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcond">esum_mkcond</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> =&gt; <span class="id">x</span> <span class="id">_</span>.<br/>
<span class="id">do</span> 2!<span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>; <span class="id">rewrite</span> ?(<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>, <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>)//=.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">a</span>'<span class="id">E</span>-&gt;//.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">J</span>'; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; //.<br/>
<span class="id">move</span>=&gt; <span class="id">Jix</span>; <span class="id">rewrite</span> /<span class="id">J</span>'; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>=&gt; //=.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">eqP</span>/(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> (@^~ (<span class="id">a</span> <span class="id">x</span>)))/=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#propeqE">propeqE</a></span> =&gt; -[-&gt;]//; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup">esum_bigcup</a></span>.<br/>
<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcupT">esum_bigcupT</a></span> {<span class="id">R</span> <span class="id">T</span> <span class="id">K</span>} <span class="id">J</span> <span class="id">a</span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup">esum_bigcup</a></span> {<span class="id">R</span> <span class="id">T</span> <span class="id">K</span>} <span class="id">J</span> <span class="id">a</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="summable">summable</a></span> (<span class="id">T</span> : <span class="id">choiceType</span>) (<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id">D</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>)<br/>
&nbsp;&nbsp;(<span class="id">f</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) := (\<span class="id">esum_</span>(<span class="id">x</span> <span class="kwd">in</span> <span class="id">D</span>) `| <span class="id">f</span> <span class="id">x</span> | &lt; +<span class="id">oo</span>)%<span class="id">E</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="summable_lemmas">summable_lemmas</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="summable_lemmas.T">T</a></span> : <span class="id">choiceType</span>) (<span class="id"><a name="summable_lemmas.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">D</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_lemmas.T">T</a></span>) (<span class="id">f</span> : <span class="id"><a href="mathcomp.analysis.esum.html#summable_lemmas.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_lemmas.R">R</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="summable_pinfty">summable_pinfty</a></span> <span class="id">D</span> <span class="id">f</span> : <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="kwd">forall</span> <span class="id">x</span>, <span class="id">D</span> <span class="id">x</span> -&gt; `| <span class="id">f</span> <span class="id">x</span> | &lt; +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
<span class="id">move</span>=&gt; <span class="id">Dfoo</span> <span class="id">x</span> <span class="id">Dx</span>; <span class="id">apply</span>: <span class="id">le_lt_trans</span> <span class="id">Dfoo</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.esum.html#esumID">esumID</a></span> [<span class="id">set</span> <span class="id">x</span>])// <span class="id"><a href="mathcomp.classical.classical_sets.html#setI1">setI1</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>// <span class="id"><a href="mathcomp.analysis.esum.html#esum_set1">esum_set1</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl</a></span>//.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge0">esum_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="summableE">summableE</a></span> <span class="id">D</span> <span class="id">f</span> : <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id">D</span> <span class="id">f</span> = (\<span class="id">esum_</span>(<span class="id">x</span> <span class="kwd">in</span> <span class="id">D</span>) `| <span class="id">f</span> <span class="id">x</span> | \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numElt">fin_numElt</a></span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span> =&gt; [-&gt;|/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[]//].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> (<span class="id">lt_le_trans</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">ltNyr</a></span> 0))//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge0">esum_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="summableD">summableD</a></span> <span class="id">D</span> <span class="id">f</span> <span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id">D</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id">D</span> (<span class="id">f</span> \+ <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
<span class="id">move</span>=&gt; <span class="id">Df</span> <span class="id">Dg</span>; <span class="id">apply</span>: <span class="id">le_lt_trans</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty</a></span> <span class="id">Df</span> <span class="id">Dg</span>).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.esum.html#esumD">esumD</a></span>//; <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.esum.html#le_esum">le_esum</a></span> =&gt; <span class="id">t</span> <span class="id">Dt</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs_add">lee_abs_add</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="summableN">summableN</a></span> <span class="id">D</span> <span class="id">f</span> : <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id">D</span> <span class="id">f</span> = <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id">D</span> (\- <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span>; <span class="id">congr</span> (<span class="id">_</span> &lt; +<span class="id">oo</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> =&gt; <span class="id">t</span> <span class="id">Dt</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseN">abseN</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="summableB">summableB</a></span> <span class="id">D</span> <span class="id">f</span> <span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id">D</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id">D</span> (<span class="id">f</span> \- <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Df</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#summableN">summableN</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.esum.html#summableD">summableD</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="summable_funepos">summable_funepos</a></span> <span class="id">D</span> <span class="id">f</span> : <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id">D</span> <span class="id">f</span>^\+.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
<span class="id">apply</span>: <span class="id">le_lt_trans</span>; <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.esum.html#le_esum">le_esum</a></span> =&gt; <span class="id">t</span> <span class="id">Dt</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -/((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id">f</span>) <span class="id">t</span>) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="summable_funeneg">summable_funeneg</a></span> <span class="id">D</span> <span class="id">f</span> : <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id">D</span> <span class="id">f</span>^\-.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
<span class="id">apply</span>: <span class="id">le_lt_trans</span>; <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.esum.html#le_esum">le_esum</a></span> =&gt; <span class="id">t</span> <span class="id">Dt</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -/((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id">f</span>) <span class="id">t</span>) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addr">lee_addr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_lemmas">summable_lemmas</a></span>.<br/>
<br/>
<span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.Exports">numFieldNormedType.Exports</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="summable_nat">summable_nat</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="summable_nat.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="summable_fine_sum">summable_fine_sum</a></span> <span class="id">r</span> (<span class="id">P</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">f</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_nat.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id">P</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(0 &lt;= <span class="id">k</span> &lt; <span class="id">r</span> | <span class="id">P</span> <span class="id">k</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">k</span>))%<span class="id">R</span> = <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (\<span class="id">sum_</span>(0 &lt;= <span class="id">k</span> &lt; <span class="id">r</span> | <span class="id">P</span> <span class="id">k</span>) <span class="id">f</span> <span class="id">k</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
<span class="id">move</span>=&gt; <span class="id">Pf</span>; <span class="id">elim</span>: <span class="id">r</span> =&gt; [|<span class="id">r</span> <span class="id">ih</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">big_nil</span>.<br/>
<span class="id">rewrite</span> <span class="id">big_mkcond</span>/= <span class="id">big_nat_recr</span>// [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id">big_mkcond</span>/= <span class="id">big_nat_recr</span>//=.<br/>
<span class="id">rewrite</span> -!<span class="id">big_mkcond</span>/= <span class="id">ih</span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; <span class="id">Pr</span> =&gt; //; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span> <span class="id">addr0</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineD">fineD</a></span>//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#summable_pinfty">summable_pinfty</a></span> <span class="id">Pf</span>).<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sum_fin_numP">sum_fin_numP</a></span> =&gt; <span class="id">i</span> <span class="id">ir</span> <span class="id">Pi</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#summable_pinfty">summable_pinfty</a></span> <span class="id">Pf</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="summable_cvg">summable_cvg</a></span> (<span class="id">P</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">f</span> : (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_nat.R">R</a></span>)^<span class="id">nat</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">i</span>)%<span class="id">E</span> -&gt; <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id">P</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="kwd">fun</span> <span class="id">n</span> =&gt; \<span class="id">sum_</span>(0 &lt;= <span class="id">k</span> &lt; <span class="id">n</span> | <span class="id">P</span> <span class="id">k</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">k</span>))%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
<span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">Pf</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_is_cvg">nondecreasing_is_cvgn</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">nondecreasing_series</span> =&gt; <span class="id">n</span> <span class="id">Pn</span>; <span class="id">exact</span>/<span class="id">fine_ge0</span>/<span class="id">f0</span>.<br/>
<span class="kwd">exists</span> (<span class="id">fine</span> (\<span class="id">sum_</span>(<span class="id">i</span> &lt;<span class="id">oo</span> | <span class="id">P</span> <span class="id">i</span>) `|<span class="id">f</span> <span class="id">i</span>|)) =&gt; <span class="id">x</span> /= [<span class="id">n</span> <span class="id">_</span> &lt;-].<br/>
<span class="id">rewrite</span> <span class="id">summable_fine_sum</span>// -<span class="id">lee_fin</span> <span class="id">fineK</span>//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">sum_fin_numP</span> =&gt; <span class="id">i</span> <span class="id">ni</span> <span class="id">Pi</span>; <span class="id">rewrite</span> <span class="id">fin_num_abs</span> (<span class="id">summable_pinfty</span> <span class="id">Pf</span>).<br/>
<span class="id">rewrite</span> <span class="id">fineK</span>//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">nneseries_esum</span>// <span class="id">fin_numElt</span>; <span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (@<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">_</span> 0)// ?<span class="id">lte_ninfty</span>//; <span class="id">exact</span>: <span class="id">esum_ge0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">le_lt_trans</span> <span class="id">Pf</span>; <span class="id">apply</span> <span class="id">le_esum</span>.<br/>
<span class="id">apply</span>: <span class="id">le_trans</span> (<span class="id">nneseries_lim_ge</span> <span class="id">n</span> <span class="id">_</span>) =&gt; //; <span class="id">apply</span>: <span class="id">lee_sum</span> =&gt; <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lee_abs</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">summable_nneseries_lim</span> (<span class="id">P</span> : <span class="id">pred</span> <span class="id">nat</span>) (<span class="id">f</span> : (\<span class="id">bar</span> <span class="id">R</span>)^<span class="id">nat</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">i</span>)%<span class="id">E</span> -&gt; <span class="id">summable</span> <span class="id">P</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;<span class="id">oo</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> =<br/>
&nbsp;&nbsp;(<span class="id">lim</span> (<span class="kwd">fun</span> <span class="id">n</span> =&gt; (\<span class="id">sum_</span>(0 &lt;= <span class="id">k</span> &lt; <span class="id">n</span> | <span class="id">P</span> <span class="id">k</span>) <span class="id">fine</span> (<span class="id">f</span> <span class="id">k</span>))%<span class="id">R</span>))%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
<span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">Pf</span>; <span class="id">pose</span> <span class="id">A_</span> <span class="id">n</span> := (\<span class="id">sum_</span>(0 &lt;= <span class="id">k</span> &lt; <span class="id">n</span> | <span class="id">P</span> <span class="id">k</span>) <span class="id">fine</span> (<span class="id">f</span> <span class="id">k</span>))%<span class="id">R</span>.<br/>
<span class="id">transitivity</span> (<span class="id">lim</span> (<span class="id">EFin</span> \<span class="id">o</span> <span class="id">A_</span>)).<br/>
&nbsp;&nbsp;<span class="id">congr</span> (<span class="id">lim</span> <span class="id">_</span>); <span class="id">apply</span>/<span class="id">funext</span> =&gt; /= <span class="id">n</span>; <span class="id">rewrite</span> /<span class="id">A_</span> /= -<span class="id">sumEFin</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">eq_bigr</span> =&gt; <span class="id">i</span> <span class="id">Pi</span>/=; <span class="id">rewrite</span> <span class="id">fineK</span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fin_num_abs</span> (@<span class="id">summable_pinfty</span> <span class="id">_</span> <span class="id">_</span> <span class="id">P</span>).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">EFin_lim</span>//; <span class="id">apply</span>: <span class="id">summable_cvg</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">summable_eseries</span> (<span class="id">f</span> : <span class="id">nat</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">nat</span>) : <span class="id">summable</span> <span class="id">P</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;<span class="id">oo</span> | <span class="id">P</span> <span class="id">i</span>) (<span class="id">f</span> <span class="id">i</span>) =<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;<span class="id">oo</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span>^\+ <span class="id">i</span> - \<span class="id">sum_</span>(<span class="id">i</span> &lt;<span class="id">oo</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span>^\- <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
<span class="id">move</span>=&gt; <span class="id">Pf</span>.<br/>
<span class="id">pose</span> <span class="id">A_</span> <span class="id">n</span> := (\<span class="id">sum_</span>(0 &lt;= <span class="id">k</span> &lt; <span class="id">n</span> | <span class="id">P</span> <span class="id">k</span>) <span class="id">fine</span> (<span class="id">f</span>^\+ <span class="id">k</span>))%<span class="id">R</span>.<br/>
<span class="id">pose</span> <span class="id">B_</span> <span class="id">n</span> := (\<span class="id">sum_</span>(0 &lt;= <span class="id">k</span> &lt; <span class="id">n</span> | <span class="id">P</span> <span class="id">k</span>) <span class="id">fine</span> (<span class="id">f</span>^\- <span class="id">k</span>))%<span class="id">R</span>.<br/>
<span class="id">pose</span> <span class="id">C_</span> <span class="id">n</span> := <span class="id">fine</span> (\<span class="id">sum_</span>(0 &lt;= <span class="id">k</span> &lt; <span class="id">n</span> | <span class="id">P</span> <span class="id">k</span>) <span class="id">f</span> <span class="id">k</span>).<br/>
<span class="id">pose</span> <span class="id">A</span> := <span class="id">lim</span> <span class="id">A_</span>.<br/>
<span class="id">pose</span> <span class="id">B</span> := <span class="id">lim</span> <span class="id">B_</span>.<br/>
<span class="id">suff</span>: ((<span class="kwd">fun</span> <span class="id">n</span> =&gt; <span class="id">C_</span> <span class="id">n</span> - (<span class="id">A</span> - <span class="id">B</span>)) --&gt; (0 : <span class="id">R</span>^<span class="id">o</span>))%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">CAB</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span>  <span class="id">X</span> - <span class="id">_</span>]<span class="id">summable_nneseries_lim</span>//; <span class="id">last</span> <span class="id">exact</span>/<span class="id">summable_funepos</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> - <span class="id">X</span>]<span class="id">summable_nneseries_lim</span>//; <span class="id">last</span> <span class="id">exact</span>/<span class="id">summable_funeneg</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">EFinB</span>; <span class="id">apply</span>/<span class="id">cvg_lim</span> =&gt; //; <span class="id">apply</span>/<span class="id">fine_cvgP</span>; <span class="id">split</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">cvg_sub0</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">cst</span> (<span class="id">A</span> - <span class="id">B</span>)%<span class="id">R</span>) <span class="id">_</span> <span class="id">CAB</span>); <span class="id">exact</span>: <span class="id">cvg_cst</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">nearW</span> =&gt; <span class="id">n</span>; <span class="id">rewrite</span> <span class="id">fin_num_abs</span>; <span class="id">apply</span>: <span class="id">le_lt_trans</span> <span class="id">Pf</span> =&gt; /=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">nneseries_esum</span> ?(<span class="id">le_trans</span> (<span class="id">lee_abs_sum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)) ?<span class="id">nneseries_lim_ge</span>.<br/>
<span class="id">have</span> : ((<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">A_</span> <span class="id">x</span> - <span class="id">B_</span> <span class="id">x</span>) --&gt; <span class="id">A</span> - <span class="id">B</span>)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">cvgD</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">summable_cvg</span> =&gt; //; <span class="id">exact</span>/<span class="id">summable_funepos</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">cvgN</span>; <span class="id">apply</span>: <span class="id">summable_cvg</span> =&gt; //; <span class="id">exact</span>/<span class="id">summable_funeneg</span>.<br/>
<span class="id">move</span>=&gt; /<span class="id">cvgrPdist_lt</span> <span class="id">cvgAB</span>; <span class="id">apply</span>/<span class="id">cvgrPdist_lt</span> =&gt; <span class="id">e</span> <span class="id">e0</span>.<br/>
<span class="id">move</span>: <span class="id">cvgAB</span> =&gt; /(<span class="id">_</span> <span class="id">_</span> <span class="id">e0</span>) [<span class="id">N</span> <span class="id">_</span>/= <span class="id">hN</span>] /=.<br/>
<span class="id">near</span>=&gt; <span class="id">n</span>.<br/>
<span class="id">rewrite</span> <span class="id">distrC</span> <span class="id">subr0</span>.<br/>
<span class="id">have</span> -&gt; : (<span class="id">C_</span> = <span class="id">A_</span> \- <span class="id">B_</span>)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">funext</span> =&gt; <span class="id">k</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /= /<span class="id">A_</span> /<span class="id">C_</span> /<span class="id">B_</span> -<span class="id">sumrN</span> -<span class="id">big_split</span>/= -<span class="id">summable_fine_sum</span>//.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">eq_bigr</span> =&gt; <span class="id">i</span> <span class="id">Pi</span>; <span class="id">rewrite</span> -<span class="id">fineB</span>//.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id">LHS</span>](<span class="id">funeposneg</span> <span class="id">f</span>).<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fin_num_abs</span> (@<span class="id">summable_pinfty</span> <span class="id">_</span> <span class="id">_</span> <span class="id">P</span>) //; <span class="id">exact</span>/<span class="id">summable_funepos</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fin_num_abs</span> (@<span class="id">summable_pinfty</span> <span class="id">_</span> <span class="id">_</span> <span class="id">P</span>) //; <span class="id">exact</span>/<span class="id">summable_funeneg</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">distrC</span>; <span class="id">apply</span>: <span class="id">hN</span>; <span class="id">near</span>: <span class="id">n</span>; <span class="kwd">exists</span> <span class="id">N</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">summable_eseries_esum</span>  (<span class="id">f</span> : <span class="id">nat</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">nat</span>) :<br/>
&nbsp;&nbsp;<span class="id">summable</span> <span class="id">P</span> <span class="id">f</span> -&gt; \<span class="id">sum_</span>(<span class="id">i</span> &lt;<span class="id">oo</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> = <span class="id">esum</span> <span class="id">P</span> <span class="id">f</span>^\+ - <span class="id">esum</span> <span class="id">P</span> <span class="id">f</span>^\-.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
<span class="id">move</span>=&gt; <span class="id">Pfoo</span>; <span class="id">rewrite</span> -<span class="id">nneseries_esum</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">Pn</span>; <span class="id">rewrite</span> /<span class="id">maxe</span>; <span class="id">case</span>: <span class="id">ifPn</span> =&gt; //; <span class="id">rewrite</span> -<span class="id">leNgt</span>.<br/>
<span class="id">rewrite</span> -<span class="id">nneseries_esum</span> ?[<span class="id">LHS</span>]<span class="id">summable_eseries</span>//.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">Pn</span>; <span class="id">rewrite</span> /<span class="id">maxe</span>; <span class="id">case</span>: <span class="id">ifPn</span> =&gt; //; <span class="id">rewrite</span> <span class="id">leNgt</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">summable_nat</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">esumB</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Variables</span> (<span class="id">R</span> : <span class="id">realType</span>) (<span class="id">T</span> : <span class="id">choiceType</span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">D</span> : <span class="id">set</span> <span class="id">T</span>) (<span class="id">f</span> <span class="id">g</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id">esum_posneg</span> <span class="id">D</span> <span class="id">f</span> := <span class="id">esum</span> <span class="id">D</span> <span class="id">f</span>^\+ - <span class="id">esum</span> <span class="id">D</span> <span class="id">f</span>^\-.<br/>
<br/>
<span class="kwd">Let</span> <span class="id">ge0_esum_posneg</span> <span class="id">D</span> <span class="id">f</span> : (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id">D</span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id">esum_posneg</span> <span class="id">D</span> <span class="id">f</span> = \<span class="id">esum_</span>(<span class="id">x</span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
<span class="id">move</span>=&gt; <span class="id">Sa</span>; <span class="id">rewrite</span> /<span class="id">esum_posneg</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> - <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = 0) ?<span class="id">sube0</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">esum1</span>// =&gt; <span class="id">x</span> <span class="id">Sx</span>; <span class="id">rewrite</span> -[<span class="id">LHS</span>]/(<span class="id">f</span>^\- <span class="id">x</span>) (<span class="id">ge0_funenegE</span> <span class="id">Sa</span>)// <span class="id">inE</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">eq_esum</span> =&gt; <span class="id">t</span> <span class="id">St</span>; <span class="id">apply</span>/<span class="id">max_idPl</span>; <span class="id">exact</span>: <span class="id">Sa</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">esumB</span> <span class="id">D</span> <span class="id">f</span> <span class="id">g</span> : <span class="id">summable</span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id">summable</span> <span class="id">D</span> <span class="id">g</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">D</span> <span class="id">i</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">i</span>) -&gt; (<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">D</span> <span class="id">i</span> -&gt; 0 &lt;= <span class="id">g</span> <span class="id">i</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f</span> \- <span class="id">g</span>)^\+ <span class="id">i</span> - \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f</span> \- <span class="id">g</span>)^\- <span class="id">i</span> =<br/>
&nbsp;&nbsp;\<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">i</span> - \<span class="id">esum_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">g</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
<span class="id">move</span>=&gt; <span class="id">Df</span> <span class="id">Dg</span> <span class="id">f0</span> <span class="id">g0</span>.<br/>
<span class="id">have</span> /<span class="id">eqP</span> : <span class="id">esum</span> <span class="id">D</span> (<span class="id">f</span> \- <span class="id">g</span>)^\+ + <span class="id">esum_posneg</span> <span class="id">D</span> <span class="id">g</span> = <span class="id">esum</span> <span class="id">D</span> (<span class="id">f</span> \- <span class="id">g</span>)^\- + <span class="id">esum_posneg</span> <span class="id">D</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id">ge0_esum_posneg</span>// -!<span class="id">esumD</span>//; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">Dt</span>; <span class="id">rewrite</span> <span class="id">le_maxr</span> <span class="id">lexx</span> <span class="id">orbT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">Dt</span>; <span class="id">rewrite</span> <span class="id">le_maxr</span> <span class="id">lexx</span> <span class="id">orbT</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">eq_esum</span> =&gt; <span class="id">i</span> <span class="id">Di</span>; <span class="id">have</span> [<span class="id">fg</span>|<span class="id">fg</span>] := <span class="id">leP</span> 0 (<span class="id">f</span> <span class="id">i</span> - <span class="id">g</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">max_r</span> 1?<span class="id">lee_oppl</span> ?<span class="id">oppe0</span>// <span class="id">add0e</span> <span class="id">subeK</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fin_num_abs</span> (<span class="id">summable_pinfty</span> <span class="id">Dg</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">add0e</span> <span class="id">max_l</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lee_oppr</span> <span class="id">oppe0</span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">fin_num_oppeB</span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fin_num_abs</span> (<span class="id">summable_pinfty</span> <span class="id">Dg</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">addeA</span> <span class="id">addeCA</span> <span class="id">addeA</span> <span class="id">subeK</span>// <span class="id">fin_num_abs</span> (<span class="id">summable_pinfty</span> <span class="id">Df</span>).<br/>
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> == <span class="id">X</span> -&gt; <span class="id">_</span>]<span class="id">addeC</span> -<span class="id">sube_eq</span>; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id">fin_numD</span>; <span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id">eq_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">abse</span> \<span class="id">o</span> (<span class="id">f</span> \- <span class="id">g</span>)^\+))//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">summableE</span>; <span class="id">exact</span>/<span class="id">summable_funepos</span>/<span class="id">summableB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">Dt</span>; <span class="id">rewrite</span> /= <span class="id">gee0_abs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>: <span class="id">Dg</span>; <span class="id">rewrite</span> <span class="id">summableE</span> (@<span class="id">eq_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">g</span>)//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ge0_esum_posneg</span>// =&gt; <span class="id">t</span> <span class="id">Tt</span>; <span class="id">rewrite</span> <span class="id">gee0_abs</span>// <span class="id">g0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">Tt</span>; <span class="id">rewrite</span> <span class="id">gee0_abs</span>// <span class="id">g0</span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id">fin_num_adde_defr</span>// <span class="id">ge0_esum_posneg</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id">eq_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">abse</span> \<span class="id">o</span> <span class="id">f</span>))// -?<span class="id">summableE</span>// =&gt; <span class="id">i</span> <span class="id">Di</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">gee0_abs</span>// <span class="id">f0</span>.<br/>
<span class="id">rewrite</span> -<span class="id">addeA</span> <span class="id">addeCA</span> <span class="id">eq_sym</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> == <span class="id">X</span> -&gt; <span class="id">_</span>]<span class="id">addeC</span> -<span class="id">sube_eq</span>; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id">ge0_esum_posneg</span>// (@<span class="id">eq_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">abse</span> \<span class="id">o</span> <span class="id">f</span>))// -?<span class="id">summableE</span>// =&gt; <span class="id">i</span> <span class="id">Di</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">gee0_abs</span>// <span class="id">f0</span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id">fin_num_adde_defl</span>// <span class="id">ge0_esum_posneg</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id">eq_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">abse</span> \<span class="id">o</span> <span class="id">g</span>))// -?<span class="id">summableE</span>// =&gt; <span class="id">i</span> <span class="id">Di</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">gee0_abs</span>// <span class="id">g0</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ge0_esum_posneg</span>// <span class="id">ge0_esum_posneg</span>// =&gt; /<span class="id">eqP</span> -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">esumB</span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/tree/yoshihiro503%40generate_index">a fork of coq2html</a></div>
</body>
</html>
