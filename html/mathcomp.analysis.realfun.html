
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.realfun</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.realfun" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
  <link rel="stylesheet" href="../css/texmath.css">
  <script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
  <script src="../texmath.js"></script>

<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module mathcomp.analysis.realfun</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">all_ssreflect</span> <span class="id">ssralg</span> <span class="id">ssrint</span> <span class="id">ssrnum</span> <span class="id">finmap</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">matrix</span> <span class="id">interval</span> <span class="id">zmodp</span> <span class="id">vector</span> <span class="id">fieldext</span> <span class="id">falgebra</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.cardinality.html">cardinality</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.ereal.html">ereal</a></span> <span class="id"><a href="mathcomp.analysis.reals.html">reals</a></span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span> <span class="id"><a href="mathcomp.analysis.topology.html">topology</a></span> <span class="id"><a href="mathcomp.analysis.prodnormedzmodule.html">prodnormedzmodule</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html">normedtype</a></span> <span class="id"><a href="mathcomp.analysis.derive.html">derive</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.real_interval.html">real_interval</a></span>.<br/>
<span class="kwd">From</span> <span class="id">HB</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">structures</span>.<br/>
<br/>
<pre>
(******************************************************************************)
(* This file provides properties of standard real-valued functions over real  *)
(* numbers (e.g., the continuity of the inverse of a continuous function).    *)
(*                                                                            *)
(*   derivable_oo_continuous_bnd f x y == f is derivable on `]x, y[ and       *)
(*                                        continuous up to the boundary       *)
(*                                                                            *)
(******************************************************************************)</pre>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="kwd">Arguments</span>.<br/>
<span class="id">Unset</span> <span class="id">Strict</span> <span class="kwd">Implicit</span>.<br/>
<span class="id">Unset</span> <span class="id">Printing</span> <span class="kwd">Implicit</span> <span class="id">Defensive</span>.<br/>
<br/>
<span class="kwd">Import</span> <span class="id">Order.TTheory</span> <span class="id">GRing.Theory</span> <span class="id">Num.Def</span> <span class="id">Num.Theory</span>.<br/>
<span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.topology.html#numFieldTopology.Exports">numFieldTopology.Exports</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ring_scope</span>.<br/>
<br/>
<span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.Exports">numFieldNormedType.Exports</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="derivable_oo_continuous_bnd">derivable_oo_continuous_bnd</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">numFieldType</span>} {<span class="id">V</span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id">R</span>}.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="derivable_oo_continuous_bnd">derivable_oo_continuous_bnd</a></span> (<span class="id">f</span> : <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.V">V</a></span>) (<span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.R">R</a></span>) :=<br/>
&nbsp;&nbsp;[/\ {<span class="kwd">in</span> `]<span class="id">x</span>, <span class="id">y</span>[, <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> 1},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">x</span>^'+ --&gt; <span class="id">f</span> <span class="id">x</span> &amp; <span class="id">f</span> @ <span class="id">y</span>^'- --&gt; <span class="id">f</span> <span class="id">y</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivable_oo_continuous_bnd_within">derivable_oo_continuous_bnd_within</a></span> (<span class="id">f</span> : <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.V">V</a></span>) (<span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd">derivable_oo_continuous_bnd</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">y</span> -&gt; {<span class="id">within</span> `[<span class="id">x</span>, <span class="id">y</span>], <span class="id">continuous</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
<span class="id">move</span>=&gt; [<span class="id">fxy</span> <span class="id">fxr</span> <span class="id">fyl</span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#subspace_continuousP">subspace_continuousP</a></span> =&gt; <span class="id">z</span> /=.<br/>
<span class="id">rewrite</span> <span class="id">in_itv</span>/= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[]; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;-{<span class="id">z</span>} <span class="id">xy</span>|].<br/>
&nbsp;&nbsp;<span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_at_right_within">cvg_at_right_within</a></span> <span class="id">fxr</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_app">cvg_app</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#within_subset">within_subset</a></span> =&gt; <span class="id">z</span>/=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[].<br/>
<span class="id">move</span>=&gt; /[<span class="id">swap</span>].<br/>
<span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[-&gt;{<span class="id">z</span>} <span class="id">xy</span>|<span class="id">zy</span> <span class="id">xz</span>].<br/>
&nbsp;&nbsp;<span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_at_left_within">cvg_at_left_within</a></span> <span class="id">fyl</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_app">cvg_app</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#within_subset">within_subset</a></span> =&gt; <span class="id">z</span>/=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[].<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_within_filter">cvg_within_filter</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#differentiable_continuous">differentiable_continuous</a></span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.derive.html#derivable1_diffP">derivable1_diffP</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">fxy</span>; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id">xz</span> <span class="id">zy</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd">derivable_oo_continuous_bnd</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="real_inverse_functions">real_inverse_functions</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="real_inverse_functions.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">a</span> <span class="id">b</span> : <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) (<span class="id">f</span> <span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="continuous_subspace_itv">continuous_subspace_itv</a></span> (<span class="id">I</span> : <span class="id">interval</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) (<span class="id">f</span> : <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) :<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">I</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span>} -&gt; {<span class="id">within</span> [<span class="id">set</span>` <span class="id">I</span>], <span class="id">continuous</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
<span class="id">move</span>=&gt; <span class="id">ctsf</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_in_subspaceT">continuous_in_subspaceT</a></span> =&gt; <span class="id">x</span> <span class="id">Ix</span>; <span class="id">apply</span>: <span class="id">ctsf</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">Ix</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="itv_continuous_inj_le">itv_continuous_inj_le</a></span> <span class="id">f</span> (<span class="id">I</span> : <span class="id">interval</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">exists</span> <span class="id">x</span> <span class="id">y</span>, [/\ <span class="id">x</span> \<span class="kwd">in</span> <span class="id">I</span>, <span class="id">y</span> \<span class="kwd">in</span> <span class="id">I</span>, <span class="id">x</span> &lt; <span class="id">y</span> &amp; <span class="id">f</span> <span class="id">x</span> &lt;= <span class="id">f</span> <span class="id">y</span>]) -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> [<span class="id">set</span>` <span class="id">I</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> <span class="id">I</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">I</span> &amp;, {<span class="id">mono</span> <span class="id">f</span> : <span class="id">x</span> <span class="id">y</span> / <span class="id">x</span> &lt;= <span class="id">y</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
<span class="id">gen</span> <span class="id">have</span> <span class="id">fxy</span> : <span class="id">f</span> / {<span class="kwd">in</span> <span class="id">I</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">I</span> &amp;, <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id">x</span> &lt; <span class="id">y</span> -&gt; <span class="id">f</span> <span class="id">x</span> != <span class="id">f</span> <span class="id">y</span>}.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">fI</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xI</span> <span class="id">yI</span> <span class="id">xLy</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> =&gt; /<span class="id">eqP</span> /<span class="id">fI</span> =&gt; /(<span class="id">_</span> <span class="id">xI</span> <span class="id">yI</span>) <span class="id">xy</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">xLy</span>; <span class="id">rewrite</span> <span class="id">xy</span> <span class="id">ltxx</span>.<br/>
<span class="id">gen</span> <span class="id">have</span> <span class="id">main</span> : <span class="id">f</span> / <span class="kwd">forall</span> <span class="id">c</span>, {<span class="id">within</span> [<span class="id">set</span>` <span class="id">I</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">I</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">I</span> &amp;, <span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">b</span> -&gt; <span class="id">a</span> &lt; <span class="id">c</span> -&gt; <span class="id">c</span> &lt; <span class="id">b</span> -&gt; <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">c</span> /\ <span class="id">f</span> <span class="id">c</span> &lt; <span class="id">f</span> <span class="id">b</span>}.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">c</span> <span class="id">fC</span> <span class="id">fI</span> <span class="id">a</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">faLfb</span> <span class="id">aLc</span> <span class="id">cLb</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">intP</span> := <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_is_interval">interval_is_interval</a></span> <span class="id">aI</span> <span class="id">bI</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">cI</span> : <span class="id">c</span> \<span class="kwd">in</span> <span class="id">I</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">intP</span>// (<span class="id">ltW</span> <span class="id">aLc</span>) <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">ctsACf</span> : {<span class="id">within</span> `[<span class="id">a</span>, <span class="id">c</span>], <span class="id">continuous</span> <span class="id">f</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW</a></span> <span class="id">_</span> <span class="id">fC</span>) =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; /<span class="id">itvP</span> <span class="id">axc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">intP</span>// <span class="id">axc</span>/= (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">ltW</span> <span class="id">cLb</span>))// <span class="id">axc</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">ctsCBf</span> : {<span class="id">within</span> `[<span class="id">c</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW</a></span> <span class="id">_</span> <span class="id">fC</span>) =&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; /<span class="id">itvP</span> <span class="id">axc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">intP</span>// <span class="id">axc</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> (<span class="id">le_trans</span> (<span class="id">ltW</span> <span class="id">aLc</span>)) ?<span class="id">axc</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">aLb</span> <span class="id">alb</span>'] : <span class="id">a</span> &lt; <span class="id">b</span> /\ <span class="id">a</span> &lt;= <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltW</span> (<span class="id">lt_trans</span> <span class="id">aLc</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">faLfc</span>|<span class="id">fcLfa</span>|/<span class="id">eqP</span> <span class="id">faEfc</span>] /= := <span class="id">ltrgtP</span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">c</span>).<br/>
&nbsp;&nbsp;- <span class="id">split</span>; <span class="id">rewrite</span> // <span class="id">lt_neqAle</span> <span class="id">fxy</span> // <span class="id">leNgt</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> =&gt; <span class="id">fbLfc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> := <span class="id">fbLfc</span>; <span class="id">suff</span> /<span class="id">eqP</span> -&gt; : <span class="id">c</span> == <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltxx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">eq_le</span> (<span class="id">ltW</span> <span class="id">cLb</span>) /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">d</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">ad</span> <span class="id">dc</span>] <span class="id">fdEfb</span>] : <span class="kwd">exists2</span> <span class="id">d</span>, <span class="id">a</span> &lt;= <span class="id">d</span> &lt;= <span class="id">c</span> &amp; <span class="id">f</span> <span class="id">d</span> = <span class="id">f</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">aLc</span>' : <span class="id">a</span> &lt;= <span class="id">c</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#IVT">IVT</a></span> =&gt; //; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltrgtP</span> <span class="id">faLfc</span>; <span class="id">rewrite</span> // (<span class="id">ltW</span> <span class="id">faLfb</span>) // <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id">fI</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">fdEfb</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>: <span class="id">ad</span> <span class="id">dc</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt;/<span class="id">predU1P</span>[&lt;-//| /<span class="id">ltW</span> <span class="id">L</span>] <span class="id">dc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">intP</span>// <span class="id">L</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">ltW</span> <span class="id">cLb</span>)).<br/>
&nbsp;&nbsp;- <span class="id">have</span> [<span class="id">fbLfc</span> | <span class="id">fcLfb</span> | <span class="id">fbEfc</span>] /= := <span class="id">ltrgtP</span> (<span class="id">f</span> <span class="id">b</span>) (<span class="id">f</span> <span class="id">c</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">have</span> := <span class="id">lt_trans</span> <span class="id">fbLfc</span> <span class="id">fcLfa</span>; <span class="id">rewrite</span> <span class="id">ltNge</span> (<span class="id">ltW</span> <span class="id">faLfb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">have</span> [<span class="id">d</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">cLd</span> <span class="id">dLb</span>] /<span class="id">eqP</span>] : <span class="kwd">exists2</span> <span class="id">d</span>, <span class="id">c</span> &lt;= <span class="id">d</span> &lt;= <span class="id">b</span> &amp; <span class="id">f</span> <span class="id">d</span> = <span class="id">f</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">cLb</span>' : <span class="id">c</span> &lt;= <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#IVT">IVT</a></span> =&gt; //; <span class="id">last</span> <span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltrgtP</span> <span class="id">fcLfb</span>; <span class="id">rewrite</span> // !<span class="id">ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> /(<span class="id">fxy</span> <span class="id">f</span> <span class="id">fI</span>) : <span class="id">a</span> &lt; <span class="id">d</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">aLc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">suff</span> <span class="id">dI</span>' : <span class="id">d</span> \<span class="kwd">in</span> <span class="id">I</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eq_sym</span>=&gt; /(<span class="id">_</span> <span class="id">aI</span> <span class="id">dI</span>') =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>: <span class="id">dLb</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[-&gt;//|/<span class="id">ltW</span> <span class="id">db</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">intP</span>// <span class="id">db</span>  (<span class="id">le_trans</span> (<span class="id">ltW</span> <span class="id">aLc</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>: <span class="id">fcLfa</span>; <span class="id">rewrite</span> -<span class="id">fbEfc</span> <span class="id">ltNge</span> (<span class="id">ltW</span> <span class="id">faLfb</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/(<span class="id">fxy</span> <span class="id">_</span> <span class="id">fI</span>) : <span class="id">aLc</span>=&gt; /(<span class="id">_</span> <span class="id">aI</span> <span class="id">cI</span>); <span class="id">rewrite</span> <span class="id">faEfc</span>.<br/>
<span class="id">move</span>=&gt; [<span class="id">u</span> [<span class="id">v</span> [<span class="id">uI</span> <span class="id">vI</span> <span class="id">ulv</span> +]]] <span class="id">fC</span> <span class="id">fI</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[<span class="id">fufv</span>|<span class="id">fuLfv</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id">fI</span>: <span class="id">fufv</span> =&gt; /(<span class="id">_</span> <span class="id">uI</span> <span class="id">vI</span>) <span class="id">uv</span>; <span class="id">move</span>: <span class="id">ulv</span>; <span class="id">rewrite</span> <span class="id">uv</span> <span class="id">ltxx</span>.<br/>
<span class="id">have</span> <span class="id">aux</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> : <span class="id">a</span> \<span class="kwd">in</span> <span class="id">I</span> -&gt; <span class="id">b</span> \<span class="kwd">in</span> <span class="id">I</span> -&gt; <span class="id">a</span> &lt; <span class="id">c</span> -&gt; <span class="id">c</span> &lt; <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;(<span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">c</span> -&gt; <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">b</span> /\ <span class="id">f</span> <span class="id">c</span> &lt; <span class="id">f</span> <span class="id">b</span>) /\<br/>
&nbsp;&nbsp;&nbsp;(<span class="id">f</span> <span class="id">c</span> &lt; <span class="id">f</span> <span class="id">b</span> -&gt; <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">b</span> /\ <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">c</span>).<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">aI</span> <span class="id">bI</span> <span class="id">aLc</span> <span class="id">cLb</span>; <span class="id">have</span> <span class="id">aLb</span> := <span class="id">lt_trans</span> <span class="id">aLc</span> <span class="id">cLb</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">cI</span> : <span class="id">c</span> \<span class="kwd">in</span> <span class="id">I</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#interval_is_interval">interval_is_interval</a></span> <span class="id">aI</span> <span class="id">bI</span>)// (<span class="id">ltW</span> <span class="id">aLc</span>)/= <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">fanfb</span> : <span class="id">f</span> <span class="id">a</span> != <span class="id">f</span> <span class="id">b</span> <span class="kwd">by</span> <span class="id">apply</span>: (<span class="id">fxy</span> <span class="id">f</span> <span class="id">fI</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">decr</span> : <span class="id">f</span> <span class="id">b</span>  &lt; <span class="id">f</span> <span class="id">a</span> -&gt; <span class="id">f</span> <span class="id">b</span> &lt; <span class="id">f</span> <span class="id">c</span> /\ <span class="id">f</span> <span class="id">c</span> &lt; <span class="id">f</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">ofC</span> : {<span class="id">within</span> [<span class="id">set</span>` <span class="id">I</span>], <span class="id">continuous</span> (-<span class="id">f</span>)}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_comp">continuous_comp</a></span>; [<span class="id">exact</span>: <span class="id">fC</span> | <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousN">continuousN</a></span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">ofI</span> : {<span class="kwd">in</span> <span class="id">I</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> (-<span class="id">f</span>)} <span class="kwd">by</span> <span class="id">move</span>=&gt;&gt; ? ? /<span class="id">oppr_inj</span>/<span class="id">fI</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -[<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> &lt; <span class="id">_</span> -&gt; <span class="id">_</span>](<span class="id">opprK</span> (<span class="id">f</span> <span class="id">b</span>)) <span class="id">ltr_oppl</span> =&gt; <span class="id">ofaLofb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> := <span class="id">main</span> <span class="id">_</span> <span class="id">c</span> <span class="id">ofC</span> <span class="id">ofI</span> <span class="id">a</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">ofaLofb</span> <span class="id">aLc</span> <span class="id">cLb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> (<span class="id">do</span> 2 <span class="id">rewrite</span> <span class="id">ltr_oppl</span> <span class="id">opprK</span>); <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#and_comm">and_comm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>=&gt; [<span class="id">faLfc</span>|<span class="id">fcLfb</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">suff</span> <span class="id">L</span> : <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">b</span> <span class="kwd">by</span> <span class="id">have</span> [] := <span class="id">main</span> <span class="id">f</span> <span class="id">c</span> <span class="id">fC</span> <span class="id">fI</span> <span class="id">a</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">L</span> <span class="id">aLc</span> <span class="id">cLb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">decr</span> <span class="id">fanfb</span> =&gt; // <span class="id">fbfa</span> []//; <span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">faLfc</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">L</span> : <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">b</span> <span class="kwd">by</span> <span class="id">have</span> [] := <span class="id">main</span> <span class="id">f</span> <span class="id">c</span> <span class="id">fC</span> <span class="id">fI</span> <span class="id">a</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">L</span> <span class="id">aLc</span> <span class="id">cLb</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">decr</span> <span class="id">fanfb</span> =&gt; // <span class="id">fbfa</span> []//; <span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">fcLfb</span>.<br/>
<span class="id">have</span>{<span class="id">main</span> <span class="id">fC</span>} <span class="id">whole</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> := <span class="id">main</span> <span class="id">f</span> <span class="id">c</span> <span class="id">fC</span> <span class="id">fI</span> <span class="id">a</span> <span class="id">b</span>.<br/>
<span class="id">have</span> <span class="id">low</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> : <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">c</span> -&gt; <span class="id">a</span> \<span class="kwd">in</span> <span class="id">I</span> -&gt; <span class="id">b</span> \<span class="kwd">in</span> <span class="id">I</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">a</span> &lt; <span class="id">c</span> -&gt; <span class="id">c</span> &lt; <span class="id">b</span> -&gt; <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">b</span> /\ <span class="id">f</span> <span class="id">c</span> &lt; <span class="id">f</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">L</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">ac</span> <span class="id">cb</span>; <span class="id">case</span>: (<span class="id">aux</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">ac</span> <span class="id">cb</span>)=&gt; [/(<span class="id">_</span> <span class="id">L</span>)].<br/>
<span class="id">have</span> <span class="id">high</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> : <span class="id">f</span> <span class="id">c</span> &lt; <span class="id">f</span> <span class="id">b</span> -&gt; <span class="id">a</span> \<span class="kwd">in</span> <span class="id">I</span> -&gt; <span class="id">b</span> \<span class="kwd">in</span> <span class="id">I</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">a</span> &lt; <span class="id">c</span> -&gt; <span class="id">c</span> &lt; <span class="id">b</span> -&gt; <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">b</span> /\ <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">c</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">L</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">ac</span> <span class="id">cb</span>; <span class="id">case</span>: (<span class="id">aux</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">ac</span> <span class="id">cb</span>)=&gt; [<span class="id">_</span> /(<span class="id">_</span> <span class="id">L</span>)].<br/>
<span class="id">apply</span>: <span class="id">le_mono_in</span> =&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">xI</span> <span class="id">yI</span> <span class="id">xLy</span>.<br/>
<span class="id">have</span> [<span class="id">uLx</span> | <span class="id">xLu</span> | <span class="id">xu</span>] := <span class="id">ltrgtP</span> <span class="id">u</span> <span class="id">x</span>.<br/>
- <span class="id">suff</span> <span class="id">fuLfx</span> : <span class="id">f</span> <span class="id">u</span> &lt; <span class="id">f</span> <span class="id">x</span> <span class="kwd">by</span> <span class="id">have</span> [] := <span class="id">low</span> <span class="id">u</span> <span class="id">x</span> <span class="id">y</span> <span class="id">fuLfx</span> <span class="id">uI</span> <span class="id">yI</span> <span class="id">uLx</span> <span class="id">xLy</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">xLv</span> | <span class="id">vLx</span> | -&gt; //] := <span class="id">ltrgtP</span> <span class="id">x</span> <span class="id">v</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">case</span>: (<span class="id">whole</span> <span class="id">u</span> <span class="id">x</span> <span class="id">v</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">low</span> <span class="id">u</span> <span class="id">v</span> <span class="id">x</span>).<br/>
- <span class="id">have</span> <span class="id">fxLfu</span> : <span class="id">f</span> <span class="id">x</span> &lt; <span class="id">f</span> <span class="id">u</span> <span class="kwd">by</span> <span class="id">have</span> [] := <span class="id">high</span> <span class="id">x</span> <span class="id">u</span> <span class="id">v</span> <span class="id">fuLfv</span> <span class="id">xI</span> <span class="id">vI</span> <span class="id">xLu</span> <span class="id">ulv</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">yLu</span> | <span class="id">uLy</span> | -&gt; //] := <span class="id">ltrgtP</span> <span class="id">y</span> <span class="id">u</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">case</span>: (<span class="id">whole</span> <span class="id">x</span> <span class="id">y</span> <span class="id">u</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">low</span> <span class="id">x</span> <span class="id">u</span> <span class="id">y</span>).<br/>
<span class="id">move</span>: <span class="id">xLy</span>; <span class="id">rewrite</span> -<span class="id">xu</span> =&gt; <span class="id">uLy</span>.<br/>
<span class="id">have</span> [<span class="id">yLv</span> | <span class="id">vLy</span> | -&gt; //] := <span class="id">ltrgtP</span> <span class="id">y</span> <span class="id">v</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">case</span>: (<span class="id">whole</span> <span class="id">u</span> <span class="id">y</span> <span class="id">v</span>).<br/>
<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">low</span> <span class="id">u</span> <span class="id">v</span> <span class="id">y</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="itv_continuous_inj_ge">itv_continuous_inj_ge</a></span> <span class="id">f</span> (<span class="id">I</span> : <span class="id">interval</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">exists</span> <span class="id">x</span> <span class="id">y</span>, [/\ <span class="id">x</span> \<span class="kwd">in</span> <span class="id">I</span>, <span class="id">y</span> \<span class="kwd">in</span> <span class="id">I</span>, <span class="id">x</span> &lt; <span class="id">y</span> &amp; <span class="id">f</span> <span class="id">y</span> &lt;= <span class="id">f</span> <span class="id">x</span>]) -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> [<span class="id">set</span>` <span class="id">I</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> <span class="id">I</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">I</span> &amp;, {<span class="id">mono</span> <span class="id">f</span> : <span class="id">x</span> <span class="id">y</span> /~ <span class="id">x</span> &lt;= <span class="id">y</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
<span class="id">move</span>=&gt; [<span class="id">a</span> [<span class="id">b</span> [<span class="id">aI</span> <span class="id">bI</span> <span class="id">ab</span> <span class="id">fbfa</span>]]] <span class="id">fC</span> <span class="id">fI</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xI</span> <span class="id">yI</span>.<br/>
<span class="id">suff</span> : (- <span class="id">f</span>) <span class="id">y</span> &lt;= (- <span class="id">f</span>) <span class="id">x</span> = (<span class="id">y</span> &lt;= <span class="id">x</span>) <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_oppl</span> <span class="id">opprK</span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_le">itv_continuous_inj_le</a></span> <span class="id">xI</span> =&gt; // [|<span class="id">x1</span> <span class="id">x1I</span> | <span class="id">x1</span> <span class="id">x2</span> <span class="id">x1I</span> <span class="id">x2I</span>].<br/>
- <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">a</span>, <span class="id">b</span>; <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> <span class="id">ler_oppl</span> <span class="id">opprK</span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#continuousN">continuousN</a></span>/<span class="id">fC</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id">oppr_inj</span>; <span class="id">apply</span>/<span class="id">fI</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="itv_continuous_inj_mono">itv_continuous_inj_mono</a></span> <span class="id">f</span> (<span class="id">I</span> : <span class="id">interval</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">within</span> [<span class="id">set</span>` <span class="id">I</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> <span class="id">I</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#monotonous">monotonous</a></span> <span class="id">I</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">move</span>=&gt; <span class="id">fC</span> <span class="id">fI</span>.<br/>
<span class="id">case</span>: (<span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="kwd">exists</span> <span class="id">a</span> <span class="id">b</span>, [/\ <span class="id">a</span> \<span class="kwd">in</span> <span class="id">I</span> , <span class="id">b</span> \<span class="kwd">in</span> <span class="id">I</span> &amp; <span class="id">a</span> &lt; <span class="id">b</span>])); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">N2I</span>; <span class="id">left</span> =&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">xI</span> <span class="id">yI</span>; <span class="id">suff</span> -&gt; : <span class="id">x</span> = <span class="id">y</span> <span class="kwd">by</span> <span class="id">rewrite</span> ?<span class="id">lexx</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.boolp.html#contra_notP">contra_notP</a></span> <span class="id">N2I</span> =&gt; /<span class="id">eqP</span>; <span class="id">case</span>: <span class="id">ltgtP</span>; [<span class="kwd">exists</span> <span class="id">x</span>, <span class="id">y</span>|<span class="kwd">exists</span> <span class="id">y</span>, <span class="id">x</span>|].<br/>
<span class="id">move</span>=&gt; [<span class="id">a</span> [<span class="id">b</span> [<span class="id">aI</span> <span class="id">bI</span> <span class="id">lt_ab</span>]]].<br/>
<span class="id">have</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[<span class="id">faLfb</span>|<span class="id">fbLfa</span>] := <span class="id">le_total</span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">left</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_le">itv_continuous_inj_le</a></span> =&gt; //; <span class="kwd">exists</span> <span class="id">a</span>, <span class="id">b</span>; <span class="id">rewrite</span> ?<span class="id">faLfb</span>.<br/>
<span class="kwd">by</span> <span class="id">right</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_ge">itv_continuous_inj_ge</a></span> =&gt; //; <span class="kwd">exists</span> <span class="id">a</span>, <span class="id">b</span>; <span class="id">rewrite</span> ?<span class="id">fbLfa</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_continuous_inj_le">segment_continuous_inj_le</a></span> <span class="id">f</span> <span class="id">a</span> <span class="id">b</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">f</span> <span class="id">b</span> -&gt; {<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp;, {<span class="id">mono</span> <span class="id">f</span> : <span class="id">x</span> <span class="id">y</span> / <span class="id">x</span> &lt;= <span class="id">y</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="id">move</span>=&gt; <span class="id">fafb</span> <span class="id">fct</span> <span class="id">finj</span>; <span class="id">have</span> [//|] := <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_mono">itv_continuous_inj_mono</a></span> <span class="id">fct</span> <span class="id">finj</span>.<br/>
<span class="id">have</span> [<span class="id">aLb</span>|<span class="id">bLa</span>|&lt;-] := <span class="id">ltrgtP</span> <span class="id">a</span> <span class="id">b</span>; <span class="id">first</span> 1 <span class="id">last</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span> <span class="id">x</span> ?; <span class="id">rewrite</span> <span class="id">itv_ge</span>// -<span class="id">ltNge</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span> <span class="id">x</span> <span class="id">y</span> /<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#itvxxP">itvxxP</a></span>-&gt; /<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#itvxxP">itvxxP</a></span>-&gt;; <span class="id">rewrite</span> !<span class="id">lexx</span>.<br/>
<span class="id">move</span>=&gt; /(<span class="id">_</span> <span class="id">a</span> <span class="id">b</span>); <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">fafb</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; /(<span class="id">_</span> (<span class="id">ltW</span> <span class="id">aLb</span>) (<span class="id">ltW</span> <span class="id">aLb</span>)); <span class="id">rewrite</span> <span class="id">lt_geF</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_continuous_inj_ge">segment_continuous_inj_ge</a></span> <span class="id">f</span> <span class="id">a</span> <span class="id">b</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f</span> <span class="id">a</span> &gt;= <span class="id">f</span> <span class="id">b</span> -&gt; {<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp;, {<span class="id">mono</span> <span class="id">f</span> : <span class="id">x</span> <span class="id">y</span> /~ <span class="id">x</span> &lt;= <span class="id">y</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
<span class="id">move</span>=&gt; <span class="id">fafb</span> <span class="id">fct</span> <span class="id">finj</span>; <span class="id">have</span> [|//] := <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_mono">itv_continuous_inj_mono</a></span> <span class="id">fct</span> <span class="id">finj</span>.<br/>
<span class="id">have</span> [<span class="id">aLb</span>|<span class="id">bLa</span>|&lt;-] := <span class="id">ltrgtP</span> <span class="id">a</span> <span class="id">b</span>; <span class="id">first</span> 1 <span class="id">last</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span> <span class="id">x</span> ?; <span class="id">rewrite</span> <span class="id">itv_ge</span>// -<span class="id">ltNge</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span> <span class="id">x</span> <span class="id">y</span> /<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#itvxxP">itvxxP</a></span>-&gt; /<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#itvxxP">itvxxP</a></span>-&gt;; <span class="id">rewrite</span> !<span class="id">lexx</span>.<br/>
<span class="id">move</span>=&gt; /(<span class="id">_</span> <span class="id">b</span> <span class="id">a</span>); <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">fafb</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; /(<span class="id">_</span> (<span class="id">ltW</span> <span class="id">aLb</span>) (<span class="id">ltW</span> <span class="id">aLb</span>)); <span class="id">rewrite</span> <span class="id">lt_geF</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_can_le">segment_can_le</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> <span class="id">g</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>] &amp;, {<span class="id">mono</span> <span class="id">g</span> : <span class="id">x</span> <span class="id">y</span> / <span class="id">x</span> &lt;= <span class="id">y</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
<span class="id">move</span>=&gt; <span class="id">aLb</span> <span class="id">ctf</span> <span class="id">fK</span>; <span class="id">have</span> [<span class="id">fbLfa</span> | <span class="id">faLfb</span>] := <span class="id">ltrP</span> (<span class="id">f</span> <span class="id">b</span>) (<span class="id">f</span> <span class="id">a</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span>; <span class="id">rewrite</span> <span class="id">itv_ge</span>// -<span class="id">ltNge</span>.<br/>
<span class="id">have</span> [<span class="id">aab</span> <span class="id">bab</span>] : <span class="id">a</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] /\ <span class="id">b</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span>.<br/>
<span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">faLfb</span> =&gt; // [<span class="id">faLfb</span> <span class="id">_</span>|-&gt; <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> /<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#itvxxP">itvxxP</a></span>-&gt; /<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#itvxxP">itvxxP</a></span>-&gt;]; <span class="id">rewrite</span> ?<span class="id">lexx</span>//.<br/>
<span class="id">have</span> <span class="id">lt_ab</span> : <span class="id">a</span> &lt; <span class="id">b</span> <span class="kwd">by</span> <span class="id">case</span>: (<span class="id">ltgtP</span> <span class="id">a</span> <span class="id">b</span>) <span class="id">aLb</span> <span class="id">faLfb</span> =&gt; // -&gt;; <span class="id">rewrite</span> <span class="id">ltxx</span>.<br/>
<span class="id">have</span> <span class="id">w</span> : <span class="kwd">exists</span> <span class="id">x</span> <span class="id">y</span>, [/\ <span class="id">x</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">y</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">x</span> &lt; <span class="id">y</span> &amp; <span class="id">f</span> <span class="id">x</span> &lt;= <span class="id">f</span> <span class="id">y</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">a</span>, <span class="id">b</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> (<span class="id">ltW</span> <span class="id">faLfb</span>).<br/>
<span class="id">have</span> <span class="id">fle</span> := <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_le">itv_continuous_inj_le</a></span> <span class="id">w</span> <span class="id">ctf</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_in_inj">can_in_inj</a></span> <span class="id">fK</span>).<br/>
<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">xin</span> <span class="id">yin</span>; <span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.normedtype.html#IVT">IVT</a></span> <span class="id">aLb</span> <span class="id">ctf</span>.<br/>
<span class="id">case</span>: (<span class="id">ltrgtP</span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">b</span>)) <span class="id">faLfb</span> =&gt; // <span class="id">_</span> <span class="id">_</span> <span class="id">ivt</span>.<br/>
<span class="kwd">by</span> <span class="id">have</span> [[<span class="id">u</span> <span class="id">uin</span> &lt;-] [<span class="id">v</span> <span class="id">vin</span> &lt;-]] := (<span class="id">ivt</span> <span class="id">_</span> <span class="id">xin</span>, <span class="id">ivt</span> <span class="id">_</span> <span class="id">yin</span>); <span class="id">rewrite</span> !<span class="id">fK</span>// !<span class="id">fle</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="real_inverse_functions.negation_itv">negation_itv</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Definition</span> <span class="id"><a name="itvN_oppr">itvN_oppr</a></span> <span class="id">a</span> <span class="id">b</span> := @<span class="id">GRing.opp</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id"><a name="itv_oppr_is_fun">itv_oppr_is_fun</a></span> <span class="id">a</span> <span class="id">b</span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> `[- <span class="id">b</span>, - <span class="id">a</span>]%<span class="id">classic</span> `[<span class="id">a</span>, <span class="id">b</span>]%<span class="id">classic</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#itvN_oppr">itvN_oppr</a></span> <span class="id">a</span> <span class="id">b</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id">oppr_itvcc</span>. Qed.</div>
<span class="id"><a name="real_inverse_functions.negation_itv.hb_instance_1">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> := <span class="id"><a href="mathcomp.analysis.realfun.html#itv_oppr_is_fun">itv_oppr_is_fun</a></span> <span class="id">a</span> <span class="id">b</span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.negation_itv">negation_itv</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_can_ge">segment_can_ge</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> <span class="id">g</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">b</span>, <span class="id">f</span> <span class="id">a</span>] &amp;, {<span class="id">mono</span> <span class="id">g</span> : <span class="id">x</span> <span class="id">y</span> /~ <span class="id">x</span> &lt;= <span class="id">y</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
<span class="id">move</span>=&gt; <span class="id">aLb</span> <span class="id">fC</span> <span class="id">fK</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xfbfa</span> <span class="id">yfbfa</span>; <span class="id">rewrite</span> -<span class="id">ler_opp2</span>.<br/>
<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_le">segment_can_le</a></span> (- <span class="id">b</span>) (- <span class="id">a</span>) (<span class="id">f</span> \<span class="id">o</span> -%<span class="id">R</span>) (- <span class="id">g</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> /= ?<span class="id">ler_opp2</span> ?<span class="id">opprK</span> //.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">fun_neg</span> : <span class="id"><a href="mathcomp.analysis.topology.html#subspace">subspace</a></span> `[-<span class="id">b</span>,-<span class="id">a</span>] -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#subspace">subspace</a></span> `[<span class="id">a</span>,<span class="id">b</span>] := <span class="id"><a href="mathcomp.analysis.realfun.html#itvN_oppr">itvN_oppr</a></span> <span class="id">a</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">z</span>; <span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.topology.html#continuous_comp">continuous_comp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> [<span class="kwd">fun</span> <span class="id">of</span> <span class="id">fun_neg</span>]); <span class="id">last</span> <span class="id">exact</span>: <span class="id">fC</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.topology.html#subspaceT_continuous">subspaceT_continuous</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceT">continuous_subspaceT</a></span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#opp_continuous">opp_continuous</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">z</span> <span class="id">zab</span>; <span class="id">rewrite</span> -[- <span class="id">g</span>]/(@<span class="id">GRing.opp</span> <span class="id">_</span> \<span class="id">o</span> <span class="id">g</span>)/= <span class="id">fK</span> ?<span class="id">opprK</span>// <span class="id">oppr_itvcc</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_can_mono">segment_can_mono</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> <span class="id">g</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#monotonous">monotonous</a></span> (<span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>]) <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
<span class="id">move</span>=&gt; <span class="id">le_ab</span> <span class="id">fct</span> <span class="id">fK</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.topology.html#monotonous">monotonous</a></span>/=; <span class="id">case</span>: <span class="id">ltrgtP</span> =&gt; <span class="id">fab</span>; [<span class="id">left</span>|<span class="id">right</span>..];<br/>
&nbsp;&nbsp;<span class="id">do</span> ?<span class="kwd">by</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_le">segment_can_le</a></span>|<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_ge">segment_can_ge</a></span>].<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span> /<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#itvxxP">itvxxP</a></span>&lt;- /<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#itvxxP">itvxxP</a></span>&lt;-; <span class="id">rewrite</span> !<span class="id">lexx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_continuous_surjective">segment_continuous_surjective</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> `[<span class="id">a</span>, <span class="id">b</span>] (<span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>]) <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? <span class="id">fct</span> <span class="id">y</span>/= /<span class="id"><a href="mathcomp.analysis.normedtype.html#IVT">IVT</a></span>[]// <span class="id">x</span>; <span class="kwd">exists</span> <span class="id">x</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_continuous_le_surjective">segment_continuous_le_surjective</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt; <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">f</span> <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> `[<span class="id">a</span>, <span class="id">b</span>] `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>] <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
<span class="id">move</span>=&gt; <span class="id">le_ab</span> <span class="id">f_ab</span> /(<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_surjective">segment_continuous_surjective</a></span> <span class="id">le_ab</span>).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">min_idPl</span> <span class="id">_</span>)// (<span class="id">max_idPr</span> <span class="id">_</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_continuous_ge_surjective">segment_continuous_ge_surjective</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt; <span class="id">f</span> <span class="id">b</span> &lt;= <span class="id">f</span> <span class="id">a</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> `[<span class="id">a</span>, <span class="id">b</span>] `[<span class="id">f</span> <span class="id">b</span>, <span class="id">f</span> <span class="id">a</span>] <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
<span class="id">move</span>=&gt; <span class="id">le_ab</span> <span class="id">f_ab</span> /(<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_surjective">segment_continuous_surjective</a></span> <span class="id">le_ab</span>).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">min_idPr</span> <span class="id">_</span>)// (<span class="id">max_idPl</span> <span class="id">_</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="continuous_inj_image_segment">continuous_inj_image_segment</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> @` `[<span class="id">a</span>, <span class="id">b</span>] = <span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>]%<span class="id">classic</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
<span class="id">move</span>=&gt; <span class="id">leab</span> <span class="id">fct</span> <span class="id">finj</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#mono_surj_image_segment">mono_surj_image_segment</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_mono">itv_continuous_inj_mono</a></span>.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_surjective">segment_continuous_surjective</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="continuous_inj_image_segmentP">continuous_inj_image_segmentP</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">y</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> (<span class="kwd">exists2</span> <span class="id">x</span>, <span class="id">x</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp; <span class="id">f</span> <span class="id">x</span> = <span class="id">y</span>) (<span class="id">y</span> \<span class="kwd">in</span> <span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.realfun.html#continuous_inj_image_segment">continuous_inj_image_segment</a></span>/[<span class="id">apply</span>]/[<span class="id">apply</span>]/<span class="id"><a href="mathcomp.classical.boolp.html#predeqP">predeqP</a></span> + <span class="id">y</span> =&gt; /(<span class="id">_</span> <span class="id">y</span>) <span class="id">faby</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#equivP">equivP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>); <span class="id">symmetry</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_continuous_can_sym">segment_continuous_can_sym</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> <span class="id">g</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
<span class="id">move</span>=&gt; <span class="id">aLb</span> <span class="id">ctf</span> <span class="id">fK</span>; <span class="id">have</span> <span class="id">g_mono</span> := <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_mono">segment_can_mono</a></span> <span class="id">aLb</span> <span class="id">ctf</span> <span class="id">fK</span>.<br/>
<span class="id">have</span> <span class="id">f_mono</span> := <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_mono">itv_continuous_inj_mono</a></span> <span class="id">ctf</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_in_inj">can_in_inj</a></span> <span class="id">fK</span>).<br/>
<span class="id">have</span> <span class="id">f_surj</span> := <span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_surjective">segment_continuous_surjective</a></span> <span class="id">aLb</span> <span class="id">ctf</span>.<br/>
<span class="id">have</span> <span class="id">fIP</span> := <span class="id"><a href="mathcomp.analysis.normedtype.html#mono_surj_image_segmentP">mono_surj_image_segmentP</a></span> <span class="id">aLb</span> <span class="id">f_mono</span> <span class="id">f_surj</span>.<br/>
<span class="id">suff</span>: {<span class="kwd">in</span> <span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>], {<span class="id">on</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> &amp; <span class="id">f</span>}}.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">gK</span> <span class="id">_</span> /<span class="id">fIP</span>[<span class="id">x</span> <span class="id">xab</span> &lt;-]; <span class="id">rewrite</span> <span class="id">fK</span>.<br/>
<span class="id">have</span>: {<span class="kwd">in</span> <span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>] &amp;, {<span class="id">on</span> `[<span class="id">a</span>, <span class="id">b</span>]  &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">g</span>}}.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span> <span class="id">_</span> /<span class="id">fIP</span> [<span class="id">x</span> <span class="id">xab</span> &lt;-] /<span class="id">fIP</span>[<span class="id">y</span> <span class="id">yab</span> &lt;-]; <span class="id">rewrite</span> !<span class="id">fK</span>// =&gt; <span class="id">_</span> <span class="id">_</span> -&gt;.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#inj_can_sym_in_on">ssrbool.inj_can_sym_in_on</a></span> =&gt; <span class="id">x</span> <span class="id">xab</span>; <span class="id">rewrite</span> ?<span class="id">fK</span> ?<span class="id"><a href="mathcomp.analysis.normedtype.html#mono_mem_image_segment">mono_mem_image_segment</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_continuous_le_can_sym">segment_continuous_le_can_sym</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> <span class="id">g</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
<span class="id">move</span>=&gt; <span class="id">aLb</span> <span class="id">fct</span> <span class="id">fK</span> <span class="id">x</span> <span class="id">xfafb</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_can_sym">segment_continuous_can_sym</a></span> <span class="id">aLb</span> <span class="id">fct</span> <span class="id">fK</span>).<br/>
<span class="id">have</span> : <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">f</span> <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">xfafb</span>).<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltrgtP</span> <span class="id">xfafb</span> =&gt; // -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_continuous_ge_can_sym">segment_continuous_ge_can_sym</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> <span class="id">g</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">b</span>, <span class="id">f</span> <span class="id">a</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
<span class="id">move</span>=&gt; <span class="id">aLb</span> <span class="id">fct</span> <span class="id">fK</span> <span class="id">x</span> <span class="id">xfafb</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_can_sym">segment_continuous_can_sym</a></span> <span class="id">aLb</span> <span class="id">fct</span> <span class="id">fK</span>).<br/>
<span class="id">have</span> : <span class="id">f</span> <span class="id">a</span> &gt;= <span class="id">f</span> <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">xfafb</span>).<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltrgtP</span> <span class="id">xfafb</span> =&gt; // -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_inc_surj_continuous">segment_inc_surj_continuous</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp;, {<span class="id">mono</span> <span class="id">f</span> : <span class="id">x</span> <span class="id">y</span> / <span class="id">x</span> &lt;= <span class="id">y</span>}} -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> `[<span class="id">a</span>, <span class="id">b</span>] `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>] <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="id">move</span>=&gt; <span class="id">fle</span> <span class="id">f_surj</span>; <span class="id">have</span> [<span class="id">f_inj</span> <span class="id">flt</span>] := (<span class="id">inc_inj_in</span> <span class="id">fle</span>, <span class="id">leW_mono_in</span> <span class="id">fle</span>).<br/>
<span class="id">have</span> [<span class="id">aLb</span>|<span class="id">bLa</span>|] := <span class="id">ltgtP</span> <span class="id">a</span> <span class="id">b</span>; <span class="id">first</span> <span class="id">last</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itv1">set_itv1</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace1">continuous_subspace1</a></span>.<br/>
- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> =&gt; <span class="id">z</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> /=; <span class="id">rewrite</span> <span class="id">in_itv</span> /=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[/<span class="id">le_trans</span>] /[<span class="id">apply</span>]; <span class="id">rewrite</span> <span class="id">leNgt</span> <span class="id">bLa</span>.<br/>
<span class="id">have</span> <span class="id">le_ab</span> : <span class="id">a</span> &lt;= <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltW</span>.<br/>
<span class="id">have</span> [<span class="id">aab</span> <span class="id">bab</span>] : <span class="id">a</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] /\ <span class="id">b</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">ltW</span>.<br/>
<span class="id">have</span> <span class="id">fab</span> : <span class="id">f</span> @` `[<span class="id">a</span>, <span class="id">b</span>] = `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>]%<span class="id">classic</span> <span class="kwd">by</span> <span class="id">exact</span>:<span class="id"><a href="mathcomp.analysis.normedtype.html#inc_surj_image_segment">inc_surj_image_segment</a></span>.<br/>
<span class="id">pose</span> <span class="id">g</span> := <span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> `[<span class="id">a</span>, <span class="id">b</span>] <span class="id">f</span>; <span class="id">have</span> <span class="id">fK</span> : {<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>}.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -[<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#mem">mem</a></span> <span class="id">_</span>]<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_setE">mem_setE</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#pinvKV">pinvKV</a></span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_setE">mem_setE</a></span>.<br/>
<span class="id">have</span> <span class="id">gK</span> : {<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> <span class="id">f</span>} <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">z</span> <span class="id">zab</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#pinvK">pinvK</a></span>// <span class="id">fab</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="id">have</span> <span class="id">gle</span> : {<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>] &amp;, {<span class="id">mono</span> <span class="id">g</span> : <span class="id">x</span> <span class="id">y</span> / <span class="id">x</span> &lt;= <span class="id">y</span>}}.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_mono_in">can_mono_in</a></span> (<span class="id">fle</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id">gK</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">z</span> <span class="id">zfab</span>; <span class="id">have</span> {<span class="id">zfab</span>} : `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>]%<span class="id">classic</span> <span class="id">z</span> <span class="kwd">by</span> [].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">fab</span> =&gt; -[<span class="id">x</span> <span class="id">xab</span> &lt;-]; <span class="id">rewrite</span> <span class="id">fK</span>.<br/>
<span class="id">have</span> <span class="id">glt</span> := <span class="id">leW_mono_in</span> <span class="id">gle</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> =&gt; <span class="id">x</span> <span class="id">xab</span>.<br/>
<span class="id">have</span> <span class="id">xabcc</span> : <span class="id">x</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] <span class="kwd">by</span> <span class="id">move</span>: <span class="id">xab</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_setE">mem_setE</a></span>.<br/>
<span class="id">have</span> <span class="id">fxab</span> : <span class="id">f</span> <span class="id">x</span> \<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>] <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span>/= !<span class="id">fle</span>.<br/>
<span class="id">have</span> := <span class="id">xabcc</span>; <span class="id">rewrite</span> <span class="id">in_itv</span> //= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> [<span class="id">ax</span> <span class="id">xb</span>].<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgrPdist_lt">cvgrPdist_lt</a></span> =&gt; <span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>]; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.normedtype.html#NearNorm.near_simpl">near_simpl</a></span>; <span class="id">near</span>=&gt; <span class="id">y</span>.<br/>
<span class="id">rewrite</span> (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">e</span>%:<span class="id">num</span> / 2%:<span class="id">R</span>))//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_pdivr_mulr</span>// <span class="id">ltr_pmulr</span>// <span class="id">ltr1n</span>.<br/>
<span class="id">rewrite</span> <span class="id">ler_distlC</span>; <span class="id">near</span>: <span class="id">y</span>.<br/>
<span class="id">pose</span> <span class="id">u</span> := <span class="id">minr</span> (<span class="id">f</span> <span class="id">x</span> + <span class="id">e</span>%:<span class="id">num</span> / 2) (<span class="id">f</span> <span class="id">b</span>).<br/>
<span class="id">pose</span> <span class="id">l</span> := <span class="id">maxr</span> (<span class="id">f</span> <span class="id">x</span> - <span class="id">e</span>%:<span class="id">num</span> / 2) (<span class="id">f</span> <span class="id">a</span>).<br/>
<span class="id">have</span> <span class="id">ufab</span> : <span class="id">u</span> \<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id">in_itv</span> /= <span class="id">le_minl</span> ?<span class="id">le_minr</span> <span class="id">lexx</span> ?<span class="id">fle</span> // <span class="id">le_ab</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span> ?<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_paddr</span> // <span class="id">fle</span>.<br/>
<span class="id">have</span> <span class="id">lfab</span> : <span class="id">l</span> \<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id">in_itv</span>/= <span class="id">le_maxl</span> ?<span class="id">le_maxr</span> <span class="id">lexx</span> ?<span class="id">fle</span>// <span class="id">le_ab</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span> ?<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_subl_addr</span> <span class="id">ler_paddr</span>// <span class="id">fle</span> // <span class="id">lexx</span>.<br/>
<span class="id">have</span> <span class="id">guab</span> : <span class="id">g</span> <span class="id">u</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id">in_itv</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>; <span class="id">have</span> := <span class="id">ufab</span>; <span class="id">rewrite</span> <span class="id">in_itv</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>; <span class="id">rewrite</span> /= -<span class="id">gle</span> // ?<span class="id">fK</span> // <span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">fle</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span> =&gt; <span class="id">_</span>; <span class="id">rewrite</span> /= -<span class="id">gle</span> // ?<span class="id">fK</span> // <span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">fle</span>.<br/>
<span class="id">have</span> <span class="id">glab</span> : <span class="id">g</span> <span class="id">l</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id">in_itv</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>; <span class="id">have</span> := <span class="id">lfab</span>; <span class="id">rewrite</span> <span class="id">in_itv</span> /= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>; <span class="id">rewrite</span> -<span class="id">gle</span> // ?<span class="id">fK</span> // <span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">fle</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span> =&gt; <span class="id">_</span>; <span class="id">rewrite</span> -<span class="id">gle</span> // ?<span class="id">fK</span> // <span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">fle</span>.<br/>
<span class="id">have</span> <span class="id">faltu</span> : <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">u</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">u</span> <span class="id">comparable_lt_minr</span> ?<span class="id">real_comparable</span> ?<span class="id">num_real</span>// <span class="id">flt</span>// <span class="id">aLb</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">x</span>)) ?<span class="id">fle</span>// <span class="id">ltr_addl</span>.<br/>
<span class="id">have</span> <span class="id">lltfb</span> : <span class="id">l</span> &lt; <span class="id">f</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">u</span> <span class="id">comparable_lt_maxl</span> ?<span class="id">real_comparable</span> ?<span class="id">num_real</span>// <span class="id">flt</span>// <span class="id">aLb</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (@<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">x</span>)) ?<span class="id">fle</span>// <span class="id">ltr_subl_addr</span> <span class="id">ltr_addl</span>.<br/>
<span class="id">case</span>: <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> =&gt; // <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_withinE">near_withinE</a></span>; <span class="id">near_simpl</span>.<br/>
<span class="id">have</span> <span class="id">Fnbhs</span> : <span class="id"><a href="mathcomp.analysis.topology.html#Filter">Filter</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id">x</span>) <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nbhs_filter">nbhs_filter</a></span>.<br/>
<span class="id">have</span> := <span class="id">ax</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[/<span class="id">eqP</span>|] {}<span class="id">ax</span>.<br/>
&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">y</span> =&gt; /[<span class="id">dup</span>] <span class="id">yab</span>; <span class="id">rewrite</span> /= <span class="id">in_itv</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">ay</span> <span class="id">yb</span>]; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">a</span>)) ?<span class="id">fle</span>// <span class="id">ler_subl_addr</span> <span class="id">ax</span> <span class="id">ler_paddr</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">ltW</span>; <span class="id">suff</span> : <span class="id">f</span> <span class="id">y</span> &lt; <span class="id">u</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lt_minr</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[-&gt;].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -?[<span class="id">f</span> <span class="id">y</span> &lt; <span class="id">_</span>]<span class="id">glt</span>// ?<span class="id">fK</span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> /= !<span class="id">fle</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">y</span>; <span class="id">near_simpl</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#open_lt">open_lt</a></span>; <span class="id">rewrite</span> /= -<span class="id">flt</span> ?<span class="id">gK</span>// -<span class="id">ax</span>.<br/>
<span class="id">have</span> := <span class="id">xb</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[/<span class="id">eqP</span> {}<span class="id">xb</span> {<span class="id">ax</span>}|{}<span class="id">xb</span>].<br/>
&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">y</span> =&gt; /[<span class="id">dup</span>] <span class="id">yab</span>; <span class="id">rewrite</span> /= <span class="id">in_itv</span> /= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">ay</span> <span class="id">yb</span>].<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">b</span>)) ?<span class="id">fle</span>// <span class="id">xb</span> <span class="id">ler_paddr</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">ltW</span>; <span class="id">suff</span> : <span class="id">l</span> &lt; <span class="id">f</span> <span class="id">y</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lt_maxl</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[-&gt;].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -?[<span class="id">_</span> &lt; <span class="id">f</span> <span class="id">y</span>]<span class="id">glt</span>// ?<span class="id">fK</span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> /= !<span class="id">fle</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">y</span>; <span class="id">near_simpl</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#open_gt">open_gt</a></span>; <span class="id">rewrite</span> /= -<span class="id">flt</span>// <span class="id">gK</span>// <span class="id">xb</span>.<br/>
<span class="id">have</span> <span class="id">xoab</span> : <span class="id">x</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> /=; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
<span class="id">near</span>=&gt; <span class="id">y</span>; <span class="id">suff</span>: <span class="id">l</span> &lt;= <span class="id">f</span> <span class="id">y</span> &lt;= <span class="id">u</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">le_maxl</span> <span class="id">le_minr</span> -!<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbA">andbA</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#and4P">and4P</a></span>[-&gt; <span class="id">_</span> -&gt;].<br/>
<span class="id">have</span> ? : <span class="id">y</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#subset_itv_oo_cc">subset_itv_oo_cc</a></span>; <span class="id">near</span>: <span class="id">y</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#near_in_itv">near_in_itv</a></span>.<br/>
<span class="id">have</span> <span class="id">fyab</span> : <span class="id">f</span> <span class="id">y</span> \<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>] <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span>/= !<span class="id">fle</span>// ?<span class="id">ltW</span>.<br/>
<span class="id">rewrite</span> -[<span class="id">l</span> &lt;= <span class="id">_</span>]<span class="id">gle</span> -?[<span class="id">_</span> &lt;= <span class="id">u</span>]<span class="id">gle</span>// ?<span class="id">fK</span> //.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#subset_itv_oo_cc">subset_itv_oo_cc</a></span>; <span class="id">near</span>: <span class="id">y</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#near_in_itv">near_in_itv</a></span>; <span class="id">rewrite</span> <span class="id">in_itv</span> /=.<br/>
<span class="id">rewrite</span> -[<span class="id">x</span>]<span class="id">fK</span> // !<span class="id">glt</span>//= <span class="id">lt_minr</span> <span class="id">lt_maxl</span> ?<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">ltr_subl_addr</span> <span class="id">ltr_spaddr</span> //.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#and3P">and3P</a></span>; <span class="id">split</span>; <span class="id">rewrite</span> // <span class="id">flt</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_dec_surj_continuous">segment_dec_surj_continuous</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp;, {<span class="id">mono</span> <span class="id">f</span> : <span class="id">x</span> <span class="id">y</span> /~ <span class="id">x</span> &lt;= <span class="id">y</span>}} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> `[<span class="id">a</span>, <span class="id">b</span>] `[<span class="id">f</span> <span class="id">b</span>, <span class="id">f</span> <span class="id">a</span>] <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
<span class="id">move</span>=&gt; <span class="id">fge</span> <span class="id">f_surj</span>; <span class="id">suff</span>: {<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> (- <span class="id">f</span>)}.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">contNf</span> <span class="id">x</span> <span class="id">xab</span>; <span class="id">rewrite</span> -[<span class="id">f</span>]<span class="id">opprK</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.topology.html#continuous_comp">continuous_comp</a></span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#opp_continuous">opp_continuous</a></span>/<span class="id">contNf</span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_inc_surj_continuous">segment_inc_surj_continuous</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">xab</span> <span class="id">yab</span>; <span class="id">rewrite</span> <span class="id">ler_opp2</span> <span class="id">fge</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> /=; <span class="id">rewrite</span> -<span class="id">oppr_itvcc</span> =&gt; /<span class="id">f_surj</span>[<span class="id">x</span> ? /(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#canLR">canLR</a></span> <span class="id">opprK</span>)&lt;-]; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_mono_surj_continuous">segment_mono_surj_continuous</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#monotonous">monotonous</a></span> `[<span class="id">a</span>, <span class="id">b</span>] <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> `[<span class="id">a</span>, <span class="id">b</span>] (<span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>]) <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> =&gt; -[<span class="id">fle</span>|<span class="id">fge</span>] <span class="id">f_surj</span> <span class="id">x</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> /= <span class="id">xab</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">leab</span> : <span class="id">a</span> &lt;= <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">xab</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">fafb</span> : <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">f</span> <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fle</span> // ?<span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_inc_surj_continuous">segment_inc_surj_continuous</a></span> =&gt; //; <span class="id">case</span>: <span class="id">ltrP</span> <span class="id">f_surj</span> <span class="id">fafb</span>.<br/>
<span class="id">have</span> <span class="id">leab</span> : <span class="id">a</span> &lt;= <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">xab</span>).<br/>
<span class="id">have</span> <span class="id">fafb</span> : <span class="id">f</span> <span class="id">b</span> &lt;= <span class="id">f</span> <span class="id">a</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fge</span> // ?<span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_dec_surj_continuous">segment_dec_surj_continuous</a></span> =&gt; //; <span class="id">case</span>: <span class="id">ltrP</span> <span class="id">f_surj</span> <span class="id">fafb</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_can_le_continuous">segment_can_le_continuous</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> <span class="id">g</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[(<span class="id">f</span> <span class="id">a</span>), (<span class="id">f</span> <span class="id">b</span>)], <span class="id">continuous</span> <span class="id">g</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
<span class="id">move</span>=&gt; <span class="id">aLb</span> <span class="id">ctf</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> =&gt; <span class="id">fK</span> <span class="id">x</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> /= <span class="id">xab</span>.<br/>
<span class="id">have</span> <span class="id">faLfb</span> : <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">f</span> <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">xab</span>).<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_inc_surj_continuous">segment_inc_surj_continuous</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_le">segment_can_le</a></span>.<br/>
<span class="id">rewrite</span> !<span class="id">fK</span> ?<span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span>//=; <span class="id">apply</span>: (@<span class="id"><a href="mathcomp.classical.functions.html#can_surj">can_surj</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_setE">mem_setE</a></span>.<br/>
<span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subP">image_subP</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#mem_inc_segment">mem_inc_segment</a></span>/<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_inj_le">segment_continuous_inj_le</a></span>/(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_in_inj">can_in_inj</a></span> <span class="id">fK</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_can_ge_continuous">segment_can_ge_continuous</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> <span class="id">g</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[(<span class="id">f</span> <span class="id">b</span>), (<span class="id">f</span> <span class="id">a</span>)], <span class="id">continuous</span> <span class="id">g</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
<span class="id">move</span>=&gt; <span class="id">aLb</span> <span class="id">ctf</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> =&gt; <span class="id">fK</span> <span class="id">x</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> /= <span class="id">xab</span>.<br/>
<span class="id">have</span> <span class="id">fbLfa</span> : <span class="id">f</span> <span class="id">b</span> &lt;= <span class="id">f</span> <span class="id">a</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">xab</span>).<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_dec_surj_continuous">segment_dec_surj_continuous</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_ge">segment_can_ge</a></span>.<br/>
<span class="id">rewrite</span> !<span class="id">fK</span> ?<span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span>//=; <span class="id">apply</span>: (@<span class="id"><a href="mathcomp.classical.functions.html#can_surj">can_surj</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_setE">mem_setE</a></span>.<br/>
<span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subP">image_subP</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#mem_dec_segment">mem_dec_segment</a></span>/<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_inj_ge">segment_continuous_inj_ge</a></span>/(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_in_inj">can_in_inj</a></span> <span class="id">fK</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_can_continuous">segment_can_continuous</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> <span class="id">g</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> <span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">g</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
<span class="id">move</span>=&gt; <span class="id">aLb</span> <span class="id">crf</span> <span class="id">fK</span> <span class="id">x</span>; <span class="id">case</span>: <span class="id">lerP</span> =&gt; // <span class="id">_</span>;<br/>
&nbsp;&nbsp;<span class="kwd">by</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_ge_continuous">segment_can_ge_continuous</a></span>|<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_le_continuous">segment_can_le_continuous</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="near_can_continuousAcan_sym">near_can_continuousAcan_sym</a></span> <span class="id">f</span> <span class="id">g</span> (<span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">near</span> <span class="id">x</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt; {<span class="id">near</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="id">near</span> <span class="id">f</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">g</span>} /\ {<span class="id">near</span> <span class="id">f</span> <span class="id">x</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
<span class="id">move</span>=&gt; <span class="id">fK</span> <span class="id">fct</span>; <span class="id">near</span> (0 : <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>)^'+ =&gt; <span class="id">e</span>; <span class="id">have</span> <span class="id">e_gt0</span> : 0 &lt; <span class="id">e</span> <span class="kwd">by</span> [].<br/>
<span class="id">have</span> <span class="id">xBeLxDe</span> : <span class="id">x</span> - <span class="id">e</span> &lt;= <span class="id">x</span> + <span class="id">e</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_add2l</span> <span class="id">gt0_cp</span>.<br/>
<span class="id">have</span> <span class="id">fcte</span> : {<span class="kwd">in</span> `[<span class="id">x</span> - <span class="id">e</span>, <span class="id">x</span> + <span class="id">e</span>], <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span>}.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">e</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#at_right_in_segment">at_right_in_segment</a></span>.<br/>
<span class="id">have</span> <span class="id">fwcte</span> : {<span class="id">within</span> `[<span class="id">x</span> - <span class="id">e</span>, <span class="id">x</span> + <span class="id">e</span>], <span class="id">continuous</span> <span class="id">f</span>}.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_in_subspaceT">continuous_in_subspaceT</a></span> =&gt; <span class="id">y</span> <span class="id">yI</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">fcte</span>; <span class="id">move</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>: <span class="id">yI</span>.<br/>
<span class="id">have</span> <span class="id">fKe</span> : {<span class="kwd">in</span> `[<span class="id">x</span> - <span class="id">e</span>, <span class="id">x</span> + <span class="id">e</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>}<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">e</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#at_right_in_segment">at_right_in_segment</a></span>.<br/>
<span class="id">have</span> <span class="id">nearfx</span> : \<span class="kwd">forall</span> <span class="id">y</span> \<span class="id">near</span> <span class="id">f</span> <span class="id">x</span>, <span class="id">y</span> \<span class="kwd">in</span> <span class="id">f</span> @`](<span class="id">x</span> - <span class="id">e</span>), (<span class="id">x</span> + <span class="id">e</span>)[.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#near_in_itv">near_in_itv</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#mono_mem_image_itvoo">mono_mem_image_itvoo</a></span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span>/= -<span class="id">ltr_distlC</span> <span class="id">subrr</span> <span class="id">normr0</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_mono">itv_continuous_inj_mono</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: (@<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_in_inj">can_in_inj</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">g</span>); <span class="id">near</span>: <span class="id">e</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#at_right_in_segment">at_right_in_segment</a></span>.<br/>
<span class="id">have</span> <span class="id">fxI</span> : <span class="id">f</span> <span class="id">x</span> \<span class="kwd">in</span> <span class="id">f</span> @`]<span class="id">x</span> - <span class="id">e</span>, <span class="id">x</span> + <span class="id">e</span>[ <span class="kwd">by</span> <span class="id">exact</span>: (<span class="id"><a href="mathcomp.analysis.topology.html#nbhs_singleton">nbhs_singleton</a></span> <span class="id">nearfx</span>).<br/>
<span class="id">split</span>; <span class="id">near</span>=&gt; <span class="id">y</span>; <span class="id">first</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_can_sym">segment_continuous_can_sym</a></span> (<span class="id">x</span> - <span class="id">e</span>) (<span class="id">x</span> + <span class="id">e</span>))//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#subset_itv_oo_cc">subset_itv_oo_cc</a></span>; <span class="id">near</span>: <span class="id">y</span>.<br/>
<span class="id">near</span>: <span class="id">y</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">nearfx</span>); <span class="id">near_simpl</span>; <span class="id">near</span>=&gt; <span class="id">y</span> =&gt; <span class="id">yfe</span>.<br/>
<span class="id">have</span> : {<span class="id">within</span> <span class="id">f</span> @`]<span class="id">x</span> - <span class="id">e</span>, (<span class="id">x</span> + <span class="id">e</span>)[, <span class="id">continuous</span> <span class="id">g</span>}.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW</a></span>; <span class="id">last</span> <span class="id">exact</span>: (<span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_continuous">segment_can_continuous</a></span> <span class="id">_</span> <span class="id">fwcte</span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#subset_itv_oo_cc">subset_itv_oo_cc</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_open_subspace">continuous_open_subspace</a></span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_open">interval_open</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="near_can_continuous">near_can_continuous</a></span> <span class="id">f</span> <span class="id">g</span> (<span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) :<br/>
&nbsp;&nbsp;{<span class="id">near</span> <span class="id">x</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt; {<span class="id">near</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span>} -&gt; {<span class="id">near</span> <span class="id">f</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">g</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fK</span> <span class="id">fct</span>; <span class="id">have</span> [] := <span class="id"><a href="mathcomp.analysis.realfun.html#near_can_continuousAcan_sym">near_can_continuousAcan_sym</a></span> <span class="id">fK</span> <span class="id">fct</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="near_continuous_can_sym">near_continuous_can_sym</a></span> <span class="id">f</span> <span class="id">g</span> (<span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) :<br/>
&nbsp;&nbsp;{<span class="id">near</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span>} -&gt; {<span class="id">near</span> <span class="id">x</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt; {<span class="id">near</span> <span class="id">f</span> <span class="id">x</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fct</span> <span class="id">fK</span>; <span class="id">have</span> [] := <span class="id"><a href="mathcomp.analysis.realfun.html#near_can_continuousAcan_sym">near_can_continuousAcan_sym</a></span> <span class="id">fK</span> <span class="id">fct</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions">real_inverse_functions</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="real_inverse_function_instances">real_inverse_function_instances</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="real_inverse_function_instances.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="exprn_continuous">exprn_continuous</a></span> <span class="id">n</span> : <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (@<span class="id">GRing.exp</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances.R">R</a></span> ^~ <span class="id">n</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
<span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">elim</span>: <span class="id">n</span>=&gt; [|<span class="id">n</span> /(<span class="id"><a href="mathcomp.analysis.normedtype.html#continuousM">continuousM</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_id">cvg_id</a></span>) <span class="id">ih</span>]; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cst_continuous">cst_continuous</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">exprS</span>; <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">exprS</span>; <span class="id">exact</span>: <span class="id">ih</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sqr_continuous">sqr_continuous</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (@<span class="id">exprz</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances.R">R</a></span> ^~ 2).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
 <span class="id">exact</span>: (@<span class="id"><a href="mathcomp.analysis.realfun.html#exprn_continuous">exprn_continuous</a></span> 2%<span class="id">N</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sqrt_continuous">sqrt_continuous</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (@<span class="id">Num.sqrt</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
<span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">case</span>: (<span class="id">ltrgtP</span> <span class="id">x</span> 0) =&gt; [<span class="id">xlt0</span> | <span class="id">xgt0</span> | -&gt;].<br/>
- <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.topology.html#near_cst_continuous">near_cst_continuous</a></span> 0).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">ltr0_sqrtr</span>//; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr_lt">cvgr_lt</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">I</span> <span class="id">b</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances.R">R</a></span> := [<span class="id">set</span>` `]0 ^+ 2, <span class="id">b</span> ^+ 2[].<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">main</span> <span class="id">b</span> : 0 &lt;= <span class="id">b</span> -&gt; {<span class="kwd">in</span> <span class="id">I</span> <span class="id">b</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (@<span class="id">Num.sqrt</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances.R">R</a></span>)}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near</span> +<span class="id">oo_R</span> =&gt; <span class="id">M</span>; <span class="id">apply</span>: (<span class="id">main</span> <span class="id">M</span>); <span class="id">rewrite</span> // /<span class="id">I</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= <span class="id">in_itv</span>/= <span class="id">expr0n</span> <span class="id">xgt0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">ltr_sqrt</span> ?<span class="id">exprn_gt0</span>// <span class="id">sqrtr_sqr</span> <span class="id">gtr0_norm</span>/=.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">b0</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.topology.html#continuous_open_subspace">continuous_open_subspace</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_open">interval_open</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#subset_itv_oo_cc">subset_itv_oo_cc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_le_continuous">segment_can_le_continuous</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (@<span class="id">GRing.exp</span> <span class="id">_</span>^~ <span class="id">_</span>)) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceT">continuous_subspaceT</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#exprn_continuous">exprn_continuous</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> <span class="id">y0b</span>; <span class="id">rewrite</span> <span class="id">sqrtr_sqr</span> <span class="id">ger0_norm</span>// (<span class="id">itvP</span> <span class="id">y0b</span>).<br/>
- <span class="id">rewrite</span> <span class="id">sqrtr0</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr0Pnorm_lt">cvgr0Pnorm_lt</a></span> =&gt; <span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>]; <span class="id">near</span>=&gt; <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">ylt0</span>|<span class="id">yge0</span>] := <span class="id">ltrP</span> <span class="id">y</span> 0; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr0_sqrtr</span> ?<span class="id">normr0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ger0_norm</span> ?<span class="id">sqrtr_ge0</span>//; <span class="id">have</span>: `|<span class="id">y</span>| &lt; <span class="id">e</span>%:<span class="id">num</span> ^+ 2 <span class="kwd">by</span> [].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">ltr_sqrt</span>// <span class="id">ger0_norm</span>// <span class="id">sqrtr_sqr</span> <span class="id">ger0_norm</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances">real_inverse_function_instances</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="is_derive_inverse">is_derive_inverse</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="is_derive_inverse.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_derive1_caratheodory">is_derive1_caratheodory</a></span> (<span class="id">f</span> : <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) (<span class="id">x</span> <span class="id">a</span> : <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> 1 <span class="id">f</span> <span class="id">a</span> &lt;-&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">g</span>, [/\ <span class="kwd">forall</span> <span class="id">z</span>, <span class="id">f</span> <span class="id">z</span> - <span class="id">f</span> <span class="id">x</span> = <span class="id">g</span> <span class="id">z</span> * (<span class="id">z</span> - <span class="id">x</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">for</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">g</span>} &amp; <span class="id">g</span> <span class="id">x</span> = <span class="id">a</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
<span class="id">split</span> =&gt; [<span class="id">Hd</span>|[<span class="id">g</span> [<span class="id">fxE</span> <span class="id">Cg</span> <span class="id">gxE</span>]]].<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="kwd">fun</span> <span class="id">z</span> =&gt; <span class="kwd">if</span> <span class="id">z</span> == <span class="id">x</span> <span class="kwd">then</span> <span class="id">a</span> <span class="kwd">else</span> (<span class="id">f</span>(<span class="id">z</span>) - <span class="id">f</span>(<span class="id">x</span>)) / (<span class="id">z</span> - <span class="id">x</span>)); <span class="id">split</span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">z</span>; <span class="id">case</span>: <span class="id">eqP</span> =&gt; [-&gt;|/<span class="id">eqP</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">subrr</span> <span class="id">mulr0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">subr_eq0</span> =&gt; /<span class="id">divfK</span>-&gt;.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#continuous_withinNshiftx">continuous_withinNshiftx</a></span>; <span class="id">rewrite</span> <span class="id">eqxx</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">g1</span> <span class="id">h</span> := (<span class="id">h</span>^-1 *: ((<span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>) <span class="id">h</span>%:<span class="id">A</span> - <span class="id">f</span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">F1</span> : <span class="id">g1</span> @ 0^' --&gt; <span class="id">a</span> <span class="kwd">by</span> <span class="id">case</span>: <span class="id">Hd</span> =&gt; <span class="id">H1</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span> <span class="id">F1</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#near_eq_cvg">near_eq_cvg</a></span>; <span class="id">rewrite</span> /<span class="id">g1</span> !<span class="id"><a href="mathcomp.classical.functions.html#fctE">fctE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifN">ifN</a></span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">addrK</span> <span class="id">mulrC</span> /= [<span class="id">_</span>%:<span class="id">A</span>]<span class="id">mulr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">subr_eq0</span> <span class="id">addrK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">i</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_withinE">near_withinE</a></span> /= <span class="id"><a href="mathcomp.analysis.normedtype.html#NearNorm.near_simpl">near_simpl</a></span>; <span class="id">near</span>=&gt; <span class="id">x1</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eqxx</span>.<br/>
<span class="id">suff</span> <span class="id">Hf</span> : <span class="id">h</span>^-1 *: ((<span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>) <span class="id">h</span>%:<span class="id">A</span> - <span class="id">f</span> <span class="id">x</span>) @[<span class="id">h</span> --&gt; 0^'] --&gt; <span class="id">a</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">F1</span> : '<span class="id">D_1</span> <span class="id">f</span> <span class="id">x</span> = <span class="id">a</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">F1</span> <span class="kwd">in</span> <span class="id">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">F1</span> :  (<span class="id">g</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>) <span class="id">y</span> @[<span class="id">y</span> --&gt; 0^'] --&gt; <span class="id">a</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">gxE</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#continuous_withinNshiftx">continuous_withinNshiftx</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span> <span class="id">F1</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#near_eq_cvg">near_eq_cvg</a></span>.<br/>
<span class="id">near</span>=&gt; <span class="id">y</span>.<br/>
<span class="id">rewrite</span> /= <span class="id">fxE</span> /= <span class="id">addrK</span> [<span class="id">_</span>%:<span class="id">A</span>]<span class="id">mulr1</span>.<br/>
<span class="id">suff</span> <span class="id">yNZ</span> : <span class="id">y</span> != 0 <span class="kwd">by</span> <span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id">mulrC</span> <span class="id">mulfK</span>.<br/>
<span class="kwd">by</span> <span class="id">near</span>: <span class="id">y</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_withinE">near_withinE</a></span> /= <span class="id"><a href="mathcomp.analysis.normedtype.html#NearNorm.near_simpl">near_simpl</a></span>; <span class="id">near</span>=&gt; <span class="id">x1</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_derive_0_is_cst">is_derive_0_is_cst</a></span> (<span class="id">f</span> : <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) <span class="id">x</span> <span class="id">y</span> :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> 1 <span class="id">f</span> 0) -&gt; <span class="id">f</span> <span class="id">x</span> = <span class="id">f</span> <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
<span class="id">move</span>=&gt; <span class="id">Hd</span>.<br/>
<span class="id">wlog</span> <span class="id">xLy</span> : <span class="id">x</span> <span class="id">y</span> / <span class="id">x</span> &lt;= <span class="id">y</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">H</span>; <span class="id">case</span>: (<span class="id">leP</span> <span class="id">x</span> <span class="id">y</span>) =&gt; [/<span class="id">H</span> |/<span class="id">ltW</span> /<span class="id">H</span>].<br/>
<span class="id">rewrite</span> -(<span class="id">subKr</span> (<span class="id">f</span> <span class="id">y</span>) (<span class="id">f</span> <span class="id">x</span>)).<br/>
<span class="id">have</span> [| <span class="id">_</span> <span class="id">_</span>] := <span class="id"><a href="mathcomp.analysis.derive.html#MVT_segment">MVT_segment</a></span> <span class="id">xLy</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mul0r</span> =&gt; -&gt;; <span class="id">rewrite</span> <span class="id">subr0</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceT">continuous_subspaceT</a></span>=&gt; <span class="id">r</span>.<br/>
<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.derive.html#differentiable_continuous">differentiable_continuous</a></span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivable1_diffP">derivable1_diffP</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_derive1_comp">is_derive1_comp</a></span> (<span class="id">f</span> <span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) (<span class="id">x</span> <span class="id">a</span> <span class="id">b</span> : <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> (<span class="id">g</span> <span class="id">x</span>) 1 <span class="id">f</span> <span class="id">a</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> 1 <span class="id">g</span> <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> 1 (<span class="id">f</span> \<span class="id">o</span> <span class="id">g</span>) (<span class="id">a</span> * <span class="id">b</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
<span class="id">move</span>=&gt; [<span class="id">fgxv</span> &lt;-{<span class="id">a</span>}] [<span class="id">gv</span> &lt;-{<span class="id">b</span>}]; <span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.derive.html#DeriveDef">DeriveDef</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> \<span class="id">o</span> <span class="id">g</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivable1_diffP">derivable1_diffP</a></span>/<span class="id"><a href="mathcomp.analysis.derive.html#differentiable_comp">differentiable_comp</a></span>; <span class="id">first</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivable1_diffP">derivable1_diffP</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivable1_diffP">derivable1_diffP</a></span> <span class="kwd">in</span> <span class="id">fgxv</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.derive.html#derive1E">derive1E</a></span> (<span class="id"><a href="mathcomp.analysis.derive.html#derive1_comp">derive1_comp</a></span> <span class="id">gv</span> <span class="id">fgxv</span>) 2!<span class="id"><a href="mathcomp.analysis.derive.html#derive1E">derive1E</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_deriveV">is_deriveV</a></span> (<span class="id">f</span> : <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) (<span class="id">x</span> <span class="id">t</span> <span class="id">v</span> : <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> <span class="id">x</span> != 0 -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> <span class="id">f</span> <span class="id">t</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> (<span class="kwd">fun</span> <span class="id">y</span> =&gt; (<span class="id">f</span> <span class="id">y</span>)^-1) (- (<span class="id">f</span> <span class="id">x</span>) ^- 2 *: <span class="id">t</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
<span class="id">move</span>=&gt; <span class="id">fxNZ</span> <span class="id">Df</span>.<br/>
<span class="id">constructor</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#derivableV">derivableV</a></span> =&gt; //; <span class="id">case</span>: <span class="id">Df</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#deriveV">deriveV</a></span> //; <span class="id">case</span>: <span class="id">Df</span> =&gt; <span class="id">_</span> -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_derive_inverse">is_derive_inverse</a></span> (<span class="id">f</span> <span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) <span class="id">l</span> <span class="id">x</span> :<br/>
&nbsp;&nbsp;{<span class="id">near</span> <span class="id">x</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>}  -&gt;<br/>
&nbsp;&nbsp;{<span class="id">near</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span>}  -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> 1 <span class="id">f</span> <span class="id">l</span> -&gt; <span class="id">l</span> != 0 -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> (<span class="id">f</span> <span class="id">x</span>) 1 <span class="id">g</span> <span class="id">l</span>^-1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
<span class="id">move</span>=&gt; <span class="id">fgK</span> <span class="id">fC</span> <span class="id">fD</span> <span class="id">lNZ</span>.<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.realfun.html#is_derive1_caratheodory">is_derive1_caratheodory</a></span> [<span class="id">h</span> [<span class="id">fE</span> <span class="id">hC</span> <span class="id">hxE</span>]] := <span class="id">fD</span>.<br/>
<span class="comment">(*&nbsp;There&nbsp;should&nbsp;be&nbsp;something&nbsp;simpler&nbsp;*)</span><br/>
<span class="id">have</span> <span class="id">gfxE</span> : <span class="id">g</span> (<span class="id">f</span> <span class="id">x</span>) = <span class="id">x</span> <span class="kwd">by</span> <span class="id">have</span> [<span class="id">d</span> <span class="id">Hd</span>]:= <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_ex">nbhs_ex</a></span> <span class="id">fgK</span>; <span class="id">apply</span>: <span class="id">Hd</span>.<br/>
<span class="id">pose</span> <span class="id">g1</span> <span class="id">y</span> := <span class="kwd">if</span> <span class="id">y</span> == <span class="id">f</span> <span class="id">x</span> <span class="kwd">then</span> (<span class="id">h</span> (<span class="id">g</span> <span class="id">y</span>))^-1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">g</span> <span class="id">y</span> - <span class="id">g</span> (<span class="id">f</span> <span class="id">x</span>)) / (<span class="id">y</span> - <span class="id">f</span> <span class="id">x</span>).<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.realfun.html#is_derive1_caratheodory">is_derive1_caratheodory</a></span>.<br/>
<span class="kwd">exists</span> <span class="id">g1</span>; <span class="id">split</span>; <span class="id">first</span> 2 <span class="id">last</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">g1</span> <span class="id">eqxx</span> <span class="id">gfxE</span> <span class="id">hxE</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">z</span>; <span class="id">rewrite</span> /<span class="id">g1</span>; <span class="id">case</span>: <span class="id">eqP</span> =&gt; [-&gt;|/<span class="id">eqP</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">subrr</span> <span class="id">mulr0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">subr_eq0</span> =&gt; /<span class="id">divfK</span>.<br/>
<span class="id">have</span> <span class="id">F1</span> : (<span class="id">h</span> (<span class="id">g</span> <span class="id">x</span>))^-1 @[<span class="id">x</span> --&gt; <span class="id">f</span> <span class="id">x</span>] --&gt; <span class="id">g1</span> (<span class="id">f</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">g1</span> <span class="id">eqxx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousV">continuousV</a></span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">gfxE</span> <span class="id">hxE</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_comp">continuous_comp</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">gfxE</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nbhs_singleton">nbhs_singleton</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#near_can_continuous">near_can_continuous</a></span> <span class="id">_</span> <span class="id">_</span>).<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_sub0">cvg_sub0</a></span> <span class="id">F1</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgrPdist_lt">cvgrPdist_lt</a></span> =&gt; <span class="id">eps</span> <span class="id">eps_gt0</span> /=; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.normedtype.html#NearNorm.near_simpl">near_simpl</a></span> /=.<br/>
<span class="id">near</span>=&gt; <span class="id">y</span>; <span class="id">rewrite</span> <span class="id">sub0r</span> <span class="id">normrN</span> !<span class="id"><a href="mathcomp.classical.functions.html#fctE">fctE</a></span>.<br/>
<span class="id">have</span> <span class="id">fgyE</span> : <span class="id">f</span> (<span class="id">g</span> <span class="id">y</span>) = <span class="id">y</span> <span class="kwd">by</span> <span class="id">near</span>: <span class="id">y</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#near_continuous_can_sym">near_continuous_can_sym</a></span>.<br/>
<span class="id">rewrite</span> /<span class="id">g1</span>; <span class="id">case</span>: <span class="id">eqP</span> =&gt; [<span class="id">_</span>|/<span class="id">eqP</span> <span class="id">x1Dfx</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subrr</span> <span class="id">normr0</span>.<br/>
<span class="id">have</span> -&gt; : <span class="id">y</span> - <span class="id">f</span> <span class="id">x</span>  = <span class="id">h</span> (<span class="id">g</span> <span class="id">y</span>) * (<span class="id">g</span> <span class="id">y</span> - <span class="id">x</span>) <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">fE</span> <span class="id">fgyE</span>.<br/>
<span class="id">rewrite</span> <span class="id">gfxE</span> <span class="id">invfM</span> <span class="id">mulrC</span> <span class="id">divfK</span> ?<span class="id">subrr</span> ?<span class="id">normr0</span> // <span class="id">subr_eq0</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra">contra</a></span> <span class="id">x1Dfx</span> =&gt; /<span class="id">eqP</span>&lt;-; <span class="id">apply</span>/<span class="id">eqP</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse">is_derive_inverse</a></span>.<br/>
<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; (<span class="id">_</span> <span class="id">_</span>)^-1) <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;(<span class="id">eapply</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_deriveV">is_deriveV</a></span>; <span class="id">first</span> <span class="kwd">by</span> []) : <span class="id">typeclass_instances</span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/tree/yoshihiro503%40generate_index">a fork of coq2html</a></div>
</body>
</html>
