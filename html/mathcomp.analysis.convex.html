
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.convex</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.convex" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
  <link rel="stylesheet" href="../css/texmath.css">
  <script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
  <script src="../texmath.js"></script>

<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module mathcomp.analysis.convex</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">all_ssreflect</span> <span class="id">ssralg</span> <span class="id">ssrint</span> <span class="id">ssrnum</span> <span class="id">finmap</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">matrix</span> <span class="id">interval</span> <span class="id">zmodp</span> <span class="id">vector</span> <span class="id">fieldext</span> <span class="id">falgebra</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.set_interval.html">set_interval</a></span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html">cardinality</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.ereal.html">ereal</a></span> <span class="id"><a href="mathcomp.analysis.reals.html">reals</a></span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span> <span class="id"><a href="mathcomp.analysis.topology.html">topology</a></span> <span class="id"><a href="mathcomp.analysis.prodnormedzmodule.html">prodnormedzmodule</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html">normedtype</a></span> <span class="id"><a href="mathcomp.analysis.derive.html">derive</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.realfun.html">realfun</a></span> <span class="id"><a href="mathcomp.analysis.itv.html">itv</a></span>.<br/>
<span class="kwd">From</span> <span class="id">HB</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">structures</span>.<br/>
<br/>
<pre>
(******************************************************************************)
(*                                Convexity                                   *)
(*                                                                            *)
(* This file provides a small account of convexity using convex spaces, to be *)
(* completed with material from infotheo.                                     *)
(*                                                                            *)
(*   isConvexSpace R T == interface for convex spaces                         *)
(*       ConvexSpace R == structure of convex space                           *)
(*         a &lt;| t |&gt; b == convexity operator                                  *)
(* E : lmodType R with R : realDomainType and R : realDomainType are shown to *)
(* be convex spaces                                                           *)
(*                                                                            *)
(******************************************************************************)</pre>
<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">x</span> &lt;| <span class="id">p</span> |&gt; <span class="id">y</span>" (<span class="id">format</span> "<span class="id">x</span>  &lt;| <span class="id">p</span> |&gt;  <span class="id">y</span>", <span class="kwd">at</span> <span class="id">level</span> 49).<br/>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="kwd">Arguments</span>.<br/>
<span class="id">Unset</span> <span class="id">Strict</span> <span class="kwd">Implicit</span>.<br/>
<span class="id">Unset</span> <span class="id">Printing</span> <span class="kwd">Implicit</span> <span class="id">Defensive</span>.<br/>
<br/>
<span class="kwd">Import</span> <span class="id">Order.TTheory</span> <span class="id">GRing.Theory</span> <span class="id">Num.Def</span> <span class="id">Num.Theory</span>.<br/>
<span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.topology.html#numFieldTopology.Exports">numFieldTopology.Exports</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ring_scope</span>.<br/>
<br/>
<span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.Exports">numFieldNormedType.Exports</a></span>.<br/>
<br/>
<span class="id">Declare</span> <span class="kwd">Scope</span> <span class="id">convex_scope</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">convex_scope</span>.<br/>
<br/>
<span class="id"><a name="isConvexSpace">HB.mixin</a></span> <span class="kwd">Record</span> <span class="id">isConvexSpace</span> (<span class="id">R</span> : <span class="id">realDomainType</span>) (<span class="id">T</span> : <span class="kwd">Type</span>) := {<br/>
&nbsp;&nbsp;<span class="id">convexspacechoiceclass</span> : <span class="id">Choice.class_of</span> <span class="id">T</span> ;<br/>
&nbsp;&nbsp;<span class="id">conv</span> : {<span class="id">i01</span> <span class="id">R</span>} -&gt; <span class="id">T</span> -&gt; <span class="id">T</span> -&gt; <span class="id">T</span> ;<br/>
&nbsp;&nbsp;<span class="id">conv0</span> : <span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, <span class="id">conv</span> 0%:<span class="id">i01</span> <span class="id">a</span> <span class="id">b</span> = <span class="id">a</span> ;<br/>
&nbsp;&nbsp;<span class="id">convmm</span> : <span class="kwd">forall</span> (<span class="id">p</span> : {<span class="id">i01</span> <span class="id">R</span>}) <span class="id">a</span>, <span class="id">conv</span> <span class="id">p</span> <span class="id">a</span> <span class="id">a</span> = <span class="id">a</span> ;<br/>
&nbsp;&nbsp;<span class="id">convC</span> : <span class="kwd">forall</span> (<span class="id">p</span> : {<span class="id">i01</span> <span class="id">R</span>}) <span class="id">a</span> <span class="id">b</span>, <span class="id">conv</span> <span class="id">p</span> <span class="id">a</span> <span class="id">b</span> = <span class="id">conv</span> (1 - <span class="id">p</span>%:<span class="id">inum</span>)%:<span class="id">i01</span> <span class="id">b</span> <span class="id">a</span>;<br/>
&nbsp;&nbsp;<span class="id">convA</span> : <span class="kwd">forall</span> (<span class="id">p</span> <span class="id">q</span> <span class="id">r</span> : {<span class="id">i01</span> <span class="id">R</span>}) (<span class="id">a</span> <span class="id">b</span> <span class="id">c</span> : <span class="id">T</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">p</span>%:<span class="id">inum</span> * (`1-(<span class="id">q</span>%:<span class="id">inum</span>)) = (`1-(<span class="id">p</span>%:<span class="id">inum</span> * <span class="id">q</span>%:<span class="id">inum</span>)) * <span class="id">r</span>%:<span class="id">inum</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">conv</span> <span class="id">p</span> <span class="id">a</span> (<span class="id">conv</span> <span class="id">q</span> <span class="id">b</span> <span class="id">c</span>) = <span class="id">conv</span> (<span class="id">p</span>%:<span class="id">inum</span> * <span class="id">q</span>%:<span class="id">inum</span>)%:<span class="id">i01</span> (<span class="id">conv</span> <span class="id">r</span> <span class="id">a</span> <span class="id">b</span>) <span class="id">c</span><br/>
}.<br/>
<br/>
#[<span class="id">short</span>(<span class="id">type</span>=<span class="id">convType</span>)]<br/>
<span class="id">HB.structure</span> <span class="kwd">Definition</span> <span class="id">ConvexSpace</span> (<span class="id">R</span> : <span class="id">realDomainType</span>) :=<br/>
&nbsp;&nbsp;{<span class="id">T</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.convex.html#isConvexSpace">isConvexSpace</a></span> <span class="id">R</span> <span class="id">T</span> }.<br/>
<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="conv_eqType">conv_eqType</a></span> (<span class="id">R</span> : <span class="id">realDomainType</span>) (<span class="id">T</span> : <span class="id"><a href="mathcomp.analysis.convex.html#convType">convType</a></span> <span class="id">R</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">Eval</span> <span class="id">hnf</span> <span class="kwd">in</span> <span class="id">EqType</span> (<span class="id"><a href="mathcomp.analysis.convex.html#sort">ConvexSpace.sort</a></span> <span class="id">T</span>) <span class="id"><a href="mathcomp.analysis.convex.html#convexspacechoiceclass">convexspacechoiceclass</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="conv_choiceType">conv_choiceType</a></span> (<span class="id">R</span> : <span class="id">realDomainType</span>) (<span class="id">T</span> : <span class="id"><a href="mathcomp.analysis.convex.html#convType">convType</a></span> <span class="id">R</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">Eval</span> <span class="id">hnf</span> <span class="kwd">in</span> <span class="id">ChoiceType</span> (<span class="id"><a href="mathcomp.analysis.convex.html#sort">ConvexSpace.sort</a></span> <span class="id">T</span>) <span class="id"><a href="mathcomp.analysis.convex.html#convexspacechoiceclass">convexspacechoiceclass</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">conv_choiceType</span> : <span class="id">convType</span> &gt;-&gt; <span class="id">choiceType</span>.<br/>
<br/>
<span class="kwd">Notation</span> "<span class="id">a</span> &lt;| <span class="id">p</span> |&gt; <span class="id">b</span>" := (<span class="id"><a href="mathcomp.analysis.convex.html#conv">conv</a></span> <span class="id">p</span> <span class="id">a</span> <span class="id">b</span>) : <span class="id">convex_scope</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="convex_space_lemmas">convex_space_lemmas</a></span>.<br/>
<span class="kwd">Context</span> <span class="id">R</span> (<span class="id">A</span> : <span class="id"><a href="mathcomp.analysis.convex.html#convType">convType</a></span> <span class="id">R</span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">a</span> <span class="id">b</span> : <span class="id"><a href="mathcomp.analysis.convex.html#convex_space_lemmas.A">A</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="conv1">conv1</a></span> <span class="id">a</span> <span class="id">b</span> : <span class="id">a</span> &lt;| 1%:<span class="id">i01</span> |&gt; <span class="id">b</span> = <span class="id">b</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.convex.html#convC">convC</a></span>/= [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> &lt;| <span class="id">X</span> |&gt; <span class="id">_</span>](<span class="id">_</span> : <span class="id">_</span> = 0%:<span class="id">i01</span>) ?<span class="id"><a href="mathcomp.analysis.convex.html#conv0">conv0</a></span>//.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">val_inj</span> =&gt; /=; <span class="id">rewrite</span> <span class="id">subrr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.convex.html#convex_space_lemmas">convex_space_lemmas</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">convex_scope</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="lmodType_convex_space">lmodType_convex_space</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">realDomainType</span>} {<span class="id">E</span> : <span class="id">lmodType</span> <span class="id">R</span>}.<br/>
<span class="kwd">Implicit</span> <span class="kwd">Type</span> <span class="id">p</span> <span class="id">q</span> <span class="id">r</span> : {<span class="id">i01</span> <span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.R">R</a></span>}.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="lmodType_convex_space.avg">avg</a></span> <span class="id">p</span> (<span class="id">a</span> <span class="id">b</span> : <span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.E">E</a></span>) := `1-(<span class="id">p</span>%:<span class="id">inum</span>) *: <span class="id">a</span> + <span class="id">p</span>%:<span class="id">inum</span> *: <span class="id">b</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="lmodType_convex_space.avg0">avg0</a></span> <span class="id">a</span> <span class="id">b</span> : <span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.avg">avg</a></span> 0%:<span class="id">i01</span> <span class="id">a</span> <span class="id">b</span> = <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.avg">avg</a></span>/= <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#onem0">onem0</a></span> <span class="id">scale0r</span> <span class="id">scale1r</span> <span class="id">addr0</span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="lmodType_convex_space.avgI">avgI</a></span> <span class="id">p</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.avg">avg</a></span> <span class="id">p</span> <span class="id">x</span> <span class="id">x</span> = <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.avg">avg</a></span> -<span class="id">scalerDl</span>/= <span class="id">addrC</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#add_onemK">add_onemK</a></span> <span class="id">scale1r</span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="lmodType_convex_space.avgC">avgC</a></span> <span class="id">p</span> <span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.avg">avg</a></span> <span class="id">p</span> <span class="id">x</span> <span class="id">y</span> = <span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.avg">avg</a></span> (1 - (<span class="id">p</span>%:<span class="id">inum</span>))%:<span class="id">i01</span> <span class="id">y</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.avg">avg</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#onemK">onemK</a></span> <span class="id">addrC</span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="lmodType_convex_space.avgA">avgA</a></span> <span class="id">p</span> <span class="id">q</span> <span class="id">r</span> (<span class="id">a</span> <span class="id">b</span> <span class="id">c</span> : <span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.E">E</a></span>) :<br/>
&nbsp;&nbsp;<span class="id">p</span>%:<span class="id">inum</span> * (`1-(<span class="id">q</span>%:<span class="id">inum</span>)) = (`1-(<span class="id">p</span>%:<span class="id">inum</span> * <span class="id">q</span>%:<span class="id">inum</span>)) * <span class="id">r</span>%:<span class="id">inum</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.avg">avg</a></span> <span class="id">p</span> <span class="id">a</span> (<span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.avg">avg</a></span> <span class="id">q</span> <span class="id">b</span> <span class="id">c</span>) = <span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.avg">avg</a></span> (<span class="id">p</span>%:<span class="id">inum</span> * <span class="id">q</span>%:<span class="id">inum</span>)%:<span class="id">i01</span> (<span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.avg">avg</a></span> <span class="id">r</span> <span class="id">a</span> <span class="id">b</span>) <span class="id">c</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">move</span>=&gt; <span class="id">pq</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.avg">avg</a></span>.<br/>
<span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id">scalerDr</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id">addrA</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id">scalerDr</span>; <span class="id">congr</span> (<span class="id">_</span> + <span class="id">_</span> + <span class="id">_</span>).<br/>
- <span class="id">rewrite</span> <span class="id">scalerA</span>; <span class="id">congr</span> (<span class="id">_</span> *: <span class="id">_</span>) =&gt; /=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrDr</span> <span class="id">mulr1</span> <span class="id">mulrN</span> -<span class="id">pq</span> <span class="id">mulrBr</span> <span class="id">mulr1</span> <span class="id">opprB</span> <span class="id">addrA</span> <span class="id">subrK</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> 2!<span class="id">scalerA</span>; <span class="id">congr</span> (<span class="id">_</span> *: <span class="id">_</span>).<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">scalerA</span>.<br/>
Qed.</div>
<br/>
<span class="id"><a name="HB_unnamed_factory_6">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> :=<br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.convex.html#Build">isConvexSpace.Build</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.R">R</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.E">E</a></span> (<span class="id">Choice.class</span> <span class="id">_</span>) <span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.avg">avg</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.avg0">avg0</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.avgI">avgI</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.avgC">avgC</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space.avgA">avgA</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.convex.html#lmodType_convex_space">lmodType_convex_space</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="realDomainType_convex_space">realDomainType_convex_space</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">realDomainType</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">p</span> <span class="id">q</span> : {<span class="id">i01</span> <span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.R">R</a></span>}.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="realDomainType_convex_space.avg">avg</a></span> <span class="id">p</span> (<span class="id">a</span> <span class="id">b</span> : [<span class="id">the</span> <span class="id">lmodType</span> <span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.R">R</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.R">R</a></span>^<span class="id">o</span>]) := <span class="id">a</span> &lt;| <span class="id">p</span> |&gt; <span class="id">b</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="realDomainType_convex_space.avg0">avg0</a></span> <span class="id">a</span> <span class="id">b</span> : <span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.avg">avg</a></span> 0%:<span class="id">i01</span> <span class="id">a</span> <span class="id">b</span> = <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.avg">avg</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#conv0">conv0</a></span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="realDomainType_convex_space.avgI">avgI</a></span> <span class="id">p</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.avg">avg</a></span> <span class="id">p</span> <span class="id">x</span> <span class="id">x</span> = <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.avg">avg</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#convmm">convmm</a></span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="realDomainType_convex_space.avgC">avgC</a></span> <span class="id">p</span> <span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.avg">avg</a></span> <span class="id">p</span> <span class="id">x</span> <span class="id">y</span> = <span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.avg">avg</a></span> (1 - (<span class="id">p</span>%:<span class="id">inum</span>))%:<span class="id">i01</span> <span class="id">y</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.avg">avg</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#convC">convC</a></span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="realDomainType_convex_space.avgA">avgA</a></span> <span class="id">p</span> <span class="id">q</span> <span class="id">r</span> (<span class="id">a</span> <span class="id">b</span> <span class="id">c</span> : <span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id">p</span>%:<span class="id">inum</span> * (`1-(<span class="id">q</span>%:<span class="id">inum</span>)) = (`1-(<span class="id">p</span>%:<span class="id">inum</span> * <span class="id">q</span>%:<span class="id">inum</span>)) * <span class="id">r</span>%:<span class="id">inum</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.avg">avg</a></span> <span class="id">p</span> <span class="id">a</span> (<span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.avg">avg</a></span> <span class="id">q</span> <span class="id">b</span> <span class="id">c</span>) = <span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.avg">avg</a></span> (<span class="id">p</span>%:<span class="id">inum</span> * <span class="id">q</span>%:<span class="id">inum</span>)%:<span class="id">i01</span> (<span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.avg">avg</a></span> <span class="id">r</span> <span class="id">a</span> <span class="id">b</span>) <span class="id">c</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">h</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.avg">avg</a></span> (<span class="id"><a href="mathcomp.analysis.convex.html#convA">convA</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">r</span>). Qed.</div>
<br/>
<span class="id"><a name="HB_unnamed_factory_8">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := @<span class="id"><a href="mathcomp.analysis.convex.html#Build">isConvexSpace.Build</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.R">R</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.R">R</a></span>^<span class="id">o</span><br/>
&nbsp;&nbsp;(<span class="id">Choice.class</span> <span class="id">_</span>) <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.avg0">avg0</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.avgI">avgI</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.avgC">avgC</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space.avgA">avgA</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.convex.html#realDomainType_convex_space">realDomainType_convex_space</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="conv_realDomainType">conv_realDomainType</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">realDomainType</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="conv_gt0">conv_gt0</a></span> (<span class="id">a</span> <span class="id">b</span> : <span class="id"><a href="mathcomp.analysis.convex.html#conv_realDomainType.R">R</a></span>^<span class="id">o</span>) (<span class="id">t</span> : {<span class="id">i01</span> <span class="id"><a href="mathcomp.analysis.convex.html#conv_realDomainType.R">R</a></span>}) : 0 &lt; <span class="id">a</span> -&gt; 0 &lt; <span class="id">b</span> -&gt; 0 &lt; <span class="id">a</span> &lt;| <span class="id">t</span> |&gt; <span class="id">b</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
<span class="id">move</span>=&gt; <span class="id">a0</span> <span class="id">b0</span>.<br/>
<span class="id">have</span> [-&gt;|<span class="id">t0</span>] := <span class="id">eqVneq</span> <span class="id">t</span> 0%:<span class="id">i01</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.convex.html#conv0">conv0</a></span>.<br/>
<span class="id">have</span> [-&gt;|<span class="id">t1</span>] := <span class="id">eqVneq</span> <span class="id">t</span> 1%:<span class="id">i01</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.convex.html#conv1">conv1</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">addr_gt0</span>// <span class="id">mulr_gt0</span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lt_neqAle</span> <span class="id">eq_sym</span> <span class="id">t0</span>/=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#onem_gt0">onem_gt0</a></span>// <span class="id">lt_neqAle</span> <span class="id">t1</span>/=.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="convRE">convRE</a></span> (<span class="id">a</span> <span class="id">b</span> : <span class="id"><a href="mathcomp.analysis.convex.html#conv_realDomainType.R">R</a></span>^<span class="id">o</span>) (<span class="id">t</span> : {<span class="id">i01</span> <span class="id"><a href="mathcomp.analysis.convex.html#conv_realDomainType.R">R</a></span>}) : <span class="id">a</span> &lt;| <span class="id">t</span> |&gt; <span class="id">b</span> = `1-(<span class="id">t</span>%:<span class="id">inum</span>) * <span class="id">a</span> + <span class="id">t</span>%:<span class="id">inum</span> * <span class="id">b</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.convex.html#conv_realDomainType">conv_realDomainType</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="convex_function">convex_function</a></span> (<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id">D</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">R</span>) (<span class="id">f</span> : <span class="id">R</span> -&gt; <span class="id">R</span>^<span class="id">o</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">t</span> : {<span class="id">i01</span> <span class="id">R</span>}), {<span class="kwd">in</span> <span class="id">D</span> &amp;, <span class="kwd">forall</span> (<span class="id">x</span> <span class="id">y</span> : <span class="id">R</span>^<span class="id">o</span>), (<span class="id">f</span> (<span class="id">x</span> &lt;| <span class="id">t</span> |&gt; <span class="id">y</span>) &lt;= <span class="id">f</span> <span class="id">x</span> &lt;| <span class="id">t</span> |&gt; <span class="id">f</span> <span class="id">y</span>)%<span class="id">R</span>}.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="twice_derivable_convex">twice_derivable_convex</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>}.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="twice_derivable_convex.f">f</a></span> : <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.R">R</a></span>^<span class="id">o</span>) (<span class="id"><a name="twice_derivable_convex.a">a</a></span> <span class="id"><a name="twice_derivable_convex.b">b</a></span> : <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.R">R</a></span>^<span class="id">o</span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="twice_derivable_convex.Df">Df</a></span> := '<span class="id">D_1</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="twice_derivable_convex.DDf">DDf</a></span> := '<span class="id">D_1</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.Df">Df</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="twice_derivable_convex.DDf_ge0">DDf_ge0</a></span> : <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> &lt; <span class="id">x</span> &lt; <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> -&gt; 0 &lt;= <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.DDf">DDf</a></span> <span class="id">x</span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="twice_derivable_convex.cvg_left">cvg_left</a></span> : (<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> @ <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span>^'-) --&gt; <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="twice_derivable_convex.cvg_right">cvg_right</a></span> : (<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> @ <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>^'+) --&gt; <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="twice_derivable_convex.L">L</a></span> <span class="id">x</span> := <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> + <span class="id"><a href="mathcomp.classical.set_interval.html#factor">factor</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> <span class="id">x</span> * (<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> - <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="twice_derivable_convex.LE">LE</a></span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> &lt; <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.L">L</a></span> <span class="id">x</span> = <span class="id"><a href="mathcomp.classical.set_interval.html#factor">factor</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> <span class="id">x</span> * <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> + <span class="id"><a href="mathcomp.classical.set_interval.html#factor">factor</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> <span class="id">x</span> * <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
<span class="id">move</span>=&gt; <span class="id">ab</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.L">L</a></span> -(@<span class="id"><a href="mathcomp.classical.set_interval.html#onem_factor">onem_factor</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>) ?<span class="id">lt_eqF</span>// /<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#onem">onem</a></span> <span class="id">mulrBl</span> <span class="id">mul1r</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">addrA</span> -<span class="id">mulrN</span> -<span class="id">mulrDr</span> (<span class="id">addrC</span> (<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span>)).<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="twice_derivable_convex.convexf_ptP">convexf_ptP</a></span> : <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> &lt; <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> -&gt; (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> &lt;= <span class="id">x</span> &lt;= <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> -&gt; 0 &lt;= <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.L">L</a></span> <span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span>, <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> &lt;| <span class="id">t</span> |&gt; <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span>) &lt;= <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> &lt;| <span class="id">t</span> |&gt; <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
<span class="id">move</span>=&gt; <span class="id">ab</span> <span class="id">h</span> <span class="id">t</span>; <span class="id">set</span> <span class="id">x</span> := <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> &lt;| <span class="id">t</span> |&gt; <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span>; <span class="id">have</span> /<span class="id">h</span> : <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> &lt;= <span class="id">x</span> &lt;= <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.analysis.convex.html#conv1">conv1</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span>) -{1}(<span class="id"><a href="mathcomp.analysis.convex.html#conv0">conv0</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span>) /<span class="id">x</span> !<span class="id"><a href="mathcomp.classical.set_interval.html#le_line_path">le_line_path</a></span>//= <span class="id"><a href="mathcomp.analysis.itv.html#itv_ge0">itv_ge0</a></span>/=.<br/>
<span class="id">rewrite</span> <span class="id">subr_ge0</span> =&gt; /<span class="id">le_trans</span>; <span class="id">apply</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.LE">LE</a></span>// /<span class="id">x</span> <span class="id"><a href="mathcomp.classical.set_interval.html#line_pathK">line_pathK</a></span> ?<span class="id">lt_eqF</span>// <span class="id"><a href="mathcomp.analysis.convex.html#convC">convC</a></span> <span class="id"><a href="mathcomp.classical.set_interval.html#line_pathK">line_pathK</a></span> ?<span class="id">gt_eqF</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="twice_derivable_convex.HDf">HDf</a></span> : {<span class="kwd">in</span> `]<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>, <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span>[, <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id">x</span> 1}.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="twice_derivable_convex.HDDf">HDDf</a></span> : {<span class="kwd">in</span> `]<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>, <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span>[, <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.Df">Df</a></span> <span class="id">x</span> 1}.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="twice_derivable_convex.cDf">cDf</a></span> : {<span class="id">within</span> `]<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>, <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span>[, <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.Df">Df</a></span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#derivable_within_continuous">derivable_within_continuous</a></span> =&gt; <span class="id">z</span> <span class="id">zab</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.HDDf">HDDf</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="second_derivative_convex">second_derivative_convex</a></span> (<span class="id">t</span> : {<span class="id">i01</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.R">R</a></span>}) : <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> &lt;= <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> &lt;| <span class="id">t</span> |&gt; <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span>) &lt;= <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> &lt;| <span class="id">t</span> |&gt; <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
<span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;-|/[<span class="id">dup</span>] <span class="id">ab</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.convex.html#convmm">convmm</a></span>.<br/>
<span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.convexf_ptP">convexf_ptP</a></span>; <span class="id">apply</span> =&gt; <span class="id">x</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[].<br/>
<span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;-|<span class="id">ax</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.L">L</a></span> <span class="id"><a href="mathcomp.classical.set_interval.html#factorl">factorl</a></span> <span class="id">mul0r</span> <span class="id">addr0</span> <span class="id">subrr</span>.<br/>
<span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[-&gt;|<span class="id">xb</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.L">L</a></span> <span class="id"><a href="mathcomp.classical.set_interval.html#factorr">factorr</a></span> ?<span class="id">lt_eqF</span>// <span class="id">mul1r</span> <span class="id">addrAC</span> <span class="id">addrA</span> <span class="id">subrK</span> <span class="id">subrr</span>.<br/>
<span class="id">have</span> [<span class="id">c2</span> <span class="id">Ic2</span> <span class="id">Hc2</span>] : <span class="kwd">exists2</span> <span class="id">c2</span>, <span class="id">x</span> &lt; <span class="id">c2</span> &lt; <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> &amp; (<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> - <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id">x</span>) / (<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> - <span class="id">x</span>) = '<span class="id">D_1</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id">c2</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">xbf</span> : {<span class="kwd">in</span> `]<span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span>[, <span class="kwd">forall</span> <span class="id">z</span>, <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id">z</span> 1} :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.set_interval.html#in1_subset_itv">in1_subset_itv</a></span> (<span class="id"><a href="mathcomp.classical.set_interval.html#subset_itvW">subset_itvW</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">ltW</span> <span class="id">ax</span>) (<span class="id">lexx</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span>)) <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.HDf">HDf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">derivef</span> <span class="id">z</span> : <span class="id">z</span> \<span class="kwd">in</span> `]<span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span>[ -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">z</span> 1 <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> ('<span class="id">D_1</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">zxb</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivableP">derivableP</a></span>/<span class="id">xbf</span>; <span class="id">exact</span>: <span class="id">zxb</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [|<span class="id">z</span> <span class="id">zxb</span> <span class="id">fbfx</span>] := <span class="id"><a href="mathcomp.analysis.derive.html#MVT">MVT</a></span> <span class="id">xb</span> <span class="id">derivef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>/(<span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd_within">derivable_oo_continuous_bnd_within</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#And3">And3</a></span> <span class="id">xbf</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.cvg_left">cvg_left</a></span>))/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_at_right_filter">cvg_at_right_filter</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.derive.html#derivable_within_continuous">derivable_within_continuous</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.HDf">HDf</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_open_subspace">continuous_open_subspace</a></span>//; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_open">interval_open</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= <span class="id">in_itv</span>/= <span class="id">ax</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">z</span> =&gt; //; <span class="id">rewrite</span> <span class="id">fbfx</span> -<span class="id">mulrA</span> <span class="id">divff</span> ?<span class="id">mulr1</span>// <span class="id">subr_eq0</span> <span class="id">gt_eqF</span>.<br/>
<span class="id">have</span> [<span class="id">c1</span> <span class="id">Ic1</span> <span class="id">Hc1</span>] : <span class="kwd">exists2</span> <span class="id">c1</span>, <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> &lt; <span class="id">c1</span> &lt; <span class="id">x</span> &amp; (<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>) / (<span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>) = '<span class="id">D_1</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id">c1</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">axf</span> : {<span class="kwd">in</span> `]<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>, <span class="id">x</span>[, <span class="kwd">forall</span> <span class="id">z</span>, <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id">z</span> 1} :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.set_interval.html#in1_subset_itv">in1_subset_itv</a></span> (<span class="id"><a href="mathcomp.classical.set_interval.html#subset_itvW">subset_itvW</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">lexx</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>) (<span class="id">ltW</span> <span class="id">xb</span>)) <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.HDf">HDf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">derivef</span> <span class="id">z</span> : <span class="id">z</span> \<span class="kwd">in</span> `]<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>, <span class="id">x</span>[ -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">z</span> 1 <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> ('<span class="id">D_1</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">zax</span>; <span class="id">apply</span> /<span class="id"><a href="mathcomp.analysis.derive.html#derivableP">derivableP</a></span>/<span class="id">axf</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [|<span class="id">z</span> <span class="id">zax</span> <span class="id">fxfa</span>] := <span class="id"><a href="mathcomp.analysis.derive.html#MVT">MVT</a></span> <span class="id">ax</span> <span class="id">derivef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>/(<span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd_within">derivable_oo_continuous_bnd_within</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#And3">And3</a></span> <span class="id">axf</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.cvg_right">cvg_right</a></span> <span class="id">_</span>))/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_at_left_filter">cvg_at_left_filter</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.derive.html#derivable_within_continuous">derivable_within_continuous</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.HDf">HDf</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_open_subspace">continuous_open_subspace</a></span>//; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_open">interval_open</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= <span class="id">in_itv</span>/= <span class="id">ax</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">z</span> =&gt; //; <span class="id">rewrite</span> <span class="id">fxfa</span> -<span class="id">mulrA</span> <span class="id">divff</span> ?<span class="id">mulr1</span>// <span class="id">subr_eq0</span> <span class="id">gt_eqF</span>.<br/>
<span class="id">have</span> <span class="id">c1c2</span> : <span class="id">c1</span> &lt; <span class="id">c2</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">Ic2</span> <span class="id">Ic1</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[+ <span class="id">_</span>] =&gt; /[<span class="id">swap</span>] /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">_</span>] /<span class="id">lt_trans</span>; <span class="id">apply</span>.<br/>
<span class="id">have</span> [<span class="id">d</span> <span class="id">Id</span> <span class="id">h</span>] :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists2</span> <span class="id">d</span>, <span class="id">c1</span> &lt; <span class="id">d</span> &lt; <span class="id">c2</span> &amp; ('<span class="id">D_1</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id">c2</span> - '<span class="id">D_1</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id">c1</span>) / (<span class="id">c2</span> - <span class="id">c1</span>) = <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.DDf">DDf</a></span> <span class="id">d</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">h</span> : {<span class="kwd">in</span> `]<span class="id">c1</span>, <span class="id">c2</span>[, <span class="kwd">forall</span> <span class="id">z</span>, <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.Df">Df</a></span> <span class="id">z</span> 1}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id"><a href="mathcomp.classical.set_interval.html#in1_subset_itv">in1_subset_itv</a></span> (<span class="id"><a href="mathcomp.classical.set_interval.html#subset_itvW">subset_itvW</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">ltW</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> <span class="id">Ic1</span>).1) (<span class="id">lexx</span> <span class="id">_</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id"><a href="mathcomp.classical.set_interval.html#in1_subset_itv">in1_subset_itv</a></span> (<span class="id"><a href="mathcomp.classical.set_interval.html#subset_itvW">subset_itvW</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">lexx</span> <span class="id">_</span>) (<span class="id">ltW</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> <span class="id">Ic2</span>).2))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.HDDf">HDDf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">derivef</span> <span class="id">z</span> : <span class="id">z</span> \<span class="kwd">in</span> `]<span class="id">c1</span>, <span class="id">c2</span>[ -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">z</span> 1 <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.Df">Df</a></span> ('<span class="id">D_1</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.Df">Df</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">zc1c2</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivableP">derivableP</a></span>/<span class="id">h</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [|<span class="id">z</span> <span class="id">zc1c2</span> {}<span class="id">h</span>] := <span class="id"><a href="mathcomp.analysis.derive.html#MVT">MVT</a></span> <span class="id">c1c2</span> <span class="id">derivef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd_within">derivable_oo_continuous_bnd_within</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#And3">And3</a></span> <span class="id">h</span> <span class="id">_</span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_at_right_filter">cvg_at_right_filter</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>: <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.cDf">cDf</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_open_subspace">continuous_open_subspace</a></span>//; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_open">interval_open</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= <span class="id">in_itv</span>/= (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> <span class="id">Ic1</span>).1 (<span class="id">lt_trans</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> <span class="id">Ic2</span>).2).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_at_left_filter">cvg_at_left_filter</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>: <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.cDf">cDf</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_open_subspace">continuous_open_subspace</a></span>//; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_open">interval_open</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= <span class="id">in_itv</span>/= (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> <span class="id">Ic2</span>).2 (<span class="id">lt_trans</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> <span class="id">Ic1</span>).1).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">z</span> =&gt; //; <span class="id">rewrite</span> <span class="id">h</span> -<span class="id">mulrA</span> <span class="id">divff</span> ?<span class="id">mulr1</span>// <span class="id">subr_eq0</span> <span class="id">gt_eqF</span>.<br/>
<span class="id">have</span> <span class="id">LfE</span> : <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.L">L</a></span> <span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id">x</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>) * (<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> - <span class="id">x</span>)) / (<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> - <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>) * ((<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> - <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id">x</span>) / (<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> - <span class="id">x</span>)) -<br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> - <span class="id">x</span>) * <span class="id"><a href="mathcomp.classical.set_interval.html#factor">factor</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> <span class="id">x</span>) * ((<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>) / (<span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id">mulrA</span> -(<span class="id">mulrC</span> (<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> - <span class="id">x</span>)) -(<span class="id">mulrC</span> (<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> - <span class="id">x</span>)^-1) !<span class="id">mulrA</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">mulVf</span> ?<span class="id">mul1r</span> ?<span class="id">subr_eq0</span> ?<span class="id">gt_eqF</span>//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id">mulrC</span> (<span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>)) -(<span class="id">mulrC</span> (<span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>)^-1) !<span class="id">mulrA</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">mulVf</span> ?<span class="id">mul1r</span> ?<span class="id">subr_eq0</span> ?<span class="id">gt_eqF</span>//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -/(<span class="id"><a href="mathcomp.classical.set_interval.html#factor">factor</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id">opprB</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span>) -(<span class="id">opprB</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span>) <span class="id">invrN</span> <span class="id">mulrNN</span> -/(<span class="id"><a href="mathcomp.classical.set_interval.html#factor">factor</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(@<span class="id"><a href="mathcomp.classical.set_interval.html#onem_factor">onem_factor</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>) ?<span class="id">lt_eqF</span>//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#onem">onem</a></span> <span class="id">mulrBl</span> <span class="id">mul1r</span> <span class="id">opprB</span> <span class="id">addrA</span> -<span class="id">mulrDr</span> <span class="id">addrA</span> <span class="id">subrK</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.L">L</a></span> -<span class="id">addrA</span> <span class="id">addrC</span> <span class="id">opprB</span> -<span class="id">addrA</span> (<span class="id">addrC</span> (<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>)).<br/>
<span class="id">have</span> {<span class="id">Hc1</span> <span class="id">Hc2</span>} -&gt; : <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.L">L</a></span> <span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id">x</span> = (<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> - <span class="id">x</span>) * (<span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>) * (<span class="id">c2</span> - <span class="id">c1</span>) / (<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> - <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.a">a</a></span>) *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(('<span class="id">D_1</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id">c2</span> - '<span class="id">D_1</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id">c1</span>) / (<span class="id">c2</span> - <span class="id">c1</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">LfE</span> <span class="id">Hc2</span> <span class="id">Hc1</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id">mulrC</span> (<span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.b">b</a></span> - <span class="id">x</span>)) <span class="id">mulrA</span> -<span class="id">mulrBr</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">mulrC</span> ('<span class="id">D_1</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.f">f</a></span> <span class="id">c2</span> - <span class="id">_</span>)) ![<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id">mulrA</span>; <span class="id">congr</span> *%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -2!<span class="id">mulrA</span>; <span class="id">congr</span> *%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrCA</span> <span class="id">divff</span> ?<span class="id">mulr1</span>// <span class="id">subr_eq0</span> <span class="id">gt_eqF</span>.<br/>
<span class="id">rewrite</span> {}<span class="id">h</span> <span class="id">mulr_ge0</span>//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex.DDf_ge0">DDf_ge0</a></span>//; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">lt_trans</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> <span class="id">Ic1</span>).1)//; <span class="id">case</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> : <span class="id">Id</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">lt_trans</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> <span class="id">Id</span>).2)//; <span class="id">case</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> : <span class="id">Ic2</span>.<br/>
<span class="id">rewrite</span> <span class="id">mulr_ge0</span>// ?<span class="id">invr_ge0</span> ?<span class="id">subr_ge0</span> ?(<span class="id">ltW</span> <span class="id">ab</span>)//.<br/>
<span class="id">rewrite</span> <span class="id">mulr_ge0</span>// ?<span class="id">subr_ge0</span> ?(<span class="id">ltW</span> <span class="id">c1c2</span>)//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_ge0</span>// <span class="id">subr_ge0</span> <span class="id">ltW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.convex.html#twice_derivable_convex">twice_derivable_convex</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/tree/yoshihiro503%40generate_index">a fork of coq2html</a></div>
</body>
</html>
